"use strict";(self.webpackChunkng_firebase=self.webpackChunkng_firebase||[]).push([[179],{2011:(Rt,He,z)=>{z.d(He,{Dh:()=>Te,GT:()=>Le,cc:()=>Ge,hO:()=>ot,on:()=>re,pX:()=>ge,xv:()=>xe});var o=z(5e3),J=z(127),B=z(5813);Rt=z.hmd(Rt);const ve=["ngOnDestroy"],ge=(Ue,yt,Je,je={})=>new Proxy(Ue,{get:(ce,Ne)=>Je.runOutsideAngular(()=>{var rt;if(Ue[Ne])return(null===(rt=null==je?void 0:je.spy)||void 0===rt?void 0:rt.get)&&je.spy.get(Ne,Ue[Ne]),Ue[Ne];if(ve.indexOf(Ne)>-1)return()=>{};const me=yt.toPromise().then(pt=>{const ue=pt&&pt[Ne];return"function"==typeof ue?ue.bind(pt):ue&&ue.then?ue.then(Se=>Je.run(()=>Se)):Je.run(()=>ue)});return new Proxy(()=>{},{get:(pt,ue)=>me[ue],apply:(pt,ue,Se)=>me.then(De=>{var Ae;const Ye=De&&De(...Se);return(null===(Ae=null==je?void 0:je.spy)||void 0===Ae?void 0:Ae.apply)&&je.spy.apply(Ne,Se,Ye),Ye})})})}),Le=(Ue,yt)=>{yt.forEach(Je=>{Object.getOwnPropertyNames(Je.prototype||Je).forEach(je=>{Object.defineProperty(Ue.prototype,je,Object.getOwnPropertyDescriptor(Je.prototype||Je,je))})})};class fe{constructor(yt){return yt}}const Te=new o.OlP("angularfire2.app.options"),xe=new o.OlP("angularfire2.app.name");function re(Ue,yt,Je){const ce="object"==typeof Je&&Je||{};ce.name=ce.name||"string"==typeof Je&&Je||"[DEFAULT]";const rt=J.Z.apps.filter(me=>me&&me.name===ce.name)[0]||yt.runOutsideAngular(()=>J.Z.initializeApp(Ue,ce));try{JSON.stringify(Ue)!==JSON.stringify(rt.options)&&ne("error",`${rt.name} Firebase App already initialized with different options${Rt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(me){}return new fe(rt)}const ne=(Ue,...yt)=>{(0,o.X6Q)()&&"undefined"!=typeof console&&console[Ue](...yt)},_e={provide:fe,useFactory:re,deps:[Te,o.R0b,[new o.FiY,xe]]};let ot=(()=>{class Ue{constructor(Je){J.Z.registerVersion("angularfire",B.q4.full,"core"),J.Z.registerVersion("angularfire",B.q4.full,"app-compat"),J.Z.registerVersion("angular",o.q4F.full,Je.toString())}static initializeApp(Je,je){return{ngModule:Ue,providers:[{provide:Te,useValue:Je},{provide:xe,useValue:je}]}}}return Ue.\u0275fac=function(Je){return new(Je||Ue)(o.LFG(o.Lbi))},Ue.\u0275mod=o.oAB({type:Ue}),Ue.\u0275inj=o.cJS({providers:[_e]}),Ue})();function Ge(Ue,yt,Je,je,ce){const[,Ne,rt]=globalThis.\u0275AngularfireInstanceCache.find(me=>me[0]===Ue)||[];if(Ne)return function Qe(Ue,yt){try{return Ue.toString()===yt.toString()}catch(Je){return Ue===yt}}(ce,rt)||(Oe("error",`${yt} was already initialized on the ${Je} Firebase App with different settings.${et?" You may need to reload as Firebase is not HMR aware.":""}`),Oe("warn",{is:ce,was:rt})),Ne;{const me=je();return globalThis.\u0275AngularfireInstanceCache.push([Ue,me,ce]),me}}const et=!!Rt.hot,Oe=(Ue,...yt)=>{(0,o.X6Q)()&&"undefined"!=typeof console&&console[Ue](...yt)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(Rt,He,z)=>{z.d(He,{q4:()=>Tc,iC:()=>pd,fc:()=>Ul,HU:()=>fd,vb:()=>Nh,JM:()=>ko});var o=z(5e3),J=z(5867),B=z(5861),ve=z(9681),ge=z(2090),Le=z(4859),fe=z(1877);const Te="@firebase/installations",ne="w:0.5.8",_e="FIS_v2",Ue=new ge.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function yt(k){return k instanceof ge.ZR&&k.code.includes("request-failed")}function Je({projectId:k}){return`https://firebaseinstallations.googleapis.com/v1/projects/${k}/installations`}function je(k){return{token:k.token,requestStatus:2,expiresIn:Se(k.expiresIn),creationTime:Date.now()}}function ce(k,O){return Ne.apply(this,arguments)}function Ne(){return(Ne=(0,B.Z)(function*(k,O){const X=(yield O.json()).error;return Ue.create("request-failed",{requestName:k,serverCode:X.code,serverMessage:X.message,serverStatus:X.status})})).apply(this,arguments)}function rt({apiKey:k}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":k})}function me(k,{refreshToken:O}){const U=rt(k);return U.append("Authorization",function De(k){return`${_e} ${k}`}(O)),U}function pt(k){return ue.apply(this,arguments)}function ue(){return(ue=(0,B.Z)(function*(k){const O=yield k();return O.status>=500&&O.status<600?k():O})).apply(this,arguments)}function Se(k){return Number(k.replace("s","000"))}function Ae(k,O){return Ye.apply(this,arguments)}function Ye(){return(Ye=(0,B.Z)(function*({appConfig:k,heartbeatServiceProvider:O},{fid:U}){const X=Je(k),de=rt(k),be=O.getImmediate({optional:!0});if(be){const zt=yield be.getHeartbeatsHeader();zt&&de.append("x-firebase-client",zt)}const Ct={method:"POST",headers:de,body:JSON.stringify({fid:U,authVersion:_e,appId:k.appId,sdkVersion:ne})},At=yield pt(()=>fetch(X,Ct));if(At.ok){const zt=yield At.json();return{fid:zt.fid||U,registrationStatus:2,refreshToken:zt.refreshToken,authToken:je(zt.authToken)}}throw yield ce("Create Installation",At)})).apply(this,arguments)}function we(k){return new Promise(O=>{setTimeout(O,k)})}const En=/^[cdef][\w-]{21}$/;function It(){try{const k=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(k),k[0]=112+k[0]%16;const U=function St(k){return function Vt(k){return btoa(String.fromCharCode(...k)).replace(/\+/g,"-").replace(/\//g,"_")}(k).substr(0,22)}(k);return En.test(U)?U:""}catch(k){return""}}function Vn(k){return`${k.appName}!${k.appId}`}const Pn=new Map;function Mr(k,O){const U=Vn(k);Tn(U,O),function ti(k,O){const U=function Zt(){return!Ai&&"BroadcastChannel"in self&&(Ai=new BroadcastChannel("[Firebase] FID Change"),Ai.onmessage=k=>{Tn(k.data.key,k.data.fid)}),Ai}();U&&U.postMessage({key:k,fid:O}),function yi(){0===Pn.size&&Ai&&(Ai.close(),Ai=null)}()}(U,O)}function Tn(k,O){const U=Pn.get(k);if(U)for(const X of U)X(O)}let Ai=null;const qi="firebase-installations-store";let ni=null;function xr(){return ni||(ni=(0,ge.X3)("firebase-installations-database",1,(k,O)=>{0===O&&k.createObjectStore(qi)})),ni}function xt(k,O){return fr.apply(this,arguments)}function fr(){return(fr=(0,B.Z)(function*(k,O){const U=Vn(k),de=(yield xr()).transaction(qi,"readwrite"),be=de.objectStore(qi),Ke=yield be.get(U);return yield be.put(O,U),yield de.complete,(!Ke||Ke.fid!==O.fid)&&Mr(k,O.fid),O})).apply(this,arguments)}function vi(k){return xn.apply(this,arguments)}function xn(){return(xn=(0,B.Z)(function*(k){const O=Vn(k),X=(yield xr()).transaction(qi,"readwrite");yield X.objectStore(qi).delete(O),yield X.complete})).apply(this,arguments)}function ii(k,O){return Ti.apply(this,arguments)}function Ti(){return(Ti=(0,B.Z)(function*(k,O){const U=Vn(k),de=(yield xr()).transaction(qi,"readwrite"),be=de.objectStore(qi),Ke=yield be.get(U),Ct=O(Ke);return void 0===Ct?yield be.delete(U):yield be.put(Ct,U),yield de.complete,Ct&&(!Ke||Ke.fid!==Ct.fid)&&Mr(k,Ct.fid),Ct})).apply(this,arguments)}function bi(k){return qn.apply(this,arguments)}function qn(){return(qn=(0,B.Z)(function*(k){let O;const U=yield ii(k.appConfig,X=>{const de=Un(X),be=Ns(k,de);return O=be.registrationPromise,be.installationEntry});return""===U.fid?{installationEntry:yield O}:{installationEntry:U,registrationPromise:O}})).apply(this,arguments)}function Un(k){return sn(k||{fid:It(),registrationStatus:0})}function Ns(k,O){if(0===O.registrationStatus){if(!navigator.onLine)return{installationEntry:O,registrationPromise:Promise.reject(Ue.create("app-offline"))};const U={fid:O.fid,registrationStatus:1,registrationTime:Date.now()},X=function en(k,O){return Dt.apply(this,arguments)}(k,U);return{installationEntry:U,registrationPromise:X}}return 1===O.registrationStatus?{installationEntry:O,registrationPromise:vt(k)}:{installationEntry:O}}function Dt(){return(Dt=(0,B.Z)(function*(k,O){try{const U=yield Ae(k,O);return xt(k.appConfig,U)}catch(U){throw yt(U)&&409===U.customData.serverCode?yield vi(k.appConfig):yield xt(k.appConfig,{fid:O.fid,registrationStatus:0}),U}})).apply(this,arguments)}function vt(k){return tr.apply(this,arguments)}function tr(){return(tr=(0,B.Z)(function*(k){let O=yield ts(k.appConfig);for(;1===O.registrationStatus;)yield we(100),O=yield ts(k.appConfig);if(0===O.registrationStatus){const{installationEntry:U,registrationPromise:X}=yield bi(k);return X||U}return O})).apply(this,arguments)}function ts(k){return ii(k,O=>{if(!O)throw Ue.create("installation-not-found");return sn(O)})}function sn(k){return function ns(k){return 1===k.registrationStatus&&k.registrationTime+1e4<Date.now()}(k)?{fid:k.fid,registrationStatus:0}:k}function wi(k,O){return Sn.apply(this,arguments)}function Sn(){return(Sn=(0,B.Z)(function*({appConfig:k,heartbeatServiceProvider:O},U){const X=Nt(k,U),de=me(k,U),be=O.getImmediate({optional:!0});if(be){const zt=yield be.getHeartbeatsHeader();zt&&de.append("x-firebase-client",zt)}const Ct={method:"POST",headers:de,body:JSON.stringify({installation:{sdkVersion:ne,appId:k.appId}})},At=yield pt(()=>fetch(X,Ct));if(At.ok)return je(yield At.json());throw yield ce("Generate Auth Token",At)})).apply(this,arguments)}function Nt(k,{fid:O}){return`${Je(k)}/${O}/authTokens:generate`}function ci(k){return on.apply(this,arguments)}function on(){return(on=(0,B.Z)(function*(k,O=!1){let U;const X=yield ii(k.appConfig,be=>{if(!tn(be))throw Ue.create("not-registered");const Ke=be.authToken;if(!O&&se(Ke))return be;if(1===Ke.requestStatus)return U=lt(k,O),be;{if(!navigator.onLine)throw Ue.create("app-offline");const Ct=oe(be);return U=Ot(k,Ct),Ct}});return U?yield U:X.authToken})).apply(this,arguments)}function lt(k,O){return Be.apply(this,arguments)}function Be(){return(Be=(0,B.Z)(function*(k,O){let U=yield Xe(k.appConfig);for(;1===U.authToken.requestStatus;)yield we(100),U=yield Xe(k.appConfig);const X=U.authToken;return 0===X.requestStatus?ci(k,O):X})).apply(this,arguments)}function Xe(k){return ii(k,O=>{if(!tn(O))throw Ue.create("not-registered");return function Me(k){return 1===k.requestStatus&&k.requestTime+1e4<Date.now()}(O.authToken)?Object.assign(Object.assign({},O),{authToken:{requestStatus:0}}):O})}function Ot(k,O){return Jt.apply(this,arguments)}function Jt(){return(Jt=(0,B.Z)(function*(k,O){try{const U=yield wi(k,O),X=Object.assign(Object.assign({},O),{authToken:U});return yield xt(k.appConfig,X),U}catch(U){if(!yt(U)||401!==U.customData.serverCode&&404!==U.customData.serverCode){const X=Object.assign(Object.assign({},O),{authToken:{requestStatus:0}});yield xt(k.appConfig,X)}else yield vi(k.appConfig);throw U}})).apply(this,arguments)}function tn(k){return void 0!==k&&2===k.registrationStatus}function se(k){return 2===k.requestStatus&&!function ee(k){const O=Date.now();return O<k.creationTime||k.creationTime+k.expiresIn<O+36e5}(k)}function oe(k){const O={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},k),{authToken:O})}function K(){return(K=(0,B.Z)(function*(k){const O=k,{installationEntry:U,registrationPromise:X}=yield bi(O);return X?X.catch(console.error):ci(O).catch(console.error),U.fid})).apply(this,arguments)}function Ee(){return(Ee=(0,B.Z)(function*(k,O=!1){const U=k;return yield tt(U),(yield ci(U,O)).token})).apply(this,arguments)}function tt(k){return ct.apply(this,arguments)}function ct(){return(ct=(0,B.Z)(function*(k){const{registrationPromise:O}=yield bi(k);O&&(yield O)})).apply(this,arguments)}function jn(k){return Ue.create("missing-app-config-values",{valueName:k})}const kr="installations",ut=k=>{const O=k.getProvider("app").getImmediate(),U=function ms(k){if(!k||!k.options)throw jn("App Configuration");if(!k.name)throw jn("App Name");const O=["projectId","apiKey","appId"];for(const U of O)if(!k.options[U])throw jn(U);return{appName:k.name,projectId:k.options.projectId,apiKey:k.options.apiKey,appId:k.options.appId}}(O);return{app:O,appConfig:U,heartbeatServiceProvider:(0,ve._getProvider)(O,"heartbeat"),_delete:()=>Promise.resolve()}},dn=k=>{const O=k.getProvider("app").getImmediate(),U=(0,ve._getProvider)(O,kr).getImmediate();return{getId:()=>function q(k){return K.apply(this,arguments)}(U),getToken:de=>function te(k){return Ee.apply(this,arguments)}(U,de)}};(function Wn(){(0,ve._registerComponent)(new Le.wA(kr,ut,"PUBLIC")),(0,ve._registerComponent)(new Le.wA("installations-internal",dn,"PRIVATE"))})(),(0,ve.registerVersion)(Te,"0.5.8"),(0,ve.registerVersion)(Te,"0.5.8","esm2017");const Hi="@firebase/remote-config",hi=new ge.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Cl{constructor(O,U,X,de){this.client=O,this.storage=U,this.storageCache=X,this.logger=de}isCachedDataFresh(O,U){if(!U)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const X=Date.now()-U,de=X<=O;return this.logger.debug(`Config fetch cache check. Cache age millis: ${X}. Cache max age millis (minimumFetchIntervalMillis setting): ${O}. Is cache hit: ${de}.`),de}fetch(O){var U=this;return(0,B.Z)(function*(){const[X,de]=yield Promise.all([U.storage.getLastSuccessfulFetchTimestampMillis(),U.storage.getLastSuccessfulFetchResponse()]);if(de&&U.isCachedDataFresh(O.cacheMaxAgeMillis,X))return de;O.eTag=de&&de.eTag;const be=yield U.client.fetch(O),Ke=[U.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===be.status&&Ke.push(U.storage.setLastSuccessfulFetchResponse(be)),yield Promise.all(Ke),be})()}}function _o(k=navigator){return k.languages&&k.languages[0]||k.language}class yo{constructor(O,U,X,de,be,Ke){this.firebaseInstallations=O,this.sdkVersion=U,this.namespace=X,this.projectId=de,this.apiKey=be,this.appId=Ke}fetch(O){var U=this;return(0,B.Z)(function*(){const[X,de]=yield Promise.all([U.firebaseInstallations.getId(),U.firebaseInstallations.getToken()]),Ke=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${U.projectId}/namespaces/${U.namespace}:fetch?key=${U.apiKey}`,Ct={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":O.eTag||"*"},At={sdk_version:U.sdkVersion,app_instance_id:X,app_instance_id_token:de,app_id:U.appId,language_code:_o()},zt={method:"POST",headers:Ct,body:JSON.stringify(At)},Dn=fetch(Ke,zt),qt=new Promise((Wr,Ro)=>{O.signal.addEventListener(()=>{const ra=new Error("The operation was aborted.");ra.name="AbortError",Ro(ra)})});let Qi;try{yield Promise.race([Dn,qt]),Qi=yield Dn}catch(Wr){let Ro="fetch-client-network";throw"AbortError"===Wr.name&&(Ro="fetch-timeout"),hi.create(Ro,{originalErrorMessage:Wr.message})}let Fi=Qi.status;const Ac=Qi.headers.get("ETag")||void 0;let Mc,Oa;if(200===Qi.status){let Wr;try{Wr=yield Qi.json()}catch(Ro){throw hi.create("fetch-client-parse",{originalErrorMessage:Ro.message})}Mc=Wr.entries,Oa=Wr.state}if("INSTANCE_STATE_UNSPECIFIED"===Oa?Fi=500:"NO_CHANGE"===Oa?Fi=304:("NO_TEMPLATE"===Oa||"EMPTY_CONFIG"===Oa)&&(Mc={}),304!==Fi&&200!==Fi)throw hi.create("fetch-status",{httpStatus:Fi});return{status:Fi,eTag:Ac,config:Mc}})()}}class is{constructor(O,U){this.client=O,this.storage=U}fetch(O){var U=this;return(0,B.Z)(function*(){const X=(yield U.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return U.attemptFetch(O,X)})()}attemptFetch(O,{throttleEndTimeMillis:U,backoffCount:X}){var de=this;return(0,B.Z)(function*(){yield function Br(k,O){return new Promise((U,X)=>{const de=Math.max(O-Date.now(),0),be=setTimeout(U,de);k.addEventListener(()=>{clearTimeout(be),X(hi.create("fetch-throttle",{throttleEndTimeMillis:O}))})})}(O.signal,U);try{const be=yield de.client.fetch(O);return yield de.storage.deleteThrottleMetadata(),be}catch(be){if(!function Dh(k){if(!(k instanceof ge.ZR&&k.customData))return!1;const O=Number(k.customData.httpStatus);return 429===O||500===O||503===O||504===O}(be))throw be;const Ke={throttleEndTimeMillis:Date.now()+(0,ge.$s)(X),backoffCount:X+1};return yield de.storage.setThrottleMetadata(Ke),de.attemptFetch(O,Ke)}})()}}class fu{constructor(O,U,X,de,be){this.app=O,this._client=U,this._storageCache=X,this._storage=de,this._logger=be,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Ga(k,O){const U=k.target.error||void 0;return hi.create(O,{originalErrorMessage:U&&U.message})}const _i="app_namespace_store";class Ta{constructor(O,U,X,de=function El(){return new Promise((k,O)=>{try{const U=indexedDB.open("firebase_remote_config",1);U.onerror=X=>{O(Ga(X,"storage-open"))},U.onsuccess=X=>{k(X.target.result)},U.onupgradeneeded=X=>{0===X.oldVersion&&X.target.result.createObjectStore(_i,{keyPath:"compositeKey"})}}catch(U){O(hi.create("storage-open",{originalErrorMessage:U}))}})}()){this.appId=O,this.appName=U,this.namespace=X,this.openDbPromise=de}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(O){return this.set("last_fetch_status",O)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(O){return this.set("last_successful_fetch_timestamp_millis",O)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(O){return this.set("last_successful_fetch_response",O)}getActiveConfig(){return this.get("active_config")}setActiveConfig(O){return this.set("active_config",O)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(O){return this.set("active_config_etag",O)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(O){return this.set("throttle_metadata",O)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(O){var U=this;return(0,B.Z)(function*(){const X=yield U.openDbPromise;return new Promise((de,be)=>{const Ct=X.transaction([_i],"readonly").objectStore(_i),At=U.createCompositeKey(O);try{const zt=Ct.get(At);zt.onerror=Dn=>{be(Ga(Dn,"storage-get"))},zt.onsuccess=Dn=>{const qt=Dn.target.result;de(qt?qt.value:void 0)}}catch(zt){be(hi.create("storage-get",{originalErrorMessage:zt&&zt.message}))}})})()}set(O,U){var X=this;return(0,B.Z)(function*(){const de=yield X.openDbPromise;return new Promise((be,Ke)=>{const At=de.transaction([_i],"readwrite").objectStore(_i),zt=X.createCompositeKey(O);try{const Dn=At.put({compositeKey:zt,value:U});Dn.onerror=qt=>{Ke(Ga(qt,"storage-set"))},Dn.onsuccess=()=>{be()}}catch(Dn){Ke(hi.create("storage-set",{originalErrorMessage:Dn&&Dn.message}))}})})()}delete(O){var U=this;return(0,B.Z)(function*(){const X=yield U.openDbPromise;return new Promise((de,be)=>{const Ct=X.transaction([_i],"readwrite").objectStore(_i),At=U.createCompositeKey(O);try{const zt=Ct.delete(At);zt.onerror=Dn=>{be(Ga(Dn,"storage-delete"))},zt.onsuccess=()=>{de()}}catch(zt){be(hi.create("storage-delete",{originalErrorMessage:zt&&zt.message}))}})})()}createCompositeKey(O){return[this.appId,this.appName,this.namespace,O].join()}}class $o{constructor(O){this.storage=O}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var O=this;return(0,B.Z)(function*(){const U=O.storage.getLastFetchStatus(),X=O.storage.getLastSuccessfulFetchTimestampMillis(),de=O.storage.getActiveConfig(),be=yield U;be&&(O.lastFetchStatus=be);const Ke=yield X;Ke&&(O.lastSuccessfulFetchTimestampMillis=Ke);const Ct=yield de;Ct&&(O.activeConfig=Ct)})()}setLastFetchStatus(O){return this.lastFetchStatus=O,this.storage.setLastFetchStatus(O)}setLastSuccessfulFetchTimestampMillis(O){return this.lastSuccessfulFetchTimestampMillis=O,this.storage.setLastSuccessfulFetchTimestampMillis(O)}setActiveConfig(O){return this.activeConfig=O,this.storage.setActiveConfig(O)}}function pu(){return Tl.apply(this,arguments)}function Tl(){return(Tl=(0,B.Z)(function*(){if(!(0,ge.hl)())return!1;try{return yield(0,ge.eu)()}catch(k){return!1}})).apply(this,arguments)}!function od(){(0,ve._registerComponent)(new Le.wA("remote-config",function k(O,{instanceIdentifier:U}){const X=O.getProvider("app").getImmediate(),de=O.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw hi.create("registration-window");if(!(0,ge.hl)())throw hi.create("indexed-db-unavailable");const{projectId:be,apiKey:Ke,appId:Ct}=X.options;if(!be)throw hi.create("registration-project-id");if(!Ke)throw hi.create("registration-api-key");if(!Ct)throw hi.create("registration-app-id");const At=new Ta(Ct,X.name,U=U||"firebase"),zt=new $o(At),Dn=new fe.Yd(Hi);Dn.logLevel=fe.in.ERROR;const qt=new yo(de,ve.SDK_VERSION,U,be,Ke,Ct),Qi=new is(qt,At),Fi=new Cl(Qi,At,zt,Dn),Ac=new fu(X,Fi,zt,At,Dn);return function Gn(k){const O=(0,ge.m9)(k);O._initializePromise||(O._initializePromise=O._storageCache.loadFromStorage().then(()=>{O._isInitializationComplete=!0}))}(Ac),Ac},"PUBLIC").setMultipleInstances(!0)),(0,ve.registerVersion)(Hi,"0.3.7"),(0,ve.registerVersion)(Hi,"0.3.7","esm2017")}();const to="/firebase-messaging-sw.js",$a="/firebase-cloud-messaging-push-scope",rs="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",qo="google.c.a.c_id",Dl="google.c.a.c_l",Wo="google.c.a.ts",Da="google.c.a.e";var _r=(()=>{return(k=_r||(_r={})).PUSH_RECEIVED="push-received",k.NOTIFICATION_CLICKED="notification-clicked",_r;var k})();function Fs(k){const O=new Uint8Array(k);return btoa(String.fromCharCode(...O)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Il(k){const U=(k+"=".repeat((4-k.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),X=atob(U),de=new Uint8Array(X.length);for(let be=0;be<X.length;++be)de[be]=X.charCodeAt(be);return de}const qa="fcm_token_details_db",vo="fcm_token_object_Store";function Ah(k){return Ia.apply(this,arguments)}function Ia(){return Ia=(0,B.Z)(function*(k){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(be=>be.name).includes(qa))return null;let O=null;return(yield(0,ge.X3)(qa,5,function(){var X=(0,B.Z)(function*(de,be,Ke,Ct){var At;if(be<2||!de.objectStoreNames.contains(vo))return;const zt=Ct.objectStore(vo),Dn=yield zt.index("fcmSenderId").get(k);if(yield zt.clear(),Dn)if(2===be){const qt=Dn;if(!qt.auth||!qt.p256dh||!qt.endpoint)return;O={token:qt.fcmToken,createTime:null!==(At=qt.createTime)&&void 0!==At?At:Date.now(),subscriptionOptions:{auth:qt.auth,p256dh:qt.p256dh,endpoint:qt.endpoint,swScope:qt.swScope,vapidKey:"string"==typeof qt.vapidKey?qt.vapidKey:Fs(qt.vapidKey)}}}else if(3===be){const qt=Dn;O={token:qt.fcmToken,createTime:qt.createTime,subscriptionOptions:{auth:Fs(qt.auth),p256dh:Fs(qt.p256dh),endpoint:qt.endpoint,swScope:qt.swScope,vapidKey:Fs(qt.vapidKey)}}}else if(4===be){const qt=Dn;O={token:qt.fcmToken,createTime:qt.createTime,subscriptionOptions:{auth:Fs(qt.auth),p256dh:Fs(qt.p256dh),endpoint:qt.endpoint,swScope:qt.swScope,vapidKey:Fs(qt.vapidKey)}}}});return function(de,be,Ke,Ct){return X.apply(this,arguments)}}())).close(),yield(0,ge.Lj)(qa),yield(0,ge.Lj)("fcm_vapid_details_db"),yield(0,ge.Lj)("undefined"),cc(O)?O:null}),Ia.apply(this,arguments)}function cc(k){if(!k||!k.subscriptionOptions)return!1;const{subscriptionOptions:O}=k;return"number"==typeof k.createTime&&k.createTime>0&&"string"==typeof k.token&&k.token.length>0&&"string"==typeof O.auth&&O.auth.length>0&&"string"==typeof O.p256dh&&O.p256dh.length>0&&"string"==typeof O.endpoint&&O.endpoint.length>0&&"string"==typeof O.swScope&&O.swScope.length>0&&"string"==typeof O.vapidKey&&O.vapidKey.length>0}const bo="firebase-messaging-store";let wo=null;function uc(){return wo||(wo=(0,ge.X3)("firebase-messaging-database",1,(k,O)=>{0===O&&k.createObjectStore(bo)})),wo}function ei(k){return Zo.apply(this,arguments)}function Zo(){return(Zo=(0,B.Z)(function*(k){const O=Co(k),X=yield(yield uc()).transaction(bo).objectStore(bo).get(O);if(X)return X;{const de=yield Ah(k.appConfig.senderId);if(de)return yield Yo(k,de),de}})).apply(this,arguments)}function Yo(k,O){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,B.Z)(function*(k,O){const U=Co(k),de=(yield uc()).transaction(bo,"readwrite");return yield de.objectStore(bo).put(O,U),yield de.complete,O})).apply(this,arguments)}function dc(k){return Sa.apply(this,arguments)}function Sa(){return(Sa=(0,B.Z)(function*(k){const O=Co(k),X=(yield uc()).transaction(bo,"readwrite");yield X.objectStore(bo).delete(O),yield X.complete})).apply(this,arguments)}function Co({appConfig:k}){return k.appId}const ki=new ge.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Al(k,O){return ss.apply(this,arguments)}function ss(){return(ss=(0,B.Z)(function*(k,O){const U=yield Ls(k),X=Ft(O),de={method:"POST",headers:U,body:JSON.stringify(X)};let be;try{be=yield(yield fetch(_s(k.appConfig),de)).json()}catch(Ke){throw ki.create("token-subscribe-failed",{errorInfo:Ke})}if(be.error)throw ki.create("token-subscribe-failed",{errorInfo:be.error.message});if(!be.token)throw ki.create("token-subscribe-no-token");return be.token})).apply(this,arguments)}function Rr(k,O){return io.apply(this,arguments)}function io(){return(io=(0,B.Z)(function*(k,O){const U=yield Ls(k),X=Ft(O.subscriptionOptions),de={method:"PATCH",headers:U,body:JSON.stringify(X)};let be;try{be=yield(yield fetch(`${_s(k.appConfig)}/${O.token}`,de)).json()}catch(Ke){throw ki.create("token-update-failed",{errorInfo:Ke})}if(be.error)throw ki.create("token-update-failed",{errorInfo:be.error.message});if(!be.token)throw ki.create("token-update-no-token");return be.token})).apply(this,arguments)}function Ko(k,O){return Aa.apply(this,arguments)}function Aa(){return(Aa=(0,B.Z)(function*(k,O){const X={method:"DELETE",headers:yield Ls(k)};try{const be=yield(yield fetch(`${_s(k.appConfig)}/${O}`,X)).json();if(be.error)throw ki.create("token-unsubscribe-failed",{errorInfo:be.error.message})}catch(de){throw ki.create("token-unsubscribe-failed",{errorInfo:de})}})).apply(this,arguments)}function _s({projectId:k}){return`https://fcmregistrations.googleapis.com/v1/projects/${k}/registrations`}function Ls(k){return ro.apply(this,arguments)}function ro(){return(ro=(0,B.Z)(function*({appConfig:k,installations:O}){const U=yield O.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":k.apiKey,"x-goog-firebase-installations-auth":`FIS ${U}`})})).apply(this,arguments)}function Ft({p256dh:k,auth:O,endpoint:U,vapidKey:X}){const de={web:{endpoint:U,auth:O,p256dh:k}};return X!==rs&&(de.web.applicationPubKey=X),de}const Wa=6048e5;function Hr(k){return ys.apply(this,arguments)}function ys(){return(ys=(0,B.Z)(function*(k){const O=yield _u(k.swRegistration,k.vapidKey),U={vapidKey:k.vapidKey,swScope:k.swRegistration.scope,endpoint:O.endpoint,auth:Fs(O.getKey("auth")),p256dh:Fs(O.getKey("p256dh"))},X=yield ei(k.firebaseDependencies);if(X){if(Vs(X.subscriptionOptions,U))return Date.now()>=X.createTime+Wa?ld(k,{token:X.token,createTime:Date.now(),subscriptionOptions:U}):X.token;try{yield Ko(k.firebaseDependencies,X.token)}catch(de){console.warn(de)}return ze(k.firebaseDependencies,U)}return ze(k.firebaseDependencies,U)})).apply(this,arguments)}function gu(k){return vs.apply(this,arguments)}function vs(){return(vs=(0,B.Z)(function*(k){const O=yield ei(k.firebaseDependencies);O&&(yield Ko(k.firebaseDependencies,O.token),yield dc(k.firebaseDependencies));const U=yield k.swRegistration.pushManager.getSubscription();return!U||U.unsubscribe()})).apply(this,arguments)}function ld(k,O){return bs.apply(this,arguments)}function bs(){return(bs=(0,B.Z)(function*(k,O){try{const U=yield Rr(k.firebaseDependencies,O),X=Object.assign(Object.assign({},O),{token:U,createTime:Date.now()});return yield Yo(k.firebaseDependencies,X),U}catch(U){throw yield gu(k),U}})).apply(this,arguments)}function ze(k,O){return an.apply(this,arguments)}function an(){return(an=(0,B.Z)(function*(k,O){const X={token:yield Al(k,O),createTime:Date.now(),subscriptionOptions:O};return yield Yo(k,X),X.token})).apply(this,arguments)}function _u(k,O){return ln.apply(this,arguments)}function ln(){return(ln=(0,B.Z)(function*(k,O){return(yield k.pushManager.getSubscription())||k.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Il(O)})})).apply(this,arguments)}function Vs(k,O){return O.vapidKey===k.vapidKey&&O.endpoint===k.endpoint&&O.auth===k.auth&&O.p256dh===k.p256dh}function os(k){const O={from:k.from,collapseKey:k.collapse_key,messageId:k.fcmMessageId};return function ws(k,O){if(!O.notification)return;k.notification={};const U=O.notification.title;U&&(k.notification.title=U);const X=O.notification.body;X&&(k.notification.body=X);const de=O.notification.image;de&&(k.notification.image=de)}(O,k),function Qo(k,O){!O.data||(k.data=O.data)}(O,k),function so(k,O){if(!O.fcmOptions)return;k.fcmOptions={};const U=O.fcmOptions.link;U&&(k.fcmOptions.link=U);const X=O.fcmOptions.analytics_label;X&&(k.fcmOptions.analyticsLabel=X)}(O,k),O}function cd(k){return"object"==typeof k&&!!k&&qo in k}function hc(k,O){const U=[];for(let X=0;X<k.length;X++)U.push(k.charAt(X)),X<O.length&&U.push(O.charAt(X));return U.join("")}function Eo(k){return ki.create("missing-app-config-values",{valueName:k})}hc("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),hc("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Ri{constructor(O,U,X){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const de=function Ma(k){if(!k||!k.options)throw Eo("App Configuration Object");if(!k.name)throw Eo("App Name");const O=["projectId","apiKey","appId","messagingSenderId"],{options:U}=k;for(const X of O)if(!U[X])throw Eo(X);return{appName:k.name,projectId:U.projectId,apiKey:U.apiKey,appId:U.appId,senderId:U.messagingSenderId}}(O);this.firebaseDependencies={app:O,appConfig:de,installations:U,analyticsProvider:X}}_delete(){return Promise.resolve()}}function Us(k){return xa.apply(this,arguments)}function xa(){return(xa=(0,B.Z)(function*(k){try{k.swRegistration=yield navigator.serviceWorker.register(to,{scope:$a}),k.swRegistration.update().catch(()=>{})}catch(O){throw ki.create("failed-service-worker-registration",{browserErrorMessage:O.message})}})).apply(this,arguments)}function rr(k,O){return jr.apply(this,arguments)}function jr(){return(jr=(0,B.Z)(function*(k,O){if(!O&&!k.swRegistration&&(yield Us(k)),O||!k.swRegistration){if(!(O instanceof ServiceWorkerRegistration))throw ki.create("invalid-sw-registration");k.swRegistration=O}})).apply(this,arguments)}function Fn(k,O){return ka.apply(this,arguments)}function ka(){return(ka=(0,B.Z)(function*(k,O){O?k.vapidKey=O:k.vapidKey||(k.vapidKey=rs)})).apply(this,arguments)}function yr(){return(yr=(0,B.Z)(function*(k,O){if(!navigator)throw ki.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw ki.create("permission-blocked");return yield Fn(k,null==O?void 0:O.vapidKey),yield rr(k,null==O?void 0:O.serviceWorkerRegistration),Hr(k)})).apply(this,arguments)}function Ml(k,O,U){return oo.apply(this,arguments)}function oo(){return(oo=(0,B.Z)(function*(k,O,U){const X=ud(O);(yield k.firebaseDependencies.analyticsProvider.get()).logEvent(X,{message_id:U[qo],message_name:U[Dl],message_time:U[Wo],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function ud(k){switch(k){case _r.NOTIFICATION_CLICKED:return"notification_open";case _r.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function mc(){return(mc=(0,B.Z)(function*(k,O){const U=O.data;if(!U.isFirebaseMessaging)return;k.onMessageHandler&&U.messageType===_r.PUSH_RECEIVED&&("function"==typeof k.onMessageHandler?k.onMessageHandler(os(U)):k.onMessageHandler.next(os(U)));const X=U.data;cd(X)&&"1"===X[Da]&&(yield Ml(k,U.messageType,X))})).apply(this,arguments)}const xl="@firebase/messaging",Jo=k=>{const O=new Ri(k.getProvider("app").getImmediate(),k.getProvider("installations-internal").getImmediate(),k.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",U=>function pc(k,O){return mc.apply(this,arguments)}(O,U)),O},gc=k=>{const O=k.getProvider("messaging").getImmediate();return{getToken:X=>function fc(k,O){return yr.apply(this,arguments)}(O,X)}};function yu(){return Xo.apply(this,arguments)}function Xo(){return(Xo=(0,B.Z)(function*(){try{yield(0,ge.eu)()}catch(k){return!1}return"undefined"!=typeof window&&(0,ge.hl)()&&(0,ge.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function _c(){(0,ve._registerComponent)(new Le.wA("messaging",Jo,"PUBLIC")),(0,ve._registerComponent)(new Le.wA("messaging-internal",gc,"PRIVATE")),(0,ve.registerVersion)(xl,"0.9.12"),(0,ve.registerVersion)(xl,"0.9.12","esm2017")}();const Rl="analytics",Ol="firebase_id",Nl="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Pl="https://www.googletagmanager.com/gtag/js",Oi=new fe.Yd("@firebase/analytics");function yc(k){return Promise.all(k.map(O=>O.catch(U=>U)))}function vc(k,O){const U=document.createElement("script");U.src=`${Pl}?l=${k}&id=${O}`,U.async=!0,document.head.appendChild(U)}function Ya(k,O,U,X,de,be){return Io.apply(this,arguments)}function Io(){return(Io=(0,B.Z)(function*(k,O,U,X,de,be){const Ke=X[de];try{if(Ke)yield O[Ke];else{const At=(yield yc(U)).find(zt=>zt.measurementId===de);At&&(yield O[At.appId])}}catch(Ct){Oi.error(Ct)}k("config",de,be)})).apply(this,arguments)}function bc(k,O,U,X,de){return zr.apply(this,arguments)}function zr(){return(zr=(0,B.Z)(function*(k,O,U,X,de){try{let be=[];if(de&&de.send_to){let Ke=de.send_to;Array.isArray(Ke)||(Ke=[Ke]);const Ct=yield yc(U);for(const At of Ke){const zt=Ct.find(qt=>qt.measurementId===At),Dn=zt&&O[zt.appId];if(!Dn){be=[];break}be.push(Dn)}}0===be.length&&(be=Object.values(O)),yield Promise.all(be),k("event",X,de||{})}catch(be){Oi.error(be)}})).apply(this,arguments)}function vu(){const k=window.document.getElementsByTagName("script");for(const O of Object.values(k))if(O.src&&O.src.includes(Pl))return O;return null}const vr=new ge.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Ni=new class Nr{constructor(O={},U=1e3){this.throttleMetadata=O,this.intervalMillis=U}getThrottleMetadata(O){return this.throttleMetadata[O]}setThrottleMetadata(O,U){this.throttleMetadata[O]=U}deleteThrottleMetadata(O){delete this.throttleMetadata[O]}};function bu(k){return new Headers({Accept:"application/json","x-goog-api-key":k})}function fi(k){return Qn.apply(this,arguments)}function Qn(){return(Qn=(0,B.Z)(function*(k){var O;const{appId:U,apiKey:X}=k,de={method:"GET",headers:bu(X)},be=Nl.replace("{app-id}",U),Ke=yield fetch(be,de);if(200!==Ke.status&&304!==Ke.status){let Ct="";try{const At=yield Ke.json();(null===(O=At.error)||void 0===O?void 0:O.message)&&(Ct=At.error.message)}catch(At){}throw vr.create("config-fetch-failed",{httpStatus:Ke.status,responseMessage:Ct})}return Ke.json()})).apply(this,arguments)}function pi(k){return kn.apply(this,arguments)}function kn(){return(kn=(0,B.Z)(function*(k,O=Ni,U){const{appId:X,apiKey:de,measurementId:be}=k.options;if(!X)throw vr.create("no-app-id");if(!de){if(be)return{measurementId:be,appId:X};throw vr.create("no-api-key")}const Ke=O.getThrottleMetadata(X)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Ct=new C;return setTimeout((0,B.Z)(function*(){Ct.abort()}),void 0!==U?U:6e4),si({appId:X,apiKey:de,measurementId:be},Ke,Ct,O)})).apply(this,arguments)}function si(k,O,U){return So.apply(this,arguments)}function So(){return(So=(0,B.Z)(function*(k,{throttleEndTimeMillis:O,backoffCount:U},X,de=Ni){const{appId:be,measurementId:Ke}=k;try{yield Ii(X,O)}catch(Ct){if(Ke)return Oi.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ke} provided in the "measurementId" field in the local Firebase config. [${Ct.message}]`),{appId:be,measurementId:Ke};throw Ct}try{const Ct=yield fi(k);return de.deleteThrottleMetadata(be),Ct}catch(Ct){if(!ta(Ct)){if(de.deleteThrottleMetadata(be),Ke)return Oi.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ke} provided in the "measurementId" field in the local Firebase config. [${Ct.message}]`),{appId:be,measurementId:Ke};throw Ct}const At=503===Number(Ct.customData.httpStatus)?(0,ge.$s)(U,de.intervalMillis,30):(0,ge.$s)(U,de.intervalMillis),zt={throttleEndTimeMillis:Date.now()+At,backoffCount:U+1};return de.setThrottleMetadata(be,zt),Oi.debug(`Calling attemptFetch again in ${At} millis`),si(k,zt,X,de)}})).apply(this,arguments)}function Ii(k,O){return new Promise((U,X)=>{const de=Math.max(O-Date.now(),0),be=setTimeout(U,de);k.addEventListener(()=>{clearTimeout(be),X(vr.create("fetch-throttle",{throttleEndTimeMillis:O}))})})}function ta(k){if(!(k instanceof ge.ZR&&k.customData))return!1;const O=Number(k.customData.httpStatus);return 429===O||500===O||503===O||504===O}class C{constructor(){this.listeners=[]}addEventListener(O){this.listeners.push(O)}abort(){this.listeners.forEach(O=>O())}}function R(){return D.apply(this,arguments)}function D(){return(D=(0,B.Z)(function*(){if(!(0,ge.hl)())return Oi.warn(vr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ge.eu)()}catch(k){return Oi.warn(vr.create("indexeddb-unavailable",{errorInfo:k}).message),!1}return!0})).apply(this,arguments)}function x(){return(x=(0,B.Z)(function*(k,O,U,X,de,be,Ke){var Ct;const At=pi(k);At.then(Fi=>{U[Fi.measurementId]=Fi.appId,k.options.measurementId&&Fi.measurementId!==k.options.measurementId&&Oi.warn(`The measurement ID in the local Firebase config (${k.options.measurementId}) does not match the measurement ID fetched from the server (${Fi.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Fi=>Oi.error(Fi)),O.push(At);const zt=R().then(Fi=>{if(Fi)return X.getId()}),[Dn,qt]=yield Promise.all([At,zt]);vu()||vc(be,Dn.measurementId),de("js",new Date);const Qi=null!==(Ct=null==Ke?void 0:Ke.config)&&void 0!==Ct?Ct:{};return Qi.origin="firebase",Qi.update=!0,null!=qt&&(Qi[Ol]=qt),de("config",Dn.measurementId,Qi),Dn.measurementId})).apply(this,arguments)}class N{constructor(O){this.app=O}_delete(){return delete G[this.app.options.appId],Promise.resolve()}}let G={},Q=[];const le={};let ye,at,ke="dataLayer",Tt=!1;function Bt(k,O,U){!function hn(){const k=[];if((0,ge.ru)()&&k.push("This is a browser extension environment."),(0,ge.zI)()||k.push("Cookies are not available."),k.length>0){const O=k.map((X,de)=>`(${de+1}) ${X}`).join(" "),U=vr.create("invalid-analytics-context",{errorInfo:O});Oi.warn(U.message)}}();const X=k.options.appId;if(!X)throw vr.create("no-app-id");if(!k.options.apiKey){if(!k.options.measurementId)throw vr.create("no-api-key");Oi.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${k.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=G[X])throw vr.create("already-exists",{id:X});if(!Tt){!function Cs(k){let O=[];Array.isArray(window[k])?O=window[k]:window[k]=O}(ke);const{wrappedGtag:be,gtagCore:Ke}=function wc(k,O,U,X,de){let be=function(...Ke){window[X].push(arguments)};return window[de]&&"function"==typeof window[de]&&(be=window[de]),window[de]=function Fl(k,O,U,X){function be(){return(be=(0,B.Z)(function*(Ke,Ct,At){try{"event"===Ke?yield bc(k,O,U,Ct,At):"config"===Ke?yield Ya(k,O,U,X,Ct,At):k("set",Ct)}catch(zt){Oi.error(zt)}})).apply(this,arguments)}return function de(Ke,Ct,At){return be.apply(this,arguments)}}(be,k,O,U),{gtagCore:be,wrappedGtag:window[de]}}(G,Q,le,ke,"gtag");at=be,ye=Ke,Tt=!0}return G[X]=function b(k,O,U,X,de,be,Ke){return x.apply(this,arguments)}(k,Q,le,O,ye,ke,U),new N(k)}function Pi(){return(Pi=(0,B.Z)(function*(k,O,U,X,de){if(de&&de.global)k("event",U,X);else{const be=yield O;k("event",U,Object.assign(Object.assign({},X),{send_to:be}))}})).apply(this,arguments)}function Bs(){return Ka.apply(this,arguments)}function Ka(){return(Ka=(0,B.Z)(function*(){if((0,ge.ru)()||!(0,ge.zI)()||!(0,ge.hl)())return!1;try{return yield(0,ge.eu)()}catch(k){return!1}})).apply(this,arguments)}const $g="@firebase/analytics";!function Mv(){(0,ve._registerComponent)(new Le.wA(Rl,(O,{options:U})=>Bt(O.getProvider("app").getImmediate(),O.getProvider("installations-internal").getImmediate(),U),"PUBLIC")),(0,ve._registerComponent)(new Le.wA("analytics-internal",function k(O){try{const U=O.getProvider(Rl).getImmediate();return{logEvent:(X,de,be)=>function kh(k,O,U,X){k=(0,ge.m9)(k),function jt(k,O,U,X,de){return Pi.apply(this,arguments)}(at,G[k.app.options.appId],O,U,X).catch(de=>Oi.error(de))}(U,X,de,be)}}catch(U){throw vr.create("interop-component-reg-failed",{reason:U})}},"PRIVATE")),(0,ve.registerVersion)($g,"0.7.8"),(0,ve.registerVersion)($g,"0.7.8","esm2017")}();var Cu=z(4408),Rh=z(7565);const $r=new class Cn extends Rh.v{}(class Ec extends Cu.o{constructor(O,U){super(O,U),this.scheduler=O,this.work=U}schedule(O,U=0){return U>0?super.schedule(O,U):(this.delay=U,this.state=O,this.scheduler.flush(this),this)}execute(O,U){return U>0||this.closed?super.execute(O,U):this._execute(O,U)}requestAsyncId(O,U,X=0){return null!=X&&X>0||null==X&&this.delay>0?super.requestAsyncId(O,U,X):O.flush(this)}});var Eu=z(4986),Tu=z(8505),qr=z(5363),xo=z(9468);const Tc=new o.GfV("7.3.0"),Ll="__angularfire_symbol__analyticsIsSupportedValue",Ts="__angularfire_symbol__analyticsIsSupported",Vl="__angularfire_symbol__remoteConfigIsSupportedValue",dd="__angularfire_symbol__remoteConfigIsSupported",br="__angularfire_symbol__messagingIsSupportedValue",Dc="__angularfire_symbol__messagingIsSupported";function ko(k,O,U){if(O){if(1===O.length)return O[0];const be=O.filter(Ke=>Ke.app===U);if(1===be.length)return be[0]}return U.container.getProvider(k).getImmediate({optional:!0})}globalThis[Ts]||(globalThis[Ts]=Bs().then(k=>globalThis[Ll]=k).catch(()=>globalThis[Ll]=!1)),globalThis[Dc]||(globalThis[Dc]=yu().then(k=>globalThis[br]=k).catch(()=>globalThis[br]=!1)),globalThis[dd]||(globalThis[dd]=pu().then(k=>globalThis[Vl]=k).catch(()=>globalThis[Vl]=!1));const Nh=(k,O)=>{const U=O?[O]:(0,J.C6)(),X=[];return U.forEach(de=>{de.container.getProvider(k).instances.forEach(Ke=>{X.includes(Ke)||X.push(Ke)})}),X};function na(){}class Ph{constructor(O,U=$r){this.zone=O,this.delegate=U}now(){return this.delegate.now()}schedule(O,U,X){const de=this.zone;return this.delegate.schedule(function(Ke){de.runGuarded(()=>{O.apply(this,[Ke])})},U,X)}}class hd{constructor(O){this.zone=O,this.task=null}call(O,U){const X=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",na,{},na,na)),U.pipe((0,Tu.b)({next:X,complete:X,error:X})).subscribe(O).add(X)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let fd=(()=>{class k{constructor(U){this.ngZone=U,this.outsideAngular=U.runOutsideAngular(()=>new Ph(Zone.current)),this.insideAngular=U.run(()=>new Ph(Zone.current,Eu.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return k.\u0275fac=function(U){return new(U||k)(o.LFG(o.R0b))},k.\u0275prov=o.Yz7({token:k,factory:k.\u0275fac,providedIn:"root"}),k})();function Ja(){const k=globalThis.\u0275AngularFireScheduler;if(!k)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return k}function Ul(k){return k.pipe((0,qr.Q)(Ja().outsideAngular))}function pd(k){return Ja(),function Xa(k){return function(U){return(U=U.lift(new hd(k.ngZone))).pipe((0,xo.R)(k.outsideAngular),(0,qr.Q)(k.insideAngular))}}(Ja())(k)}},573:(Rt,He,z)=>{z.d(He,{$:()=>Hr,A:()=>ne,E:()=>dn,G:()=>pr,I:()=>is,K:()=>ee,L:()=>Tl,M:()=>ad,N:()=>qo,P:()=>Ll,Q:()=>Dl,R:()=>vp,T:()=>rs,U:()=>_r,V:()=>Fs,W:()=>Ah,X:()=>ir,Y:()=>Al,Z:()=>Rr,_:()=>_s,a:()=>j,a0:()=>gu,a1:()=>ld,a2:()=>ze,a3:()=>_u,a4:()=>Vs,a5:()=>ws,a6:()=>Qo,a7:()=>cd,a8:()=>hc,a9:()=>Us,aA:()=>Qi,aB:()=>md,aC:()=>An,aG:()=>Ni,aJ:()=>Da,aa:()=>rr,ab:()=>Fn,ae:()=>Ml,af:()=>ud,ag:()=>pc,aj:()=>bo,ak:()=>kl,am:()=>Nl,an:()=>Ya,ao:()=>ui,ap:()=>ue,aq:()=>Gt,ar:()=>ct,as:()=>Je,at:()=>Td,au:()=>Fh,av:()=>je,aw:()=>me,ax:()=>De,ay:()=>oe,az:()=>Wr,b:()=>Pe,c:()=>Sc,d:()=>Ph,e:()=>Nh,f:()=>O,g:()=>Ct,h:()=>de,i:()=>hn,j:()=>Dn,k:()=>kc,l:()=>Cn,m:()=>Id,o:()=>Te,r:()=>Qa,s:()=>Ec,u:()=>xo,z:()=>Ge});var o=z(5861),J=z(2090),B=z(9681),ve=z(655),ge=z(1877),Le=z(4859);const Te={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},ne={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Ge=function _e(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Qe=function ot(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},et=new J.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ue=new ge.Yd("@firebase/auth");function yt(w,...g){Ue.logLevel<=ge.in.ERROR&&Ue.error(`Auth (${B.SDK_VERSION}): ${w}`,...g)}function Je(w,...g){throw rt(w,...g)}function je(w,...g){return rt(w,...g)}function ce(w,g,y){const I=Object.assign(Object.assign({},Qe()),{[g]:y});return new J.LL("auth","Firebase",I).create(g,{appName:w.name})}function Ne(w,g,y){if(!(g instanceof y))throw y.name!==g.constructor.name&&Je(w,"argument-error"),ce(w,"argument-error",`Type of ${g.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function rt(w,...g){if("string"!=typeof w){const y=g[0],I=[...g.slice(1)];return I[0]&&(I[0].appName=w.name),w._errorFactory.create(y,...I)}return et.create(w,...g)}function me(w,g,...y){if(!w)throw rt(g,...y)}function pt(w){const g="INTERNAL ASSERTION FAILED: "+w;throw yt(g),new Error(g)}function ue(w,g){w||pt(g)}const Se=new Map;function De(w){ue(w instanceof Function,"Expected a class definition");let g=Se.get(w);return g?(ue(g instanceof w,"Instance stored in cache mismatched with class"),g):(g=new w,Se.set(w,g),g)}function we(){var w;return"undefined"!=typeof self&&(null===(w=self.location)||void 0===w?void 0:w.href)||""}function Vt(){return"http:"===En()||"https:"===En()}function En(){var w;return"undefined"!=typeof self&&(null===(w=self.location)||void 0===w?void 0:w.protocol)||null}class St{constructor(g,y){this.shortDelay=g,this.longDelay=y,ue(y>g,"Short delay should be less than long delay!"),this.isMobile=(0,J.uI)()||(0,J.b$)()}get(){return function gi(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Vt()||(0,J.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Vn(w,g){ue(w.emulator,"Emulator should always be set here");const{url:y}=w.emulator;return g?`${y}${g.startsWith("/")?g.slice(1):g}`:y}class Pn{static initialize(g,y,I){this.fetchImpl=g,y&&(this.headersImpl=y),I&&(this.responseImpl=I)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void pt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void pt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void pt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Mr={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},In=new St(3e4,6e4);function _n(w,g){return w.tenantId&&!g.tenantId?Object.assign(Object.assign({},g),{tenantId:w.tenantId}):g}function Tn(w,g,y,I){return ti.apply(this,arguments)}function ti(){return(ti=(0,o.Z)(function*(w,g,y,I,L={}){return Ai(w,L,(0,o.Z)(function*(){let W={},pe={};I&&("GET"===g?pe=I:W={body:JSON.stringify(I)});const We=(0,J.xO)(Object.assign({key:w.config.apiKey},pe)).slice(1),kt=yield w._getAdditionalHeaders();return kt["Content-Type"]="application/json",w.languageCode&&(kt["X-Firebase-Locale"]=w.languageCode),Pn.fetch()(es(w,w.config.apiHost,y,We),Object.assign({method:g,headers:kt,referrerPolicy:"no-referrer"},W))}))})).apply(this,arguments)}function Ai(w,g,y){return Zt.apply(this,arguments)}function Zt(){return(Zt=(0,o.Z)(function*(w,g,y){w._canInitEmulator=!1;const I=Object.assign(Object.assign({},Mr),g);try{const L=new qi(w),W=yield Promise.race([y(),L.promise]);L.clearNetworkTimeout();const pe=yield W.json();if("needConfirmation"in pe)throw ni(w,"account-exists-with-different-credential",pe);if(W.ok&&!("errorMessage"in pe))return pe;{const We=W.ok?pe.errorMessage:pe.error.message,[kt,Lt]=We.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===kt)throw ni(w,"credential-already-in-use",pe);if("EMAIL_EXISTS"===kt)throw ni(w,"email-already-in-use",pe);const pn=I[kt]||kt.toLowerCase().replace(/[_\s]+/g,"-");if(Lt)throw ce(w,pn,Lt);Je(w,pn)}}catch(L){if(L instanceof J.ZR)throw L;Je(w,"network-request-failed")}})).apply(this,arguments)}function yi(w,g,y,I){return Ur.apply(this,arguments)}function Ur(){return(Ur=(0,o.Z)(function*(w,g,y,I,L={}){const W=yield Tn(w,g,y,I,L);return"mfaPendingCredential"in W&&Je(w,"multi-factor-auth-required",{_serverResponse:W}),W})).apply(this,arguments)}function es(w,g,y,I){const L=`${g}${y}?${I}`;return w.config.emulator?Vn(w.config,L):`${w.config.apiScheme}://${L}`}class qi{constructor(g){this.auth=g,this.timer=null,this.promise=new Promise((y,I)=>{this.timer=setTimeout(()=>I(je(this.auth,"network-request-failed")),In.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ni(w,g,y){const I={appName:w.name};y.email&&(I.email=y.email),y.phoneNumber&&(I.phoneNumber=y.phoneNumber);const L=je(w,g,I);return L.customData._tokenResponse=y,L}function xt(){return(xt=(0,o.Z)(function*(w,g){return Tn(w,"POST","/v1/accounts:delete",g)})).apply(this,arguments)}function fr(w,g){return vi.apply(this,arguments)}function vi(){return(vi=(0,o.Z)(function*(w,g){return Tn(w,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function xn(w,g){return ii.apply(this,arguments)}function ii(){return(ii=(0,o.Z)(function*(w,g){return Tn(w,"POST","/v1/accounts:lookup",g)})).apply(this,arguments)}function Ti(w){if(w)try{const g=new Date(Number(w));if(!isNaN(g.getTime()))return g.toUTCString()}catch(g){}}function Un(){return(Un=(0,o.Z)(function*(w,g=!1){const y=(0,J.m9)(w),I=yield y.getIdToken(g),L=en(I);me(L&&L.exp&&L.auth_time&&L.iat,y.auth,"internal-error");const W="object"==typeof L.firebase?L.firebase:void 0,pe=null==W?void 0:W.sign_in_provider;return{claims:L,token:I,authTime:Ti(Ns(L.auth_time)),issuedAtTime:Ti(Ns(L.iat)),expirationTime:Ti(Ns(L.exp)),signInProvider:pe||null,signInSecondFactor:(null==W?void 0:W.sign_in_second_factor)||null}})).apply(this,arguments)}function Ns(w){return 1e3*Number(w)}function en(w){const[g,y,I]=w.split(".");if(void 0===g||void 0===y||void 0===I)return yt("JWT malformed, contained fewer than 3 sections"),null;try{const L=(0,J.tV)(y);return L?JSON.parse(L):(yt("Failed to decode base64 JWT payload"),null)}catch(L){return yt("Caught error parsing JWT payload as JSON",L),null}}function vt(w,g){return tr.apply(this,arguments)}function tr(){return(tr=(0,o.Z)(function*(w,g,y=!1){if(y)return g;try{return yield g}catch(I){throw I instanceof J.ZR&&ts(I)&&w.auth.currentUser===w&&(yield w.auth.signOut()),I}})).apply(this,arguments)}function ts({code:w}){return"auth/user-disabled"===w||"auth/user-token-expired"===w}class sn{constructor(g){this.user=g,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(g){var y;if(g){const I=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),I}{this.errorBackoff=3e4;const L=(null!==(y=this.user.stsTokenManager.expirationTime)&&void 0!==y?y:0)-Date.now()-3e5;return Math.max(0,L)}}schedule(g=!1){var y=this;if(!this.isRunning)return;const I=this.getInterval(g);this.timerId=setTimeout((0,o.Z)(function*(){yield y.iteration()}),I)}iteration(){var g=this;return(0,o.Z)(function*(){try{yield g.user.getIdToken(!0)}catch(y){return void("auth/network-request-failed"===y.code&&g.schedule(!0))}g.schedule()})()}}class ns{constructor(g,y){this.createdAt=g,this.lastLoginAt=y,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ti(this.lastLoginAt),this.creationTime=Ti(this.createdAt)}_copy(g){this.createdAt=g.createdAt,this.lastLoginAt=g.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function wi(w){return Sn.apply(this,arguments)}function Sn(){return(Sn=(0,o.Z)(function*(w){var g;const y=w.auth,I=yield w.getIdToken(),L=yield vt(w,xn(y,{idToken:I}));me(null==L?void 0:L.users.length,y,"internal-error");const W=L.users[0];w._notifyReloadListener(W);const pe=(null===(g=W.providerUserInfo)||void 0===g?void 0:g.length)?lt(W.providerUserInfo):[],We=on(w.providerData,pe),pn=!!w.isAnonymous&&!(w.email&&W.passwordHash||(null==We?void 0:We.length)),Di={uid:W.localId,displayName:W.displayName||null,photoURL:W.photoUrl||null,email:W.email||null,emailVerified:W.emailVerified||!1,phoneNumber:W.phoneNumber||null,tenantId:W.tenantId||null,providerData:We,metadata:new ns(W.createdAt,W.lastLoginAt),isAnonymous:pn};Object.assign(w,Di)})).apply(this,arguments)}function ci(){return(ci=(0,o.Z)(function*(w){const g=(0,J.m9)(w);yield wi(g),yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)})).apply(this,arguments)}function on(w,g){return[...w.filter(I=>!g.some(L=>L.providerId===I.providerId)),...g]}function lt(w){return w.map(g=>{var{providerId:y}=g,I=(0,ve._T)(g,["providerId"]);return{providerId:y,uid:I.rawId||"",displayName:I.displayName||null,email:I.email||null,phoneNumber:I.phoneNumber||null,photoURL:I.photoUrl||null}})}function Xe(){return(Xe=(0,o.Z)(function*(w,g){const y=yield Ai(w,{},(0,o.Z)(function*(){const I=(0,J.xO)({grant_type:"refresh_token",refresh_token:g}).slice(1),{tokenApiHost:L,apiKey:W}=w.config,pe=es(w,L,"/v1/token",`key=${W}`),We=yield w._getAdditionalHeaders();return We["Content-Type"]="application/x-www-form-urlencoded",Pn.fetch()(pe,{method:"POST",headers:We,body:I})}));return{accessToken:y.access_token,expiresIn:y.expires_in,refreshToken:y.refresh_token}})).apply(this,arguments)}class Ot{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(g){me(g.idToken,"internal-error"),me(void 0!==g.idToken,"internal-error"),me(void 0!==g.refreshToken,"internal-error");const y="expiresIn"in g&&void 0!==g.expiresIn?Number(g.expiresIn):function Dt(w){const g=en(w);return me(g,"internal-error"),me(void 0!==g.exp,"internal-error"),me(void 0!==g.iat,"internal-error"),Number(g.exp)-Number(g.iat)}(g.idToken);this.updateTokensAndExpiration(g.idToken,g.refreshToken,y)}getToken(g,y=!1){var I=this;return(0,o.Z)(function*(){return me(!I.accessToken||I.refreshToken,g,"user-token-expired"),y||!I.accessToken||I.isExpired?I.refreshToken?(yield I.refresh(g,I.refreshToken),I.accessToken):null:I.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(g,y){var I=this;return(0,o.Z)(function*(){const{accessToken:L,refreshToken:W,expiresIn:pe}=yield function Be(w,g){return Xe.apply(this,arguments)}(g,y);I.updateTokensAndExpiration(L,W,Number(pe))})()}updateTokensAndExpiration(g,y,I){this.refreshToken=y||null,this.accessToken=g||null,this.expirationTime=Date.now()+1e3*I}static fromJSON(g,y){const{refreshToken:I,accessToken:L,expirationTime:W}=y,pe=new Ot;return I&&(me("string"==typeof I,"internal-error",{appName:g}),pe.refreshToken=I),L&&(me("string"==typeof L,"internal-error",{appName:g}),pe.accessToken=L),W&&(me("number"==typeof W,"internal-error",{appName:g}),pe.expirationTime=W),pe}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(g){this.accessToken=g.accessToken,this.refreshToken=g.refreshToken,this.expirationTime=g.expirationTime}_clone(){return Object.assign(new Ot,this.toJSON())}_performRefresh(){return pt("not implemented")}}function Jt(w,g){me("string"==typeof w||void 0===w,"internal-error",{appName:g})}class tn{constructor(g){var{uid:y,auth:I,stsTokenManager:L}=g,W=(0,ve._T)(g,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new sn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=y,this.auth=I,this.stsTokenManager=L,this.accessToken=L.accessToken,this.displayName=W.displayName||null,this.email=W.email||null,this.emailVerified=W.emailVerified||!1,this.phoneNumber=W.phoneNumber||null,this.photoURL=W.photoURL||null,this.isAnonymous=W.isAnonymous||!1,this.tenantId=W.tenantId||null,this.providerData=W.providerData?[...W.providerData]:[],this.metadata=new ns(W.createdAt||void 0,W.lastLoginAt||void 0)}getIdToken(g){var y=this;return(0,o.Z)(function*(){const I=yield vt(y,y.stsTokenManager.getToken(y.auth,g));return me(I,y.auth,"internal-error"),y.accessToken!==I&&(y.accessToken=I,yield y.auth._persistUserIfCurrent(y),y.auth._notifyListenersIfCurrent(y)),I})()}getIdTokenResult(g){return function qn(w){return Un.apply(this,arguments)}(this,g)}reload(){return function Nt(w){return ci.apply(this,arguments)}(this)}_assign(g){this!==g&&(me(this.uid===g.uid,this.auth,"internal-error"),this.displayName=g.displayName,this.photoURL=g.photoURL,this.email=g.email,this.emailVerified=g.emailVerified,this.phoneNumber=g.phoneNumber,this.isAnonymous=g.isAnonymous,this.tenantId=g.tenantId,this.providerData=g.providerData.map(y=>Object.assign({},y)),this.metadata._copy(g.metadata),this.stsTokenManager._assign(g.stsTokenManager))}_clone(g){return new tn(Object.assign(Object.assign({},this),{auth:g,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(g){me(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=g,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(g){this.reloadListener?this.reloadListener(g):this.reloadUserInfo=g}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(g,y=!1){var I=this;return(0,o.Z)(function*(){let L=!1;g.idToken&&g.idToken!==I.stsTokenManager.accessToken&&(I.stsTokenManager.updateFromServerResponse(g),L=!0),y&&(yield wi(I)),yield I.auth._persistUserIfCurrent(I),L&&I.auth._notifyListenersIfCurrent(I)})()}delete(){var g=this;return(0,o.Z)(function*(){const y=yield g.getIdToken();return yield vt(g,function xr(w,g){return xt.apply(this,arguments)}(g.auth,{idToken:y})),g.stsTokenManager.clearRefreshToken(),g.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(g=>Object.assign({},g)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(g,y){var I,L,W,pe,We,kt,Lt,pn;const Di=null!==(I=y.displayName)&&void 0!==I?I:void 0,sa=null!==(L=y.email)&&void 0!==L?L:void 0,el=null!==(W=y.phoneNumber)&&void 0!==W?W:void 0,Hl=null!==(pe=y.photoURL)&&void 0!==pe?pe:void 0,Au=null!==(We=y.tenantId)&&void 0!==We?We:void 0,Rc=null!==(kt=y._redirectEventId)&&void 0!==kt?kt:void 0,Ip=null!==(Lt=y.createdAt)&&void 0!==Lt?Lt:void 0,Sd=null!==(pn=y.lastLoginAt)&&void 0!==pn?pn:void 0,{uid:Hh,emailVerified:Zr,isAnonymous:Yg,providerData:Sp,stsTokenManager:Kg}=y;me(Hh&&Kg,g,"internal-error");const Qg=Ot.fromJSON(this.name,Kg);me("string"==typeof Hh,g,"internal-error"),Jt(Di,g.name),Jt(sa,g.name),me("boolean"==typeof Zr,g,"internal-error"),me("boolean"==typeof Yg,g,"internal-error"),Jt(el,g.name),Jt(Hl,g.name),Jt(Au,g.name),Jt(Rc,g.name),Jt(Ip,g.name),Jt(Sd,g.name);const Oc=new tn({uid:Hh,auth:g,email:sa,emailVerified:Zr,displayName:Di,isAnonymous:Yg,photoURL:Hl,phoneNumber:el,tenantId:Au,stsTokenManager:Qg,createdAt:Ip,lastLoginAt:Sd});return Sp&&Array.isArray(Sp)&&(Oc.providerData=Sp.map(Jg=>Object.assign({},Jg))),Rc&&(Oc._redirectEventId=Rc),Oc}static _fromIdTokenResponse(g,y,I=!1){return(0,o.Z)(function*(){const L=new Ot;L.updateFromServerResponse(y);const W=new tn({uid:y.localId,auth:g,stsTokenManager:L,isAnonymous:I});return yield wi(W),W})()}}const ee=(()=>{class w{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,o.Z)(function*(){return!0})()}_set(y,I){var L=this;return(0,o.Z)(function*(){L.storage[y]=I})()}_get(y){var I=this;return(0,o.Z)(function*(){const L=I.storage[y];return void 0===L?null:L})()}_remove(y){var I=this;return(0,o.Z)(function*(){delete I.storage[y]})()}_addListener(y,I){}_removeListener(y,I){}}return w.type="NONE",w})();function oe(w,g,y){return`firebase:${w}:${g}:${y}`}class Me{constructor(g,y,I){this.persistence=g,this.auth=y,this.userKey=I;const{config:L,name:W}=this.auth;this.fullUserKey=oe(this.userKey,L.apiKey,W),this.fullPersistenceKey=oe("persistence",L.apiKey,W),this.boundEventHandler=y._onStorageEvent.bind(y),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(g){return this.persistence._set(this.fullUserKey,g.toJSON())}getCurrentUser(){var g=this;return(0,o.Z)(function*(){const y=yield g.persistence._get(g.fullUserKey);return y?tn._fromJSON(g.auth,y):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(g){var y=this;return(0,o.Z)(function*(){if(y.persistence===g)return;const I=yield y.getCurrentUser();return yield y.removeCurrentUser(),y.persistence=g,I?y.setCurrentUser(I):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(g,y,I="authUser"){return(0,o.Z)(function*(){if(!y.length)return new Me(De(ee),g,I);const L=(yield Promise.all(y.map(function(){var Lt=(0,o.Z)(function*(pn){if(yield pn._isAvailable())return pn});return function(pn){return Lt.apply(this,arguments)}}()))).filter(Lt=>Lt);let W=L[0]||De(ee);const pe=oe(I,g.config.apiKey,g.name);let We=null;for(const Lt of y)try{const pn=yield Lt._get(pe);if(pn){const Di=tn._fromJSON(g,pn);Lt!==W&&(We=Di),W=Lt;break}}catch(pn){}const kt=L.filter(Lt=>Lt._shouldAllowMigration);return W._shouldAllowMigration&&kt.length?(W=kt[0],We&&(yield W._set(pe,We.toJSON())),yield Promise.all(y.map(function(){var Lt=(0,o.Z)(function*(pn){if(pn!==W)try{yield pn._remove(pe)}catch(Di){}});return function(pn){return Lt.apply(this,arguments)}}())),new Me(W,g,I)):new Me(W,g,I)})()}}function q(w){const g=w.toLowerCase();if(g.includes("opera/")||g.includes("opr/")||g.includes("opios/"))return"Opera";if(tt(g))return"IEMobile";if(g.includes("msie")||g.includes("trident/"))return"IE";if(g.includes("edge/"))return"Edge";if(K(g))return"Firefox";if(g.includes("silk/"))return"Silk";if(Ut(g))return"Blackberry";if(bt(g))return"Webos";if(te(g))return"Safari";if((g.includes("chrome/")||Ee(g))&&!g.includes("edge/"))return"Chrome";if(ct(g))return"Android";{const I=w.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==I?void 0:I.length))return I[1]}return"Other"}function K(w=(0,J.z$)()){return/firefox\//i.test(w)}function te(w=(0,J.z$)()){const g=w.toLowerCase();return g.includes("safari/")&&!g.includes("chrome/")&&!g.includes("crios/")&&!g.includes("android")}function Ee(w=(0,J.z$)()){return/crios\//i.test(w)}function tt(w=(0,J.z$)()){return/iemobile/i.test(w)}function ct(w=(0,J.z$)()){return/android/i.test(w)}function Ut(w=(0,J.z$)()){return/blackberry/i.test(w)}function bt(w=(0,J.z$)()){return/webos/i.test(w)}function Gt(w=(0,J.z$)()){return/iphone|ipad|ipod/i.test(w)}function ui(w=(0,J.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(w)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(w)}function nr(w=(0,J.z$)()){return Gt(w)||ct(w)||bt(w)||Ut(w)||/windows phone/i.test(w)||tt(w)}function jn(w,g=[]){let y;switch(w){case"Browser":y=q((0,J.z$)());break;case"Worker":y=`${q((0,J.z$)())}-${w}`;break;default:y=w}const I=g.length?g.join(","):"FirebaseCore-web";return`${y}/JsCore/${B.SDK_VERSION}/${I}`}class kr{constructor(g,y,I){this.app=g,this.heartbeatServiceProvider=y,this.config=I,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ut(this),this.idTokenSubscription=new ut(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=et,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=g.name,this.clientVersion=I.sdkClientVersion}_initializeWithPersistence(g,y){var I=this;return y&&(this._popupRedirectResolver=De(y)),this._initializationPromise=this.queue((0,o.Z)(function*(){var L,W;if(!I._deleted&&(I.persistenceManager=yield Me.create(I,g),!I._deleted)){if(null===(L=I._popupRedirectResolver)||void 0===L?void 0:L._shouldInitProactively)try{yield I._popupRedirectResolver._initialize(I)}catch(pe){}yield I.initializeCurrentUser(y),I.lastNotifiedUid=(null===(W=I.currentUser)||void 0===W?void 0:W.uid)||null,!I._deleted&&(I._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var g=this;return(0,o.Z)(function*(){if(g._deleted)return;const y=yield g.assertedPersistence.getCurrentUser();if(g.currentUser||y){if(g.currentUser&&y&&g.currentUser.uid===y.uid)return g._currentUser._assign(y),void(yield g.currentUser.getIdToken());yield g._updateCurrentUser(y)}})()}initializeCurrentUser(g){var y=this;return(0,o.Z)(function*(){var I;let L=yield y.assertedPersistence.getCurrentUser();if(g&&y.config.authDomain){yield y.getOrInitRedirectPersistenceManager();const W=null===(I=y.redirectUser)||void 0===I?void 0:I._redirectEventId,pe=null==L?void 0:L._redirectEventId,We=yield y.tryRedirectSignIn(g);(!W||W===pe)&&(null==We?void 0:We.user)&&(L=We.user)}return L?L._redirectEventId?(me(y._popupRedirectResolver,y,"argument-error"),yield y.getOrInitRedirectPersistenceManager(),y.redirectUser&&y.redirectUser._redirectEventId===L._redirectEventId?y.directlySetCurrentUser(L):y.reloadAndSetCurrentUserOrClear(L)):y.reloadAndSetCurrentUserOrClear(L):y.directlySetCurrentUser(null)})()}tryRedirectSignIn(g){var y=this;return(0,o.Z)(function*(){let I=null;try{I=yield y._popupRedirectResolver._completeRedirectFn(y,g,!0)}catch(L){yield y._setRedirectUser(null)}return I})()}reloadAndSetCurrentUserOrClear(g){var y=this;return(0,o.Z)(function*(){try{yield wi(g)}catch(I){if("auth/network-request-failed"!==I.code)return y.directlySetCurrentUser(null)}return y.directlySetCurrentUser(g)})()}useDeviceLanguage(){this.languageCode=function It(){if("undefined"==typeof navigator)return null;const w=navigator;return w.languages&&w.languages[0]||w.language||null}()}_delete(){var g=this;return(0,o.Z)(function*(){g._deleted=!0})()}updateCurrentUser(g){var y=this;return(0,o.Z)(function*(){const I=g?(0,J.m9)(g):null;return I&&me(I.auth.config.apiKey===y.config.apiKey,y,"invalid-user-token"),y._updateCurrentUser(I&&I._clone(y))})()}_updateCurrentUser(g){var y=this;return(0,o.Z)(function*(){if(!y._deleted)return g&&me(y.tenantId===g.tenantId,y,"tenant-id-mismatch"),y.queue((0,o.Z)(function*(){yield y.directlySetCurrentUser(g),y.notifyAuthListeners()}))})()}signOut(){var g=this;return(0,o.Z)(function*(){return(g.redirectPersistenceManager||g._popupRedirectResolver)&&(yield g._setRedirectUser(null)),g._updateCurrentUser(null)})()}setPersistence(g){var y=this;return this.queue((0,o.Z)(function*(){yield y.assertedPersistence.setPersistence(De(g))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(g){this._errorFactory=new J.LL("auth","Firebase",g())}onAuthStateChanged(g,y,I){return this.registerStateListener(this.authStateSubscription,g,y,I)}onIdTokenChanged(g,y,I){return this.registerStateListener(this.idTokenSubscription,g,y,I)}toJSON(){var g;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(g=this._currentUser)||void 0===g?void 0:g.toJSON()}}_setRedirectUser(g,y){var I=this;return(0,o.Z)(function*(){const L=yield I.getOrInitRedirectPersistenceManager(y);return null===g?L.removeCurrentUser():L.setCurrentUser(g)})()}getOrInitRedirectPersistenceManager(g){var y=this;return(0,o.Z)(function*(){if(!y.redirectPersistenceManager){const I=g&&De(g)||y._popupRedirectResolver;me(I,y,"argument-error"),y.redirectPersistenceManager=yield Me.create(y,[De(I._redirectPersistence)],"redirectUser"),y.redirectUser=yield y.redirectPersistenceManager.getCurrentUser()}return y.redirectPersistenceManager})()}_redirectUserForId(g){var y=this;return(0,o.Z)(function*(){var I,L;return y._isInitialized&&(yield y.queue((0,o.Z)(function*(){}))),(null===(I=y._currentUser)||void 0===I?void 0:I._redirectEventId)===g?y._currentUser:(null===(L=y.redirectUser)||void 0===L?void 0:L._redirectEventId)===g?y.redirectUser:null})()}_persistUserIfCurrent(g){var y=this;return(0,o.Z)(function*(){if(g===y.currentUser)return y.queue((0,o.Z)(function*(){return y.directlySetCurrentUser(g)}))})()}_notifyListenersIfCurrent(g){g===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var g,y;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const I=null!==(y=null===(g=this.currentUser)||void 0===g?void 0:g.uid)&&void 0!==y?y:null;this.lastNotifiedUid!==I&&(this.lastNotifiedUid=I,this.authStateSubscription.next(this.currentUser))}registerStateListener(g,y,I,L){if(this._deleted)return()=>{};const W="function"==typeof y?y:y.next.bind(y),pe=this._isInitialized?Promise.resolve():this._initializationPromise;return me(pe,this,"internal-error"),pe.then(()=>W(this.currentUser)),"function"==typeof y?g.addObserver(y,I,L):g.addObserver(y)}directlySetCurrentUser(g){var y=this;return(0,o.Z)(function*(){y.currentUser&&y.currentUser!==g&&(y._currentUser._stopProactiveRefresh(),g&&y.isProactiveRefreshEnabled&&g._startProactiveRefresh()),y.currentUser=g,g?yield y.assertedPersistence.setCurrentUser(g):yield y.assertedPersistence.removeCurrentUser()})()}queue(g){return this.operations=this.operations.then(g,g),this.operations}get assertedPersistence(){return me(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(g){!g||this.frameworks.includes(g)||(this.frameworks.push(g),this.frameworks.sort(),this.clientVersion=jn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var g=this;return(0,o.Z)(function*(){var y;const I={"X-Client-Version":g.clientVersion};g.app.options.appId&&(I["X-Firebase-gmpid"]=g.app.options.appId);const L=yield null===(y=g.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===y?void 0:y.getHeartbeatsHeader();return L&&(I["X-Firebase-Client"]=L),I})()}}function An(w){return(0,J.m9)(w)}class ut{constructor(g){this.auth=g,this.observer=null,this.addObserver=(0,J.ne)(y=>this.observer=y)}get next(){return me(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function dn(w,g,y){const I=An(w);me(I._canInitEmulator,I,"emulator-config-failed"),me(/^https?:\/\//.test(g),I,"invalid-emulator-scheme");const L=!!(null==y?void 0:y.disableWarnings),W=Wn(g),{host:pe,port:We}=function Hi(w){const g=Wn(w),y=/(\/\/)?([^?#/]+)/.exec(w.substr(g.length));if(!y)return{host:"",port:null};const I=y[2].split("@").pop()||"",L=/^(\[[^\]]+\])(:|$)/.exec(I);if(L){const W=L[1];return{host:W,port:Js(I.substr(W.length+1))}}{const[W,pe]=I.split(":");return{host:W,port:Js(pe)}}}(g);I.config.emulator={url:`${W}//${pe}${null===We?"":`:${We}`}/`},I.settings.appVerificationDisabledForTesting=!0,I.emulatorConfig=Object.freeze({host:pe,port:We,protocol:W.replace(":",""),options:Object.freeze({disableWarnings:L})}),L||function ji(){function w(){const g=document.createElement("p"),y=g.style;g.innerText="Running in emulator mode. Do not use with production credentials.",y.position="fixed",y.width="100%",y.backgroundColor="#ffffff",y.border=".1em solid #000000",y.color="#b50000",y.bottom="0px",y.left="0px",y.margin="0px",y.zIndex="10000",y.textAlign="center",g.classList.add("firebase-emulator-warning"),document.body.appendChild(g)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",w):w())}()}function Wn(w){const g=w.indexOf(":");return g<0?"":w.substr(0,g+1)}function Js(w){if(!w)return null;const g=Number(w);return isNaN(g)?null:g}class pr{constructor(g,y){this.providerId=g,this.signInMethod=y}toJSON(){return pt("not implemented")}_getIdTokenResponse(g){return pt("not implemented")}_linkToIdToken(g,y){return pt("not implemented")}_getReauthenticationResolver(g){return pt("not implemented")}}function di(w,g){return hi.apply(this,arguments)}function hi(){return(hi=(0,o.Z)(function*(w,g){return Tn(w,"POST","/v1/accounts:resetPassword",_n(w,g))})).apply(this,arguments)}function mr(w,g){return Yt.apply(this,arguments)}function Yt(){return(Yt=(0,o.Z)(function*(w,g){return Tn(w,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Wi(w,g){return Mi.apply(this,arguments)}function Mi(){return(Mi=(0,o.Z)(function*(w,g){return Tn(w,"POST","/v1/accounts:update",_n(w,g))})).apply(this,arguments)}function gs(){return(gs=(0,o.Z)(function*(w,g){return yi(w,"POST","/v1/accounts:signInWithPassword",_n(w,g))})).apply(this,arguments)}function xi(w,g){return eo.apply(this,arguments)}function eo(){return(eo=(0,o.Z)(function*(w,g){return Tn(w,"POST","/v1/accounts:sendOobCode",_n(w,g))})).apply(this,arguments)}function mo(w,g){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,o.Z)(function*(w,g){return xi(w,g)})).apply(this,arguments)}function Zn(w,g){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,o.Z)(function*(w,g){return xi(w,g)})).apply(this,arguments)}function bl(w,g){return Gi.apply(this,arguments)}function Gi(){return(Gi=(0,o.Z)(function*(w,g){return xi(w,g)})).apply(this,arguments)}function gr(w,g){return wl.apply(this,arguments)}function wl(){return(wl=(0,o.Z)(function*(w,g){return xi(w,g)})).apply(this,arguments)}function Ea(){return(Ea=(0,o.Z)(function*(w,g){return yi(w,"POST","/v1/accounts:signInWithEmailLink",_n(w,g))})).apply(this,arguments)}function Cl(){return(Cl=(0,o.Z)(function*(w,g){return yi(w,"POST","/v1/accounts:signInWithEmailLink",_n(w,g))})).apply(this,arguments)}class _o extends pr{constructor(g,y,I,L=null){super("password",I),this._email=g,this._password=y,this._tenantId=L}static _fromEmailAndPassword(g,y){return new _o(g,y,"password")}static _fromEmailAndCode(g,y,I=null){return new _o(g,y,"emailLink",I)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(g){const y="string"==typeof g?JSON.parse(g):g;if((null==y?void 0:y.email)&&(null==y?void 0:y.password)){if("password"===y.signInMethod)return this._fromEmailAndPassword(y.email,y.password);if("emailLink"===y.signInMethod)return this._fromEmailAndCode(y.email,y.password,y.tenantId)}return null}_getIdTokenResponse(g){var y=this;return(0,o.Z)(function*(){switch(y.signInMethod){case"password":return function Xs(w,g){return gs.apply(this,arguments)}(g,{returnSecureToken:!0,email:y._email,password:y._password});case"emailLink":return function go(w,g){return Ea.apply(this,arguments)}(g,{email:y._email,oobCode:y._password});default:Je(g,"internal-error")}})()}_linkToIdToken(g,y){var I=this;return(0,o.Z)(function*(){switch(I.signInMethod){case"password":return mr(g,{idToken:y,returnSecureToken:!0,email:I._email,password:I._password});case"emailLink":return function Zi(w,g){return Cl.apply(this,arguments)}(g,{idToken:y,email:I._email,oobCode:I._password});default:Je(g,"internal-error")}})()}_getReauthenticationResolver(g){return this._getIdTokenResponse(g)}}function yo(w,g){return Br.apply(this,arguments)}function Br(){return(Br=(0,o.Z)(function*(w,g){return yi(w,"POST","/v1/accounts:signInWithIdp",_n(w,g))})).apply(this,arguments)}class is extends pr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(g){const y=new is(g.providerId,g.signInMethod);return g.idToken||g.accessToken?(g.idToken&&(y.idToken=g.idToken),g.accessToken&&(y.accessToken=g.accessToken),g.nonce&&!g.pendingToken&&(y.nonce=g.nonce),g.pendingToken&&(y.pendingToken=g.pendingToken)):g.oauthToken&&g.oauthTokenSecret?(y.accessToken=g.oauthToken,y.secret=g.oauthTokenSecret):Je("argument-error"),y}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(g){const y="string"==typeof g?JSON.parse(g):g,{providerId:I,signInMethod:L}=y,W=(0,ve._T)(y,["providerId","signInMethod"]);if(!I||!L)return null;const pe=new is(I,L);return pe.idToken=W.idToken||void 0,pe.accessToken=W.accessToken||void 0,pe.secret=W.secret,pe.nonce=W.nonce,pe.pendingToken=W.pendingToken||null,pe}_getIdTokenResponse(g){return yo(g,this.buildRequest())}_linkToIdToken(g,y){const I=this.buildRequest();return I.idToken=y,yo(g,I)}_getReauthenticationResolver(g){const y=this.buildRequest();return y.autoCreate=!1,yo(g,y)}buildRequest(){const g={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)g.pendingToken=this.pendingToken;else{const y={};this.idToken&&(y.id_token=this.idToken),this.accessToken&&(y.access_token=this.accessToken),this.secret&&(y.oauth_token_secret=this.secret),y.providerId=this.providerId,this.nonce&&!this.pendingToken&&(y.nonce=this.nonce),g.postBody=(0,J.xO)(y)}return g}}function Ih(w,g){return hu.apply(this,arguments)}function hu(){return(hu=(0,o.Z)(function*(w,g){return Tn(w,"POST","/v1/accounts:sendVerificationCode",_n(w,g))})).apply(this,arguments)}function Ga(){return(Ga=(0,o.Z)(function*(w,g){return yi(w,"POST","/v1/accounts:signInWithPhoneNumber",_n(w,g))})).apply(this,arguments)}function zo(){return(zo=(0,o.Z)(function*(w,g){const y=yield yi(w,"POST","/v1/accounts:signInWithPhoneNumber",_n(w,g));if(y.temporaryProof)throw ni(w,"account-exists-with-different-credential",y);return y})).apply(this,arguments)}const za={USER_NOT_FOUND:"user-not-found"};function Ta(){return(Ta=(0,o.Z)(function*(w,g){return yi(w,"POST","/v1/accounts:signInWithPhoneNumber",_n(w,Object.assign(Object.assign({},g),{operation:"REAUTH"})),za)})).apply(this,arguments)}class $o extends pr{constructor(g){super("phone","phone"),this.params=g}static _fromVerification(g,y){return new $o({verificationId:g,verificationCode:y})}static _fromTokenResponse(g,y){return new $o({phoneNumber:g,temporaryProof:y})}_getIdTokenResponse(g){return function fu(w,g){return Ga.apply(this,arguments)}(g,this._makeVerificationRequest())}_linkToIdToken(g,y){return function _i(w,g){return zo.apply(this,arguments)}(g,Object.assign({idToken:y},this._makeVerificationRequest()))}_getReauthenticationResolver(g){return function El(w,g){return Ta.apply(this,arguments)}(g,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:g,phoneNumber:y,verificationId:I,verificationCode:L}=this.params;return g&&y?{temporaryProof:g,phoneNumber:y}:{sessionInfo:I,code:L}}toJSON(){const g={providerId:this.providerId};return this.params.phoneNumber&&(g.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(g.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(g.verificationCode=this.params.verificationCode),this.params.verificationId&&(g.verificationId=this.params.verificationId),g}static fromJSON(g){"string"==typeof g&&(g=JSON.parse(g));const{verificationId:y,verificationCode:I,phoneNumber:L,temporaryProof:W}=g;return I||y||L||W?new $o({verificationId:y,verificationCode:I,phoneNumber:L,temporaryProof:W}):null}}class Ps{constructor(g){var y,I,L,W,pe,We;const kt=(0,J.zd)((0,J.pd)(g)),Lt=null!==(y=kt.apiKey)&&void 0!==y?y:null,pn=null!==(I=kt.oobCode)&&void 0!==I?I:null,Di=function od(w){switch(w){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(L=kt.mode)&&void 0!==L?L:null);me(Lt&&pn&&Di,"argument-error"),this.apiKey=Lt,this.operation=Di,this.code=pn,this.continueUrl=null!==(W=kt.continueUrl)&&void 0!==W?W:null,this.languageCode=null!==(pe=kt.languageCode)&&void 0!==pe?pe:null,this.tenantId=null!==(We=kt.tenantId)&&void 0!==We?We:null}static parseLink(g){const y=function Sh(w){const g=(0,J.zd)((0,J.pd)(w)).link,y=g?(0,J.zd)((0,J.pd)(g)).deep_link_id:null,I=(0,J.zd)((0,J.pd)(w)).deep_link_id;return(I?(0,J.zd)((0,J.pd)(I)).link:null)||I||y||g||w}(g);try{return new Ps(y)}catch(I){return null}}}let Tl=(()=>{class w{constructor(){this.providerId=w.PROVIDER_ID}static credential(y,I){return _o._fromEmailAndPassword(y,I)}static credentialWithLink(y,I){const L=Ps.parseLink(I);return me(L,"argument-error"),_o._fromEmailAndCode(y,L.code,L.tenantId)}}return w.PROVIDER_ID="password",w.EMAIL_PASSWORD_SIGN_IN_METHOD="password",w.EMAIL_LINK_SIGN_IN_METHOD="emailLink",w})();class to{constructor(g){this.providerId=g,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(g){this.defaultLanguageCode=g}setCustomParameters(g){return this.customParameters=g,this}getCustomParameters(){return this.customParameters}}class $a extends to{constructor(){super(...arguments),this.scopes=[]}addScope(g){return this.scopes.includes(g)||this.scopes.push(g),this}getScopes(){return[...this.scopes]}}class rs extends $a{static credentialFromJSON(g){const y="string"==typeof g?JSON.parse(g):g;return me("providerId"in y&&"signInMethod"in y,"argument-error"),is._fromParams(y)}credential(g){return this._credential(Object.assign(Object.assign({},g),{nonce:g.rawNonce}))}_credential(g){return me(g.idToken||g.accessToken,"argument-error"),is._fromParams(Object.assign(Object.assign({},g),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(g){return rs.oauthCredentialFromTaggedObject(g)}static credentialFromError(g){return rs.oauthCredentialFromTaggedObject(g.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:y,oauthAccessToken:I,oauthTokenSecret:L,pendingToken:W,nonce:pe,providerId:We}=g;if(!I&&!L&&!y&&!W||!We)return null;try{return new rs(We)._credential({idToken:y,accessToken:I,nonce:pe,pendingToken:W})}catch(kt){return null}}}let ad=(()=>{class w extends $a{constructor(){super("facebook.com")}static credential(y){return is._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.FACEBOOK_SIGN_IN_METHOD,accessToken:y})}static credentialFromResult(y){return w.credentialFromTaggedObject(y)}static credentialFromError(y){return w.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y||!("oauthAccessToken"in y)||!y.oauthAccessToken)return null;try{return w.credential(y.oauthAccessToken)}catch(I){return null}}}return w.FACEBOOK_SIGN_IN_METHOD="facebook.com",w.PROVIDER_ID="facebook.com",w})(),qo=(()=>{class w extends $a{constructor(){super("google.com"),this.addScope("profile")}static credential(y,I){return is._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.GOOGLE_SIGN_IN_METHOD,idToken:y,accessToken:I})}static credentialFromResult(y){return w.credentialFromTaggedObject(y)}static credentialFromError(y){return w.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthIdToken:I,oauthAccessToken:L}=y;if(!I&&!L)return null;try{return w.credential(I,L)}catch(W){return null}}}return w.GOOGLE_SIGN_IN_METHOD="google.com",w.PROVIDER_ID="google.com",w})(),Dl=(()=>{class w extends $a{constructor(){super("github.com")}static credential(y){return is._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.GITHUB_SIGN_IN_METHOD,accessToken:y})}static credentialFromResult(y){return w.credentialFromTaggedObject(y)}static credentialFromError(y){return w.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y||!("oauthAccessToken"in y)||!y.oauthAccessToken)return null;try{return w.credential(y.oauthAccessToken)}catch(I){return null}}}return w.GITHUB_SIGN_IN_METHOD="github.com",w.PROVIDER_ID="github.com",w})();class Da extends pr{constructor(g,y){super(g,g),this.pendingToken=y}_getIdTokenResponse(g){return yo(g,this.buildRequest())}_linkToIdToken(g,y){const I=this.buildRequest();return I.idToken=y,yo(g,I)}_getReauthenticationResolver(g){const y=this.buildRequest();return y.autoCreate=!1,yo(g,y)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(g){const y="string"==typeof g?JSON.parse(g):g,{providerId:I,signInMethod:L,pendingToken:W}=y;return I&&L&&W&&I===L?new Da(I,W):null}static _create(g,y){return new Da(g,y)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class _r extends to{constructor(g){me(g.startsWith("saml."),"argument-error"),super(g)}static credentialFromResult(g){return _r.samlCredentialFromTaggedObject(g)}static credentialFromError(g){return _r.samlCredentialFromTaggedObject(g.customData||{})}static credentialFromJSON(g){const y=Da.fromJSON(g);return me(y,"argument-error"),y}static samlCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{pendingToken:y,providerId:I}=g;if(!y||!I)return null;try{return Da._create(I,y)}catch(L){return null}}}let Fs=(()=>{class w extends $a{constructor(){super("twitter.com")}static credential(y,I){return is._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.TWITTER_SIGN_IN_METHOD,oauthToken:y,oauthTokenSecret:I})}static credentialFromResult(y){return w.credentialFromTaggedObject(y)}static credentialFromError(y){return w.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthAccessToken:I,oauthTokenSecret:L}=y;if(!I||!L)return null;try{return w.credential(I,L)}catch(W){return null}}}return w.TWITTER_SIGN_IN_METHOD="twitter.com",w.PROVIDER_ID="twitter.com",w})();function Il(w,g){return qa.apply(this,arguments)}function qa(){return(qa=(0,o.Z)(function*(w,g){return yi(w,"POST","/v1/accounts:signUp",_n(w,g))})).apply(this,arguments)}class ri{constructor(g){this.user=g.user,this.providerId=g.providerId,this._tokenResponse=g._tokenResponse,this.operationType=g.operationType}static _fromIdTokenResponse(g,y,I,L=!1){return(0,o.Z)(function*(){const W=yield tn._fromIdTokenResponse(g,I,L),pe=vo(I);return new ri({user:W,providerId:pe,_tokenResponse:I,operationType:y})})()}static _forOperation(g,y,I){return(0,o.Z)(function*(){yield g._updateTokensIfNecessary(I,!0);const L=vo(I);return new ri({user:g,providerId:L,_tokenResponse:I,operationType:y})})()}}function vo(w){return w.providerId?w.providerId:"phoneNumber"in w?"phone":null}function Ah(w){return Ia.apply(this,arguments)}function Ia(){return(Ia=(0,o.Z)(function*(w){var g;const y=An(w);if(yield y._initializationPromise,null===(g=y.currentUser)||void 0===g?void 0:g.isAnonymous)return new ri({user:y.currentUser,providerId:null,operationType:"signIn"});const I=yield Il(y,{returnSecureToken:!0}),L=yield ri._fromIdTokenResponse(y,"signIn",I,!0);return yield y._updateCurrentUser(L.user),L})).apply(this,arguments)}class cc extends J.ZR{constructor(g,y,I,L){var W;super(y.code,y.message),this.operationType=I,this.user=L,Object.setPrototypeOf(this,cc.prototype),this.customData={appName:g.name,tenantId:null!==(W=g.tenantId)&&void 0!==W?W:void 0,_serverResponse:y.customData._serverResponse,operationType:I}}static _fromErrorAndOperation(g,y,I,L){return new cc(g,y,I,L)}}function mu(w,g,y,I){return("reauthenticate"===g?y._getReauthenticationResolver(w):y._getIdTokenResponse(w)).catch(W=>{throw"auth/multi-factor-auth-required"===W.code?cc._fromErrorAndOperation(w,W,g,I):W})}function Sl(w){return new Set(w.map(({providerId:g})=>g).filter(g=>!!g))}function bo(w,g){return wo.apply(this,arguments)}function wo(){return(wo=(0,o.Z)(function*(w,g){const y=(0,J.m9)(w);yield Zo(!0,y,g);const{providerUserInfo:I}=yield fr(y.auth,{idToken:yield y.getIdToken(),deleteProvider:[g]}),L=Sl(I||[]);return y.providerData=y.providerData.filter(W=>L.has(W.providerId)),L.has("phone")||(y.phoneNumber=null),yield y.auth._persistUserIfCurrent(y),y})).apply(this,arguments)}function uc(w,g){return ei.apply(this,arguments)}function ei(){return(ei=(0,o.Z)(function*(w,g,y=!1){const I=yield vt(w,g._linkToIdToken(w.auth,yield w.getIdToken()),y);return ri._forOperation(w,"link",I)})).apply(this,arguments)}function Zo(w,g,y){return Yo.apply(this,arguments)}function Yo(){return(Yo=(0,o.Z)(function*(w,g,y){yield wi(g);const L=!1===w?"provider-already-linked":"no-such-provider";me(Sl(g.providerData).has(y)===w,g.auth,L)})).apply(this,arguments)}function Kn(w,g){return dc.apply(this,arguments)}function dc(){return(dc=(0,o.Z)(function*(w,g,y=!1){const{auth:I}=w,L="reauthenticate";try{const W=yield vt(w,mu(I,L,g,w),y);me(W.idToken,I,"internal-error");const pe=en(W.idToken);me(pe,I,"internal-error");const{sub:We}=pe;return me(w.uid===We,I,"user-mismatch"),ri._forOperation(w,L,W)}catch(W){throw"auth/user-not-found"===(null==W?void 0:W.code)&&Je(I,"user-mismatch"),W}})).apply(this,arguments)}function Sa(w,g){return Co.apply(this,arguments)}function Co(){return(Co=(0,o.Z)(function*(w,g,y=!1){const I="signIn",L=yield mu(w,I,g),W=yield ri._fromIdTokenResponse(w,I,L);return y||(yield w._updateCurrentUser(W.user)),W})).apply(this,arguments)}function ir(w,g){return ki.apply(this,arguments)}function ki(){return(ki=(0,o.Z)(function*(w,g){return Sa(An(w),g)})).apply(this,arguments)}function Al(w,g){return ss.apply(this,arguments)}function ss(){return(ss=(0,o.Z)(function*(w,g){const y=(0,J.m9)(w);return yield Zo(!1,y,g.providerId),uc(y,g)})).apply(this,arguments)}function Rr(w,g){return io.apply(this,arguments)}function io(){return(io=(0,o.Z)(function*(w,g){return Kn((0,J.m9)(w),g)})).apply(this,arguments)}function Ko(w,g){return Aa.apply(this,arguments)}function Aa(){return(Aa=(0,o.Z)(function*(w,g){return yi(w,"POST","/v1/accounts:signInWithCustomToken",_n(w,g))})).apply(this,arguments)}function _s(w,g){return Ls.apply(this,arguments)}function Ls(){return(Ls=(0,o.Z)(function*(w,g){const y=An(w),I=yield Ko(y,{token:g,returnSecureToken:!0}),L=yield ri._fromIdTokenResponse(y,"signIn",I);return yield y._updateCurrentUser(L.user),L})).apply(this,arguments)}class ro{constructor(g,y){this.factorId=g,this.uid=y.mfaEnrollmentId,this.enrollmentTime=new Date(y.enrolledAt).toUTCString(),this.displayName=y.displayName}static _fromServerResponse(g,y){return"phoneInfo"in y?Ft._fromServerResponse(g,y):Je(g,"internal-error")}}class Ft extends ro{constructor(g){super("phone",g),this.phoneNumber=g.phoneInfo}static _fromServerResponse(g,y){return new Ft(y)}}function Wa(w,g,y){var I;me((null===(I=y.url)||void 0===I?void 0:I.length)>0,w,"invalid-continue-uri"),me(void 0===y.dynamicLinkDomain||y.dynamicLinkDomain.length>0,w,"invalid-dynamic-link-domain"),g.continueUrl=y.url,g.dynamicLinkDomain=y.dynamicLinkDomain,g.canHandleCodeInApp=y.handleCodeInApp,y.iOS&&(me(y.iOS.bundleId.length>0,w,"missing-ios-bundle-id"),g.iOSBundleId=y.iOS.bundleId),y.android&&(me(y.android.packageName.length>0,w,"missing-android-pkg-name"),g.androidInstallApp=y.android.installApp,g.androidMinimumVersionCode=y.android.minimumVersion,g.androidPackageName=y.android.packageName)}function Hr(w,g,y){return ys.apply(this,arguments)}function ys(){return(ys=(0,o.Z)(function*(w,g,y){const I=(0,J.m9)(w),L={requestType:"PASSWORD_RESET",email:g};y&&Wa(I,L,y),yield Zn(I,L)})).apply(this,arguments)}function gu(w,g,y){return vs.apply(this,arguments)}function vs(){return(vs=(0,o.Z)(function*(w,g,y){yield di((0,J.m9)(w),{oobCode:g,newPassword:y})})).apply(this,arguments)}function ld(w,g){return bs.apply(this,arguments)}function bs(){return(bs=(0,o.Z)(function*(w,g){yield Wi((0,J.m9)(w),{oobCode:g})})).apply(this,arguments)}function ze(w,g){return an.apply(this,arguments)}function an(){return(an=(0,o.Z)(function*(w,g){const y=(0,J.m9)(w),I=yield di(y,{oobCode:g}),L=I.requestType;switch(me(L,y,"internal-error"),L){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":me(I.newEmail,y,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":me(I.mfaInfo,y,"internal-error");default:me(I.email,y,"internal-error")}let W=null;return I.mfaInfo&&(W=ro._fromServerResponse(An(y),I.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===I.requestType?I.newEmail:I.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===I.requestType?I.email:I.newEmail)||null,multiFactorInfo:W},operation:L}})).apply(this,arguments)}function _u(w,g){return ln.apply(this,arguments)}function ln(){return(ln=(0,o.Z)(function*(w,g){const{data:y}=yield ze((0,J.m9)(w),g);return y.email})).apply(this,arguments)}function Vs(w,g,y){return os.apply(this,arguments)}function os(){return(os=(0,o.Z)(function*(w,g,y){const I=An(w),L=yield Il(I,{returnSecureToken:!0,email:g,password:y}),W=yield ri._fromIdTokenResponse(I,"signIn",L);return yield I._updateCurrentUser(W.user),W})).apply(this,arguments)}function ws(w,g,y){return ir((0,J.m9)(w),Tl.credential(g,y))}function Qo(w,g,y){return so.apply(this,arguments)}function so(){return(so=(0,o.Z)(function*(w,g,y){const I=(0,J.m9)(w),L={requestType:"EMAIL_SIGNIN",email:g};me(y.handleCodeInApp,I,"argument-error"),y&&Wa(I,L,y),yield bl(I,L)})).apply(this,arguments)}function cd(w,g){const y=Ps.parseLink(g);return"EMAIL_SIGNIN"===(null==y?void 0:y.operation)}function hc(w,g,y){return Ma.apply(this,arguments)}function Ma(){return(Ma=(0,o.Z)(function*(w,g,y){const I=(0,J.m9)(w),L=Tl.credentialWithLink(g,y||we());return me(L._tenantId===(I.tenantId||null),I,"tenant-id-mismatch"),ir(I,L)})).apply(this,arguments)}function Eo(w,g){return Ri.apply(this,arguments)}function Ri(){return(Ri=(0,o.Z)(function*(w,g){return Tn(w,"POST","/v1/accounts:createAuthUri",_n(w,g))})).apply(this,arguments)}function Us(w,g){return xa.apply(this,arguments)}function xa(){return(xa=(0,o.Z)(function*(w,g){const I={identifier:g,continueUri:Vt()?we():"http://localhost"},{signinMethods:L}=yield Eo((0,J.m9)(w),I);return L||[]})).apply(this,arguments)}function rr(w,g){return jr.apply(this,arguments)}function jr(){return(jr=(0,o.Z)(function*(w,g){const y=(0,J.m9)(w),L={requestType:"VERIFY_EMAIL",idToken:yield w.getIdToken()};g&&Wa(y.auth,L,g);const{email:W}=yield mo(y.auth,L);W!==w.email&&(yield w.reload())})).apply(this,arguments)}function Fn(w,g,y){return ka.apply(this,arguments)}function ka(){return(ka=(0,o.Z)(function*(w,g,y){const I=(0,J.m9)(w),W={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield w.getIdToken(),newEmail:g};y&&Wa(I.auth,W,y);const{email:pe}=yield gr(I.auth,W);pe!==w.email&&(yield w.reload())})).apply(this,arguments)}function fc(w,g){return yr.apply(this,arguments)}function yr(){return(yr=(0,o.Z)(function*(w,g){return Tn(w,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Ml(w,g){return oo.apply(this,arguments)}function oo(){return(oo=(0,o.Z)(function*(w,{displayName:g,photoURL:y}){if(void 0===g&&void 0===y)return;const I=(0,J.m9)(w),W={idToken:yield I.getIdToken(),displayName:g,photoUrl:y,returnSecureToken:!0},pe=yield vt(I,fc(I.auth,W));I.displayName=pe.displayName||null,I.photoURL=pe.photoUrl||null;const We=I.providerData.find(({providerId:kt})=>"password"===kt);We&&(We.displayName=I.displayName,We.photoURL=I.photoURL),yield I._updateTokensIfNecessary(pe)})).apply(this,arguments)}function ud(w,g){return mc((0,J.m9)(w),g,null)}function pc(w,g){return mc((0,J.m9)(w),null,g)}function mc(w,g,y){return xl.apply(this,arguments)}function xl(){return(xl=(0,o.Z)(function*(w,g,y){const{auth:I}=w,W={idToken:yield w.getIdToken(),returnSecureToken:!0};g&&(W.email=g),y&&(W.password=y);const pe=yield vt(w,mr(I,W));yield w._updateTokensIfNecessary(pe,!0)})).apply(this,arguments)}class Jo{constructor(g,y,I={}){this.isNewUser=g,this.providerId=y,this.profile=I}}class gc extends Jo{constructor(g,y,I,L){super(g,y,I),this.username=L}}class _c extends Jo{constructor(g,y){super(g,"facebook.com",y)}}class yu extends gc{constructor(g,y){super(g,"github.com",y,"string"==typeof(null==y?void 0:y.login)?null==y?void 0:y.login:null)}}class Xo extends Jo{constructor(g,y){super(g,"google.com",y)}}class To extends gc{constructor(g,y,I){super(g,"twitter.com",y,I)}}function kl(w){const{user:g,_tokenResponse:y}=w;return g.isAnonymous&&!y?{providerId:null,isNewUser:!1,profile:null}:function Za(w){var g,y;if(!w)return null;const{providerId:I}=w,L=w.rawUserInfo?JSON.parse(w.rawUserInfo):{},W=w.isNewUser||"identitytoolkit#SignupNewUserResponse"===w.kind;if(!I&&(null==w?void 0:w.idToken)){const pe=null===(y=null===(g=en(w.idToken))||void 0===g?void 0:g.firebase)||void 0===y?void 0:y.sign_in_provider;if(pe)return new Jo(W,"anonymous"!==pe&&"custom"!==pe?pe:null)}if(!I)return null;switch(I){case"facebook.com":return new _c(W,L);case"github.com":return new yu(W,L);case"google.com":return new Xo(W,L);case"twitter.com":return new To(W,L,w.screenName||null);case"custom":case"anonymous":return new Jo(W,null);default:return new Jo(W,I,L)}}(y)}class Do{constructor(g,y){this.type=g,this.credential=y}static _fromIdtoken(g){return new Do("enroll",g)}static _fromMfaPendingCredential(g){return new Do("signin",g)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(g){var y,I;if(null==g?void 0:g.multiFactorSession){if(null===(y=g.multiFactorSession)||void 0===y?void 0:y.pendingCredential)return Do._fromMfaPendingCredential(g.multiFactorSession.pendingCredential);if(null===(I=g.multiFactorSession)||void 0===I?void 0:I.idToken)return Do._fromIdtoken(g.multiFactorSession.idToken)}return null}}class ea{constructor(g,y,I){this.session=g,this.hints=y,this.signInResolver=I}static _fromError(g,y){const I=An(g),L=y.customData._serverResponse,W=(L.mfaInfo||[]).map(We=>ro._fromServerResponse(I,We));me(L.mfaPendingCredential,I,"internal-error");const pe=Do._fromMfaPendingCredential(L.mfaPendingCredential);return new ea(pe,W,function(){var We=(0,o.Z)(function*(kt){const Lt=yield kt._process(I,pe);delete L.mfaInfo,delete L.mfaPendingCredential;const pn=Object.assign(Object.assign({},L),{idToken:Lt.idToken,refreshToken:Lt.refreshToken});switch(y.operationType){case"signIn":const Di=yield ri._fromIdTokenResponse(I,y.operationType,pn);return yield I._updateCurrentUser(Di.user),Di;case"reauthenticate":return me(y.user,I,"internal-error"),ri._forOperation(y.user,y.operationType,pn);default:Je(I,"internal-error")}});return function(kt){return We.apply(this,arguments)}}())}resolveSignIn(g){var y=this;return(0,o.Z)(function*(){return y.signInResolver(g)})()}}function Nl(w,g){var y;const I=(0,J.m9)(w),L=g;return me(g.customData.operationType,I,"argument-error"),me(null===(y=L.customData._serverResponse)||void 0===y?void 0:y.mfaPendingCredential,I,"argument-error"),ea._fromError(I,L)}function Pl(w,g){return Tn(w,"POST","/v2/accounts/mfaEnrollment:start",_n(w,g))}class vc{constructor(g){this.user=g,this.enrolledFactors=[],g._onReload(y=>{y.mfaInfo&&(this.enrolledFactors=y.mfaInfo.map(I=>ro._fromServerResponse(g.auth,I)))})}static _fromUser(g){return new vc(g)}getSession(){var g=this;return(0,o.Z)(function*(){return Do._fromIdtoken(yield g.user.getIdToken())})()}enroll(g,y){var I=this;return(0,o.Z)(function*(){const L=g,W=yield I.getSession(),pe=yield vt(I.user,L._process(I.user.auth,W,y));return yield I.user._updateTokensIfNecessary(pe),I.user.reload()})()}unenroll(g){var y=this;return(0,o.Z)(function*(){const I="string"==typeof g?g:g.uid,L=yield y.user.getIdToken(),W=yield vt(y.user,function yc(w,g){return Tn(w,"POST","/v2/accounts/mfaEnrollment:withdraw",_n(w,g))}(y.user.auth,{idToken:L,mfaEnrollmentId:I}));y.enrolledFactors=y.enrolledFactors.filter(({uid:pe})=>pe!==I),yield y.user._updateTokensIfNecessary(W);try{yield y.user.reload()}catch(pe){if("auth/user-token-expired"!==pe.code)throw pe}})()}}const Cs=new WeakMap;function Ya(w){const g=(0,J.m9)(w);return Cs.has(g)||Cs.set(g,vc._fromUser(g)),Cs.get(g)}const Io="__sak";class bc{constructor(g,y){this.storageRetriever=g,this.type=y}_isAvailable(){try{return this.storage?(this.storage.setItem(Io,"1"),this.storage.removeItem(Io),Promise.resolve(!0)):Promise.resolve(!1)}catch(g){return Promise.resolve(!1)}}_set(g,y){return this.storage.setItem(g,JSON.stringify(y)),Promise.resolve()}_get(g){const y=this.storage.getItem(g);return Promise.resolve(y?JSON.parse(y):null)}_remove(g){return this.storage.removeItem(g),Promise.resolve()}get storage(){return this.storageRetriever()}}const Pe=(()=>{class w extends bc{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(y,I)=>this.onStorageEvent(y,I),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function zr(){const w=(0,J.z$)();return te(w)||Gt(w)}()&&function ms(){try{return!(!window||window===window.top)}catch(w){return!1}}(),this.fallbackToPolling=nr(),this._shouldAllowMigration=!0}forAllChangedKeys(y){for(const I of Object.keys(this.listeners)){const L=this.storage.getItem(I),W=this.localCache[I];L!==W&&y(I,W,L)}}onStorageEvent(y,I=!1){if(!y.key)return void this.forAllChangedKeys((We,kt,Lt)=>{this.notifyListeners(We,Lt)});const L=y.key;if(I?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const We=this.storage.getItem(L);if(y.newValue!==We)null!==y.newValue?this.storage.setItem(L,y.newValue):this.storage.removeItem(L);else if(this.localCache[L]===y.newValue&&!I)return}const W=()=>{const We=this.storage.getItem(L);!I&&this.localCache[L]===We||this.notifyListeners(L,We)},pe=this.storage.getItem(L);!function yn(){return(0,J.w1)()&&10===document.documentMode}()||pe===y.newValue||y.newValue===y.oldValue?W():setTimeout(W,10)}notifyListeners(y,I){this.localCache[y]=I;const L=this.listeners[y];if(L)for(const W of Array.from(L))W(I&&JSON.parse(I))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((y,I,L)=>{this.onStorageEvent(new StorageEvent("storage",{key:y,oldValue:I,newValue:L}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(y,I){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[y]||(this.listeners[y]=new Set,this.localCache[y]=this.storage.getItem(y)),this.listeners[y].add(I)}_removeListener(y,I){this.listeners[y]&&(this.listeners[y].delete(I),0===this.listeners[y].size&&delete this.listeners[y]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(y,I){var L=()=>super._set,W=this;return(0,o.Z)(function*(){yield L().call(W,y,I),W.localCache[y]=JSON.stringify(I)})()}_get(y){var I=()=>super._get,L=this;return(0,o.Z)(function*(){const W=yield I().call(L,y);return L.localCache[y]=JSON.stringify(W),W})()}_remove(y){var I=()=>super._remove,L=this;return(0,o.Z)(function*(){yield I().call(L,y),delete L.localCache[y]})()}}return w.type="LOCAL",w})(),j=(()=>{class w extends bc{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(y,I){}_removeListener(y,I){}}return w.type="SESSION",w})();let Nr=(()=>{class w{constructor(y){this.eventTarget=y,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(y){const I=this.receivers.find(W=>W.isListeningto(y));if(I)return I;const L=new w(y);return this.receivers.push(L),L}isListeningto(y){return this.eventTarget===y}handleEvent(y){var I=this;return(0,o.Z)(function*(){const L=y,{eventId:W,eventType:pe,data:We}=L.data,kt=I.handlersMap[pe];if(!(null==kt?void 0:kt.size))return;L.ports[0].postMessage({status:"ack",eventId:W,eventType:pe});const Lt=Array.from(kt).map(function(){var Di=(0,o.Z)(function*(sa){return sa(L.origin,We)});return function(sa){return Di.apply(this,arguments)}}()),pn=yield function Yi(w){return Promise.all(w.map(function(){var g=(0,o.Z)(function*(y){try{return{fulfilled:!0,value:yield y}}catch(I){return{fulfilled:!1,reason:I}}});return function(y){return g.apply(this,arguments)}}()))}(Lt);L.ports[0].postMessage({status:"done",eventId:W,eventType:pe,response:pn})})()}_subscribe(y,I){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[y]||(this.handlersMap[y]=new Set),this.handlersMap[y].add(I)}_unsubscribe(y,I){this.handlersMap[y]&&I&&this.handlersMap[y].delete(I),(!I||0===this.handlersMap[y].size)&&delete this.handlersMap[y],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return w.receivers=[],w})();function Ni(w="",g=10){let y="";for(let I=0;I<g;I++)y+=Math.floor(10*Math.random());return w+y}class bu{constructor(g){this.target=g,this.handlers=new Set}removeMessageHandler(g){g.messageChannel&&(g.messageChannel.port1.removeEventListener("message",g.onMessage),g.messageChannel.port1.close()),this.handlers.delete(g)}_send(g,y,I=50){var L=this;return(0,o.Z)(function*(){const W="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!W)throw new Error("connection_unavailable");let pe,We;return new Promise((kt,Lt)=>{const pn=Ni("",20);W.port1.start();const Di=setTimeout(()=>{Lt(new Error("unsupported_event"))},I);We={messageChannel:W,onMessage(sa){const el=sa;if(el.data.eventId===pn)switch(el.data.status){case"ack":clearTimeout(Di),pe=setTimeout(()=>{Lt(new Error("timeout"))},3e3);break;case"done":clearTimeout(pe),kt(el.data.response);break;default:clearTimeout(Di),clearTimeout(pe),Lt(new Error("invalid_response"))}}},L.handlers.add(We),W.port1.addEventListener("message",We.onMessage),L.target.postMessage({eventType:g,eventId:pn,data:y},[W.port2])}).finally(()=>{We&&L.removeMessageHandler(We)})})()}}function fi(){return window}function pi(){return void 0!==fi().WorkerGlobalScope&&"function"==typeof fi().importScripts}function si(){return(si=(0,o.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(w){return null}})).apply(this,arguments)}const ta="firebaseLocalStorageDb",R="firebaseLocalStorage",D="fbase_key";class b{constructor(g){this.request=g}toPromise(){return new Promise((g,y)=>{this.request.addEventListener("success",()=>{g(this.request.result)}),this.request.addEventListener("error",()=>{y(this.request.error)})})}}function x(w,g){return w.transaction([R],g?"readwrite":"readonly").objectStore(R)}function G(){const w=indexedDB.open(ta,1);return new Promise((g,y)=>{w.addEventListener("error",()=>{y(w.error)}),w.addEventListener("upgradeneeded",()=>{const I=w.result;try{I.createObjectStore(R,{keyPath:D})}catch(L){y(L)}}),w.addEventListener("success",(0,o.Z)(function*(){const I=w.result;I.objectStoreNames.contains(R)?g(I):(I.close(),yield function N(){const w=indexedDB.deleteDatabase(ta);return new b(w).toPromise()}(),g(yield G()))}))})}function Q(w,g,y){return le.apply(this,arguments)}function le(){return(le=(0,o.Z)(function*(w,g,y){const I=x(w,!0).put({[D]:g,value:y});return new b(I).toPromise()})).apply(this,arguments)}function qe(){return(qe=(0,o.Z)(function*(w,g){const y=x(w,!1).get(g),I=yield new b(y).toPromise();return void 0===I?null:I.value})).apply(this,arguments)}function ye(w,g){const y=x(w,!0).delete(g);return new b(y).toPromise()}const hn=(()=>{class w{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var y=this;return(0,o.Z)(function*(){return y.db||(y.db=yield G()),y.db})()}_withRetries(y){var I=this;return(0,o.Z)(function*(){let L=0;for(;;)try{const W=yield I._openDb();return yield y(W)}catch(W){if(L++>3)throw W;I.db&&(I.db.close(),I.db=void 0)}})()}initializeServiceWorkerMessaging(){var y=this;return(0,o.Z)(function*(){return pi()?y.initializeReceiver():y.initializeSender()})()}initializeReceiver(){var y=this;return(0,o.Z)(function*(){y.receiver=Nr._getInstance(function Ii(){return pi()?self:null}()),y.receiver._subscribe("keyChanged",function(){var I=(0,o.Z)(function*(L,W){return{keyProcessed:(yield y._poll()).includes(W.key)}});return function(L,W){return I.apply(this,arguments)}}()),y.receiver._subscribe("ping",function(){var I=(0,o.Z)(function*(L,W){return["keyChanged"]});return function(L,W){return I.apply(this,arguments)}}())})()}initializeSender(){var y=this;return(0,o.Z)(function*(){var I,L;if(y.activeServiceWorker=yield function kn(){return si.apply(this,arguments)}(),!y.activeServiceWorker)return;y.sender=new bu(y.activeServiceWorker);const W=yield y.sender._send("ping",{},800);!W||(null===(I=W[0])||void 0===I?void 0:I.fulfilled)&&(null===(L=W[0])||void 0===L?void 0:L.value.includes("keyChanged"))&&(y.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(y){var I=this;return(0,o.Z)(function*(){if(I.sender&&I.activeServiceWorker&&function So(){var w;return(null===(w=null==navigator?void 0:navigator.serviceWorker)||void 0===w?void 0:w.controller)||null}()===I.activeServiceWorker)try{yield I.sender._send("keyChanged",{key:y},I.serviceWorkerReceiverAvailable?800:50)}catch(L){}})()}_isAvailable(){return(0,o.Z)(function*(){try{if(!indexedDB)return!1;const y=yield G();return yield Q(y,Io,"1"),yield ye(y,Io),!0}catch(y){}return!1})()}_withPendingWrite(y){var I=this;return(0,o.Z)(function*(){I.pendingWrites++;try{yield y()}finally{I.pendingWrites--}})()}_set(y,I){var L=this;return(0,o.Z)(function*(){return L._withPendingWrite((0,o.Z)(function*(){return yield L._withRetries(W=>Q(W,y,I)),L.localCache[y]=I,L.notifyServiceWorker(y)}))})()}_get(y){var I=this;return(0,o.Z)(function*(){const L=yield I._withRetries(W=>function ke(w,g){return qe.apply(this,arguments)}(W,y));return I.localCache[y]=L,L})()}_remove(y){var I=this;return(0,o.Z)(function*(){return I._withPendingWrite((0,o.Z)(function*(){return yield I._withRetries(L=>ye(L,y)),delete I.localCache[y],I.notifyServiceWorker(y)}))})()}_poll(){var y=this;return(0,o.Z)(function*(){const I=yield y._withRetries(pe=>{const We=x(pe,!1).getAll();return new b(We).toPromise()});if(!I)return[];if(0!==y.pendingWrites)return[];const L=[],W=new Set;for(const{fbase_key:pe,value:We}of I)W.add(pe),JSON.stringify(y.localCache[pe])!==JSON.stringify(We)&&(y.notifyListeners(pe,We),L.push(pe));for(const pe of Object.keys(y.localCache))y.localCache[pe]&&!W.has(pe)&&(y.notifyListeners(pe,null),L.push(pe));return L})()}notifyListeners(y,I){this.localCache[y]=I;const L=this.listeners[y];if(L)for(const W of Array.from(L))W(I)}startPolling(){var y=this;this.stopPolling(),this.pollTimer=setInterval((0,o.Z)(function*(){return y._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(y,I){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[y]||(this.listeners[y]=new Set,this._get(y)),this.listeners[y].add(I)}_removeListener(y,I){this.listeners[y]&&(this.listeners[y].delete(I),0===this.listeners[y].size&&delete this.listeners[y]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return w.type="LOCAL",w})();function Bt(w,g){return Tn(w,"POST","/v2/accounts/mfaSignIn:start",_n(w,g))}function fn(){return(fn=(0,o.Z)(function*(w){return(yield Tn(w,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Ao(w){return new Promise((g,y)=>{const I=document.createElement("script");I.setAttribute("src",w),I.onload=g,I.onerror=L=>{const W=je("internal-error");W.customData=L,y(W)},I.type="text/javascript",I.charset="UTF-8",function Bn(){var w,g;return null!==(g=null===(w=document.getElementsByTagName("head"))||void 0===w?void 0:w[0])&&void 0!==g?g:document}().appendChild(I)})}function lo(w){return`__${w}${Math.floor(1e6*Math.random())}`}const co=1e12;class Es{constructor(g){this.auth=g,this.counter=co,this._widgets=new Map}render(g,y){const I=this.counter;return this._widgets.set(I,new xh(g,this.auth.name,y||{})),this.counter++,I}reset(g){var y;const I=g||co;null===(y=this._widgets.get(I))||void 0===y||y.delete(),this._widgets.delete(I)}getResponse(g){var y;return(null===(y=this._widgets.get(g||co))||void 0===y?void 0:y.getResponse())||""}execute(g){var y=this;return(0,o.Z)(function*(){var I;return null===(I=y._widgets.get(g||co))||void 0===I||I.execute(),""})()}}class xh{constructor(g,y,I){this.params=I,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const L="string"==typeof g?document.getElementById(g):g;me(L,"argument-error",{appName:y}),this.container=L,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function wu(w){const g=[],y="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let I=0;I<w;I++)g.push(y.charAt(Math.floor(Math.random()*y.length)));return g.join("")}(50);const{callback:g,"expired-callback":y}=this.params;if(g)try{g(this.responseToken)}catch(I){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,y)try{y()}catch(I){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Bs=lo("rcb"),Ka=new St(3e4,6e4);class Ki{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!fi().grecaptcha}load(g,y=""){return me(function Av(w){return w.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(w)}(y),g,"argument-error"),this.shouldResolveImmediately(y)?Promise.resolve(fi().grecaptcha):new Promise((I,L)=>{const W=fi().setTimeout(()=>{L(je(g,"network-request-failed"))},Ka.get());fi()[Bs]=()=>{fi().clearTimeout(W),delete fi()[Bs];const We=fi().grecaptcha;if(!We)return void L(je(g,"internal-error"));const kt=We.render;We.render=(Lt,pn)=>{const Di=kt(Lt,pn);return this.counter++,Di},this.hostLanguage=y,I(We)},Ao(`https://www.google.com/recaptcha/api.js??${(0,J.xO)({onload:Bs,render:"explicit",hl:y})}`).catch(()=>{clearTimeout(W),L(je(g,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(g){return!!fi().grecaptcha&&(g===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class HC{load(g){return(0,o.Z)(function*(){return new Es(g)})()}clearedOneInstance(){}}const kh="recaptcha",$g={theme:"light",type:"image"};class vp{constructor(g,y=Object.assign({},$g),I){this.parameters=y,this.type=kh,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=An(I),this.isInvisible="invisible"===this.parameters.size,me("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const L="string"==typeof g?document.getElementById(g):g;me(L,this.auth,"argument-error"),this.container=L,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new HC:new Ki,this.validateStartingState()}verify(){var g=this;return(0,o.Z)(function*(){g.assertNotDestroyed();const y=yield g.render(),I=g.getAssertedRecaptcha();return I.getResponse(y)||new Promise(W=>{const pe=We=>{!We||(g.tokenChangeListeners.delete(pe),W(We))};g.tokenChangeListeners.add(pe),g.isInvisible&&I.execute(y)})})()}render(){try{this.assertNotDestroyed()}catch(g){return Promise.reject(g)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(g=>{throw this.renderPromise=null,g})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(g=>{this.container.removeChild(g)})}validateStartingState(){me(!this.parameters.sitekey,this.auth,"argument-error"),me(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),me("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(g){return y=>{if(this.tokenChangeListeners.forEach(I=>I(y)),"function"==typeof g)g(y);else if("string"==typeof g){const I=fi()[g];"function"==typeof I&&I(y)}}}assertNotDestroyed(){me(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var g=this;return(0,o.Z)(function*(){if(yield g.init(),!g.widgetId){let y=g.container;if(!g.isInvisible){const I=document.createElement("div");y.appendChild(I),y=I}g.widgetId=g.getAssertedRecaptcha().render(y,g.parameters)}return g.widgetId})()}init(){var g=this;return(0,o.Z)(function*(){me(Vt()&&!pi(),g.auth,"internal-error"),yield function Mv(){let w=null;return new Promise(g=>{"complete"!==document.readyState?(w=()=>g(),window.addEventListener("load",w)):g()}).catch(g=>{throw w&&window.removeEventListener("load",w),g})}(),g.recaptcha=yield g._recaptchaLoader.load(g.auth,g.auth.languageCode||void 0);const y=yield function Pi(w){return fn.apply(this,arguments)}(g.auth);me(y,g.auth,"internal-error"),g.parameters.sitekey=y})()}getAssertedRecaptcha(){return me(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Cu{constructor(g,y){this.verificationId=g,this.onConfirmation=y}confirm(g){const y=$o._fromVerification(this.verificationId,g);return this.onConfirmation(y)}}function Ec(w,g,y){return Rh.apply(this,arguments)}function Rh(){return(Rh=(0,o.Z)(function*(w,g,y){const I=An(w),L=yield Tu(I,g,(0,J.m9)(y));return new Cu(L,W=>ir(I,W))})).apply(this,arguments)}function Cn(w,g,y){return $r.apply(this,arguments)}function $r(){return($r=(0,o.Z)(function*(w,g,y){const I=(0,J.m9)(w);yield Zo(!1,I,"phone");const L=yield Tu(I.auth,g,(0,J.m9)(y));return new Cu(L,W=>Al(I,W))})).apply(this,arguments)}function Qa(w,g,y){return Eu.apply(this,arguments)}function Eu(){return(Eu=(0,o.Z)(function*(w,g,y){const I=(0,J.m9)(w),L=yield Tu(I.auth,g,(0,J.m9)(y));return new Cu(L,W=>Rr(I,W))})).apply(this,arguments)}function Tu(w,g,y){return qr.apply(this,arguments)}function qr(){return(qr=(0,o.Z)(function*(w,g,y){var I;const L=yield y.verify();try{let W;if(me("string"==typeof L,w,"argument-error"),me(y.type===kh,w,"argument-error"),W="string"==typeof g?{phoneNumber:g}:g,"session"in W){const pe=W.session;if("phoneNumber"in W)return me("enroll"===pe.type,w,"internal-error"),(yield Pl(w,{idToken:pe.credential,phoneEnrollmentInfo:{phoneNumber:W.phoneNumber,recaptchaToken:L}})).phoneSessionInfo.sessionInfo;{me("signin"===pe.type,w,"internal-error");const We=(null===(I=W.multiFactorHint)||void 0===I?void 0:I.uid)||W.multiFactorUid;return me(We,w,"missing-multi-factor-info"),(yield Bt(w,{mfaPendingCredential:pe.credential,mfaEnrollmentId:We,phoneSignInInfo:{recaptchaToken:L}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:pe}=yield Ih(w,{phoneNumber:W.phoneNumber,recaptchaToken:L});return pe}}finally{y._reset()}})).apply(this,arguments)}function xo(w,g){return Tc.apply(this,arguments)}function Tc(){return(Tc=(0,o.Z)(function*(w,g){yield uc((0,J.m9)(w),g)})).apply(this,arguments)}let Ll=(()=>{class w{constructor(y){this.providerId=w.PROVIDER_ID,this.auth=An(y)}verifyPhoneNumber(y,I){return Tu(this.auth,y,(0,J.m9)(I))}static credential(y,I){return $o._fromVerification(y,I)}static credentialFromResult(y){return w.credentialFromTaggedObject(y)}static credentialFromError(y){return w.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{phoneNumber:I,temporaryProof:L}=y;return I&&L?$o._fromTokenResponse(I,L):null}}return w.PROVIDER_ID="phone",w.PHONE_SIGN_IN_METHOD="phone",w})();function Ts(w,g){return g?De(g):(me(w._popupRedirectResolver,w,"argument-error"),w._popupRedirectResolver)}class Vl extends pr{constructor(g){super("custom","custom"),this.params=g}_getIdTokenResponse(g){return yo(g,this._buildIdpRequest())}_linkToIdToken(g,y){return yo(g,this._buildIdpRequest(y))}_getReauthenticationResolver(g){return yo(g,this._buildIdpRequest())}_buildIdpRequest(g){const y={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return g&&(y.idToken=g),y}}function dd(w){return Sa(w.auth,new Vl(w),w.bypassAuthState)}function br(w){const{auth:g,user:y}=w;return me(y,g,"internal-error"),Kn(y,new Vl(w),w.bypassAuthState)}function Dc(w){return Ic.apply(this,arguments)}function Ic(){return(Ic=(0,o.Z)(function*(w){const{auth:g,user:y}=w;return me(y,g,"internal-error"),uc(y,new Vl(w),w.bypassAuthState)})).apply(this,arguments)}class Oh{constructor(g,y,I,L,W=!1){this.auth=g,this.resolver=I,this.user=L,this.bypassAuthState=W,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(y)?y:[y]}execute(){var g=this;return new Promise(function(){var y=(0,o.Z)(function*(I,L){g.pendingPromise={resolve:I,reject:L};try{g.eventManager=yield g.resolver._initialize(g.auth),yield g.onExecution(),g.eventManager.registerConsumer(g)}catch(W){g.reject(W)}});return function(I,L){return y.apply(this,arguments)}}())}onAuthEvent(g){var y=this;return(0,o.Z)(function*(){const{urlResponse:I,sessionId:L,postBody:W,tenantId:pe,error:We,type:kt}=g;if(We)return void y.reject(We);const Lt={auth:y.auth,requestUri:I,sessionId:L,tenantId:pe||void 0,postBody:W||void 0,user:y.user,bypassAuthState:y.bypassAuthState};try{y.resolve(yield y.getIdpTask(kt)(Lt))}catch(pn){y.reject(pn)}})()}onError(g){this.reject(g)}getIdpTask(g){switch(g){case"signInViaPopup":case"signInViaRedirect":return dd;case"linkViaPopup":case"linkViaRedirect":return Dc;case"reauthViaPopup":case"reauthViaRedirect":return br;default:Je(this.auth,"internal-error")}}resolve(g){ue(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(g),this.unregisterAndCleanUp()}reject(g){ue(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(g),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const as=new St(2e3,1e4);function Sc(w,g,y){return ko.apply(this,arguments)}function ko(){return(ko=(0,o.Z)(function*(w,g,y){const I=An(w);Ne(w,g,to);const L=Ts(I,y);return new fd(I,"signInViaPopup",g,L).executeNotNull()})).apply(this,arguments)}function Nh(w,g,y){return na.apply(this,arguments)}function na(){return(na=(0,o.Z)(function*(w,g,y){const I=(0,J.m9)(w);Ne(I.auth,g,to);const L=Ts(I.auth,y);return new fd(I.auth,"reauthViaPopup",g,L,I).executeNotNull()})).apply(this,arguments)}function Ph(w,g,y){return hd.apply(this,arguments)}function hd(){return(hd=(0,o.Z)(function*(w,g,y){const I=(0,J.m9)(w);Ne(I.auth,g,to);const L=Ts(I.auth,y);return new fd(I.auth,"linkViaPopup",g,L,I).executeNotNull()})).apply(this,arguments)}let fd=(()=>{class w extends Oh{constructor(y,I,L,W,pe){super(y,I,W,pe),this.provider=L,this.authWindow=null,this.pollId=null,w.currentPopupAction&&w.currentPopupAction.cancel(),w.currentPopupAction=this}executeNotNull(){var y=this;return(0,o.Z)(function*(){const I=yield y.execute();return me(I,y.auth,"internal-error"),I})()}onExecution(){var y=this;return(0,o.Z)(function*(){ue(1===y.filter.length,"Popup operations only handle one event");const I=Ni();y.authWindow=yield y.resolver._openPopup(y.auth,y.provider,y.filter[0],I),y.authWindow.associatedEvent=I,y.resolver._originValidation(y.auth).catch(L=>{y.reject(L)}),y.resolver._isIframeWebStorageSupported(y.auth,L=>{L||y.reject(je(y.auth,"web-storage-unsupported"))}),y.pollUserCancellation()})()}get eventId(){var y;return(null===(y=this.authWindow)||void 0===y?void 0:y.associatedEvent)||null}cancel(){this.reject(je(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,w.currentPopupAction=null}pollUserCancellation(){const y=()=>{var I,L;this.pollId=(null===(L=null===(I=this.authWindow)||void 0===I?void 0:I.window)||void 0===L?void 0:L.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(je(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(y,as.get())};y()}}return w.currentPopupAction=null,w})();const Ra=new Map;class ia extends Oh{constructor(g,y,I=!1){super(g,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],y,void 0,I),this.eventId=null}execute(){var g=()=>super.execute,y=this;return(0,o.Z)(function*(){let I=Ra.get(y.auth._key());if(!I){try{const W=(yield function Ul(w,g){return Bl.apply(this,arguments)}(y.resolver,y.auth))?yield g().call(y):null;I=()=>Promise.resolve(W)}catch(L){I=()=>Promise.reject(L)}Ra.set(y.auth._key(),I)}return y.bypassAuthState||Ra.set(y.auth._key(),()=>Promise.resolve(null)),I()})()}onAuthEvent(g){var y=()=>super.onAuthEvent,I=this;return(0,o.Z)(function*(){if("signInViaRedirect"===g.type)return y().call(I,g);if("unknown"!==g.type){if(g.eventId){const L=yield I.auth._redirectUserForId(g.eventId);if(L)return I.user=L,y().call(I,g);I.resolve(null)}}else I.resolve(null)})()}onExecution(){return(0,o.Z)(function*(){})()}cleanUp(){}}function Bl(){return(Bl=(0,o.Z)(function*(w,g){const y=k(g),I=Du(w);if(!(yield I._isAvailable()))return!1;const L="true"===(yield I._get(y));return yield I._remove(y),L})).apply(this,arguments)}function pd(w,g){return Xa.apply(this,arguments)}function Xa(){return(Xa=(0,o.Z)(function*(w,g){return Du(w)._set(k(g),"true")})).apply(this,arguments)}function md(){Ra.clear()}function Du(w){return De(w._redirectPersistence)}function k(w){return oe("pendingRedirect",w.config.apiKey,w.name)}function O(w,g,y){return function U(w,g,y){return X.apply(this,arguments)}(w,g,y)}function X(){return(X=(0,o.Z)(function*(w,g,y){const I=An(w);Ne(w,g,to);const L=Ts(I,y);return yield pd(L,I),L._openRedirect(I,g,"signInViaRedirect")})).apply(this,arguments)}function de(w,g,y){return function be(w,g,y){return Ke.apply(this,arguments)}(w,g,y)}function Ke(){return(Ke=(0,o.Z)(function*(w,g,y){const I=(0,J.m9)(w);Ne(I.auth,g,to);const L=Ts(I.auth,y);yield pd(L,I.auth);const W=yield Ac(I);return L._openRedirect(I.auth,g,"reauthViaRedirect",W)})).apply(this,arguments)}function Ct(w,g,y){return function At(w,g,y){return zt.apply(this,arguments)}(w,g,y)}function zt(){return(zt=(0,o.Z)(function*(w,g,y){const I=(0,J.m9)(w);Ne(I.auth,g,to);const L=Ts(I.auth,y);yield Zo(!1,I,g.providerId),yield pd(L,I.auth);const W=yield Ac(I);return L._openRedirect(I.auth,g,"linkViaRedirect",W)})).apply(this,arguments)}function Dn(w,g){return qt.apply(this,arguments)}function qt(){return(qt=(0,o.Z)(function*(w,g){return yield An(w)._initializationPromise,Qi(w,g,!1)})).apply(this,arguments)}function Qi(w,g){return Fi.apply(this,arguments)}function Fi(){return(Fi=(0,o.Z)(function*(w,g,y=!1){const I=An(w),L=Ts(I,g),pe=yield new ia(I,L,y).execute();return pe&&!y&&(delete pe.user._redirectEventId,yield I._persistUserIfCurrent(pe.user),yield I._setRedirectUser(null,g)),pe})).apply(this,arguments)}function Ac(w){return Mc.apply(this,arguments)}function Mc(){return(Mc=(0,o.Z)(function*(w){const g=Ni(`${w.uid}:::`);return w._redirectEventId=g,yield w.auth._setRedirectUser(w),yield w.auth._persistUserIfCurrent(w),g})).apply(this,arguments)}class Wr{constructor(g){this.auth=g,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(g){this.consumers.add(g),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,g)&&(this.sendToConsumer(this.queuedRedirectEvent,g),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(g){this.consumers.delete(g)}onEvent(g){if(this.hasEventBeenHandled(g))return!1;let y=!1;return this.consumers.forEach(I=>{this.isEventForConsumer(g,I)&&(y=!0,this.sendToConsumer(g,I),this.saveEventToCache(g))}),this.hasHandledPotentialRedirect||!function bp(w){switch(w.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ra(w);default:return!1}}(g)||(this.hasHandledPotentialRedirect=!0,y||(this.queuedRedirectEvent=g,y=!0)),y}sendToConsumer(g,y){var I;if(g.error&&!ra(g)){const L=(null===(I=g.error.code)||void 0===I?void 0:I.split("auth/")[1])||"internal-error";y.onError(je(this.auth,L))}else y.onAuthEvent(g)}isEventForConsumer(g,y){const I=null===y.eventId||!!g.eventId&&g.eventId===y.eventId;return y.filter.includes(g.type)&&I}hasEventBeenHandled(g){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ro(g))}saveEventToCache(g){this.cachedEventUids.add(Ro(g)),this.lastProcessedEventTime=Date.now()}}function Ro(w){return[w.type,w.eventId,w.sessionId,w.tenantId].filter(g=>g).join("-")}function ra({type:w,error:g}){return"unknown"===w&&"auth/no-auth-event"===(null==g?void 0:g.code)}function Fh(w){return gd.apply(this,arguments)}function gd(){return(gd=(0,o.Z)(function*(w,g={}){return Tn(w,"GET","/v1/projects",g)})).apply(this,arguments)}const _d=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,yd=/^https?/;function wp(){return(wp=(0,o.Z)(function*(w){if(w.config.emulator)return;const{authorizedDomains:g}=yield Fh(w);for(const y of g)try{if(Iu(y))return}catch(I){}Je(w,"unauthorized-domain")})).apply(this,arguments)}function Iu(w){const g=we(),{protocol:y,hostname:I}=new URL(g);if(w.startsWith("chrome-extension://")){const pe=new URL(w);return""===pe.hostname&&""===I?"chrome-extension:"===y&&w.replace("chrome-extension://","")===g.replace("chrome-extension://",""):"chrome-extension:"===y&&pe.hostname===I}if(!yd.test(y))return!1;if(_d.test(w))return I===w;const L=w.replace(/\./g,"\\.");return new RegExp("^(.+\\."+L+"|"+L+")$","i").test(I)}const vd=new St(3e4,6e4);function qg(){const w=fi().___jsl;if(null==w?void 0:w.H)for(const g of Object.keys(w.H))if(w.H[g].r=w.H[g].r||[],w.H[g].L=w.H[g].L||[],w.H[g].r=[...w.H[g].L],w.CP)for(let y=0;y<w.CP.length;y++)w.CP[y]=null}let bd=null;function kv(w){return bd=bd||function jC(w){return new Promise((g,y)=>{var I,L,W;function pe(){qg(),gapi.load("gapi.iframes",{callback:()=>{g(gapi.iframes.getContext())},ontimeout:()=>{qg(),y(je(w,"network-request-failed"))},timeout:vd.get()})}if(null===(L=null===(I=fi().gapi)||void 0===I?void 0:I.iframes)||void 0===L?void 0:L.Iframe)g(gapi.iframes.getContext());else{if(!(null===(W=fi().gapi)||void 0===W?void 0:W.load)){const We=lo("iframefcb");return fi()[We]=()=>{gapi.load?pe():y(je(w,"network-request-failed"))},Ao(`https://apis.google.com/js/api.js?onload=${We}`).catch(kt=>y(kt))}pe()}}).catch(g=>{throw bd=null,g})}(w),bd}const GC=new St(5e3,15e3),Wg={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},wd=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Cd(w){const g=w.config;me(g.authDomain,w,"auth-domain-config-required");const y=g.emulator?Vn(g,"emulator/auth/iframe"):`https://${w.config.authDomain}/__/auth/iframe`,I={apiKey:g.apiKey,appName:w.name,v:B.SDK_VERSION},L=wd.get(w.config.apiHost);L&&(I.eid=L);const W=w._getFrameworks();return W.length&&(I.fw=W.join(",")),`${y}?${(0,J.xO)(I).slice(1)}`}function Cp(){return Cp=(0,o.Z)(function*(w){const g=yield kv(w),y=fi().gapi;return me(y,w,"internal-error"),g.open({where:document.body,url:Cd(w),messageHandlersFilter:y.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Wg,dontclear:!0},I=>new Promise(function(){var L=(0,o.Z)(function*(W,pe){yield I.restyle({setHideOnLeave:!1});const We=je(w,"network-request-failed"),kt=fi().setTimeout(()=>{pe(We)},GC.get());function Lt(){fi().clearTimeout(kt),W(I)}I.ping(Lt).then(Lt,()=>{pe(We)})});return function(W,pe){return L.apply(this,arguments)}}()))}),Cp.apply(this,arguments)}const Ov={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Uh{constructor(g){this.window=g,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(g){}}}function Td(w,g,y,I,L,W){me(w.config.authDomain,w,"auth-domain-config-required"),me(w.config.apiKey,w,"invalid-api-key");const pe={apiKey:w.config.apiKey,appName:w.name,authType:y,redirectUrl:I,v:B.SDK_VERSION,eventId:L};if(g instanceof to){g.setDefaultLanguage(w.languageCode),pe.providerId=g.providerId||"",(0,J.xb)(g.getCustomParameters())||(pe.customParameters=JSON.stringify(g.getCustomParameters()));for(const[kt,Lt]of Object.entries(W||{}))pe[kt]=Lt}if(g instanceof $a){const kt=g.getScopes().filter(Lt=>""!==Lt);kt.length>0&&(pe.scopes=kt.join(","))}w.tenantId&&(pe.tid=w.tenantId);const We=pe;for(const kt of Object.keys(We))void 0===We[kt]&&delete We[kt];return`${function qC({config:w}){return w.emulator?Vn(w,"emulator/auth/handler"):`https://${w.authDomain}/__/auth/handler`}(w)}?${(0,J.xO)(We).slice(1)}`}const Tp="webStorageSupport",kc=class Na{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=j,this._completeRedirectFn=Qi}_openPopup(g,y,I,L){var W=this;return(0,o.Z)(function*(){var pe;ue(null===(pe=W.eventManagers[g._key()])||void 0===pe?void 0:pe.manager,"_initialize() not called before _openPopup()");const We=Td(g,y,I,we(),L);return function Pv(w,g,y,I=500,L=600){const W=Math.max((window.screen.availHeight-L)/2,0).toString(),pe=Math.max((window.screen.availWidth-I)/2,0).toString();let We="";const kt=Object.assign(Object.assign({},Ov),{width:I.toString(),height:L.toString(),top:W,left:pe}),Lt=(0,J.z$)().toLowerCase();y&&(We=Ee(Lt)?"_blank":y),K(Lt)&&(g=g||"http://localhost",kt.scrollbars="yes");const pn=Object.entries(kt).reduce((sa,[el,Hl])=>`${sa}${el}=${Hl},`,"");if(function Bi(w=(0,J.z$)()){var g;return Gt(w)&&!!(null===(g=window.navigator)||void 0===g?void 0:g.standalone)}(Lt)&&"_self"!==We)return function xc(w,g){const y=document.createElement("a");y.href=w,y.target=g;const I=document.createEvent("MouseEvent");I.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),y.dispatchEvent(I)}(g||"",We),new Uh(null);const Di=window.open(g||"",We,pn);me(Di,w,"popup-blocked");try{Di.focus()}catch(sa){}return new Uh(Di)}(g,We,Ni())})()}_openRedirect(g,y,I,L){var W=this;return(0,o.Z)(function*(){return yield W._originValidation(g),function Qn(w){fi().location.href=w}(Td(g,y,I,we(),L)),new Promise(()=>{})})()}_initialize(g){const y=g._key();if(this.eventManagers[y]){const{manager:L,promise:W}=this.eventManagers[y];return L?Promise.resolve(L):(ue(W,"If manager is not set, promise should be"),W)}const I=this.initAndGetManager(g);return this.eventManagers[y]={promise:I},I.catch(()=>{delete this.eventManagers[y]}),I}initAndGetManager(g){var y=this;return(0,o.Z)(function*(){const I=yield function Su(w){return Cp.apply(this,arguments)}(g),L=new Wr(g);return I.register("authEvent",W=>(me(null==W?void 0:W.authEvent,g,"invalid-auth-event"),{status:L.onEvent(W.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),y.eventManagers[g._key()]={manager:L},y.iframes[g._key()]=I,L})()}_isIframeWebStorageSupported(g,y){this.iframes[g._key()].send(Tp,{type:Tp},L=>{var W;const pe=null===(W=null==L?void 0:L[0])||void 0===W?void 0:W[Tp];void 0!==pe&&y(!!pe),Je(g,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(g){const y=g._key();return this.originValidationPromises[y]||(this.originValidationPromises[y]=function xv(w){return wp.apply(this,arguments)}(g)),this.originValidationPromises[y]}get _shouldInitProactively(){return nr()||te()||Gt()}};class Dd extends class Dp{constructor(g){this.factorId=g}_process(g,y,I){switch(y.type){case"enroll":return this._finalizeEnroll(g,y.credential,I);case"signin":return this._finalizeSignIn(g,y.credential);default:return pt("unexpected MultiFactorSessionType")}}}{constructor(g){super("phone"),this.credential=g}static _fromCredential(g){return new Dd(g)}_finalizeEnroll(g,y,I){return function Oi(w,g){return Tn(w,"POST","/v2/accounts/mfaEnrollment:finalize",_n(w,g))}(g,{idToken:y,displayName:I,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(g,y){return function jt(w,g){return Tn(w,"POST","/v2/accounts/mfaSignIn:finalize",_n(w,g))}(g,{mfaPendingCredential:y,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Id=(()=>{class w{constructor(){}static assertion(y){return Dd._fromCredential(y)}}return w.FACTOR_ID="phone",w})();var Fv="@firebase/auth",Bh="0.19.12";class WC{constructor(g){this.auth=g,this.internalListeners=new Map}getUid(){var g;return this.assertAuthConfigured(),(null===(g=this.auth.currentUser)||void 0===g?void 0:g.uid)||null}getToken(g){var y=this;return(0,o.Z)(function*(){return y.assertAuthConfigured(),yield y.auth._initializationPromise,y.auth.currentUser?{accessToken:yield y.auth.currentUser.getIdToken(g)}:null})()}addAuthTokenListener(g){if(this.assertAuthConfigured(),this.internalListeners.has(g))return;const y=this.auth.onIdTokenChanged(I=>{var L;g((null===(L=I)||void 0===L?void 0:L.stsTokenManager.accessToken)||null)});this.internalListeners.set(g,y),this.updateProactiveRefresh()}removeAuthTokenListener(g){this.assertAuthConfigured();const y=this.internalListeners.get(g);!y||(this.internalListeners.delete(g),y(),this.updateProactiveRefresh())}assertAuthConfigured(){me(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}!function ZC(w){(0,B._registerComponent)(new Le.wA("auth",(g,{options:y})=>{const I=g.getProvider("app").getImmediate(),L=g.getProvider("heartbeat"),{apiKey:W,authDomain:pe}=I.options;return((We,kt)=>{me(W&&!W.includes(":"),"invalid-api-key",{appName:We.name}),me(!(null==pe?void 0:pe.includes(":")),"argument-error",{appName:We.name});const Lt={apiKey:W,authDomain:pe,clientPlatform:w,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:jn(w)},pn=new kr(We,kt,Lt);return function Ye(w,g){const y=(null==g?void 0:g.persistence)||[],I=(Array.isArray(y)?y:[y]).map(De);(null==g?void 0:g.errorMap)&&w._updateErrorMap(g.errorMap),w._initializeWithPersistence(I,null==g?void 0:g.popupRedirectResolver)}(pn,y),pn})(I,L)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((g,y,I)=>{g.getProvider("auth-internal").initialize()})),(0,B._registerComponent)(new Le.wA("auth-internal",g=>{const y=An(g.getProvider("auth").getImmediate());return new WC(y)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,B.registerVersion)(Fv,Bh,function Zg(w){switch(w){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(w)),(0,B.registerVersion)(Fv,Bh,"esm2017")}("Browser")},2090:(Rt,He,z)=>{z.d(He,{$s:()=>ns,BH:()=>Ge,DV:()=>ti,Dv:()=>Ti,G6:()=>pt,GJ:()=>_n,L:()=>xe,LL:()=>Vt,Lj:()=>Jt,Mn:()=>rt,Pz:()=>St,Sg:()=>Qe,UG:()=>Ue,UI:()=>Zt,US:()=>fe,Wj:()=>Un,X3:()=>Ot,Yr:()=>me,ZB:()=>_e,ZR:()=>we,b$:()=>je,cI:()=>It,d:()=>ce,dS:()=>en,eu:()=>Se,g5:()=>ve,gK:()=>bi,gQ:()=>xr,h$:()=>Te,hl:()=>ue,hu:()=>B,jU:()=>yt,lb:()=>Ns,m9:()=>Nt,ne:()=>xt,p$:()=>ne,pd:()=>ni,r3:()=>Tn,ru:()=>Je,tV:()=>re,uI:()=>Oe,ug:()=>Dt,vZ:()=>yi,w1:()=>Ne,w9:()=>In,xO:()=>es,xb:()=>Ai,z$:()=>et,zI:()=>De,zd:()=>qi});var o=z(5861);const B=function(se,ee){if(!se)throw ve(ee)},ve=function(se){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+se)},ge=function(se){const ee=[];let oe=0;for(let Me=0;Me<se.length;Me++){let q=se.charCodeAt(Me);q<128?ee[oe++]=q:q<2048?(ee[oe++]=q>>6|192,ee[oe++]=63&q|128):55296==(64512&q)&&Me+1<se.length&&56320==(64512&se.charCodeAt(Me+1))?(q=65536+((1023&q)<<10)+(1023&se.charCodeAt(++Me)),ee[oe++]=q>>18|240,ee[oe++]=q>>12&63|128,ee[oe++]=q>>6&63|128,ee[oe++]=63&q|128):(ee[oe++]=q>>12|224,ee[oe++]=q>>6&63|128,ee[oe++]=63&q|128)}return ee},fe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(se,ee){if(!Array.isArray(se))throw Error("encodeByteArray takes an array as a parameter");this.init_();const oe=ee?this.byteToCharMapWebSafe_:this.byteToCharMap_,Me=[];for(let q=0;q<se.length;q+=3){const K=se[q],te=q+1<se.length,Ee=te?se[q+1]:0,tt=q+2<se.length,ct=tt?se[q+2]:0;let Gt=(15&Ee)<<2|ct>>6,ui=63&ct;tt||(ui=64,te||(Gt=64)),Me.push(oe[K>>2],oe[(3&K)<<4|Ee>>4],oe[Gt],oe[ui])}return Me.join("")},encodeString(se,ee){return this.HAS_NATIVE_SUPPORT&&!ee?btoa(se):this.encodeByteArray(ge(se),ee)},decodeString(se,ee){return this.HAS_NATIVE_SUPPORT&&!ee?atob(se):function(se){const ee=[];let oe=0,Me=0;for(;oe<se.length;){const q=se[oe++];if(q<128)ee[Me++]=String.fromCharCode(q);else if(q>191&&q<224){const K=se[oe++];ee[Me++]=String.fromCharCode((31&q)<<6|63&K)}else if(q>239&&q<365){const tt=((7&q)<<18|(63&se[oe++])<<12|(63&se[oe++])<<6|63&se[oe++])-65536;ee[Me++]=String.fromCharCode(55296+(tt>>10)),ee[Me++]=String.fromCharCode(56320+(1023&tt))}else{const K=se[oe++],te=se[oe++];ee[Me++]=String.fromCharCode((15&q)<<12|(63&K)<<6|63&te)}}return ee.join("")}(this.decodeStringToByteArray(se,ee))},decodeStringToByteArray(se,ee){this.init_();const oe=ee?this.charToByteMapWebSafe_:this.charToByteMap_,Me=[];for(let q=0;q<se.length;){const K=oe[se.charAt(q++)],Ee=q<se.length?oe[se.charAt(q)]:0;++q;const ct=q<se.length?oe[se.charAt(q)]:64;++q;const bt=q<se.length?oe[se.charAt(q)]:64;if(++q,null==K||null==Ee||null==ct||null==bt)throw Error();Me.push(K<<2|Ee>>4),64!==ct&&(Me.push(Ee<<4&240|ct>>2),64!==bt&&Me.push(ct<<6&192|bt))}return Me},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let se=0;se<this.ENCODED_VALS.length;se++)this.byteToCharMap_[se]=this.ENCODED_VALS.charAt(se),this.charToByteMap_[this.byteToCharMap_[se]]=se,this.byteToCharMapWebSafe_[se]=this.ENCODED_VALS_WEBSAFE.charAt(se),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[se]]=se,se>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(se)]=se,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(se)]=se)}}},Te=function(se){const ee=ge(se);return fe.encodeByteArray(ee,!0)},xe=function(se){return Te(se).replace(/\./g,"")},re=function(se){try{return fe.decodeString(se,!0)}catch(ee){console.error("base64Decode failed: ",ee)}return null};function ne(se){return _e(void 0,se)}function _e(se,ee){if(!(ee instanceof Object))return ee;switch(ee.constructor){case Date:return new Date(ee.getTime());case Object:void 0===se&&(se={});break;case Array:se=[];break;default:return ee}for(const oe in ee)!ee.hasOwnProperty(oe)||!ot(oe)||(se[oe]=_e(se[oe],ee[oe]));return se}function ot(se){return"__proto__"!==se}class Ge{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((ee,oe)=>{this.resolve=ee,this.reject=oe})}wrapCallback(ee){return(oe,Me)=>{oe?this.reject(oe):this.resolve(Me),"function"==typeof ee&&(this.promise.catch(()=>{}),1===ee.length?ee(oe):ee(oe,Me))}}}function Qe(se,ee){if(se.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Me=ee||"demo-project",q=se.iat||0,K=se.sub||se.user_id;if(!K)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const te=Object.assign({iss:`https://securetoken.google.com/${Me}`,aud:Me,iat:q,exp:q+3600,auth_time:q,sub:K,user_id:K,firebase:{sign_in_provider:"custom",identities:{}}},se);return[xe(JSON.stringify({alg:"none",type:"JWT"})),xe(JSON.stringify(te)),""].join(".")}function et(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Oe(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(et())}function Ue(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(se){return!1}}function yt(){return"object"==typeof self&&self.self===self}function Je(){const se="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof se&&void 0!==se.id}function je(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ce(){return et().indexOf("Electron/")>=0}function Ne(){const se=et();return se.indexOf("MSIE ")>=0||se.indexOf("Trident/")>=0}function rt(){return et().indexOf("MSAppHost/")>=0}function me(){return!1}function pt(){return!Ue()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ue(){return"object"==typeof indexedDB}function Se(){return new Promise((se,ee)=>{try{let oe=!0;const Me="validate-browser-context-for-indexeddb-analytics-module",q=self.indexedDB.open(Me);q.onsuccess=()=>{q.result.close(),oe||self.indexedDB.deleteDatabase(Me),se(!0)},q.onupgradeneeded=()=>{oe=!1},q.onerror=()=>{var K;ee((null===(K=q.error)||void 0===K?void 0:K.message)||"")}}catch(oe){ee(oe)}})}function De(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class we extends Error{constructor(ee,oe,Me){super(oe),this.code=ee,this.customData=Me,this.name="FirebaseError",Object.setPrototypeOf(this,we.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Vt.prototype.create)}}class Vt{constructor(ee,oe,Me){this.service=ee,this.serviceName=oe,this.errors=Me}create(ee,...oe){const Me=oe[0]||{},q=`${this.service}/${ee}`,K=this.errors[ee],te=K?function En(se,ee){return se.replace(gi,(oe,Me)=>{const q=ee[Me];return null!=q?String(q):`<${Me}?>`})}(K,Me):"Error";return new we(q,`${this.serviceName}: ${te} (${q}).`,Me)}}const gi=/\{\$([^}]+)}/g;function It(se){return JSON.parse(se)}function St(se){return JSON.stringify(se)}const Vn=function(se){let ee={},oe={},Me={},q="";try{const K=se.split(".");ee=It(re(K[0])||""),oe=It(re(K[1])||""),q=K[2],Me=oe.d||{},delete oe.d}catch(K){}return{header:ee,claims:oe,data:Me,signature:q}},In=function(se){const oe=Vn(se).claims;return!!oe&&"object"==typeof oe&&oe.hasOwnProperty("iat")},_n=function(se){const ee=Vn(se).claims;return"object"==typeof ee&&!0===ee.admin};function Tn(se,ee){return Object.prototype.hasOwnProperty.call(se,ee)}function ti(se,ee){if(Object.prototype.hasOwnProperty.call(se,ee))return se[ee]}function Ai(se){for(const ee in se)if(Object.prototype.hasOwnProperty.call(se,ee))return!1;return!0}function Zt(se,ee,oe){const Me={};for(const q in se)Object.prototype.hasOwnProperty.call(se,q)&&(Me[q]=ee.call(oe,se[q],q,se));return Me}function yi(se,ee){if(se===ee)return!0;const oe=Object.keys(se),Me=Object.keys(ee);for(const q of oe){if(!Me.includes(q))return!1;const K=se[q],te=ee[q];if(Ur(K)&&Ur(te)){if(!yi(K,te))return!1}else if(K!==te)return!1}for(const q of Me)if(!oe.includes(q))return!1;return!0}function Ur(se){return null!==se&&"object"==typeof se}function es(se){const ee=[];for(const[oe,Me]of Object.entries(se))Array.isArray(Me)?Me.forEach(q=>{ee.push(encodeURIComponent(oe)+"="+encodeURIComponent(q))}):ee.push(encodeURIComponent(oe)+"="+encodeURIComponent(Me));return ee.length?"&"+ee.join("&"):""}function qi(se){const ee={};return se.replace(/^\?/,"").split("&").forEach(Me=>{if(Me){const[q,K]=Me.split("=");ee[decodeURIComponent(q)]=decodeURIComponent(K)}}),ee}function ni(se){const ee=se.indexOf("?");if(!ee)return"";const oe=se.indexOf("#",ee);return se.substring(ee,oe>0?oe:void 0)}class xr{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let ee=1;ee<this.blockSize;++ee)this.pad_[ee]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(ee,oe){oe||(oe=0);const Me=this.W_;if("string"==typeof ee)for(let bt=0;bt<16;bt++)Me[bt]=ee.charCodeAt(oe)<<24|ee.charCodeAt(oe+1)<<16|ee.charCodeAt(oe+2)<<8|ee.charCodeAt(oe+3),oe+=4;else for(let bt=0;bt<16;bt++)Me[bt]=ee[oe]<<24|ee[oe+1]<<16|ee[oe+2]<<8|ee[oe+3],oe+=4;for(let bt=16;bt<80;bt++){const Gt=Me[bt-3]^Me[bt-8]^Me[bt-14]^Me[bt-16];Me[bt]=4294967295&(Gt<<1|Gt>>>31)}let ct,Ut,q=this.chain_[0],K=this.chain_[1],te=this.chain_[2],Ee=this.chain_[3],tt=this.chain_[4];for(let bt=0;bt<80;bt++){bt<40?bt<20?(ct=Ee^K&(te^Ee),Ut=1518500249):(ct=K^te^Ee,Ut=1859775393):bt<60?(ct=K&te|Ee&(K|te),Ut=2400959708):(ct=K^te^Ee,Ut=3395469782);const Gt=(q<<5|q>>>27)+ct+tt+Ut+Me[bt]&4294967295;tt=Ee,Ee=te,te=4294967295&(K<<30|K>>>2),K=q,q=Gt}this.chain_[0]=this.chain_[0]+q&4294967295,this.chain_[1]=this.chain_[1]+K&4294967295,this.chain_[2]=this.chain_[2]+te&4294967295,this.chain_[3]=this.chain_[3]+Ee&4294967295,this.chain_[4]=this.chain_[4]+tt&4294967295}update(ee,oe){if(null==ee)return;void 0===oe&&(oe=ee.length);const Me=oe-this.blockSize;let q=0;const K=this.buf_;let te=this.inbuf_;for(;q<oe;){if(0===te)for(;q<=Me;)this.compress_(ee,q),q+=this.blockSize;if("string"==typeof ee){for(;q<oe;)if(K[te]=ee.charCodeAt(q),++te,++q,te===this.blockSize){this.compress_(K),te=0;break}}else for(;q<oe;)if(K[te]=ee[q],++te,++q,te===this.blockSize){this.compress_(K),te=0;break}}this.inbuf_=te,this.total_+=oe}digest(){const ee=[];let oe=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let q=this.blockSize-1;q>=56;q--)this.buf_[q]=255&oe,oe/=256;this.compress_(this.buf_);let Me=0;for(let q=0;q<5;q++)for(let K=24;K>=0;K-=8)ee[Me]=this.chain_[q]>>K&255,++Me;return ee}}function xt(se,ee){const oe=new fr(se,ee);return oe.subscribe.bind(oe)}class fr{constructor(ee,oe){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=oe,this.task.then(()=>{ee(this)}).catch(Me=>{this.error(Me)})}next(ee){this.forEachObserver(oe=>{oe.next(ee)})}error(ee){this.forEachObserver(oe=>{oe.error(ee)}),this.close(ee)}complete(){this.forEachObserver(ee=>{ee.complete()}),this.close()}subscribe(ee,oe,Me){let q;if(void 0===ee&&void 0===oe&&void 0===Me)throw new Error("Missing Observer.");q=function xn(se,ee){if("object"!=typeof se||null===se)return!1;for(const oe of ee)if(oe in se&&"function"==typeof se[oe])return!0;return!1}(ee,["next","error","complete"])?ee:{next:ee,error:oe,complete:Me},void 0===q.next&&(q.next=ii),void 0===q.error&&(q.error=ii),void 0===q.complete&&(q.complete=ii);const K=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?q.error(this.finalError):q.complete()}catch(te){}}),this.observers.push(q),K}unsubscribeOne(ee){void 0===this.observers||void 0===this.observers[ee]||(delete this.observers[ee],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(ee){if(!this.finalized)for(let oe=0;oe<this.observers.length;oe++)this.sendOne(oe,ee)}sendOne(ee,oe){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[ee])try{oe(this.observers[ee])}catch(Me){"undefined"!=typeof console&&console.error&&console.error(Me)}})}close(ee){this.finalized||(this.finalized=!0,void 0!==ee&&(this.finalError=ee),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ii(){}const Ti=function(se,ee,oe,Me){let q;if(Me<ee?q="at least "+ee:Me>oe&&(q=0===oe?"none":"no more than "+oe),q)throw new Error(se+" failed: Was called with "+Me+(1===Me?" argument.":" arguments.")+" Expects "+q+".")};function bi(se,ee){return`${se} failed: ${ee} argument `}function Un(se,ee,oe,Me){if((!Me||oe)&&"function"!=typeof oe)throw new Error(bi(se,ee)+"must be a valid function.")}function Ns(se,ee,oe,Me){if((!Me||oe)&&("object"!=typeof oe||null===oe))throw new Error(bi(se,ee)+"must be a valid context object.")}const en=function(se){const ee=[];let oe=0;for(let Me=0;Me<se.length;Me++){let q=se.charCodeAt(Me);if(q>=55296&&q<=56319){const K=q-55296;Me++,B(Me<se.length,"Surrogate pair missing trail surrogate."),q=65536+(K<<10)+(se.charCodeAt(Me)-56320)}q<128?ee[oe++]=q:q<2048?(ee[oe++]=q>>6|192,ee[oe++]=63&q|128):q<65536?(ee[oe++]=q>>12|224,ee[oe++]=q>>6&63|128,ee[oe++]=63&q|128):(ee[oe++]=q>>18|240,ee[oe++]=q>>12&63|128,ee[oe++]=q>>6&63|128,ee[oe++]=63&q|128)}return ee},Dt=function(se){let ee=0;for(let oe=0;oe<se.length;oe++){const Me=se.charCodeAt(oe);Me<128?ee++:Me<2048?ee+=2:Me>=55296&&Me<=56319?(ee+=4,oe++):ee+=3}return ee};function ns(se,ee=1e3,oe=2){const Me=ee*Math.pow(oe,se),q=Math.round(.5*Me*(Math.random()-.5)*2);return Math.min(144e5,Me+q)}function Nt(se){return se&&se._delegate?se._delegate:se}function ci(se,ee){return new Promise((oe,Me)=>{se.onsuccess=q=>{oe(q.target.result)},se.onerror=q=>{var K;Me(`${ee}: ${null===(K=q.target.error)||void 0===K?void 0:K.message}`)}})}class on{constructor(ee){this._db=ee,this.objectStoreNames=this._db.objectStoreNames}transaction(ee,oe="readonly"){return new lt(this._db.transaction.call(this._db,ee,oe))}createObjectStore(ee,oe){return new Be(this._db.createObjectStore(ee,oe))}close(){this._db.close()}}class lt{constructor(ee){this._transaction=ee,this.complete=new Promise((oe,Me)=>{this._transaction.oncomplete=function(){oe()},this._transaction.onerror=()=>{Me(this._transaction.error)},this._transaction.onabort=()=>{Me(this._transaction.error)}})}objectStore(ee){return new Be(this._transaction.objectStore(ee))}}class Be{constructor(ee){this._store=ee}index(ee){return new Xe(this._store.index(ee))}createIndex(ee,oe,Me){return new Xe(this._store.createIndex(ee,oe,Me))}get(ee){return ci(this._store.get(ee),"Error reading from IndexedDB")}put(ee,oe){return ci(this._store.put(ee,oe),"Error writing to IndexedDB")}delete(ee){return ci(this._store.delete(ee),"Error deleting from IndexedDB")}clear(){return ci(this._store.clear(),"Error clearing IndexedDB object store")}}class Xe{constructor(ee){this._index=ee}get(ee){return ci(this._index.get(ee),"Error reading from IndexedDB")}}function Ot(se,ee,oe){return new Promise((Me,q)=>{try{const K=indexedDB.open(se,ee);K.onsuccess=te=>{Me(new on(te.target.result))},K.onerror=te=>{var Ee;q(`Error opening indexedDB: ${null===(Ee=te.target.error)||void 0===Ee?void 0:Ee.message}`)},K.onupgradeneeded=te=>{oe(new on(K.result),te.oldVersion,te.newVersion,new lt(K.transaction))}}catch(K){q(`Error opening indexedDB: ${K.message}`)}})}function Jt(se){return tn.apply(this,arguments)}function tn(){return(tn=(0,o.Z)(function*(se){return new Promise((ee,oe)=>{try{const Me=indexedDB.deleteDatabase(se);Me.onsuccess=()=>{ee()},Me.onerror=q=>{var K;oe(`Error deleting indexedDB database "${se}": ${null===(K=q.target.error)||void 0===K?void 0:K.message}`)}}catch(Me){oe(`Error deleting indexedDB database "${se}": ${Me.message}`)}})})).apply(this,arguments)}},2603:(Rt,He,z)=>{var o=z(5e3);let J=null;function B(){return J}const fe=new o.OlP("DocumentToken");let Te=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:function(){return function xe(){return(0,o.LFG)(ne)}()},providedIn:"platform"}),n})();const re=new o.OlP("Location Initialized");let ne=(()=>{class n extends Te{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return B().getBaseHref(this._doc)}onPopState(t){const i=B().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){const i=B().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,i,r){_e()?this._history.pushState(t,i,r):this.location.hash=r}replaceState(t,i,r){_e()?this._history.replaceState(t,i,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(fe))},n.\u0275prov=o.Yz7({token:n,factory:function(){return function ot(){return new ne((0,o.LFG)(fe))}()},providedIn:"platform"}),n})();function _e(){return!!window.history.pushState}function Ge(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Qe(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function et(n){return n&&"?"!==n[0]?"?"+n:n}let Oe=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:function(){return function Ue(n){const e=(0,o.LFG)(fe).location;return new Je((0,o.LFG)(Te),e&&e.origin||"")}()},providedIn:"root"}),n})();const yt=new o.OlP("appBaseHref");let Je=(()=>{class n extends Oe{constructor(t,i){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==i&&(i=this._platformLocation.getBaseHrefFromDOM()),null==i)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=i}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Ge(this._baseHref,t)}path(t=!1){const i=this._platformLocation.pathname+et(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,s){const c=this.prepareExternalUrl(r+et(s));this._platformLocation.pushState(t,i,c)}replaceState(t,i,r,s){const c=this.prepareExternalUrl(r+et(s));this._platformLocation.replaceState(t,i,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var i,r;null===(r=(i=this._platformLocation).historyGo)||void 0===r||r.call(i,t)}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(Te),o.LFG(yt,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),je=(()=>{class n extends Oe{constructor(t,i){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(t){const i=Ge(this._baseHref,t);return i.length>0?"#"+i:i}pushState(t,i,r,s){let c=this.prepareExternalUrl(r+et(s));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.pushState(t,i,c)}replaceState(t,i,r,s){let c=this.prepareExternalUrl(r+et(s));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.replaceState(t,i,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var i,r;null===(r=(i=this._platformLocation).historyGo)||void 0===r||r.call(i,t)}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(Te),o.LFG(yt,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),ce=(()=>{class n{constructor(t,i){this._subject=new o.vpe,this._urlChangeListeners=[],this._platformStrategy=t;const r=this._platformStrategy.getBaseHref();this._platformLocation=i,this._baseHref=Qe(me(r)),this._platformStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+et(i))}normalize(t){return n.stripTrailingSlash(function rt(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,me(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._platformStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+et(i)),r)}replaceState(t,i="",r=null){this._platformStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+et(i)),r)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var i,r;null===(r=(i=this._platformStrategy).historyGo)||void 0===r||r.call(i,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}))}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i,complete:r})}}return n.normalizeQueryParams=et,n.joinWithSlash=Ge,n.stripTrailingSlash=Qe,n.\u0275fac=function(t){return new(t||n)(o.LFG(Oe),o.LFG(Te))},n.\u0275prov=o.Yz7({token:n,factory:function(){return function Ne(){return new ce((0,o.LFG)(Oe),(0,o.LFG)(Te))}()},providedIn:"root"}),n})();function me(n){return n.replace(/\/index.html$/,"")}var De=(()=>((De=De||{})[De.Format=0]="Format",De[De.Standalone=1]="Standalone",De))(),Ae=(()=>((Ae=Ae||{})[Ae.Narrow=0]="Narrow",Ae[Ae.Abbreviated=1]="Abbreviated",Ae[Ae.Wide=2]="Wide",Ae[Ae.Short=3]="Short",Ae))(),Ye=(()=>((Ye=Ye||{})[Ye.Short=0]="Short",Ye[Ye.Medium=1]="Medium",Ye[Ye.Long=2]="Long",Ye[Ye.Full=3]="Full",Ye))(),we=(()=>((we=we||{})[we.Decimal=0]="Decimal",we[we.Group=1]="Group",we[we.List=2]="List",we[we.PercentSign=3]="PercentSign",we[we.PlusSign=4]="PlusSign",we[we.MinusSign=5]="MinusSign",we[we.Exponential=6]="Exponential",we[we.SuperscriptingExponent=7]="SuperscriptingExponent",we[we.PerMille=8]="PerMille",we[we.Infinity=9]="Infinity",we[we.NaN=10]="NaN",we[we.TimeSeparator=11]="TimeSeparator",we[we.CurrencyDecimal=12]="CurrencyDecimal",we[we.CurrencyGroup=13]="CurrencyGroup",we))();function In(n,e){return vi((0,o.cg1)(n)[o.wAp.DateFormat],e)}function _n(n,e){return vi((0,o.cg1)(n)[o.wAp.TimeFormat],e)}function Tn(n,e){return vi((0,o.cg1)(n)[o.wAp.DateTimeFormat],e)}function ti(n,e){const t=(0,o.cg1)(n),i=t[o.wAp.NumberSymbols][e];if(void 0===i){if(e===we.CurrencyDecimal)return t[o.wAp.NumberSymbols][we.Decimal];if(e===we.CurrencyGroup)return t[o.wAp.NumberSymbols][we.Group]}return i}function ni(n){if(!n[o.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[o.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function vi(n,e){for(let t=e;t>-1;t--)if(void 0!==n[t])return n[t];throw new Error("Locale data API: locale data undefined")}function xn(n){const[e,t]=n.split(":");return{hours:+e,minutes:+t}}const qn=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Un={},Ns=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var en=(()=>((en=en||{})[en.Short=0]="Short",en[en.ShortGMT=1]="ShortGMT",en[en.Long=2]="Long",en[en.Extended=3]="Extended",en))(),Dt=(()=>((Dt=Dt||{})[Dt.FullYear=0]="FullYear",Dt[Dt.Month=1]="Month",Dt[Dt.Date=2]="Date",Dt[Dt.Hours=3]="Hours",Dt[Dt.Minutes=4]="Minutes",Dt[Dt.Seconds=5]="Seconds",Dt[Dt.FractionalSeconds=6]="FractionalSeconds",Dt[Dt.Day=7]="Day",Dt))(),vt=(()=>((vt=vt||{})[vt.DayPeriods=0]="DayPeriods",vt[vt.Days=1]="Days",vt[vt.Months=2]="Months",vt[vt.Eras=3]="Eras",vt))();function tr(n,e,t,i){let r=function Ee(n){if(ct(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[r,s=1,c=1]=n.split("-").map(h=>+h);return ts(r,s-1,c)}const t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let i;if(i=n.match(qn))return function tt(n){const e=new Date(0);let t=0,i=0;const r=n[8]?e.setUTCFullYear:e.setFullYear,s=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),i=Number(n[9]+n[11])),r.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));const c=Number(n[4]||0)-t,h=Number(n[5]||0)-i,p=Number(n[6]||0),_=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return s.call(e,c,h,p,_),e}(i)}const e=new Date(n);if(!ct(e))throw new Error(`Unable to convert "${n}" into a date`);return e}(n);e=sn(t,e)||e;let h,c=[];for(;e;){if(h=Ns.exec(e),!h){c.push(e);break}{c=c.concat(h.slice(1));const E=c.pop();if(!E)break;e=E}}let p=r.getTimezoneOffset();i&&(p=q(i,p),r=function te(n,e,t){const i=t?-1:1,r=n.getTimezoneOffset();return function K(n,e){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+e),n}(n,i*(q(e,r)-r))}(r,i,!0));let _="";return c.forEach(E=>{const S=function Me(n){if(oe[n])return oe[n];let e;switch(n){case"G":case"GG":case"GGG":e=on(vt.Eras,Ae.Abbreviated);break;case"GGGG":e=on(vt.Eras,Ae.Wide);break;case"GGGGG":e=on(vt.Eras,Ae.Narrow);break;case"y":e=Nt(Dt.FullYear,1,0,!1,!0);break;case"yy":e=Nt(Dt.FullYear,2,0,!0,!0);break;case"yyy":e=Nt(Dt.FullYear,3,0,!1,!0);break;case"yyyy":e=Nt(Dt.FullYear,4,0,!1,!0);break;case"Y":e=ee(1);break;case"YY":e=ee(2,!0);break;case"YYY":e=ee(3);break;case"YYYY":e=ee(4);break;case"M":case"L":e=Nt(Dt.Month,1,1);break;case"MM":case"LL":e=Nt(Dt.Month,2,1);break;case"MMM":e=on(vt.Months,Ae.Abbreviated);break;case"MMMM":e=on(vt.Months,Ae.Wide);break;case"MMMMM":e=on(vt.Months,Ae.Narrow);break;case"LLL":e=on(vt.Months,Ae.Abbreviated,De.Standalone);break;case"LLLL":e=on(vt.Months,Ae.Wide,De.Standalone);break;case"LLLLL":e=on(vt.Months,Ae.Narrow,De.Standalone);break;case"w":e=se(1);break;case"ww":e=se(2);break;case"W":e=se(1,!0);break;case"d":e=Nt(Dt.Date,1);break;case"dd":e=Nt(Dt.Date,2);break;case"c":case"cc":e=Nt(Dt.Day,1);break;case"ccc":e=on(vt.Days,Ae.Abbreviated,De.Standalone);break;case"cccc":e=on(vt.Days,Ae.Wide,De.Standalone);break;case"ccccc":e=on(vt.Days,Ae.Narrow,De.Standalone);break;case"cccccc":e=on(vt.Days,Ae.Short,De.Standalone);break;case"E":case"EE":case"EEE":e=on(vt.Days,Ae.Abbreviated);break;case"EEEE":e=on(vt.Days,Ae.Wide);break;case"EEEEE":e=on(vt.Days,Ae.Narrow);break;case"EEEEEE":e=on(vt.Days,Ae.Short);break;case"a":case"aa":case"aaa":e=on(vt.DayPeriods,Ae.Abbreviated);break;case"aaaa":e=on(vt.DayPeriods,Ae.Wide);break;case"aaaaa":e=on(vt.DayPeriods,Ae.Narrow);break;case"b":case"bb":case"bbb":e=on(vt.DayPeriods,Ae.Abbreviated,De.Standalone,!0);break;case"bbbb":e=on(vt.DayPeriods,Ae.Wide,De.Standalone,!0);break;case"bbbbb":e=on(vt.DayPeriods,Ae.Narrow,De.Standalone,!0);break;case"B":case"BB":case"BBB":e=on(vt.DayPeriods,Ae.Abbreviated,De.Format,!0);break;case"BBBB":e=on(vt.DayPeriods,Ae.Wide,De.Format,!0);break;case"BBBBB":e=on(vt.DayPeriods,Ae.Narrow,De.Format,!0);break;case"h":e=Nt(Dt.Hours,1,-12);break;case"hh":e=Nt(Dt.Hours,2,-12);break;case"H":e=Nt(Dt.Hours,1);break;case"HH":e=Nt(Dt.Hours,2);break;case"m":e=Nt(Dt.Minutes,1);break;case"mm":e=Nt(Dt.Minutes,2);break;case"s":e=Nt(Dt.Seconds,1);break;case"ss":e=Nt(Dt.Seconds,2);break;case"S":e=Nt(Dt.FractionalSeconds,1);break;case"SS":e=Nt(Dt.FractionalSeconds,2);break;case"SSS":e=Nt(Dt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=Be(en.Short);break;case"ZZZZZ":e=Be(en.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Be(en.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=Be(en.Long);break;default:return null}return oe[n]=e,e}(E);_+=S?S(r,t,p):"''"===E?"'":E.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),_}function ts(n,e,t){const i=new Date(0);return i.setFullYear(n,e,t),i.setHours(0,0,0),i}function sn(n,e){const t=function En(n){return(0,o.cg1)(n)[o.wAp.LocaleId]}(n);if(Un[t]=Un[t]||{},Un[t][e])return Un[t][e];let i="";switch(e){case"shortDate":i=In(n,Ye.Short);break;case"mediumDate":i=In(n,Ye.Medium);break;case"longDate":i=In(n,Ye.Long);break;case"fullDate":i=In(n,Ye.Full);break;case"shortTime":i=_n(n,Ye.Short);break;case"mediumTime":i=_n(n,Ye.Medium);break;case"longTime":i=_n(n,Ye.Long);break;case"fullTime":i=_n(n,Ye.Full);break;case"short":const r=sn(n,"shortTime"),s=sn(n,"shortDate");i=ns(Tn(n,Ye.Short),[r,s]);break;case"medium":const c=sn(n,"mediumTime"),h=sn(n,"mediumDate");i=ns(Tn(n,Ye.Medium),[c,h]);break;case"long":const p=sn(n,"longTime"),_=sn(n,"longDate");i=ns(Tn(n,Ye.Long),[p,_]);break;case"full":const E=sn(n,"fullTime"),S=sn(n,"fullDate");i=ns(Tn(n,Ye.Full),[E,S])}return i&&(Un[t][e]=i),i}function ns(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,i){return null!=e&&i in e?e[i]:t})),n}function wi(n,e,t="-",i,r){let s="";(n<0||r&&n<=0)&&(r?n=1-n:(n=-n,s=t));let c=String(n);for(;c.length<e;)c="0"+c;return i&&(c=c.substr(c.length-e)),s+c}function Nt(n,e,t=0,i=!1,r=!1){return function(s,c){let h=function ci(n,e){switch(n){case Dt.FullYear:return e.getFullYear();case Dt.Month:return e.getMonth();case Dt.Date:return e.getDate();case Dt.Hours:return e.getHours();case Dt.Minutes:return e.getMinutes();case Dt.Seconds:return e.getSeconds();case Dt.FractionalSeconds:return e.getMilliseconds();case Dt.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,s);if((t>0||h>-t)&&(h+=t),n===Dt.Hours)0===h&&-12===t&&(h=12);else if(n===Dt.FractionalSeconds)return function Sn(n,e){return wi(n,3).substr(0,e)}(h,e);const p=ti(c,we.MinusSign);return wi(h,e,p,i,r)}}function on(n,e,t=De.Format,i=!1){return function(r,s){return function lt(n,e,t,i,r,s){switch(t){case vt.Months:return function St(n,e,t){const i=(0,o.cg1)(n),s=vi([i[o.wAp.MonthsFormat],i[o.wAp.MonthsStandalone]],e);return vi(s,t)}(e,r,i)[n.getMonth()];case vt.Days:return function It(n,e,t){const i=(0,o.cg1)(n),s=vi([i[o.wAp.DaysFormat],i[o.wAp.DaysStandalone]],e);return vi(s,t)}(e,r,i)[n.getDay()];case vt.DayPeriods:const c=n.getHours(),h=n.getMinutes();if(s){const _=function xr(n){const e=(0,o.cg1)(n);return ni(e),(e[o.wAp.ExtraData][2]||[]).map(i=>"string"==typeof i?xn(i):[xn(i[0]),xn(i[1])])}(e),E=function xt(n,e,t){const i=(0,o.cg1)(n);ni(i);const s=vi([i[o.wAp.ExtraData][0],i[o.wAp.ExtraData][1]],e)||[];return vi(s,t)||[]}(e,r,i),S=_.findIndex(P=>{if(Array.isArray(P)){const[H,$]=P,ae=c>=H.hours&&h>=H.minutes,Ce=c<$.hours||c===$.hours&&h<$.minutes;if(H.hours<$.hours){if(ae&&Ce)return!0}else if(ae||Ce)return!0}else if(P.hours===c&&P.minutes===h)return!0;return!1});if(-1!==S)return E[S]}return function gi(n,e,t){const i=(0,o.cg1)(n),s=vi([i[o.wAp.DayPeriodsFormat],i[o.wAp.DayPeriodsStandalone]],e);return vi(s,t)}(e,r,i)[c<12?0:1];case vt.Eras:return function Vn(n,e){return vi((0,o.cg1)(n)[o.wAp.Eras],e)}(e,i)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${t}`)}}(r,s,n,e,t,i)}}function Be(n){return function(e,t,i){const r=-1*i,s=ti(t,we.MinusSign),c=r>0?Math.floor(r/60):Math.ceil(r/60);switch(n){case en.Short:return(r>=0?"+":"")+wi(c,2,s)+wi(Math.abs(r%60),2,s);case en.ShortGMT:return"GMT"+(r>=0?"+":"")+wi(c,1,s);case en.Long:return"GMT"+(r>=0?"+":"")+wi(c,2,s)+":"+wi(Math.abs(r%60),2,s);case en.Extended:return 0===i?"Z":(r>=0?"+":"")+wi(c,2,s)+":"+wi(Math.abs(r%60),2,s);default:throw new Error(`Unknown zone width "${n}"`)}}}function tn(n){return ts(n.getFullYear(),n.getMonth(),n.getDate()+(4-n.getDay()))}function se(n,e=!1){return function(t,i){let r;if(e){const s=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,c=t.getDate();r=1+Math.floor((c+s)/7)}else{const s=tn(t),c=function Jt(n){const e=ts(n,0,1).getDay();return ts(n,0,1+(e<=4?4:11)-e)}(s.getFullYear()),h=s.getTime()-c.getTime();r=1+Math.round(h/6048e5)}return wi(r,n,ti(i,we.MinusSign))}}function ee(n,e=!1){return function(t,i){return wi(tn(t).getFullYear(),n,ti(i,we.MinusSign),e)}}const oe={};function q(n,e){n=n.replace(/:/g,"");const t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function ct(n){return n instanceof Date&&!isNaN(n.valueOf())}function Wi(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const i=t.indexOf("="),[r,s]=-1==i?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(s)}return null}let Mi=(()=>{class n{constructor(t,i,r,s){this._iterableDiffers=t,this._keyValueDiffers=i,this._ngEl=r,this._renderer=s,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&((0,o.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(i=>this._toggleClass(i.key,i.currentValue)),t.forEachChangedItem(i=>this._toggleClass(i.key,i.currentValue)),t.forEachRemovedItem(i=>{i.previousValue&&this._toggleClass(i.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(i=>{if("string"!=typeof i.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,o.AaK)(i.item)}`);this._toggleClass(i.item,!0)}),t.forEachRemovedItem(i=>this._toggleClass(i.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(i=>this._toggleClass(i,!0)):Object.keys(t).forEach(i=>this._toggleClass(i,!!t[i])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(i=>this._toggleClass(i,!1)):Object.keys(t).forEach(i=>this._toggleClass(i,!1)))}_toggleClass(t,i){(t=t.trim())&&t.split(/\s+/g).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.ZZ4),o.Y36(o.aQg),o.Y36(o.SBq),o.Y36(o.Qsj))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class gs{constructor(e,t,i,r){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let xi=(()=>{class n{constructor(t,i,r){this._viewContainer=t,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const i=this._viewContainer;t.forEachOperation((r,s,c)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new gs(r.item,this._ngForOf,-1,-1),null===c?void 0:c);else if(null==c)i.remove(null===s?void 0:s);else if(null!==s){const h=i.get(s);i.move(h,c),eo(h,r)}});for(let r=0,s=i.length;r<s;r++){const h=i.get(r).context;h.index=r,h.count=s,h.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{eo(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.s_b),o.Y36(o.Rgc),o.Y36(o.ZZ4))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function eo(n,e){n.context.$implicit=e.item}let Gn=(()=>{class n{constructor(t,i){this._viewContainer=t,this._context=new Zn,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Yn("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Yn("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.s_b),o.Y36(o.Rgc))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class Zn{constructor(){this.$implicit=null,this.ngIf=null}}function Yn(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,o.AaK)(e)}'.`)}class bl{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let Gi=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const i=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let i=0;i<this._defaultViews.length;i++)this._defaultViews[i].enforceState(t)}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=o.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),n})(),gr=(()=>{class n{constructor(t,i,r){this.ngSwitch=r,r._addCase(),this._view=new bl(t,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.s_b),o.Y36(o.Rgc),o.Y36(Gi,9))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),n})(),Cl=(()=>{class n{constructor(t,i,r){this._ngEl=t,this._differs=i,this._renderer=r,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,i){const[r,s]=t.split(".");null!=(i=null!=i&&s?`${i}${s}`:i)?this._renderer.setStyle(this._ngEl.nativeElement,r,i):this._renderer.removeStyle(this._ngEl.nativeElement,r)}_applyChanges(t){t.forEachRemovedItem(i=>this._setStyle(i.key,null)),t.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),t.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.SBq),o.Y36(o.aQg),o.Y36(o.Qsj))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),n})(),_o=(()=>{class n{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(t){if(t.ngTemplateOutlet){const i=this._viewContainerRef;this._viewRef&&i.remove(i.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?i.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&t.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.s_b))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[o.TTD]}),n})();function Br(n,e){return new o.vHH(2100,"")}class Dh{createSubscription(e,t){return e.subscribe({next:t,error:i=>{throw i}})}dispose(e){e.unsubscribe()}onDestroy(e){e.unsubscribe()}}class is{createSubscription(e,t){return e.then(t,i=>{throw i})}dispose(e){}onDestroy(e){}}const Ih=new is,hu=new Dh;let fu=(()=>{class n{constructor(t){this._ref=t,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,i=>this._updateLatestValue(t,i))}_selectStrategy(t){if((0,o.QGY)(t))return Ih;if((0,o.F4k)(t))return hu;throw Br()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,i){t===this._obj&&(this._latestValue=i,this._ref.markForCheck())}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.sBO,16))},n.\u0275pipe=o.Yjl({name:"async",type:n,pure:!1}),n})();const El=new o.OlP("DATE_PIPE_DEFAULT_TIMEZONE");let Ta=(()=>{class n{constructor(t,i){this.locale=t,this.defaultTimezone=i}transform(t,i="mediumDate",r,s){var c;if(null==t||""===t||t!=t)return null;try{return tr(t,i,s||this.locale,null!==(c=null!=r?r:this.defaultTimezone)&&void 0!==c?c:void 0)}catch(h){throw Br()}}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.soG,16),o.Y36(El,24))},n.\u0275pipe=o.Yjl({name:"date",type:n,pure:!0}),n})(),Wo=(()=>{class n{transform(t,i,r){if(null==t)return null;if(!this.supports(t))throw Br();return t.slice(i,r)}supports(t){return"string"==typeof t||Array.isArray(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=o.Yjl({name:"slice",type:n,pure:!1}),n})(),no=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();const _r="browser";function ri(n){return n===_r}function vo(n){return"server"===n}let mu=(()=>{class n{}return n.\u0275prov=(0,o.Yz7)({token:n,providedIn:"root",factory:()=>new Sl((0,o.LFG)(fe),window)}),n})();class Sl{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function wo(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const s=r.shadowRoot;if(s){const c=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(c)return c}r=i.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),i=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(i-s[0],r-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=bo(this.window.history)||bo(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function bo(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class ei{}class Yo extends class Zo extends class Le{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function ge(n){J||(J=n)}(new Yo)}onAndCancel(e,t,i){return e.addEventListener(t,i,!1),()=>{e.removeEventListener(t,i,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function dc(){return Kn=Kn||document.querySelector("base"),Kn?Kn.getAttribute("href"):null}();return null==t?null:function Co(n){Sa=Sa||document.createElement("a"),Sa.setAttribute("href",n);const e=Sa.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Kn=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Wi(document.cookie,e)}}let Sa,Kn=null;const ir=new o.OlP("TRANSITION_ID"),Al=[{provide:o.ip1,useFactory:function ki(n,e,t){return()=>{t.get(o.CZH).donePromise.then(()=>{const i=B(),r=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<r.length;s++)i.remove(r[s])})}},deps:[ir,fe,o.zs3],multi:!0}];class ss{static init(){(0,o.VLi)(new ss)}addToWindow(e){o.dqk.getAngularTestability=(i,r=!0)=>{const s=e.findTestabilityInTree(i,r);if(null==s)throw new Error("Could not find testability for element.");return s},o.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),o.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),o.dqk.frameworkStabilizers||(o.dqk.frameworkStabilizers=[]),o.dqk.frameworkStabilizers.push(i=>{const r=o.dqk.getAllAngularTestabilities();let s=r.length,c=!1;const h=function(p){c=c||p,s--,0==s&&i(c)};r.forEach(function(p){p.whenStable(h)})})}findTestabilityInTree(e,t,i){if(null==t)return null;const r=e.getTestability(t);return null!=r?r:i?B().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let Rr=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const io=new o.OlP("EventManagerPlugins");let Ko=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(r=>r.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}addGlobalEventListener(t,i,r){return this._findPluginFor(i).addGlobalEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){const i=this._eventNameToPlugin.get(t);if(i)return i;const r=this._plugins;for(let s=0;s<r.length;s++){const c=r[s];if(c.supports(t))return this._eventNameToPlugin.set(t,c),c}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(io),o.LFG(o.R0b))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();class Aa{constructor(e){this._doc=e}addGlobalEventListener(e,t,i){const r=B().getGlobalEventTarget(this._doc,e);if(!r)throw new Error(`Unsupported event target ${r} for event ${t}`);return this.addEventListener(r,t,i)}}let _s=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const i=new Set;t.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),Ls=(()=>{class n extends _s{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,i,r){t.forEach(s=>{const c=this._doc.createElement("style");c.textContent=s,r.push(i.appendChild(c))})}addHost(t){const i=[];this._addStylesToHost(this._stylesSet,t,i),this._hostNodes.set(t,i)}removeHost(t){const i=this._hostNodes.get(t);i&&i.forEach(ro),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(t,r,i)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(ro))}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(fe))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();function ro(n){B().remove(n)}const Ft={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Wa=/%COMP%/g;function ze(n,e,t){for(let i=0;i<e.length;i++){let r=e[i];Array.isArray(r)?ze(n,r,t):(r=r.replace(Wa,n),t.push(r))}return t}function an(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let ln=(()=>{class n{constructor(t,i,r){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new Vs(t)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;switch(i.encapsulation){case o.ifc.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new Qo(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(t),r}case 1:case o.ifc.ShadowDom:return new so(this.eventManager,this.sharedStylesHost,t,i);default:if(!this.rendererByCompId.has(i.id)){const r=ze(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(Ko),o.LFG(Ls),o.LFG(o.AFp))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();class Vs{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(Ft[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,i){e&&e.insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i="string"==typeof e?document.querySelector(e):e;if(!i)throw new Error(`The selector "${e}" did not match any elements`);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;const s=Ft[r];s?e.setAttributeNS(s,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){const r=Ft[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(o.JOm.DashCase|o.JOm.Important)?e.style.setProperty(t,i,r&o.JOm.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&o.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e[t]=i}setValue(e,t){e.nodeValue=t}listen(e,t,i){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,an(i)):this.eventManager.addEventListener(e,t,an(i))}}class Qo extends Vs{constructor(e,t,i,r){super(e),this.component=i;const s=ze(r+"-"+i.id,i.styles,[]);t.addStyles(s),this.contentAttr=function ld(n){return"_ngcontent-%COMP%".replace(Wa,n)}(r+"-"+i.id),this.hostAttr=function bs(n){return"_nghost-%COMP%".replace(Wa,n)}(r+"-"+i.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}}class so extends Vs{constructor(e,t,i,r){super(e),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=ze(r.id,r.styles,[]);for(let c=0;c<s.length;c++){const h=document.createElement("style");h.textContent=s[c],this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let cd=(()=>{class n extends Aa{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(fe))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const hc=["alt","control","meta","shift"],Eo={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ri={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Us={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let xa=(()=>{class n extends Aa{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,i,r){const s=n.parseEventName(i),c=n.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>B().onAndCancel(t,s.domEventName,c))}static parseEventName(t){const i=t.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const s=n._normalizeKey(i.pop());let c="";if(hc.forEach(p=>{const _=i.indexOf(p);_>-1&&(i.splice(_,1),c+=p+".")}),c+=s,0!=i.length||0===s.length)return null;const h={};return h.domEventName=r,h.fullKey=c,h}static getEventFullKey(t){let i="",r=function rr(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&Ri.hasOwnProperty(e)&&(e=Ri[e]))}return Eo[e]||e}(t);return r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),hc.forEach(s=>{s!=r&&Us[s](t)&&(i+=s+".")}),i+=r,i}static eventCallback(t,i,r){return s=>{n.getEventFullKey(s)===t&&r.runGuarded(()=>i(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(fe))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const yr=(0,o.eFA)(o._c5,"browser",[{provide:o.Lbi,useValue:_r},{provide:o.g9A,useValue:function jr(){Yo.makeCurrent(),ss.init()},multi:!0},{provide:fe,useFactory:function ka(){return(0,o.RDi)(document),document},deps:[]}]),Ml=[{provide:o.zSh,useValue:"root"},{provide:o.qLn,useFactory:function Fn(){return new o.qLn},deps:[]},{provide:io,useClass:cd,multi:!0,deps:[fe,o.R0b,o.Lbi]},{provide:io,useClass:xa,multi:!0,deps:[fe]},{provide:ln,useClass:ln,deps:[Ko,Ls,o.AFp]},{provide:o.FYo,useExisting:ln},{provide:_s,useExisting:Ls},{provide:Ls,useClass:Ls,deps:[fe]},{provide:o.dDg,useClass:o.dDg,deps:[o.R0b]},{provide:Ko,useClass:Ko,deps:[io,o.R0b]},{provide:ei,useClass:Rr,deps:[]}];let oo=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:o.AFp,useValue:t.appId},{provide:ir,useExisting:o.AFp},Al]}}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(n,12))},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:Ml,imports:[no,o.hGG]}),n})();"undefined"!=typeof window&&window;var Pe=z(5861),vr=z(573),j=z(2090),Yi=z(9681),Nr=z(1877),Ni=z(4859);const fi=(0,z(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Qn=z(4482),pi=z(5403);function kn(n,e){return(0,Qn.e)((t,i)=>{let r=0;t.subscribe((0,pi.x)(i,s=>n.call(e,s,r++)&&i.next(s)))})}var si=z(5698);function So(n){return(0,Qn.e)((e,t)=>{let i=!1;e.subscribe((0,pi.x)(t,r=>{i=!0,t.next(r)},()=>{i||t.next(n),t.complete()}))})}function Ii(n=ta){return(0,Qn.e)((e,t)=>{let i=!1;e.subscribe((0,pi.x)(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(n())))})}function ta(){return new fi}var C=z(4671);function R(n,e){const t=arguments.length>=2;return i=>i.pipe(n?kn((r,s)=>n(r,s,i)):C.y,(0,si.q)(1),t?So(e):Ii(()=>new fi))}var D=z(7579),b=z(3269),x=z(8996);function N(...n){const e=(0,b.yG)(n);return(0,x.D)(n,e)}var G=z(8306),Q=z(6451),le=z(5363),ke=z(8421);function qe(n,e){return(0,Qn.e)((t,i)=>{let r=null,s=0,c=!1;const h=()=>c&&!r&&i.complete();t.subscribe((0,pi.x)(i,p=>{null==r||r.unsubscribe();let _=0;const E=s++;(0,ke.Xf)(n(p,E)).subscribe(r=(0,pi.x)(i,S=>i.next(e?e(p,S,E,_++):S),()=>{r=null,h()}))},()=>{c=!0,h()}))})}var ye=z(4004),at=z(6063);class Tt extends D.x{constructor(e=1/0,t=1/0,i=at.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:s,_windowTime:c}=this;t||(i.push(e),!r&&i.push(s.now()+c)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:i,_buffer:r}=this,s=r.slice();for(let c=0;c<s.length&&!e.closed;c+=i?1:2)e.next(s[c]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:i,_infiniteTimeWindow:r}=this,s=(r?1:2)*e;if(e<1/0&&s<i.length&&i.splice(0,i.length-s),!r){const c=t.now();let h=0;for(let p=1;p<i.length&&i[p]<=c;p+=2)h=p;h&&i.splice(0,h+1)}}}var vn=z(3099);function hn(n,e,t){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:e=1/0,refCount:r=!1,scheduler:t}=n):i=null!=n?n:1/0,(0,vn.B)({connector:()=>new Tt(i,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}var Bt=z(576);function jt(n,e){return(0,Bt.m)(e)?qe(()=>n,e):qe(()=>n)}var Pi=z(9468),fn=z(5813),Bn=z(2011);z(5867);const Cu=new Map,Ec={activated:!1,tokenObservers:[]},Rh={initialized:!1,enabled:!1};function Cn(n){return Cu.get(n)||Ec}function $r(n,e){Cu.set(n,e)}function Qa(){return Rh}class Ts{constructor(e,t,i,r,s){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=r,r>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,Pe.Z)(function*(){t.stop();try{t.pending=new j.BH,yield function Vl(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new j.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(i){t.retryPolicy(i)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const br=new j.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Ic(n){if(!Cn(n).activated)throw br.create("use-before-activation",{appName:n.name})}function ko(n,e){return Nh.apply(this,arguments)}function Nh(){return(Nh=(0,Pe.Z)(function*({url:n,body:e},t){const i={"Content-Type":"application/json"},r=t.getImmediate({optional:!0});if(r){const S=yield r.getHeartbeatsHeader();S&&(i["X-Firebase-Client"]=S)}const s={method:"POST",body:JSON.stringify(e),headers:i};let c,h;try{c=yield fetch(n,s)}catch(S){throw br.create("fetch-network-error",{originalErrorMessage:S.message})}if(200!==c.status)throw br.create("fetch-status-error",{httpStatus:c.status});try{h=yield c.json()}catch(S){throw br.create("fetch-parse-error",{originalErrorMessage:S.message})}const p=h.ttl.match(/^([\d.]+)(s)$/);if(!p||!p[2]||isNaN(Number(p[1])))throw br.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${h.ttl}`});const _=1e3*Number(p[1]),E=Date.now();return{token:h.attestationToken,expireTimeMillis:E+_,issuedAtTimeMillis:E}})).apply(this,arguments)}function hd(n,e){const{projectId:t,appId:i,apiKey:r}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${t}/apps/${i}:exchangeDebugToken?key=${r}`,body:{debug_token:e}}}const Ra="firebase-app-check-store";let Ul=null;function Bl(){return Ul||(Ul=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=i=>{n(i.target.result)},t.onerror=i=>{var r;e(br.create("storage-open",{originalErrorMessage:null===(r=i.target.error)||void 0===r?void 0:r.message}))},t.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(Ra,{keyPath:"compositeKey"})}}catch(t){e(br.create("storage-open",{originalErrorMessage:t.message}))}}),Ul)}function O(){return(O=(0,Pe.Z)(function*(n,e){const i=(yield Bl()).transaction(Ra,"readwrite"),s=i.objectStore(Ra).put({compositeKey:n,value:e});return new Promise((c,h)=>{s.onsuccess=p=>{c()},i.onerror=p=>{var _;h(br.create("storage-set",{originalErrorMessage:null===(_=p.target.error)||void 0===_?void 0:_.message}))}})})).apply(this,arguments)}const be=new Nr.Yd("@firebase/app-check");function At(n,e){return(0,j.hl)()?function Xa(n,e){return function k(n,e){return O.apply(this,arguments)}(function de(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{be.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function qt(){return Qa().enabled}function Qi(){return Fi.apply(this,arguments)}function Fi(){return(Fi=(0,Pe.Z)(function*(){const n=Qa();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Mc={error:"UNKNOWN_ERROR"};function Oa(n){return j.US.encodeString(JSON.stringify(n),!1)}function Wr(n){return Ro.apply(this,arguments)}function Ro(){return(Ro=(0,Pe.Z)(function*(n,e=!1){const t=n.app;Ic(t);const i=Cn(t);let s,r=i.token;if(!r){const p=yield i.cachedTokenPromise;p&&yd(p)&&(r=p)}if(!e&&r&&yd(r))return{token:r.token};let h,c=!1;if(qt()){i.exchangeTokenPromise||(i.exchangeTokenPromise=ko(hd(t,yield Qi()),n.heartbeatServiceProvider).then(_=>(i.exchangeTokenPromise=void 0,_)),c=!0);const p=yield i.exchangeTokenPromise;return yield At(t,p),$r(t,Object.assign(Object.assign({},i),{token:p})),{token:p.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().then(p=>(i.exchangeTokenPromise=void 0,p)),c=!0),r=yield i.exchangeTokenPromise}catch(p){"appCheck/throttled"===p.code?be.warn(p.message):be.error(p),s=p}return r?(h={token:r.token},$r(t,Object.assign(Object.assign({},i),{token:r})),yield At(t,r)):h=xv(s),c&&_d(t,h),h})).apply(this,arguments)}function bp(n,e){const t=Cn(n),i=t.tokenObservers.filter(r=>r.next!==e);0===i.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),$r(n,Object.assign(Object.assign({},t),{tokenObservers:i}))}function Fh(n){const{app:e}=n,t=Cn(e);let i=t.tokenRefresher;i||(i=function gd(n){const{app:e}=n;return new Ts((0,Pe.Z)(function*(){let i;if(i=Cn(e).token?yield Wr(n,!0):yield Wr(n),i.error)throw i.error}),()=>!0,()=>{const t=Cn(e);if(t.token){let i=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,t.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},3e4,96e4)}(n),$r(e,Object.assign(Object.assign({},t),{tokenRefresher:i}))),!i.isRunning()&&t.isTokenAutoRefreshEnabled&&i.start()}function _d(n,e){const t=Cn(n).tokenObservers;for(const i of t)try{"EXTERNAL"===i.type&&null!=e.error?i.error(e.error):i.next(e)}catch(r){}}function yd(n){return n.expireTimeMillis-Date.now()>0}function xv(n){return{token:Oa(Mc),error:n}}class wp{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Cn(this.app);for(const t of e)bp(this.app,t.next);return Promise.resolve()}}const Na="app-check-internal";!function kc(){(0,Yi._registerComponent)(new Ni.wA("app-check",n=>function Iu(n,e){return new wp(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(Na).initialize()})),(0,Yi._registerComponent)(new Ni.wA(Na,n=>function vd(n){return{getToken:e=>Wr(n,e),addTokenListener:e=>function ra(n,e,t,i){const{app:r}=n,s=Cn(r),c={next:t,error:i,type:e};if($r(r,Object.assign(Object.assign({},s),{tokenObservers:[...s.tokenObservers,c]})),s.token&&yd(s.token)){const h=s.token;Promise.resolve().then(()=>{t({token:h.token}),Fh(n)}).catch(()=>{})}s.cachedTokenPromise.then(()=>Fh(n))}(n,"INTERNAL",e),removeTokenListener:e=>bp(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Yi.registerVersion)("@firebase/app-check","0.5.6")}();class Id{constructor(){return(0,fn.vb)("app-check")}}"undefined"!=typeof window&&window;var Lt=z(127);const Di=new o.OlP("angularfire2.auth.use-emulator"),sa=new o.OlP("angularfire2.auth.settings"),el=new o.OlP("angularfire2.auth.tenant-id"),Hl=new o.OlP("angularfire2.auth.langugage-code"),Au=new o.OlP("angularfire2.auth.use-device-language"),Rc=new o.OlP("angularfire.auth.persistence"),Ip=(n,e,t,i,r,s,c,h)=>(0,Bn.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const p=e.runOutsideAngular(()=>n.auth());if(t&&p.useEmulator(...t),i&&(p.tenantId=i),p.languageCode=r,s&&p.useDeviceLanguage(),c)for(const[_,E]of Object.entries(c))p.settings[_]=E;return h&&p.setPersistence(h),p},[t,i,r,s,c,h]);let Sd=(()=>{class n{constructor(t,i,r,s,c,h,p,_,E,S,P,H){const $=new D.x,ae=N(void 0).pipe((0,le.Q)(c.outsideAngular),qe(()=>s.runOutsideAngular(()=>Promise.resolve().then(z.bind(z,5881)))),(0,ye.U)(()=>(0,Bn.on)(t,s,i)),(0,ye.U)(Ce=>Ip(Ce,s,h,_,E,S,p,P)),hn({bufferSize:1,refCount:!1}));if(vo(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=N(null);else{ae.pipe(R()).subscribe();const st=ae.pipe(qe(ht=>ht.getRedirectResult().then(Kt=>Kt,()=>null)),fn.iC,hn({bufferSize:1,refCount:!1})),mt=ae.pipe(qe(ht=>new G.y(Kt=>({unsubscribe:s.runOutsideAngular(()=>ht.onAuthStateChanged(rn=>Kt.next(rn),rn=>Kt.error(rn),()=>Kt.complete()))})))),_t=ae.pipe(qe(ht=>new G.y(Kt=>({unsubscribe:s.runOutsideAngular(()=>ht.onIdTokenChanged(rn=>Kt.next(rn),rn=>Kt.error(rn),()=>Kt.complete()))}))));this.authState=st.pipe(jt(mt),(0,Pi.R)(c.outsideAngular),(0,le.Q)(c.insideAngular)),this.user=st.pipe(jt(_t),(0,Pi.R)(c.outsideAngular),(0,le.Q)(c.insideAngular)),this.idToken=this.user.pipe(qe(ht=>ht?(0,x.D)(ht.getIdToken()):N(null))),this.idTokenResult=this.user.pipe(qe(ht=>ht?(0,x.D)(ht.getIdTokenResult()):N(null))),this.credential=(0,Q.T)(st,$,this.authState.pipe(kn(ht=>!ht))).pipe((0,ye.U)(ht=>(null==ht?void 0:ht.user)?ht:null),(0,Pi.R)(c.outsideAngular),(0,le.Q)(c.insideAngular))}return(0,Bn.pX)(this,ae,s,{spy:{apply:(Ce,st,mt)=>{(Ce.startsWith("signIn")||Ce.startsWith("createUser"))&&mt.then(_t=>$.next(_t))}}})}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(Bn.Dh),o.LFG(Bn.xv,8),o.LFG(o.Lbi),o.LFG(o.R0b),o.LFG(fn.HU),o.LFG(Di,8),o.LFG(sa,8),o.LFG(el,8),o.LFG(Hl,8),o.LFG(Au,8),o.LFG(Rc,8),o.LFG(Id,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Hh=(()=>{class n{constructor(){Lt.Z.registerVersion("angularfire",fn.q4.full,"auth-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[Sd]}),n})();class Zr extends D.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:i}=this;if(e)throw t;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}}const{isArray:Yg}=Array,{getPrototypeOf:Sp,prototype:Kg,keys:Qg}=Object;function Oc(n){if(1===n.length){const e=n[0];if(Yg(e))return{args:e,keys:null};if(function Jg(n){return n&&"object"==typeof n&&Sp(n)===Kg}(e)){const t=Qg(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}const{isArray:Lv}=Array;function Ji(n){return(0,ye.U)(e=>function DA(n,e){return Lv(e)?n(...e):n(e)}(n,e))}function KC(n,e){return n.reduce((t,i,r)=>(t[i]=e[r],t),{})}var IA=z(9672);function JC(n,e,t){n?(0,IA.f)(t,n,e):e()}function jh(n,e){const t=(0,Bt.m)(n)?n:()=>n,i=r=>r.error(t());return new G.y(e?r=>e.schedule(i,0,r):i)}var Xg=z(8189);function Ap(...n){return function SA(){return(0,Xg.J)(1)}()((0,x.D)(n,(0,b.yG)(n)))}function e_(n){return new G.y(e=>{(0,ke.Xf)(n()).subscribe(e)})}var Gh=z(515),jl=z(727);function Hs(){return(0,Qn.e)((n,e)=>{let t=null;n._refCount++;const i=(0,pi.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const r=n._connection,s=t;t=null,r&&(!s||r===s)&&r.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}class t_ extends G.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,Qn.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new jl.w0;const t=this.getSubject();e.add(this.source.subscribe((0,pi.x)(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=jl.w0.EMPTY)}return e}refCount(){return Hs()(this)}}function Nc(...n){const e=(0,b.yG)(n);return(0,Qn.e)((t,i)=>{(e?Ap(n,t,e):Ap(n,t)).subscribe(i)})}function XC(n,e,t,i,r){return(s,c)=>{let h=t,p=e,_=0;s.subscribe((0,pi.x)(c,E=>{const S=_++;p=h?n(p,E,S):(h=!0,E),i&&c.next(p)},r&&(()=>{h&&c.next(p),c.complete()})))}}function sr(n,e){return(0,Qn.e)(XC(n,e,arguments.length>=2,!0))}function oa(n){return(0,Qn.e)((e,t)=>{let s,i=null,r=!1;i=e.subscribe((0,pi.x)(t,void 0,void 0,c=>{s=(0,ke.Xf)(n(c,oa(n)(e))),i?(i.unsubscribe(),i=null,s.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,s.subscribe(t))})}var Pr=z(5577);function zh(n,e){return(0,Bt.m)(e)?(0,Pr.z)(n,e,1):(0,Pr.z)(n,1)}function Uv(n){return n<=0?()=>Gh.E:(0,Qn.e)((e,t)=>{let i=[];e.subscribe((0,pi.x)(t,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)t.next(r);t.complete()},void 0,()=>{i=null}))})}var or=z(8505);class Pc{constructor(e,t){this.id=e,this.url=t}}class n_ extends Pc{constructor(e,t,i="imperative",r=null){super(e,t),this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Mp extends Pc{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class tE extends Pc{constructor(e,t,i){super(e,t),this.reason=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Hv extends Pc{constructor(e,t,i){super(e,t),this.error=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class AA extends Pc{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class MA extends Pc{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class jv extends Pc{constructor(e,t,i,r,s){super(e,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class xA extends Pc{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class kA extends Pc{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class xp{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class nE{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class RA{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class OA{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class NA{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class PA{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Gv{constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Mn="primary";class FA{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function $h(n){return new FA(n)}const iE="ngNavigationCancelingError";function zv(n){const e=Error("NavigationCancelingError: "+n);return e[iE]=!0,e}function LA(n,e,t){const i=t.path.split("/");if(i.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||i.length<n.length))return null;const r={};for(let s=0;s<i.length;s++){const c=i[s],h=n[s];if(c.startsWith(":"))r[c.substring(1)]=h;else if(c!==h.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function uo(n,e){const t=n?Object.keys(n):void 0,i=e?Object.keys(e):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let s=0;s<t.length;s++)if(r=t[s],!tl(n[r],e[r]))return!1;return!0}function tl(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),i=[...e].sort();return t.every((r,s)=>i[s]===r)}return n===e}function UA(n){return Array.prototype.concat.apply([],n)}function BA(n){return n.length>0?n[n.length-1]:null}function js(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function Yr(n){return(0,o.CqO)(n)?n:(0,o.QGY)(n)?(0,x.D)(Promise.resolve(n)):N(n)}const qv={exact:function Zv(n,e,t){if(!Md(n.segments,e.segments)||!Rp(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const i in e.children)if(!n.children[i]||!Zv(n.children[i],e.children[i],t))return!1;return!0},subset:i_},sE={exact:function kp(n,e){return uo(n,e)},subset:function oE(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>tl(n[t],e[t]))},ignored:()=>!0};function Wv(n,e,t){return qv[t.paths](n.root,e.root,t.matrixParams)&&sE[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function i_(n,e,t){return r_(n,e,e.segments,t)}function r_(n,e,t,i){if(n.segments.length>t.length){const r=n.segments.slice(0,t.length);return!(!Md(r,t)||e.hasChildren()||!Rp(r,t,i))}if(n.segments.length===t.length){if(!Md(n.segments,t)||!Rp(n.segments,t,i))return!1;for(const r in e.children)if(!n.children[r]||!i_(n.children[r],e.children[r],i))return!1;return!0}{const r=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!!(Md(n.segments,r)&&Rp(n.segments,r,i)&&n.children[Mn])&&r_(n.children[Mn],e,s,i)}}function Rp(n,e,t){return e.every((i,r)=>sE[t](n[r].parameters,i.parameters))}class qh{constructor(e,t,i){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=$h(this.queryParams)),this._queryParamMap}toString(){return jA.serialize(this)}}class bn{constructor(e,t){this.segments=e,this.children=t,this.parent=null,js(t,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return s_(this)}}class Ad{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=$h(this.parameters)),this._parameterMap}toString(){return hE(this)}}function Md(n,e){return n.length===e.length&&n.every((t,i)=>t.path===e[i].path)}class lE{}class cE{parse(e){const t=new gE(e);return new qh(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Op(e.root,!0)}`,i=function pE(n){const e=Object.keys(n).map(t=>{const i=n[t];return Array.isArray(i)?i.map(r=>`${Np(t)}=${Np(r)}`).join("&"):`${Np(t)}=${Np(i)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${i}${"string"==typeof e.fragment?`#${function Kv(n){return encodeURI(n)}(e.fragment)}`:""}`}}const jA=new cE;function s_(n){return n.segments.map(e=>hE(e)).join("/")}function Op(n,e){if(!n.hasChildren())return s_(n);if(e){const t=n.children[Mn]?Op(n.children[Mn],!1):"",i=[];return js(n.children,(r,s)=>{s!==Mn&&i.push(`${s}:${Op(r,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}{const t=function Yv(n,e){let t=[];return js(n.children,(i,r)=>{r===Mn&&(t=t.concat(e(i,r)))}),js(n.children,(i,r)=>{r!==Mn&&(t=t.concat(e(i,r)))}),t}(n,(i,r)=>r===Mn?[Op(n.children[Mn],!1)]:[`${r}:${Op(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Mn]?`${s_(n)}/${t[0]}`:`${s_(n)}/(${t.join("//")})`}}function uE(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Np(n){return uE(n).replace(/%3B/gi,";")}function o_(n){return uE(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Wh(n){return decodeURIComponent(n)}function dE(n){return Wh(n.replace(/\+/g,"%20"))}function hE(n){return`${o_(n.path)}${function fE(n){return Object.keys(n).map(e=>`;${o_(e)}=${o_(n[e])}`).join("")}(n.parameters)}`}const xd=/^[^\/()?;=#]+/;function Pp(n){const e=n.match(xd);return e?e[0]:""}const mE=/^[^=?&#]+/,a_=/^[^&#]+/;class gE{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new bn([],{}):new bn([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[Mn]=new bn(e,t)),i}parseSegment(){const e=Pp(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new Ad(Wh(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Pp(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const r=Pp(this.remaining);r&&(i=r,this.capture(i))}e[Wh(t)]=Wh(i)}parseQueryParam(e){const t=function GA(n){const e=n.match(mE);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const c=function zA(n){const e=n.match(a_);return e?e[0]:""}(this.remaining);c&&(i=c,this.capture(i))}const r=dE(t),s=dE(i);if(e.hasOwnProperty(r)){let c=e[r];Array.isArray(c)||(c=[c],e[r]=c),c.push(s)}else e[r]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=Pp(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let s;i.indexOf(":")>-1?(s=i.substr(0,i.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=Mn);const c=this.parseChildren();t[s]=1===Object.keys(c).length?c[Mn]:new bn([],c),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class Qv{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=l_(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){const t=l_(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Fp(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return Fp(e,this._root).map(t=>t.value)}}function l_(n,e){if(n===e.value)return e;for(const t of e.children){const i=l_(n,t);if(i)return i}return null}function Fp(n,e){if(n===e.value)return[e];for(const t of e.children){const i=Fp(n,t);if(i.length)return i.unshift(e),i}return[]}class Gl{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Fc(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class Lp extends Qv{constructor(e,t){super(e),this.snapshot=t,t0(this,e)}toString(){return this.snapshot.toString()}}function Jv(n,e){const t=function Xv(n,e){const c=new u_([],{},{},"",{},Mn,e,null,n.root,-1,{});return new e0("",new Gl(c,[]))}(n,e),i=new Zr([new Ad("",{})]),r=new Zr({}),s=new Zr({}),c=new Zr({}),h=new Zr(""),p=new kd(i,r,c,h,s,Mn,e,t.root);return p.snapshot=t.root,new Lp(new Gl(p,[]),t)}class kd{constructor(e,t,i,r,s,c,h,p){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=c,this.component=h,this._futureSnapshot=p}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,ye.U)(e=>$h(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,ye.U)(e=>$h(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function c_(n,e="emptyOnly"){const t=n.pathFromRoot;let i=0;if("always"!==e)for(i=t.length-1;i>=1;){const r=t[i],s=t[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(s.component)break;i--}}return function Vp(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(i))}class u_{constructor(e,t,i,r,s,c,h,p,_,E,S){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=c,this.component=h,this.routeConfig=p,this._urlSegment=_,this._lastPathIndex=E,this._resolve=S}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=$h(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=$h(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class e0 extends Qv{constructor(e,t){super(t),this.url=e,t0(this,t)}toString(){return _E(this._root)}}function t0(n,e){e.value._routerState=n,e.children.forEach(t=>t0(n,t))}function _E(n){const e=n.children.length>0?` { ${n.children.map(_E).join(", ")} } `:"";return`${n.value}${e}`}function d_(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,uo(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),uo(e.params,t.params)||n.params.next(t.params),function VA(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!uo(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),uo(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Up(n,e){const t=uo(n.params,e.params)&&function aE(n,e){return Md(n,e)&&n.every((t,i)=>uo(t.parameters,e[i].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||Up(n.parent,e.parent))}function h_(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const i=t.value;i._futureSnapshot=e.value;const r=function vE(n,e,t){return e.children.map(i=>{for(const r of t.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return h_(n,i,r);return h_(n,i)})}(n,e,t);return new Gl(i,r)}{if(n.shouldAttach(e.value)){const s=n.retrieve(e.value);if(null!==s){const c=s.route;return c.value._futureSnapshot=e.value,c.children=e.children.map(h=>h_(n,h)),c}}const i=function $A(n){return new kd(new Zr(n.url),new Zr(n.params),new Zr(n.queryParams),new Zr(n.fragment),new Zr(n.data),n.outlet,n.component,n)}(e.value),r=e.children.map(s=>h_(n,s));return new Gl(i,r)}}function f_(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Bp(n){return"object"==typeof n&&null!=n&&n.outlets}function aa(n,e,t,i,r){let s={};if(i&&js(i,(h,p)=>{s[p]=Array.isArray(h)?h.map(_=>`${_}`):`${h}`}),n===e)return new qh(t,s,r);const c=wE(n,e,t);return new qh(c,s,r)}function wE(n,e,t){const i={};return js(n.children,(r,s)=>{i[s]=r===e?t:wE(r,e,t)}),new bn(n.segments,i)}class n0{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&f_(i[0]))throw new Error("Root segment cannot have matrix parameters");const r=i.find(Bp);if(r&&r!==BA(i))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class r0{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}}function EE(n,e,t){if(n||(n=new bn([],{})),0===n.segments.length&&n.hasChildren())return p_(n,e,t);const i=function YA(n,e,t){let i=0,r=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=t.length)return s;const c=n.segments[r],h=t[i];if(Bp(h))break;const p=`${h}`,_=i<t.length-1?t[i+1]:null;if(r>0&&void 0===p)break;if(p&&_&&"object"==typeof _&&void 0===_.outlets){if(!o0(p,_,c))return s;i+=2}else{if(!o0(p,{},c))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,e,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const s=new bn(n.segments.slice(0,i.pathIndex),{});return s.children[Mn]=new bn(n.segments.slice(i.pathIndex),n.children),p_(s,0,r)}return i.match&&0===r.length?new bn(n.segments,{}):i.match&&!n.hasChildren()?cn(n,e,t):i.match?p_(n,0,r):cn(n,e,t)}function p_(n,e,t){if(0===t.length)return new bn(n.segments,{});{const i=function CE(n){return Bp(n[0])?n[0].outlets:{[Mn]:n}}(t),r={};return js(i,(s,c)=>{"string"==typeof s&&(s=[s]),null!==s&&(r[c]=EE(n.children[c],e,s))}),js(n.children,(s,c)=>{void 0===i[c]&&(r[c]=s)}),new bn(n.segments,r)}}function cn(n,e,t){const i=n.segments.slice(0,e);let r=0;for(;r<t.length;){const s=t[r];if(Bp(s)){const p=TE(s.outlets);return new bn(i,p)}if(0===r&&f_(t[0])){i.push(new Ad(n.segments[e].path,s0(t[0]))),r++;continue}const c=Bp(s)?s.outlets[Mn]:`${s}`,h=r<t.length-1?t[r+1]:null;c&&h&&f_(h)?(i.push(new Ad(c,s0(h))),r+=2):(i.push(new Ad(c,{})),r++)}return new bn(i,{})}function TE(n){const e={};return js(n,(t,i)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[i]=cn(new bn([],{}),0,t))}),e}function s0(n){const e={};return js(n,(t,i)=>e[i]=`${t}`),e}function o0(n,e,t){return n==t.path&&uo(e,t.parameters)}class nl{constructor(e,t,i,r){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=r}activate(e){const t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),d_(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){const r=Fc(t);e.children.forEach(s=>{const c=s.value.outlet;this.deactivateRoutes(s,r[c],i),delete r[c]}),js(r,(s,c)=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(e,t,i){const r=e.value,s=t?t.value:null;if(r===s)if(r.component){const c=i.getContext(r.outlet);c&&this.deactivateChildRoutes(e,t,c.children)}else this.deactivateChildRoutes(e,t,i);else s&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,s=Fc(e);for(const c of Object.keys(s))this.deactivateRouteAndItsChildren(s[c],r);if(i&&i.outlet){const c=i.outlet.detach(),h=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:c,route:e,contexts:h})}}deactivateRouteAndOutlet(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,s=Fc(e);for(const c of Object.keys(s))this.deactivateRouteAndItsChildren(s[c],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(e,t,i){const r=Fc(t);e.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new PA(s.value.snapshot))}),e.children.length&&this.forwardEvent(new OA(e.value.snapshot))}activateRoutes(e,t,i){const r=e.value,s=t?t.value:null;if(d_(r),r===s)if(r.component){const c=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,c.children)}else this.activateChildRoutes(e,t,i);else if(r.component){const c=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const h=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),c.children.onOutletReAttached(h.contexts),c.attachRef=h.componentRef,c.route=h.route.value,c.outlet&&c.outlet.attach(h.componentRef,h.route.value),d_(h.route.value),this.activateChildRoutes(e,null,c.children)}else{const h=function DE(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),p=h?h.module.componentFactoryResolver:null;c.attachRef=null,c.route=r,c.resolver=p,c.outlet&&c.outlet.activateWith(r,p),this.activateChildRoutes(e,null,c.children)}}else this.activateChildRoutes(e,null,i)}}class a0{constructor(e,t){this.routes=e,this.module=t}}function zl(n){return"function"==typeof n}function Vc(n){return n instanceof qh}const g_=Symbol("INITIAL_VALUE");function Mu(){return qe(n=>function Vv(...n){const e=(0,b.yG)(n),t=(0,b.jO)(n),{args:i,keys:r}=Oc(n);if(0===i.length)return(0,x.D)([],e);const s=new G.y(function QC(n,e,t=C.y){return i=>{JC(e,()=>{const{length:r}=n,s=new Array(r);let c=r,h=r;for(let p=0;p<r;p++)JC(e,()=>{const _=(0,x.D)(n[p],e);let E=!1;_.subscribe((0,pi.x)(i,S=>{s[p]=S,E||(E=!0,h--),h||i.next(t(s.slice()))},()=>{--c||i.complete()}))},i)},i)}}(i,e,r?c=>KC(r,c):C.y));return t?s.pipe(Ji(t)):s}(n.map(e=>e.pipe((0,si.q)(1),Nc(g_)))).pipe(sr((e,t)=>{let i=!1;return t.reduce((r,s,c)=>r!==g_?r:(s===g_&&(i=!0),i||!1!==s&&c!==t.length-1&&!Vc(s)?r:s),e)},g_),kn(e=>e!==g_),(0,ye.U)(e=>Vc(e)?e:!0===e),(0,si.q)(1)))}class __{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Rd,this.attachRef=null}}class Rd{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const i=this.getOrCreateContext(e);i.outlet=t,this.contexts.set(e,i)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new __,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}let Hp=(()=>{class n{constructor(t,i,r,s,c){this.parentContexts=t,this.location=i,this.resolver=r,this.changeDetector=c,this.activated=null,this._activatedRoute=null,this.activateEvents=new o.vpe,this.deactivateEvents=new o.vpe,this.attachEvents=new o.vpe,this.detachEvents=new o.vpe,this.name=s||Mn,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const c=(i=i||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),h=this.parentContexts.getOrCreateContext(this.name).children,p=new c0(t,h,this.location.injector);this.activated=this.location.createComponent(c,this.location.length,p),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(Rd),o.Y36(o.s_b),o.Y36(o._Vd),o.$8M("name"),o.Y36(o.sBO))},n.\u0275dir=o.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class c0{constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===kd?this.route:e===Rd?this.childContexts:this.parent.get(e,t)}}let KA=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,i){1&t&&o._UZ(0,"router-outlet")},directives:[Hp],encapsulation:2}),n})();function AE(n,e=""){for(let t=0;t<n.length;t++){const i=n[t];QA(i,JA(e,i))}}function QA(n,e){n.children&&AE(n.children,e)}function JA(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function u0(n){const e=n.children&&n.children.map(u0),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Mn&&(t.component=KA),t}function la(n){return n.outlet||Mn}function XA(n,e){const t=n.filter(i=>la(i)===e);return t.push(...n.filter(i=>la(i)!==e)),t}const ME={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function d0(n,e,t){var i;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},ME):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const s=(e.matcher||LA)(t,n,e);if(!s)return Object.assign({},ME);const c={};js(s.posParams,(p,_)=>{c[_]=p.path});const h=s.consumed.length>0?Object.assign(Object.assign({},c),s.consumed[s.consumed.length-1].parameters):c;return{matched:!0,consumedSegments:s.consumed,remainingSegments:t.slice(s.consumed.length),parameters:h,positionalParamSegments:null!==(i=s.posParams)&&void 0!==i?i:{}}}function jp(n,e,t,i,r="corrected"){if(t.length>0&&function h0(n,e,t){return t.some(i=>f0(n,e,i)&&la(i)!==Mn)}(n,t,i)){const c=new bn(e,function eM(n,e,t,i){const r={};r[Mn]=i,i._sourceSegment=n,i._segmentIndexShift=e.length;for(const s of t)if(""===s.path&&la(s)!==Mn){const c=new bn([],{});c._sourceSegment=n,c._segmentIndexShift=e.length,r[la(s)]=c}return r}(n,e,i,new bn(t,n.children)));return c._sourceSegment=n,c._segmentIndexShift=e.length,{segmentGroup:c,slicedSegments:[]}}if(0===t.length&&function AN(n,e,t){return t.some(i=>f0(n,e,i))}(n,t,i)){const c=new bn(n.segments,function xE(n,e,t,i,r,s){const c={};for(const h of i)if(f0(n,t,h)&&!r[la(h)]){const p=new bn([],{});p._sourceSegment=n,p._segmentIndexShift="legacy"===s?n.segments.length:e.length,c[la(h)]=p}return Object.assign(Object.assign({},r),c)}(n,e,t,i,n.children,r));return c._sourceSegment=n,c._segmentIndexShift=e.length,{segmentGroup:c,slicedSegments:t}}const s=new bn(n.segments,n.children);return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:t}}function f0(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function tM(n,e,t,i){return!!(la(n)===i||i!==Mn&&f0(e,t,n))&&("**"===n.path||d0(e,n,t).matched)}function nM(n,e,t){return 0===e.length&&!n.children[t]}class p0{constructor(e){this.segmentGroup=e||null}}class iM{constructor(e){this.urlTree=e}}function y_(n){return jh(new p0(n))}function rM(n){return jh(new iM(n))}class m0{constructor(e,t,i,r,s){this.configLoader=t,this.urlSerializer=i,this.urlTree=r,this.config=s,this.allowRedirects=!0,this.ngModule=e.get(o.h0i)}apply(){const e=jp(this.urlTree.root,[],[],this.config).segmentGroup,t=new bn(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,Mn).pipe((0,ye.U)(s=>this.createUrlTree(v_(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(oa(s=>{if(s instanceof iM)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof p0?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,Mn).pipe((0,ye.U)(r=>this.createUrlTree(v_(r),e.queryParams,e.fragment))).pipe(oa(r=>{throw r instanceof p0?this.noMatchError(r):r}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,i){const r=e.segments.length>0?new bn([],{[Mn]:e}):e;return new qh(r,t,i)}expandSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(e,t,i).pipe((0,ye.U)(s=>new bn([],s))):this.expandSegment(e,i,t,i.segments,r,!0)}expandChildren(e,t,i){const r=[];for(const s of Object.keys(i.children))"primary"===s?r.unshift(s):r.push(s);return(0,x.D)(r).pipe(zh(s=>{const c=i.children[s],h=XA(t,s);return this.expandSegmentGroup(e,h,c,s).pipe((0,ye.U)(p=>({segment:p,outlet:s})))}),sr((s,c)=>(s[c.outlet]=c.segment,s),{}),function eE(n,e){const t=arguments.length>=2;return i=>i.pipe(n?kn((r,s)=>n(r,s,i)):C.y,Uv(1),t?So(e):Ii(()=>new fi))}())}expandSegment(e,t,i,r,s,c){return(0,x.D)(i).pipe(zh(h=>this.expandSegmentAgainstRoute(e,t,i,h,r,s,c).pipe(oa(_=>{if(_ instanceof p0)return N(null);throw _}))),R(h=>!!h),oa((h,p)=>{if(h instanceof fi||"EmptyError"===h.name)return nM(t,r,s)?N(new bn([],{})):y_(t);throw h}))}expandSegmentAgainstRoute(e,t,i,r,s,c,h){return tM(r,t,s,c)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,t,r,s,c):h&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,i,r,s,c):y_(t):y_(t)}expandSegmentAgainstRouteUsingRedirect(e,t,i,r,s,c){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,i,r,c):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,s,c)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,i,r){const s=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?rM(s):this.lineralizeSegments(i,s).pipe((0,Pr.z)(c=>{const h=new bn(c,{});return this.expandSegment(e,h,t,c,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,s,c){const{matched:h,consumedSegments:p,remainingSegments:_,positionalParamSegments:E}=d0(t,r,s);if(!h)return y_(t);const S=this.applyRedirectCommands(p,r.redirectTo,E);return r.redirectTo.startsWith("/")?rM(S):this.lineralizeSegments(r,S).pipe((0,Pr.z)(P=>this.expandSegment(e,t,i,P.concat(_),c,!1)))}matchSegmentAgainstRoute(e,t,i,r,s){if("**"===i.path)return i.loadChildren?(i._loadedConfig?N(i._loadedConfig):this.configLoader.load(e.injector,i)).pipe((0,ye.U)(S=>(i._loadedConfig=S,new bn(r,{})))):N(new bn(r,{}));const{matched:c,consumedSegments:h,remainingSegments:p}=d0(t,i,r);return c?this.getChildConfig(e,i,r).pipe((0,Pr.z)(E=>{const S=E.module,P=E.routes,{segmentGroup:H,slicedSegments:$}=jp(t,h,p,P),ae=new bn(H.segments,H.children);if(0===$.length&&ae.hasChildren())return this.expandChildren(S,P,ae).pipe((0,ye.U)(_t=>new bn(h,_t)));if(0===P.length&&0===$.length)return N(new bn(h,{}));const Ce=la(i)===s;return this.expandSegment(S,ae,P,$,Ce?Mn:s,!0).pipe((0,ye.U)(mt=>new bn(h.concat(mt.segments),mt.children)))})):y_(t)}getChildConfig(e,t,i){return t.children?N(new a0(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?N(t._loadedConfig):this.runCanLoadGuards(e.injector,t,i).pipe((0,Pr.z)(r=>r?this.configLoader.load(e.injector,t).pipe((0,ye.U)(s=>(t._loadedConfig=s,s))):function xN(n){return jh(zv(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))}(t))):N(new a0([],e))}runCanLoadGuards(e,t,i){const r=t.canLoad;return r&&0!==r.length?N(r.map(c=>{const h=e.get(c);let p;if(function IE(n){return n&&zl(n.canLoad)}(h))p=h.canLoad(t,i);else{if(!zl(h))throw new Error("Invalid CanLoad guard");p=h(t,i)}return Yr(p)})).pipe(Mu(),(0,or.b)(c=>{if(!Vc(c))return;const h=zv(`Redirecting to "${this.urlSerializer.serialize(c)}"`);throw h.url=c,h}),(0,ye.U)(c=>!0===c)):N(!0)}lineralizeSegments(e,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return N(i);if(r.numberOfChildren>1||!r.children[Mn])return jh(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e.redirectTo}'`));r=r.children[Mn]}}applyRedirectCommands(e,t,i){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,i)}applyRedirectCreatreUrlTree(e,t,i,r){const s=this.createSegmentGroup(e,t.root,i,r);return new qh(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const i={};return js(e,(r,s)=>{if("string"==typeof r&&r.startsWith(":")){const h=r.substring(1);i[s]=t[h]}else i[s]=r}),i}createSegmentGroup(e,t,i,r){const s=this.createSegments(e,t.segments,i,r);let c={};return js(t.children,(h,p)=>{c[p]=this.createSegmentGroup(e,h,i,r)}),new bn(s,c)}createSegments(e,t,i,r){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,r):this.findOrReturn(s,i))}findPosParam(e,t,i){const r=i[t.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return r}findOrReturn(e,t){let i=0;for(const r of t){if(r.path===e.path)return t.splice(i),r;i++}return e}}function v_(n){const e={};for(const i of Object.keys(n.children)){const s=v_(n.children[i]);(s.segments.length>0||s.hasChildren())&&(e[i]=s)}return function sM(n){if(1===n.numberOfChildren&&n.children[Mn]){const e=n.children[Mn];return new bn(n.segments.concat(e.segments),e.children)}return n}(new bn(n.segments,e))}class _0{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Zh{constructor(e,t){this.component=e,this.route=t}}function oM(n,e,t){const i=n._root;return Od(i,e?e._root:null,t,[i.value])}function Gp(n,e,t){const i=function aM(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(i?i.module.injector:t).get(n)}function Od(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=Fc(e);return n.children.forEach(c=>{(function lM(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,c=e?e.value:null,h=t?t.getContext(n.value.outlet):null;if(c&&s.routeConfig===c.routeConfig){const p=function kE(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Md(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Md(n.url,e.url)||!uo(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Up(n,e)||!uo(n.queryParams,e.queryParams);default:return!Up(n,e)}}(c,s,s.routeConfig.runGuardsAndResolvers);p?r.canActivateChecks.push(new _0(i)):(s.data=c.data,s._resolvedData=c._resolvedData),Od(n,e,s.component?h?h.children:null:t,i,r),p&&h&&h.outlet&&h.outlet.isActivated&&r.canDeactivateChecks.push(new Zh(h.outlet.component,c))}else c&&zp(e,h,r),r.canActivateChecks.push(new _0(i)),Od(n,null,s.component?h?h.children:null:t,i,r)})(c,s[c.value.outlet],t,i.concat([c.value]),r),delete s[c.value.outlet]}),js(s,(c,h)=>zp(c,t.getContext(h),r)),r}function zp(n,e,t){const i=Fc(n),r=n.value;js(i,(s,c)=>{zp(s,r.component?e?e.children.getContext(c):null:e,t)}),t.canDeactivateChecks.push(new Zh(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}class RE{}function v0(n){return new G.y(e=>e.error(n))}class w0{constructor(e,t,i,r,s,c){this.rootComponentType=e,this.config=t,this.urlTree=i,this.url=r,this.paramsInheritanceStrategy=s,this.relativeLinkResolution=c}recognize(){const e=jp(this.urlTree.root,[],[],this.config.filter(c=>void 0===c.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,Mn);if(null===t)return null;const i=new u_([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Mn,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Gl(i,t),s=new e0(this.url,r);return this.inheritParamsAndData(s._root),s}inheritParamsAndData(e){const t=e.value,i=c_(t,this.paramsInheritanceStrategy);t.params=Object.freeze(i.params),t.data=Object.freeze(i.data),e.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(e,t,i){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,i)}processChildren(e,t){const i=[];for(const s of Object.keys(t.children)){const c=t.children[s],h=XA(e,s),p=this.processSegmentGroup(h,c,s);if(null===p)return null;i.push(...p)}const r=C0(i);return function OE(n){n.sort((e,t)=>e.value.outlet===Mn?-1:t.value.outlet===Mn?1:e.value.outlet.localeCompare(t.value.outlet))}(r),r}processSegment(e,t,i,r){for(const s of e){const c=this.processSegmentAgainstRoute(s,t,i,r);if(null!==c)return c}return nM(t,i,r)?[]:null}processSegmentAgainstRoute(e,t,i,r){if(e.redirectTo||!tM(e,t,i,r))return null;let s,c=[],h=[];if("**"===e.path){const H=i.length>0?BA(i).parameters:{};s=new u_(i,H,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,NE(e),la(e),e.component,e,E0(t),T0(t)+i.length,D0(e))}else{const H=d0(t,e,i);if(!H.matched)return null;c=H.consumedSegments,h=H.remainingSegments,s=new u_(c,H.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,NE(e),la(e),e.component,e,E0(t),T0(t)+c.length,D0(e))}const p=function b_(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(e),{segmentGroup:_,slicedSegments:E}=jp(t,c,h,p.filter(H=>void 0===H.redirectTo),this.relativeLinkResolution);if(0===E.length&&_.hasChildren()){const H=this.processChildren(p,_);return null===H?null:[new Gl(s,H)]}if(0===p.length&&0===E.length)return[new Gl(s,[])];const S=la(e)===r,P=this.processSegment(p,_,E,S?Mn:r);return null===P?null:[new Gl(s,P)]}}function dM(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function C0(n){const e=[],t=new Set;for(const i of n){if(!dM(i)){e.push(i);continue}const r=e.find(s=>i.value.routeConfig===s.value.routeConfig);void 0!==r?(r.children.push(...i.children),t.add(r)):e.push(i)}for(const i of t){const r=C0(i.children);e.push(new Gl(i.value,r))}return e.filter(i=>!t.has(i))}function E0(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function T0(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function NE(n){return n.data||{}}function D0(n){return n.resolve||{}}function PE(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function FE(n){return qe(e=>{const t=n(e);return t?(0,x.D)(t).pipe((0,ye.U)(()=>e)):N(e)})}class mM extends class RN{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const Wp=new o.OlP("ROUTES");class I0{constructor(e,t,i,r){this.injector=e,this.compiler=t,this.onLoadStartListener=i,this.onLoadEndListener=r}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const r=this.loadModuleFactory(t.loadChildren).pipe((0,ye.U)(s=>{this.onLoadEndListener&&this.onLoadEndListener(t);const c=s.create(e);return new a0(UA(c.injector.get(Wp,void 0,o.XFs.Self|o.XFs.Optional)).map(u0),c)}),oa(s=>{throw t._loader$=void 0,s}));return t._loader$=new t_(r,()=>new D.x).pipe(Hs()),t._loader$}loadModuleFactory(e){return Yr(e()).pipe((0,Pr.z)(t=>t instanceof o.YKP?N(t):(0,x.D)(this.compiler.compileModuleAsync(t))))}}class _M{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function yM(n){throw n}function VE(n,e,t){return e.parse("/")}function UE(n,e){return N(null)}const BE={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},vM={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Kr=(()=>{class n{constructor(t,i,r,s,c,h,p){this.rootComponentType=t,this.urlSerializer=i,this.rootContexts=r,this.location=s,this.config=p,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new D.x,this.errorHandler=yM,this.malformedUriErrorHandler=VE,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:UE,afterPreactivation:UE},this.urlHandlingStrategy=new _M,this.routeReuseStrategy=new mM,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=c.get(o.h0i),this.console=c.get(o.c2e);const S=c.get(o.R0b);this.isNgZoneEnabled=S instanceof o.R0b&&o.R0b.isInAngularZone(),this.resetConfig(p),this.currentUrlTree=function $v(){return new qh(new bn([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new I0(c,h,P=>this.triggerEvent(new xp(P)),P=>this.triggerEvent(new nE(P))),this.routerState=Jv(this.currentUrlTree,this.rootComponentType),this.transitions=new Zr({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const i=this.events;return t.pipe(kn(r=>0!==r.id),(0,ye.U)(r=>Object.assign(Object.assign({},r),{extractedUrl:this.urlHandlingStrategy.extract(r.rawUrl)})),qe(r=>{let s=!1,c=!1;return N(r).pipe((0,or.b)(h=>{this.currentNavigation={id:h.id,initialUrl:h.currentRawUrl,extractedUrl:h.extractedUrl,trigger:h.source,extras:h.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),qe(h=>{const p=this.browserUrlTree.toString(),_=!this.navigated||h.extractedUrl.toString()!==p||p!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||_)&&this.urlHandlingStrategy.shouldProcessUrl(h.rawUrl))return S0(h.source)&&(this.browserUrlTree=h.extractedUrl),N(h).pipe(qe(S=>{const P=this.transitions.getValue();return i.next(new n_(S.id,this.serializeUrl(S.extractedUrl),S.source,S.restoredState)),P!==this.transitions.getValue()?Gh.E:Promise.resolve(S)}),function g0(n,e,t,i){return qe(r=>function xu(n,e,t,i,r){return new m0(n,e,t,i,r).apply()}(n,e,t,r.extractedUrl,i).pipe((0,ye.U)(s=>Object.assign(Object.assign({},r),{urlAfterRedirects:s}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,or.b)(S=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:S.urlAfterRedirects})}),function hM(n,e,t,i,r){return(0,Pr.z)(s=>function b0(n,e,t,i,r="emptyOnly",s="legacy"){try{const c=new w0(n,e,t,i,r,s).recognize();return null===c?v0(new RE):N(c)}catch(c){return v0(c)}}(n,e,s.urlAfterRedirects,t(s.urlAfterRedirects),i,r).pipe((0,ye.U)(c=>Object.assign(Object.assign({},s),{targetSnapshot:c}))))}(this.rootComponentType,this.config,S=>this.serializeUrl(S),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,or.b)(S=>{if("eager"===this.urlUpdateStrategy){if(!S.extras.skipLocationChange){const H=this.urlHandlingStrategy.merge(S.urlAfterRedirects,S.rawUrl);this.setBrowserUrl(H,S)}this.browserUrlTree=S.urlAfterRedirects}const P=new AA(S.id,this.serializeUrl(S.extractedUrl),this.serializeUrl(S.urlAfterRedirects),S.targetSnapshot);i.next(P)}));if(_&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:P,extractedUrl:H,source:$,restoredState:ae,extras:Ce}=h,st=new n_(P,this.serializeUrl(H),$,ae);i.next(st);const mt=Jv(H,this.rootComponentType).snapshot;return N(Object.assign(Object.assign({},h),{targetSnapshot:mt,urlAfterRedirects:H,extras:Object.assign(Object.assign({},Ce),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=h.rawUrl,h.resolve(null),Gh.E}),FE(h=>{const{targetSnapshot:p,id:_,extractedUrl:E,rawUrl:S,extras:{skipLocationChange:P,replaceUrl:H}}=h;return this.hooks.beforePreactivation(p,{navigationId:_,appliedUrlTree:E,rawUrlTree:S,skipLocationChange:!!P,replaceUrl:!!H})}),(0,or.b)(h=>{const p=new MA(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(h.urlAfterRedirects),h.targetSnapshot);this.triggerEvent(p)}),(0,ye.U)(h=>Object.assign(Object.assign({},h),{guards:oM(h.targetSnapshot,h.currentSnapshot,this.rootContexts)})),function cM(n,e){return(0,Pr.z)(t=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:c}}=t;return 0===c.length&&0===s.length?N(Object.assign(Object.assign({},t),{guardsResult:!0})):function $p(n,e,t,i){return(0,x.D)(n).pipe((0,Pr.z)(r=>function uM(n,e,t,i,r){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?N(s.map(h=>{const p=Gp(h,e,r);let _;if(function SE(n){return n&&zl(n.canDeactivate)}(p))_=Yr(p.canDeactivate(n,e,t,i));else{if(!zl(p))throw new Error("Invalid CanDeactivate guard");_=Yr(p(n,e,t,i))}return _.pipe(R())})).pipe(Mu()):N(!0)}(r.component,r.route,t,e,i)),R(r=>!0!==r,!0))}(c,i,r,n).pipe((0,Pr.z)(h=>h&&function Lc(n){return"boolean"==typeof n}(h)?function Yh(n,e,t,i){return(0,x.D)(e).pipe(zh(r=>Ap(function Kh(n,e){return null!==n&&e&&e(new RA(n)),N(!0)}(r.route.parent,i),function y0(n,e){return null!==n&&e&&e(new NA(n)),N(!0)}(r.route,i),function Qh(n,e,t){const i=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(c=>function ku(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(c)).filter(c=>null!==c).map(c=>e_(()=>N(c.guards.map(p=>{const _=Gp(p,c.node,t);let E;if(function SN(n){return n&&zl(n.canActivateChild)}(_))E=Yr(_.canActivateChild(i,n));else{if(!zl(_))throw new Error("Invalid CanActivateChild guard");E=Yr(_(i,n))}return E.pipe(R())})).pipe(Mu())));return N(s).pipe(Mu())}(n,r.path,t),function qp(n,e,t){const i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||0===i.length)return N(!0);const r=i.map(s=>e_(()=>{const c=Gp(s,e,t);let h;if(function l0(n){return n&&zl(n.canActivate)}(c))h=Yr(c.canActivate(e,n));else{if(!zl(c))throw new Error("Invalid CanActivate guard");h=Yr(c(e,n))}return h.pipe(R())}));return N(r).pipe(Mu())}(n,r.route,t))),R(r=>!0!==r,!0))}(i,s,n,e):N(h)),(0,ye.U)(h=>Object.assign(Object.assign({},t),{guardsResult:h})))})}(this.ngModule.injector,h=>this.triggerEvent(h)),(0,or.b)(h=>{if(Vc(h.guardsResult)){const _=zv(`Redirecting to "${this.serializeUrl(h.guardsResult)}"`);throw _.url=h.guardsResult,_}const p=new jv(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(h.urlAfterRedirects),h.targetSnapshot,!!h.guardsResult);this.triggerEvent(p)}),kn(h=>!!h.guardsResult||(this.restoreHistory(h),this.cancelNavigationTransition(h,""),!1)),FE(h=>{if(h.guards.canActivateChecks.length)return N(h).pipe((0,or.b)(p=>{const _=new xA(p.id,this.serializeUrl(p.extractedUrl),this.serializeUrl(p.urlAfterRedirects),p.targetSnapshot);this.triggerEvent(_)}),qe(p=>{let _=!1;return N(p).pipe(function fM(n,e){return(0,Pr.z)(t=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return N(t);let s=0;return(0,x.D)(r).pipe(zh(c=>function ca(n,e,t,i){return function pM(n,e,t,i){const r=PE(n);if(0===r.length)return N({});const s={};return(0,x.D)(r).pipe((0,Pr.z)(c=>function kN(n,e,t,i){const r=Gp(n,e,i);return Yr(r.resolve?r.resolve(e,t):r(e,t))}(n[c],e,t,i).pipe((0,or.b)(h=>{s[c]=h}))),Uv(1),(0,Pr.z)(()=>PE(s).length===r.length?N(s):Gh.E))}(n._resolve,n,e,i).pipe((0,ye.U)(s=>(n._resolvedData=s,n.data=Object.assign(Object.assign({},n.data),c_(n,t).resolve),null)))}(c.route,i,n,e)),(0,or.b)(()=>s++),Uv(1),(0,Pr.z)(c=>s===r.length?N(t):Gh.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,or.b)({next:()=>_=!0,complete:()=>{_||(this.restoreHistory(p),this.cancelNavigationTransition(p,"At least one route resolver didn't emit any value."))}}))}),(0,or.b)(p=>{const _=new kA(p.id,this.serializeUrl(p.extractedUrl),this.serializeUrl(p.urlAfterRedirects),p.targetSnapshot);this.triggerEvent(_)}))}),FE(h=>{const{targetSnapshot:p,id:_,extractedUrl:E,rawUrl:S,extras:{skipLocationChange:P,replaceUrl:H}}=h;return this.hooks.afterPreactivation(p,{navigationId:_,appliedUrlTree:E,rawUrlTree:S,skipLocationChange:!!P,replaceUrl:!!H})}),(0,ye.U)(h=>{const p=function yE(n,e,t){const i=h_(n,e._root,t?t._root:void 0);return new Lp(i,e)}(this.routeReuseStrategy,h.targetSnapshot,h.currentRouterState);return Object.assign(Object.assign({},h),{targetRouterState:p})}),(0,or.b)(h=>{this.currentUrlTree=h.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(h.urlAfterRedirects,h.rawUrl),this.routerState=h.targetRouterState,"deferred"===this.urlUpdateStrategy&&(h.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,h),this.browserUrlTree=h.urlAfterRedirects)}),((n,e,t)=>(0,ye.U)(i=>(new nl(e,i.targetRouterState,i.currentRouterState,t).activate(n),i)))(this.rootContexts,this.routeReuseStrategy,h=>this.triggerEvent(h)),(0,or.b)({next(){s=!0},complete(){s=!0}}),function Bv(n){return(0,Qn.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}(()=>{var h;s||c||this.cancelNavigationTransition(r,`Navigation ID ${r.id} is not equal to the current navigation id ${this.navigationId}`),(null===(h=this.currentNavigation)||void 0===h?void 0:h.id)===r.id&&(this.currentNavigation=null)}),oa(h=>{if(c=!0,function rE(n){return n&&n[iE]}(h)){const p=Vc(h.url);p||(this.navigated=!0,this.restoreHistory(r,!0));const _=new tE(r.id,this.serializeUrl(r.extractedUrl),h.message);i.next(_),p?setTimeout(()=>{const E=this.urlHandlingStrategy.merge(h.url,this.rawUrlTree),S={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||S0(r.source)};this.scheduleNavigation(E,"imperative",null,S,{resolve:r.resolve,reject:r.reject,promise:r.promise})},0):r.resolve(!1)}else{this.restoreHistory(r,!0);const p=new Hv(r.id,this.serializeUrl(r.extractedUrl),h);i.next(p);try{r.resolve(this.errorHandler(h))}catch(_){r.reject(_)}}return Gh.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const i="popstate"===t.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{var r;const s={replaceUrl:!0},c=(null===(r=t.state)||void 0===r?void 0:r.navigationId)?t.state:null;if(c){const p=Object.assign({},c);delete p.navigationId,delete p.\u0275routerPageId,0!==Object.keys(p).length&&(s.state=p)}const h=this.parseUrl(t.url);this.scheduleNavigation(h,i,c,s)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){AE(t),this.config=t.map(u0),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,i={}){const{relativeTo:r,queryParams:s,fragment:c,queryParamsHandling:h,preserveFragment:p}=i,_=r||this.routerState.root,E=p?this.currentUrlTree.fragment:c;let S=null;switch(h){case"merge":S=Object.assign(Object.assign({},this.currentUrlTree.queryParams),s);break;case"preserve":S=this.currentUrlTree.queryParams;break;default:S=s||null}return null!==S&&(S=this.removeEmptyProps(S)),function bE(n,e,t,i,r){if(0===t.length)return aa(e.root,e.root,e.root,i,r);const s=function qA(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new n0(!0,0,n);let e=0,t=!1;const i=n.reduce((r,s,c)=>{if("object"==typeof s&&null!=s){if(s.outlets){const h={};return js(s.outlets,(p,_)=>{h[_]="string"==typeof p?p.split("/"):p}),[...r,{outlets:h}]}if(s.segmentPath)return[...r,s.segmentPath]}return"string"!=typeof s?[...r,s]:0===c?(s.split("/").forEach((h,p)=>{0==p&&"."===h||(0==p&&""===h?t=!0:".."===h?e++:""!=h&&r.push(h))}),r):[...r,s]},[]);return new n0(t,e,i)}(t);if(s.toRoot())return aa(e.root,e.root,new bn([],{}),i,r);const c=function WA(n,e,t){if(n.isAbsolute)return new r0(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const s=t.snapshot._urlSegment;return new r0(s,s===e.root,0)}const i=f_(n.commands[0])?0:1;return function ZA(n,e,t){let i=n,r=e,s=t;for(;s>r;){if(s-=r,i=i.parent,!i)throw new Error("Invalid number of '../'");r=i.segments.length}return new r0(i,!1,r-s)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+i,n.numberOfDoubleDots)}(s,e,n),h=c.processChildren?p_(c.segmentGroup,c.index,s.commands):EE(c.segmentGroup,c.index,s.commands);return aa(e.root,c.segmentGroup,h,i,r)}(_,this.currentUrlTree,t,S,null!=E?E:null)}navigateByUrl(t,i={skipLocationChange:!1}){const r=Vc(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,i)}navigate(t,i={skipLocationChange:!1}){return function HE(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let i;try{i=this.urlSerializer.parse(t)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,t)}return i}isActive(t,i){let r;if(r=!0===i?Object.assign({},BE):!1===i?Object.assign({},vM):i,Vc(t))return Wv(this.currentUrlTree,t,r);const s=this.parseUrl(t);return Wv(this.currentUrlTree,s,r)}removeEmptyProps(t){return Object.keys(t).reduce((i,r)=>{const s=t[r];return null!=s&&(i[r]=s),i},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new Mp(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,i,r,s,c){var h,p;if(this.disposed)return Promise.resolve(!1);let _,E,S;c?(_=c.resolve,E=c.reject,S=c.promise):S=new Promise(($,ae)=>{_=$,E=ae});const P=++this.navigationId;let H;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(r=this.location.getState()),H=r&&r.\u0275routerPageId?r.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?null!==(h=this.browserPageId)&&void 0!==h?h:0:(null!==(p=this.browserPageId)&&void 0!==p?p:0)+1):H=0,this.setTransition({id:P,targetPageId:H,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:s,resolve:_,reject:E,promise:S,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),S.catch($=>Promise.reject($))}setBrowserUrl(t,i){const r=this.urlSerializer.serialize(t),s=Object.assign(Object.assign({},i.extras.state),this.generateNgRouterState(i.id,i.targetPageId));this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",s):this.location.go(r,"",s)}restoreHistory(t,i=!1){var r,s;if("computed"===this.canceledNavigationResolution){const c=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(r=this.currentNavigation)||void 0===r?void 0:r.finalUrl)||0===c?this.currentUrlTree===(null===(s=this.currentNavigation)||void 0===s?void 0:s.finalUrl)&&0===c&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(c)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,i){const r=new tE(t.id,this.serializeUrl(t.extractedUrl),i);this.triggerEvent(r),t.resolve(!1)}generateNgRouterState(t,i){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}}return n.\u0275fac=function(t){o.$Z()},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();function S0(n){return"imperative"!==n}let A0=(()=>{class n{constructor(t,i,r,s,c){this.router=t,this.route=i,this.tabIndexAttribute=r,this.renderer=s,this.el=c,this.commands=null,this.onChanges=new D.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){if(null!=this.tabIndexAttribute)return;const i=this.renderer,r=this.el.nativeElement;null!==t?i.setAttribute(r,"tabindex",t):i.removeAttribute(r,"tabindex")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const t={skipLocationChange:Ru(this.skipLocationChange),replaceUrl:Ru(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Ru(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(Kr),o.Y36(kd),o.$8M("tabindex"),o.Y36(o.Qsj),o.Y36(o.SBq))},n.\u0275dir=o.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,i){1&t&&o.NdJ("click",function(){return i.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[o.TTD]}),n})(),Ds=(()=>{class n{constructor(t,i,r){this.router=t,this.route=i,this.locationStrategy=r,this.commands=null,this.href=null,this.onChanges=new D.x,this.subscription=t.events.subscribe(s=>{s instanceof Mp&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:null}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,i,r,s,c){if(0!==t||i||r||s||c||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const h={skipLocationChange:Ru(this.skipLocationChange),replaceUrl:Ru(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,h),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Ru(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(Kr),o.Y36(kd),o.Y36(Oe))},n.\u0275dir=o.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,i){1&t&&o.NdJ("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&t&&o.uIk("target",i.target)("href",i.href,o.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[o.TTD]}),n})();function Ru(n){return""===n||!!n}let jE=(()=>{class n{constructor(t,i,r,s,c,h){this.router=t,this.element=i,this.renderer=r,this.cdr=s,this.link=c,this.linkWithHref=h,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new o.vpe,this.routerEventsSubscription=t.events.subscribe(p=>{p instanceof Mp&&this.update()})}ngAfterContentInit(){N(this.links.changes,this.linksWithHrefs.changes,N(null)).pipe((0,Xg.J)()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var t;null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe();const i=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=(0,x.D)(i).pipe((0,Xg.J)()).subscribe(r=>{this.isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(t){const i=Array.isArray(t)?t:t.split(" ");this.classes=i.filter(r=>!!r)}ngOnChanges(t){this.update()}ngOnDestroy(){var t;this.routerEventsSubscription.unsubscribe(),null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const t=this.hasActiveLinks();this.isActive!==t&&(this.isActive=t,this.cdr.markForCheck(),this.classes.forEach(i=>{t?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),this.isActiveChange.emit(t))})}isLinkActive(t){const i=function bM(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return r=>!!r.urlTree&&t.isActive(r.urlTree,i)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.linkWithHref&&t(this.linkWithHref)||this.links.some(t)||this.linksWithHrefs.some(t)}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(Kr),o.Y36(o.SBq),o.Y36(o.Qsj),o.Y36(o.sBO),o.Y36(A0,8),o.Y36(Ds,8))},n.\u0275dir=o.lG2({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(t,i,r){if(1&t&&(o.Suo(r,A0,5),o.Suo(r,Ds,5)),2&t){let s;o.iGM(s=o.CRH())&&(i.links=s),o.iGM(s=o.CRH())&&(i.linksWithHrefs=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[o.TTD]}),n})();class wM{}class zE{preload(e,t){return N(null)}}let $E=(()=>{class n{constructor(t,i,r,s){this.router=t,this.injector=r,this.preloadingStrategy=s,this.loader=new I0(r,i,p=>t.triggerEvent(new xp(p)),p=>t.triggerEvent(new nE(p)))}setUpPreloading(){this.subscription=this.router.events.pipe(kn(t=>t instanceof Mp),zh(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(o.h0i);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){const r=[];for(const s of i)if(s.loadChildren&&!s.canLoad&&s._loadedConfig){const c=s._loadedConfig;r.push(this.processRoutes(c.module,c.routes))}else s.loadChildren&&!s.canLoad?r.push(this.preloadConfig(t,s)):s.children&&r.push(this.processRoutes(t,s.children));return(0,x.D)(r).pipe((0,Xg.J)(),(0,ye.U)(s=>{}))}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>(i._loadedConfig?N(i._loadedConfig):this.loader.load(t.injector,i)).pipe((0,Pr.z)(s=>(i._loadedConfig=s,this.processRoutes(s.module,s.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(Kr),o.LFG(o.Sil),o.LFG(o.zs3),o.LFG(wM))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),M0=(()=>{class n{constructor(t,i,r={}){this.router=t,this.viewportScroller=i,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof n_?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Mp&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Gv&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){this.router.triggerEvent(new Gv(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){o.$Z()},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const Nd=new o.OlP("ROUTER_CONFIGURATION"),WE=new o.OlP("ROUTER_FORROOT_GUARD"),w_=[ce,{provide:lE,useClass:cE},{provide:Kr,useFactory:function CM(n,e,t,i,r,s,c={},h,p){const _=new Kr(null,n,e,t,i,r,UA(s));return h&&(_.urlHandlingStrategy=h),p&&(_.routeReuseStrategy=p),function O0(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(c,_),c.enableTracing&&_.events.subscribe(E=>{var S,P;null===(S=console.group)||void 0===S||S.call(console,`Router Event: ${E.constructor.name}`),console.log(E.toString()),console.log(E),null===(P=console.groupEnd)||void 0===P||P.call(console)}),_},deps:[lE,Rd,ce,o.zs3,o.Sil,Wp,Nd,[class gM{},new o.FiY],[class LE{},new o.FiY]]},Rd,{provide:kd,useFactory:function ON(n){return n.routerState.root},deps:[Kr]},$E,zE,class GE{preload(e,t){return t().pipe(oa(()=>N(null)))}},{provide:Nd,useValue:{enableTracing:!1}}];function x0(){return new o.PXZ("Router",Kr)}let ZE=(()=>{class n{constructor(t,i){}static forRoot(t,i){return{ngModule:n,providers:[w_,KE(t),{provide:WE,useFactory:YE,deps:[[Kr,new o.FiY,new o.tp0]]},{provide:Nd,useValue:i||{}},{provide:Oe,useFactory:R0,deps:[Te,[new o.tBr(yt),new o.FiY],Nd]},{provide:M0,useFactory:k0,deps:[Kr,mu,Nd]},{provide:wM,useExisting:i&&i.preloadingStrategy?i.preloadingStrategy:zE},{provide:o.PXZ,multi:!0,useFactory:x0},[N0,{provide:o.ip1,multi:!0,useFactory:QE,deps:[N0]},{provide:P0,useFactory:JE,deps:[N0]},{provide:o.tb,multi:!0,useExisting:P0}]]}}static forChild(t){return{ngModule:n,providers:[KE(t)]}}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(WE,8),o.LFG(Kr,8))},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();function k0(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new M0(n,e,t)}function R0(n,e,t={}){return t.useHash?new je(n,e):new Je(n,e)}function YE(n){return"guarded"}function KE(n){return[{provide:o.deG,multi:!0,useValue:n},{provide:Wp,multi:!0,useValue:n}]}let N0=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new D.x}appInitializer(){return this.injector.get(re,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let i=null;const r=new Promise(h=>i=h),s=this.injector.get(Kr),c=this.injector.get(Nd);return"disabled"===c.initialNavigation?(s.setUpLocationChangeListener(),i(!0)):"enabled"===c.initialNavigation||"enabledBlocking"===c.initialNavigation?(s.hooks.afterPreactivation=()=>this.initNavigation?N(null):(this.initNavigation=!0,i(!0),this.resultOfPreactivationDone),s.initialNavigation()):i(!0),r})}bootstrapListener(t){const i=this.injector.get(Nd),r=this.injector.get($E),s=this.injector.get(M0),c=this.injector.get(Kr),h=this.injector.get(o.z2F);t===h.components[0]&&(("enabledNonBlocking"===i.initialNavigation||void 0===i.initialNavigation)&&c.initialNavigation(),r.setUpPreloading(),s.init(),c.resetRootComponentType(h.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(o.zs3))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();function QE(n){return n.appInitializer.bind(n)}function JE(n){return n.bootstrapListener.bind(n)}const P0=new o.OlP("Router Initializer");var Oo=z(4986);function Jh(){return(0,Qn.e)((n,e)=>{let t,i=!1;n.subscribe((0,pi.x)(e,r=>{const s=t;t=r,i&&e.next([s,r]),i=!0}))})}function C_(n,e=C.y){return n=null!=n?n:TM,(0,Qn.e)((t,i)=>{let r,s=!0;t.subscribe((0,pi.x)(i,c=>{const h=e(c);(s||!n(r,h))&&(s=!1,r=h,i.next(c))}))})}function TM(n,e){return n===e}z(5881);var Et,Xh=z(3942),eT="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},il={},F0=F0||{},nn=eT||self;function Zp(){}function E_(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function ef(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var Yp="closure_uid_"+(1e9*Math.random()>>>0),IM=0;function SM(n,e,t){return n.call.apply(n.bind,arguments)}function tT(n,e,t){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(e,r)}}return function(){return n.apply(e,arguments)}}function ar(n,e,t){return(ar=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?SM:tT).apply(null,arguments)}function Kp(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var i=t.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function Is(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(i,r,s){for(var c=Array(arguments.length-2),h=2;h<arguments.length;h++)c[h-2]=arguments[h];return e.prototype[r].apply(i,c)}}function Ou(){this.s=this.s,this.o=this.o}var AM={};Ou.prototype.s=!1,Ou.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function DM(n){return Object.prototype.hasOwnProperty.call(n,Yp)&&n[Yp]||(n[Yp]=++IM)}(this);delete AM[n]}},Ou.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const nT=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},iT=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const i=n.length,r="string"==typeof n?n.split(""):n;for(let s=0;s<i;s++)s in r&&e.call(t,r[s],s,n)};function rl(n){return Array.prototype.concat.apply([],arguments)}function Qp(n){const e=n.length;if(0<e){const t=Array(e);for(let i=0;i<e;i++)t[i]=n[i];return t}return[]}function Jp(n){return/^[\s\xa0]*$/.test(n)}var ho,L0=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function Gs(n,e){return-1!=n.indexOf(e)}function T_(n,e){return n<e?-1:n>e?1:0}e:{var rT=nn.navigator;if(rT){var sT=rT.userAgent;if(sT){ho=sT;break e}}ho=""}function V0(n,e,t){for(const i in n)e.call(t,n[i],i,n)}function U0(n){const e={};for(const t in n)e[t]=n[t];return e}var xM="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function B0(n,e){let t,i;for(let r=1;r<arguments.length;r++){for(t in i=arguments[r],i)n[t]=i[t];for(let s=0;s<xM.length;s++)t=xM[s],Object.prototype.hasOwnProperty.call(i,t)&&(n[t]=i[t])}}function H0(n){return H0[" "](n),n}H0[" "]=Zp;var No,n,NN=Gs(ho,"Opera"),Xp=Gs(ho,"Trident")||Gs(ho,"MSIE"),D_=Gs(ho,"Edge"),j0=D_||Xp,G0=Gs(ho,"Gecko")&&!(Gs(ho.toLowerCase(),"webkit")&&!Gs(ho,"Edge"))&&!(Gs(ho,"Trident")||Gs(ho,"MSIE"))&&!Gs(ho,"Edge"),oT=Gs(ho.toLowerCase(),"webkit")&&!Gs(ho,"Edge");function RM(){var n=nn.document;return n?n.documentMode:void 0}e:{var aT="",lT=(n=ho,G0?/rv:([^\);]+)(\)|;)/.exec(n):D_?/Edge\/([\d\.]+)/.exec(n):Xp?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):oT?/WebKit\/(\S+)/.exec(n):NN?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(lT&&(aT=lT?lT[1]:""),Xp){var I_=RM();if(null!=I_&&I_>parseFloat(aT)){No=String(I_);break e}}No=aT}var cT={};var dT=nn.document&&Xp&&(RM()||parseInt(No,10))||void 0,$0=function(){if(!nn.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{nn.addEventListener("test",Zp,e),nn.removeEventListener("test",Zp,e)}catch(t){}return n}();function zs(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function Pd(n,e){if(zs.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(G0){e:{try{H0(e.nodeName);var r=!0;break e}catch(s){}r=!1}r||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:NM[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Pd.Z.h.call(this)}}zs.prototype.h=function(){this.defaultPrevented=!0},Is(Pd,zs);var NM={2:"touch",3:"pen",4:"mouse"};Pd.prototype.h=function(){Pd.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var em="closure_listenable_"+(1e6*Math.random()|0),PM=0;function FM(n,e,t,i,r){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!i,this.ia=r,this.key=++PM,this.ca=this.fa=!1}function S_(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function A_(n){this.src=n,this.g={},this.h=0}function nf(n,e){var t=e.type;if(t in n.g){var s,i=n.g[t],r=nT(i,e);(s=0<=r)&&Array.prototype.splice.call(i,r,1),s&&(S_(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function Nu(n,e,t,i){for(var r=0;r<n.length;++r){var s=n[r];if(!s.ca&&s.listener==e&&s.capture==!!t&&s.ia==i)return r}return-1}A_.prototype.add=function(n,e,t,i,r){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var c=Nu(n,e,i,r);return-1<c?(e=n[c],t||(e.fa=!1)):((e=new FM(e,this.src,s,!!i,r)).fa=t,n.push(e)),e};var q0="closure_lm_"+(1e6*Math.random()|0),Fd={};function hT(n,e,t,i,r){if(i&&i.once)return sl(n,e,t,i,r);if(Array.isArray(e)){for(var s=0;s<e.length;s++)hT(n,e[s],t,i,r);return null}return t=Fu(t),n&&n[em]?n.N(e,t,ef(i)?!!i.capture:!!i,r):fT(n,e,t,!1,i,r)}function fT(n,e,t,i,r,s){if(!e)throw Error("Invalid event type");var c=ef(r)?!!r.capture:!!r,h=Po(n);if(h||(n[q0]=h=new A_(n)),(t=h.add(e,t,i,c,s)).proxy)return t;if(i=function W0(){var e=M_;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=i,i.src=n,i.listener=t,n.addEventListener)$0||(r=c),void 0===r&&(r=!1),n.addEventListener(e.toString(),i,r);else if(n.attachEvent)n.attachEvent(Pu(e.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return t}function sl(n,e,t,i,r){if(Array.isArray(e)){for(var s=0;s<e.length;s++)sl(n,e[s],t,i,r);return null}return t=Fu(t),n&&n[em]?n.O(e,t,ef(i)?!!i.capture:!!i,r):fT(n,e,t,!0,i,r)}function rf(n,e,t,i,r){if(Array.isArray(e))for(var s=0;s<e.length;s++)rf(n,e[s],t,i,r);else i=ef(i)?!!i.capture:!!i,t=Fu(t),n&&n[em]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=Nu(s=n.g[e],t,i,r))&&(S_(s[t]),Array.prototype.splice.call(s,t,1),0==s.length&&(delete n.g[e],n.h--))):n&&(n=Po(n))&&(e=n.g[e.toString()],n=-1,e&&(n=Nu(e,t,i,r)),(t=-1<n?e[n]:null)&&ls(t))}function ls(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[em])nf(e.i,n);else{var t=n.type,i=n.proxy;e.removeEventListener?e.removeEventListener(t,i,n.capture):e.detachEvent?e.detachEvent(Pu(t),i):e.addListener&&e.removeListener&&e.removeListener(i),(t=Po(e))?(nf(t,n),0==t.h&&(t.src=null,e[q0]=null)):S_(n)}}}function Pu(n){return n in Fd?Fd[n]:Fd[n]="on"+n}function M_(n,e){if(n.ca)n=!0;else{e=new Pd(e,this);var t=n.listener,i=n.ia||n.src;n.fa&&ls(n),n=t.call(i,e)}return n}function Po(n){return(n=n[q0])instanceof A_?n:null}var tm="__closure_events_fn_"+(1e9*Math.random()>>>0);function Fu(n){return"function"==typeof n?n:(n[tm]||(n[tm]=function(e){return n.handleEvent(e)}),n[tm])}function Xi(){Ou.call(this),this.i=new A_(this),this.P=this,this.I=null}function lr(n,e){var t,i=n.I;if(i)for(t=[];i;i=i.I)t.push(i);if(n=n.P,i=e.type||e,"string"==typeof e)e=new zs(e,n);else if(e instanceof zs)e.target=e.target||n;else{var r=e;B0(e=new zs(i,n),r)}if(r=!0,t)for(var s=t.length-1;0<=s;s--){var c=e.g=t[s];r=Uc(c,i,!0,e)&&r}if(r=Uc(c=e.g=n,i,!0,e)&&r,r=Uc(c,i,!1,e)&&r,t)for(s=0;s<t.length;s++)r=Uc(c=e.g=t[s],i,!1,e)&&r}function Uc(n,e,t,i){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var r=!0,s=0;s<e.length;++s){var c=e[s];if(c&&!c.ca&&c.capture==t){var h=c.listener,p=c.ia||c.src;c.fa&&nf(n.i,c),r=!1!==h.call(p,i)&&r}}return r&&!i.defaultPrevented}Is(Xi,Ou),Xi.prototype[em]=!0,Xi.prototype.removeEventListener=function(n,e,t,i){rf(this,n,e,t,i)},Xi.prototype.M=function(){if(Xi.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],i=0;i<t.length;i++)S_(t[i]);delete n.g[e],n.h--}}this.I=null},Xi.prototype.N=function(n,e,t,i){return this.i.add(String(n),e,!1,t,i)},Xi.prototype.O=function(n,e,t,i){return this.i.add(String(n),e,!0,t,i)};var Lu=nn.JSON.stringify;function sf(){var n=Z0;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var k_,Ld=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new lf,n=>n.reset());class lf{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function pT(n){nn.setTimeout(()=>{throw n},0)}function x_(n,e){k_||function mT(){var n=nn.Promise.resolve(void 0);k_=function(){n.then(gT)}}(),R_||(k_(),R_=!0),Z0.add(n,e)}var R_=!1,Z0=new class af{constructor(){this.h=this.g=null}add(e,t){const i=Ld.get();i.set(e,t),this.h?this.h.next=i:this.g=i,this.h=i}};function gT(){for(var n;n=sf();){try{n.h.call(n.g)}catch(t){pT(t)}var e=Ld;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}R_=!1}function nm(n,e){Xi.call(this),this.h=n||1,this.g=e||nn,this.j=ar(this.kb,this),this.l=Date.now()}function O_(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function Y0(n,e,t){if("function"==typeof n)t&&(n=ar(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=ar(n.handleEvent,n)}return 2147483647<Number(e)?-1:nn.setTimeout(n,e||0)}function K0(n){n.g=Y0(()=>{n.g=null,n.i&&(n.i=!1,K0(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Is(nm,Xi),(Et=nm.prototype).da=!1,Et.S=null,Et.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),lr(this,"tick"),this.da&&(O_(this),this.start()))}},Et.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Et.M=function(){nm.Z.M.call(this),O_(this),delete this.g};class LM extends Ou{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:K0(this)}M(){super.M(),this.g&&(nn.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function cf(n){Ou.call(this),this.h=n,this.g={}}Is(cf,Ou);var Q0=[];function _T(n,e,t,i){Array.isArray(t)||(t&&(Q0[0]=t.toString()),t=Q0);for(var r=0;r<t.length;r++){var s=hT(e,t[r],i||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function yT(n){V0(n.g,function(e,t){this.g.hasOwnProperty(t)&&ls(e)},n),n.g={}}function im(){this.g=!0}function uf(n,e,t,i){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function PN(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var i=t[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var s=r[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var c=1;c<r.length;c++)r[c]=""}}}return Lu(t)}catch(h){return e}}(n,t)+(i?" "+i:"")})}cf.prototype.M=function(){cf.Z.M.call(this),yT(this)},cf.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},im.prototype.Aa=function(){this.g=!1},im.prototype.info=function(){};var Vd={},N_=null;function df(){return N_=N_||new Xi}function bT(n){zs.call(this,Vd.Ma,n)}function P_(n){const e=df();lr(e,new bT(e,n))}function BM(n,e){zs.call(this,Vd.STAT_EVENT,n),this.stat=e}function Fo(n){const e=df();lr(e,new BM(e,n))}function wT(n,e){zs.call(this,Vd.Na,n),this.size=e}function hf(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return nn.setTimeout(function(){n()},e)}Vd.Ma="serverreachability",Is(bT,zs),Vd.STAT_EVENT="statevent",Is(BM,zs),Vd.Na="timingevent",Is(wT,zs);var J0={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},CT={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Vu(){}function X0(){}Vu.prototype.h=null;var eb,rm={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function F_(){zs.call(this,"d")}function ff(){zs.call(this,"c")}function sm(){}function om(n,e,t,i){this.l=n,this.j=e,this.m=t,this.X=i||1,this.V=new cf(this),this.P=HM,this.W=new nm(n=j0?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new TT}function TT(){this.i=null,this.g="",this.h=!1}Is(F_,zs),Is(ff,zs),Is(sm,Vu),sm.prototype.g=function(){return new XMLHttpRequest},sm.prototype.i=function(){return{}},eb=new sm;var HM=45e3,tb={},L_={};function V_(n,e,t){n.K=1,n.v=cm(Pa(e)),n.s=t,n.U=!0,DT(n,null)}function DT(n,e){n.F=Date.now(),U_(n),n.A=Pa(n.v);var t=n.A,i=n.X;Array.isArray(i)||(i=[String(i)]),ub(t.h,"t",i),n.C=0,t=n.l.H,n.h=new TT,n.g=Ib(n.l,t?e:null,!n.s),0<n.O&&(n.L=new LM(ar(n.Ia,n,n.g),n.O)),_T(n.V,n.g,"readystatechange",n.gb),e=n.H?U0(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),P_(1),function VM(n,e,t,i,r,s){n.info(function(){if(n.g)if(s)for(var c="",h=s.split("&"),p=0;p<h.length;p++){var _=h[p].split("=");if(1<_.length){var E=_[0];_=_[1];var S=E.split("_");c=2<=S.length&&"type"==S[1]?c+(E+"=")+_+"&":c+(E+"=redacted&")}}else c=null;else c=s;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+"\n"+t+"\n"+c})}(n.j,n.u,n.A,n.m,n.X,n.s)}function nb(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function ib(n,e,t){let r,i=!0;for(;!n.I&&n.C<t.length;){if(r=rb(n,t),r==L_){4==e&&(n.o=4,Fo(14),i=!1),uf(n.j,n.m,null,"[Incomplete Response]");break}if(r==tb){n.o=4,Fo(15),uf(n.j,n.m,t,"[Invalid Chunk]"),i=!1;break}uf(n.j,n.m,r,null),G_(n,r)}nb(n)&&r!=L_&&r!=tb&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Fo(16),i=!1),n.i=n.i&&i,i?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),wf(e),e.L=!0,Fo(11))):(uf(n.j,n.m,t,"[Invalid Chunked Response]"),ol(n),j_(n))}function rb(n,e){var t=n.C,i=e.indexOf("\n",t);return-1==i?L_:(t=Number(e.substring(t,i)),isNaN(t)?tb:(i+=1)+t>e.length?L_:(e=e.substr(i,t),n.C=i+t,e))}function U_(n){n.Y=Date.now()+n.P,B_(n,n.P)}function B_(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=hf(ar(n.eb,n),e)}function H_(n){n.B&&(nn.clearTimeout(n.B),n.B=null)}function j_(n){0==n.l.G||n.I||Cb(n.l,n)}function ol(n){H_(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,O_(n.W),yT(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function G_(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||hb(t.i,n)))if(t.I=n.N,!n.J&&hb(t.i,n)&&3==t.G){try{var i=t.Ca.g.parse(e)}catch(_){i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0])e:if(t.u)t.ta=r[1],0<t.ta-t.U&&37500>r[2]&&t.N&&0==t.A&&!t.v&&(t.v=hf(ar(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<n.F))break e;ym(t),Q_(t)}_m(t),Fo(18)}if(1>=OT(t.i)&&t.ka){try{t.ka()}catch(_){}t.ka=void 0}}else Bu(t,11)}else if((n.J||t.g==n)&&ym(t),!Jp(e))for(r=t.Ca.g.parse(e),e=0;e<r.length;e++){let _=r[e];if(t.U=_[0],_=_[1],2==t.G)if("c"==_[0]){t.J=_[1],t.la=_[2];const E=_[3];null!=E&&(t.ma=E,t.h.info("VER="+t.ma));const S=_[4];null!=S&&(t.za=S,t.h.info("SVER="+t.za));const P=_[5];null!=P&&"number"==typeof P&&0<P&&(t.K=i=1.5*P,t.h.info("backChannelRequestTimeoutMs_="+i)),i=t;const H=n.g;if(H){const $=H.g?H.g.getResponseHeader("X-Client-Wire-Protocol"):null;if($){var s=i.i;!s.g&&(Gs($,"spdy")||Gs($,"quic")||Gs($,"h2"))&&(s.j=s.l,s.g=new Set,s.h&&(W_(s,s.h),s.h=null))}if(i.D){const ae=H.g?H.g.getResponseHeader("X-HTTP-Session-Id"):null;ae&&(i.sa=ae,Li(i.F,i.D,ae))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var c=n;if((i=t).oa=Db(i,i.H?i.la:null,i.W),c.J){NT(i.i,c);var h=c,p=i.K;p&&h.setTimeout(p),h.B&&(H_(h),U_(h)),i.g=c}else bb(i);0<t.l.length&&pm(t)}else"stop"!=_[0]&&"close"!=_[0]||Bu(t,7);else 3==t.G&&("stop"==_[0]||"close"==_[0]?"stop"==_[0]?Bu(t,7):jd(t):"noop"!=_[0]&&t.j&&t.j.wa(_),t.A=0)}P_(4)}catch(_){}}function am(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(E_(n)||"string"==typeof n)iT(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(E_(n)||"string"==typeof n){t=[];for(var i=n.length,r=0;r<i;r++)t.push(r)}else for(r in t=[],i=0,n)t[i++]=r;i=function sb(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(E_(n)){for(var e=[],t=n.length,i=0;i<t;i++)e.push(n[i]);return e}for(i in e=[],t=0,n)e[t++]=n[i];return e}(n),r=i.length;for(var s=0;s<r;s++)e.call(void 0,i[s],t&&t[s],n)}}function pf(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var i=0;i<t;i+=2)this.set(arguments[i],arguments[i+1])}else if(n)if(n instanceof pf)for(t=n.T(),i=0;i<t.length;i++)this.set(t[i],n.get(t[i]));else for(i in n)this.set(i,n[i])}function mf(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var i=n.g[e];$l(n.h,i)&&(n.g[t++]=i),e++}n.g.length=t}if(n.i!=n.g.length){var r={};for(t=e=0;e<n.g.length;)$l(r,i=n.g[e])||(n.g[t++]=i,r[i]=1),e++;n.g.length=t}}function $l(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(Et=om.prototype).setTimeout=function(n){this.P=n},Et.gb=function(n){n=n.target;const e=this.L;e&&3==Zl(n)?e.l():this.Ia(n)},Et.Ia=function(n){try{if(n==this.g)e:{const E=Zl(this.g);var e=this.g.Da();const S=this.g.ba();if(!(3>E)&&(3!=E||j0||this.g&&(this.h.h||this.g.ga()||VT(this.g)))){this.I||4!=E||7==e||P_(8==e||0>=S?3:2),H_(this);var t=this.g.ba();this.N=t;t:if(nb(this)){var i=VT(this.g);n="";var r=i.length,s=4==Zl(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){ol(this),j_(this);var c="";break t}this.h.i=new nn.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,n+=this.h.i.decode(i[e],{stream:s&&e==r-1});i.splice(0,r),this.h.g+=n,this.C=0,c=this.h.g}else c=this.g.ga();if(this.i=200==t,function vT(n,e,t,i,r,s,c){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+"\n"+t+"\n"+s+" "+c})}(this.j,this.u,this.A,this.m,this.X,E,t),this.i){if(this.$&&!this.J){t:{if(this.g){var h,p=this.g;if((h=p.g?p.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Jp(h)){var _=h;break t}}_=null}if(!(t=_)){this.i=!1,this.o=3,Fo(12),ol(this),j_(this);break e}uf(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,G_(this,t)}this.U?(ib(this,E,c),j0&&this.i&&3==E&&(_T(this.V,this.W,"tick",this.fb),this.W.start())):(uf(this.j,this.m,c,null),G_(this,c)),4==E&&ol(this),this.i&&!this.I&&(4==E?Cb(this.l,this):(this.i=!1,U_(this)))}else 400==t&&0<c.indexOf("Unknown SID")?(this.o=3,Fo(12)):(this.o=0,Fo(13)),ol(this),j_(this)}}}catch(E){}},Et.fb=function(){if(this.g){var n=Zl(this.g),e=this.g.ga();this.C<e.length&&(H_(this),ib(this,n,e),this.i&&4!=n&&U_(this))}},Et.cancel=function(){this.I=!0,ol(this)},Et.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function UM(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(P_(3),Fo(17)),ol(this),this.o=2,j_(this)):B_(this,this.Y-n)},(Et=pf.prototype).R=function(){mf(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},Et.T=function(){return mf(this),this.g.concat()},Et.get=function(n,e){return $l(this.h,n)?this.h[n]:e},Et.set=function(n,e){$l(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},Et.forEach=function(n,e){for(var t=this.T(),i=0;i<t.length;i++){var r=t[i],s=this.get(r);n.call(e,s,r,this)}};var z_=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Ud(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof Ud){this.g=void 0!==e?e:n.g,Bd(this,n.j),this.s=n.s,gf(this,n.i),lm(this,n.m),this.l=n.l,e=n.h;var t=new yf;t.i=e.i,e.g&&(t.g=new pf(e.g),t.h=e.h),$_(this,t),this.o=n.o}else n&&(t=String(n).match(z_))?(this.g=!!e,Bd(this,t[1]||"",!0),this.s=um(t[2]||""),gf(this,t[3]||"",!0),lm(this,t[4]),this.l=um(t[5]||"",!0),$_(this,t[6]||"",!0),this.o=um(t[7]||"")):(this.g=!!e,this.h=new yf(null,this.g))}function Pa(n){return new Ud(n)}function Bd(n,e,t){n.j=t?um(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function gf(n,e,t){n.i=t?um(e,!0):e}function lm(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function $_(n,e,t){e instanceof yf?(n.h=e,function xT(n,e){e&&!n.j&&(ql(n),n.i=null,n.g.forEach(function(t,i){var r=i.toLowerCase();i!=r&&(lb(this,i),ub(this,r,t))},n)),n.j=e}(n.h,n.g)):(t||(e=_f(e,AT)),n.h=new yf(e,n.g))}function Li(n,e,t){n.h.set(e,t)}function cm(n){return Li(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function um(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function _f(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,IT),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function IT(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Ud.prototype.toString=function(){var n=[],e=this.j;e&&n.push(_f(e,q_,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(_f(e,q_,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(_f(t,"/"==t.charAt(0)?jM:ST,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",_f(t,MT)),n.join("")};var q_=/[#\/\?@]/g,ST=/[#\?:]/g,jM=/[#\?]/g,AT=/[#\?@]/g,MT=/#/g;function yf(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function ql(n){n.g||(n.g=new pf,n.h=0,n.i&&function FN(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var i=n[t].indexOf("="),r=null;if(0<=i){var s=n[t].substring(0,i);r=n[t].substring(i+1)}else s=n[t];e(s,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function lb(n,e){ql(n),e=Hd(n,e),$l(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,$l((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&mf(n)))}function cb(n,e){return ql(n),e=Hd(n,e),$l(n.g.h,e)}function ub(n,e,t){lb(n,e),0<t.length&&(n.i=null,n.g.set(Hd(n,e),Qp(t)),n.h+=t.length)}function Hd(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function db(n){this.l=n||RT,n=nn.PerformanceNavigationTiming?0<(n=nn.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(nn.g&&nn.g.Ea&&nn.g.Ea()&&nn.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Et=yf.prototype).add=function(n,e){ql(this),this.i=null,n=Hd(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},Et.forEach=function(n,e){ql(this),this.g.forEach(function(t,i){iT(t,function(r){n.call(e,r,i,this)},this)},this)},Et.T=function(){ql(this);for(var n=this.g.R(),e=this.g.T(),t=[],i=0;i<e.length;i++)for(var r=n[i],s=0;s<r.length;s++)t.push(e[i]);return t},Et.R=function(n){ql(this);var e=[];if("string"==typeof n)cb(this,n)&&(e=rl(e,this.g.get(Hd(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=rl(e,n[t])}return e},Et.set=function(n,e){return ql(this),this.i=null,cb(this,n=Hd(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},Et.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},Et.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var i=e[t],r=encodeURIComponent(String(i));i=this.R(i);for(var s=0;s<i.length;s++){var c=r;""!==i[s]&&(c+="="+encodeURIComponent(String(i[s]))),n.push(c)}}return this.i=n.join("&")};var RT=10;function GM(n){return!!n.h||!!n.g&&n.g.size>=n.j}function OT(n){return n.h?1:n.g?n.g.size:0}function hb(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function W_(n,e){n.g?n.g.add(e):n.h=e}function NT(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function Fr(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return Qp(n.i)}function Z_(){}function zM(){this.g=new Z_}function $M(n,e,t){const i=t||"";try{am(n,function(r,s){let c=r;ef(r)&&(c=Lu(r)),e.push(i+s+"="+encodeURIComponent(c))})}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function Y_(n,e,t,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch(s){}}function vf(n){this.l=n.$b||null,this.j=n.ib||!1}function dm(n,e){Xi.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=Uu,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}db.prototype.cancel=function(){if(this.i=Fr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},Z_.prototype.stringify=function(n){return nn.JSON.stringify(n,void 0)},Z_.prototype.parse=function(n){return nn.JSON.parse(n,void 0)},Is(vf,Vu),vf.prototype.g=function(){return new dm(this.l,this.j)},vf.prototype.i=function(n){return function(){return n}}({}),Is(dm,Xi);var Uu=0;function FT(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function hm(n){n.readyState=4,n.l=null,n.j=null,n.A=null,bf(n)}function bf(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(Et=dm.prototype).open=function(n,e){if(this.readyState!=Uu)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,bf(this)},Et.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||nn).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},Et.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,hm(this)),this.readyState=Uu},Et.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,bf(this)),this.g&&(this.readyState=3,bf(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==nn.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;FT(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},Et.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?hm(this):bf(this),3==this.readyState&&FT(this)}},Et.Ua=function(n){this.g&&(this.response=this.responseText=n,hm(this))},Et.Ta=function(n){this.g&&(this.response=n,hm(this))},Et.ha=function(){this.g&&hm(this)},Et.setRequestHeader=function(n,e){this.v.append(n,e)},Et.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},Et.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(dm.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var qM=nn.JSON.parse;function wr(n){Xi.call(this),this.headers=new pf,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=WM,this.K=this.L=!1}Is(wr,Xi);var WM="",fb=/^https?$/i,pb=["POST","PUT"];function ZM(n){return"content-type"==n.toLowerCase()}function LT(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,al(n),Lo(n)}function al(n){n.D||(n.D=!0,lr(n,"complete"),lr(n,"error"))}function Fa(n){if(n.h&&void 0!==F0&&(!n.C[1]||4!=Zl(n)||2!=n.ba()))if(n.v&&4==Zl(n))Y0(n.Fa,0,n);else if(lr(n,"readystatechange"),4==Zl(n)){n.h=!1;try{const h=n.ba();e:switch(h){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var i;if(i=0===h){var r=String(n.H).match(z_)[1]||null;if(!r&&nn.self&&nn.self.location){var s=nn.self.location.protocol;r=s.substr(0,s.length-1)}i=!fb.test(r?r.toLowerCase():"")}t=i}if(t)lr(n,"complete"),lr(n,"success");else{n.m=6;try{var c=2<Zl(n)?n.g.statusText:""}catch(p){c=""}n.j=c+" ["+n.ba()+"]",al(n)}}finally{Lo(n)}}}function Lo(n,e){if(n.g){mb(n);const t=n.g,i=n.C[0]?Zp:null;n.g=null,n.C=null,e||lr(n,"ready");try{t.onreadystatechange=i}catch(r){}}}function mb(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(nn.clearTimeout(n.A),n.A=null)}function Zl(n){return n.g?n.g.readyState:0}function VT(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case WM:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function gb(n,e,t){e:{for(i in t){var i=!1;break e}i=!0}i||(t=function YM(n){let e="";return V0(n,function(t,i){e+=i,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Li(n,e,t))}function fm(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function K_(n){this.za=0,this.l=[],this.h=new im,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=fm("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=fm("baseRetryDelayMs",5e3,n),this.$a=fm("retryDelaySeedMs",1e4,n),this.Ya=fm("forwardChannelMaxRetries",2,n),this.ra=fm("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new db(n&&n.concurrentRequestLimit),this.Ca=new zM,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function jd(n){if(_b(n),3==n.G){var e=n.V++,t=Pa(n.F);Li(t,"SID",n.J),Li(t,"RID",e),Li(t,"TYPE","terminate"),gm(n,t),(e=new om(n,n.h,e,void 0)).K=2,e.v=cm(Pa(t)),t=!1,nn.navigator&&nn.navigator.sendBeacon&&(t=nn.navigator.sendBeacon(e.v.toString(),"")),!t&&nn.Image&&((new Image).src=e.v,t=!0),t||(e.g=Ib(e.l,null),e.g.ea(e.v)),e.F=Date.now(),U_(e)}Tb(n)}function Q_(n){n.g&&(wf(n),n.g.cancel(),n.g=null)}function _b(n){Q_(n),n.u&&(nn.clearTimeout(n.u),n.u=null),ym(n),n.i.cancel(),n.m&&("number"==typeof n.m&&nn.clearTimeout(n.m),n.m=null)}function yb(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&pm(n)}function pm(n){GM(n.i)||n.m||(n.m=!0,x_(n.Ha,n),n.C=0)}function mm(n,e){var t;t=e?e.m:n.V++;const i=Pa(n.F);Li(i,"SID",n.J),Li(i,"RID",t),Li(i,"AID",n.U),gm(n,i),n.o&&n.s&&gb(i,n.o,n.s),t=new om(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=vb(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),W_(n.i,t),V_(t,i,e)}function gm(n,e){n.j&&am({},function(t,i){Li(e,i,t)})}function vb(n,e,t){t=Math.min(n.l.length,t);var i=n.j?ar(n.j.Oa,n.j,n):null;e:{var r=n.l;let s=-1;for(;;){const c=["count="+t];-1==s?0<t?(s=r[0].h,c.push("ofs="+s)):s=0:c.push("ofs="+s);let h=!0;for(let p=0;p<t;p++){let _=r[p].h;const E=r[p].g;if(_-=s,0>_)s=Math.max(0,r[p].h-100),h=!1;else try{$M(E,c,"req"+_+"_")}catch(S){i&&i(E)}}if(h){i=c.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,i}function bb(n){n.g||n.u||(n.Y=1,x_(n.Ga,n),n.A=0)}function _m(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=hf(ar(n.Ga,n),Eb(n,n.A)),n.A++,0))}function wf(n){null!=n.B&&(nn.clearTimeout(n.B),n.B=null)}function wb(n){n.g=new om(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=Pa(n.oa);Li(e,"RID","rpc"),Li(e,"SID",n.J),Li(e,"CI",n.N?"0":"1"),Li(e,"AID",n.U),gm(n,e),Li(e,"TYPE","xmlhttp"),n.o&&n.s&&gb(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=cm(Pa(e)),t.s=null,t.U=!0,DT(t,n)}function ym(n){null!=n.v&&(nn.clearTimeout(n.v),n.v=null)}function Cb(n,e){var t=null;if(n.g==e){ym(n),wf(n),n.g=null;var i=2}else{if(!hb(n.i,e))return;t=e.D,NT(n.i,e),i=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==i){t=e.s?e.s.length:0,e=Date.now()-e.F;var r=n.C;lr(i=df(),new wT(i,t,e,r)),pm(n)}else bb(n);else if(3==(r=e.o)||0==r&&0<n.I||!(1==i&&function UT(n,e){return!(OT(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=hf(ar(n.Ha,n,e),Eb(n,n.C)),n.C++,0)))}(n,e)||2==i&&_m(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),r){case 1:Bu(n,5);break;case 4:Bu(n,10);break;case 3:Bu(n,6);break;default:Bu(n,2)}}function Eb(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function Bu(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var i=ar(n.jb,n);t||(t=new Ud("//www.google.com/images/cleardot.gif"),nn.location&&"http"==nn.location.protocol||Bd(t,"https"),cm(t)),function PT(n,e){const t=new im;if(nn.Image){const i=new Image;i.onload=Kp(Y_,t,i,"TestLoadImage: loaded",!0,e),i.onerror=Kp(Y_,t,i,"TestLoadImage: error",!1,e),i.onabort=Kp(Y_,t,i,"TestLoadImage: abort",!1,e),i.ontimeout=Kp(Y_,t,i,"TestLoadImage: timeout",!1,e),nn.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else e(!1)}(t.toString(),i)}else Fo(2);n.G=0,n.j&&n.j.va(e),Tb(n),_b(n)}function Tb(n){n.G=0,n.I=-1,n.j&&((0!=Fr(n.i).length||0!=n.l.length)&&(n.i.i.length=0,Qp(n.l),n.l.length=0),n.j.ua())}function Db(n,e,t){let i=function ob(n){return n instanceof Ud?Pa(n):new Ud(n,void 0)}(t);if(""!=i.i)e&&gf(i,e+"."+i.i),lm(i,i.m);else{const r=nn.location;i=function ab(n,e,t,i){var r=new Ud(null,void 0);return n&&Bd(r,n),e&&gf(r,e),t&&lm(r,t),i&&(r.l=i),r}(r.protocol,e?e+"."+r.hostname:r.hostname,+r.port,t)}return n.aa&&V0(n.aa,function(r,s){Li(i,s,r)}),t=n.sa,(e=n.D)&&t&&Li(i,e,t),Li(i,"VER",n.ma),gm(n,i),i}function Ib(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new wr(t&&n.Ba&&!n.qa?new vf({ib:!0}):n.qa)).L=n.H,e}function BT(){}function J_(){if(Xp&&!(10<=Number(dT)))throw Error("Environmental error: no available transport.")}function ua(n,e){Xi.call(this),this.g=new K_(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!Jp(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Jp(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Cf(this)}function HT(n){F_.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function jT(){ff.call(this),this.status=1}function Cf(n){this.g=n}(Et=wr.prototype).ea=function(n,e,t,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():eb.g(),this.C=function ET(n){return n.h||(n.h=n.i())}(this.u?this.u:eb),this.g.onreadystatechange=ar(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(s){return void LT(this,s)}n=t||"";const r=new pf(this.headers);i&&am(i,function(s,c){r.set(c,s)}),i=function MM(n){e:{var e=ZM;const t=n.length,i="string"==typeof n?n.split(""):n;for(let r=0;r<t;r++)if(r in i&&e.call(void 0,i[r],r,n)){e=r;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(r.T()),t=nn.FormData&&n instanceof nn.FormData,!(0<=nT(pb,e))||i||t||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),r.forEach(function(s,c){this.g.setRequestHeader(c,s)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{mb(this),0<this.B&&((this.K=function Wl(n){return Xp&&function uT(){return function kM(n){var e=cT;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=L0(String(No)).split("."),t=L0("9").split("."),i=Math.max(e.length,t.length);for(let c=0;0==n&&c<i;c++){var r=e[c]||"",s=t[c]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==r[0].length&&0==s[0].length)break;n=T_(0==r[1].length?0:parseInt(r[1],10),0==s[1].length?0:parseInt(s[1],10))||T_(0==r[2].length,0==s[2].length)||T_(r[2],s[2]),r=r[3],s=s[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ar(this.pa,this)):this.A=Y0(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){LT(this,s)}},Et.pa=function(){void 0!==F0&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,lr(this,"timeout"),this.abort(8))},Et.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,lr(this,"complete"),lr(this,"abort"),Lo(this))},Et.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Lo(this,!0)),wr.Z.M.call(this)},Et.Fa=function(){this.s||(this.F||this.v||this.l?Fa(this):this.cb())},Et.cb=function(){Fa(this)},Et.ba=function(){try{return 2<Zl(this)?this.g.status:-1}catch(n){return-1}},Et.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},Et.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),qM(e)}},Et.Da=function(){return this.m},Et.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(Et=K_.prototype).ma=8,Et.G=1,Et.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(e){}},Et.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const r=new om(this,this.h,n,void 0);let s=this.s;if(this.P&&(s?(s=U0(s),B0(s,this.P)):s=this.P),null===this.o&&(r.H=s),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var i=this.l[t];if(void 0===(i="__data__"in i.g&&"string"==typeof(i=i.g.__data__)?i.length:void 0))break;if(4096<(e+=i)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=vb(this,r,e),Li(t=Pa(this.F),"RID",n),Li(t,"CVER",22),this.D&&Li(t,"X-HTTP-Session-Id",this.D),gm(this,t),this.o&&s&&gb(t,this.o,s),W_(this.i,r),this.Ra&&Li(t,"TYPE","init"),this.ja?(Li(t,"$req",e),Li(t,"SID","null"),r.$=!0,V_(r,t,null)):V_(r,t,e),this.G=2}}else 3==this.G&&(n?mm(this,n):0==this.l.length||GM(this.i)||mm(this))},Et.Ga=function(){if(this.u=null,wb(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=hf(ar(this.bb,this),n)}},Et.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Fo(10),Q_(this),wb(this))},Et.ab=function(){null!=this.v&&(this.v=null,Q_(this),_m(this),Fo(19))},Et.jb=function(n){n?(this.h.info("Successfully pinged google.com"),Fo(2)):(this.h.info("Failed to ping google.com"),Fo(1))},(Et=BT.prototype).xa=function(){},Et.wa=function(){},Et.va=function(){},Et.ua=function(){},Et.Oa=function(){},J_.prototype.g=function(n,e){return new ua(n,e)},Is(ua,Xi),ua.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),x_(ar(n.hb,n,e))),Fo(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=Db(n,null,n.W),pm(n)},ua.prototype.close=function(){jd(this.g)},ua.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,yb(this.g,e)}else this.v?((e={}).__data__=Lu(n),yb(this.g,e)):yb(this.g,n)},ua.prototype.M=function(){this.g.j=null,delete this.j,jd(this.g),delete this.g,ua.Z.M.call(this)},Is(HT,F_),Is(jT,ff),Is(Cf,BT),Cf.prototype.xa=function(){lr(this.g,"a")},Cf.prototype.wa=function(n){lr(this.g,new HT(n))},Cf.prototype.va=function(n){lr(this.g,new jT(n))},Cf.prototype.ua=function(){lr(this.g,"b")},J_.prototype.createWebChannel=J_.prototype.g,ua.prototype.send=ua.prototype.u,ua.prototype.open=ua.prototype.m,ua.prototype.close=ua.prototype.close,J0.NO_ERROR=0,J0.TIMEOUT=8,J0.HTTP_ERROR=6,CT.COMPLETE="complete",X0.EventType=rm,rm.OPEN="a",rm.CLOSE="b",rm.ERROR="c",rm.MESSAGE="d",Xi.prototype.listen=Xi.prototype.N,wr.prototype.listenOnce=wr.prototype.O,wr.prototype.getLastError=wr.prototype.La,wr.prototype.getLastErrorCode=wr.prototype.Da,wr.prototype.getStatus=wr.prototype.ba,wr.prototype.getResponseJson=wr.prototype.Qa,wr.prototype.getResponseText=wr.prototype.ga,wr.prototype.send=wr.prototype.ea;var KM=il.createWebChannelTransport=function(){return new J_},QM=il.getStatEventTarget=function(){return df()},Sb=il.ErrorCode=J0,JM=il.EventType=CT,XM=il.Event=Vd,GT=il.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},ex=il.FetchXmlHttpFactory=vf,X_=il.WebChannel=X0,tx=il.XhrIo=wr;const zT="@firebase/firestore";class Ss{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ss.UNAUTHENTICATED=new Ss(null),Ss.GOOGLE_CREDENTIALS=new Ss("google-credentials-uid"),Ss.FIRST_PARTY=new Ss("first-party-uid"),Ss.MOCK_USER=new Ss("mock-user");let Ef="9.6.11";const Bc=new Nr.Yd("@firebase/firestore");function ey(){return Bc.logLevel}function nt(n,...e){if(Bc.logLevel<=Nr.in.DEBUG){const t=e.map(ty);Bc.debug(`Firestore (${Ef}): ${n}`,...t)}}function Cr(n,...e){if(Bc.logLevel<=Nr.in.ERROR){const t=e.map(ty);Bc.error(`Firestore (${Ef}): ${n}`,...t)}}function Tf(n,...e){if(Bc.logLevel<=Nr.in.WARN){const t=e.map(ty);Bc.warn(`Firestore (${Ef}): ${n}`,...t)}}function ty(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function Mt(n="Unexpected state"){const e=`FIRESTORE (${Ef}) INTERNAL ASSERTION FAILED: `+n;throw Cr(e),new Error(e)}function Xt(n,e){n||Mt()}function gt(n,e){return n}const Ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ze extends j.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class cs{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Gd{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class LN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Ss.UNAUTHENTICATED))}shutdown(){}}class Mb{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class VN{constructor(e){this.t=e,this.currentUser=Ss.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var i=this;let r=this.i;const s=_=>this.i!==r?(r=this.i,t(_)):Promise.resolve();let c=new cs;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new cs,e.enqueueRetryable(()=>s(this.currentUser))};const h=()=>{const _=c;e.enqueueRetryable((0,Pe.Z)(function*(){yield _.promise,yield s(i.currentUser)}))},p=_=>{nt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.auth.addAuthTokenListener(this.o),h()};this.t.onInit(_=>p(_)),setTimeout(()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?p(_):(nt("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new cs)}},0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(nt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Xt("string"==typeof i.accessToken),new Gd(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Xt(null===e||"string"==typeof e),new Ss(e)}}class qT{constructor(e,t,i){this.type="FirstParty",this.user=Ss.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const r=e.auth.getAuthHeaderValueForFirstParty([]);r&&this.headers.set("Authorization",r),i&&this.headers.set("X-Goog-Iam-Authorization-Token",i)}}class WT{constructor(e,t,i){this.h=e,this.l=t,this.m=i}getToken(){return Promise.resolve(new qT(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Ss.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class nx{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class $t{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,t){const i=s=>{null!=s.error&&nt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const c=s.token!==this.p;return this.p=s.token,nt("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>i(s))};const r=s=>{nt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.g.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.g.getImmediate({optional:!0});s?r(s):nt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Xt("string"==typeof t.token),this.p=t.token,new nx(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class da{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.I(i),this.T=i=>t.writeSequenceNumber(i))}I(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function ix(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}da.A=-1;class vm{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const r=ix(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<t&&(i+=e.charAt(r[s]%e.length))}return i}}function mn(n,e){return n<e?-1:n>e?1:0}function Hc(n,e,t){return n.length===e.length&&n.every((i,r)=>t(i,e[r]))}function bm(n){return n+"\0"}class gn{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ze(Ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ze(Ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Ze(Ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ze(Ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return gn.fromMillis(Date.now())}static fromDate(e){return gn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new gn(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?mn(this.nanoseconds,e.nanoseconds):mn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Qt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Qt(e)}static min(){return new Qt(new gn(0,0))}static max(){return new Qt(new gn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function xb(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function zd(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function ZT(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class Df{constructor(e,t,i){void 0===t?t=0:t>e.length&&Mt(),void 0===i?i=e.length-t:i>e.length-t&&Mt(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return 0===Df.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Df?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let r=0;r<i;r++){const s=e.get(r),c=t.get(r);if(s<c)return-1;if(s>c)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Hn extends Df{construct(e,t,i){return new Hn(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new Ze(Ie.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(r=>r.length>0))}return new Hn(t)}static emptyPath(){return new Hn([])}}const YT=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qr extends Df{construct(e,t,i){return new Qr(e,t,i)}static isValidIdentifier(e){return YT.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Qr(["__name__"])}static fromServerFormat(e){const t=[];let i="",r=0;const s=()=>{if(0===i.length)throw new Ze(Ie.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let c=!1;for(;r<e.length;){const h=e[r];if("\\"===h){if(r+1===e.length)throw new Ze(Ie.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[r+1];if("\\"!==p&&"."!==p&&"`"!==p)throw new Ze(Ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=p,r+=2}else"`"===h?(c=!c,r++):"."!==h||c?(i+=h,r++):(s(),r++)}if(s(),c)throw new Ze(Ie.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Qr(t)}static emptyPath(){return new Qr([])}}class If{constructor(e){this.fields=e,e.sort(Qr.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Hc(this.fields,e.fields,(t,i)=>t.isEqual(i))}}class Jr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Jr(t)}static fromUint8Array(e){const t=function(i){let r="";for(let s=0;s<i.length;++s)r+=String.fromCharCode(i[s]);return r}(e);return new Jr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let i=0;i<e.length;i++)t[i]=e.charCodeAt(i);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return mn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Jr.EMPTY_BYTE_STRING=new Jr("");const wm=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Hu(n){if(Xt(!!n),"string"==typeof n){let e=0;const t=wm.exec(n);if(Xt(!!t),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:cr(n.seconds),nanos:cr(n.nanos)}}function cr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function $d(n){return"string"==typeof n?Jr.fromBase64String(n):Jr.fromUint8Array(n)}function Sf(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function kb(n){const e=n.mapValue.fields.__previous_value__;return Sf(e)?kb(e):e}function Af(n){const e=Hu(n.mapValue.fields.__local_write_time__.timestampValue);return new gn(e.seconds,e.nanos)}class KT{constructor(e,t,i,r,s,c,h,p){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=c,this.autoDetectLongPolling=h,this.useFetchStreams=p}}class jc{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new jc("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof jc&&e.projectId===this.projectId&&e.database===this.database}}function ll(n){return null==n}function Gc(n){return 0===n&&1/n==-1/0}function QT(n){return"number"==typeof n&&Number.isInteger(n)&&!Gc(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class ft{constructor(e){this.path=e}static fromPath(e){return new ft(Hn.fromString(e))}static fromName(e){return new ft(Hn.fromString(e).popFirst(5))}static empty(){return new ft(Hn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Hn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Hn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ft(new Hn(e.slice()))}}const JT={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Rb={nullValue:"NULL_VALUE"};function ju(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Sf(n)?4:Nb(n)?9:10:Mt()}function cl(n,e){if(n===e)return!0;const t=ju(n);if(t!==ju(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Af(n).isEqual(Af(e));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const s=Hu(i.timestampValue),c=Hu(r.timestampValue);return s.seconds===c.seconds&&s.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return r=e,$d(n.bytesValue).isEqual($d(r.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,r){return cr(i.geoPointValue.latitude)===cr(r.geoPointValue.latitude)&&cr(i.geoPointValue.longitude)===cr(r.geoPointValue.longitude)}(n,e);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return cr(i.integerValue)===cr(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const s=cr(i.doubleValue),c=cr(r.doubleValue);return s===c?Gc(s)===Gc(c):isNaN(s)&&isNaN(c)}return!1}(n,e);case 9:return Hc(n.arrayValue.values||[],e.arrayValue.values||[],cl);case 10:return function(i,r){const s=i.mapValue.fields||{},c=r.mapValue.fields||{};if(xb(s)!==xb(c))return!1;for(const h in s)if(s.hasOwnProperty(h)&&(void 0===c[h]||!cl(s[h],c[h])))return!1;return!0}(n,e);default:return Mt()}var r}function Cm(n,e){return void 0!==(n.values||[]).find(t=>cl(t,e))}function zc(n,e){if(n===e)return 0;const t=ju(n),i=ju(e);if(t!==i)return mn(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return mn(n.booleanValue,e.booleanValue);case 2:return function(r,s){const c=cr(r.integerValue||r.doubleValue),h=cr(s.integerValue||s.doubleValue);return c<h?-1:c>h?1:c===h?0:isNaN(c)?isNaN(h)?0:-1:1}(n,e);case 3:return XT(n.timestampValue,e.timestampValue);case 4:return XT(Af(n),Af(e));case 5:return mn(n.stringValue,e.stringValue);case 6:return function(r,s){const c=$d(r),h=$d(s);return c.compareTo(h)}(n.bytesValue,e.bytesValue);case 7:return function(r,s){const c=r.split("/"),h=s.split("/");for(let p=0;p<c.length&&p<h.length;p++){const _=mn(c[p],h[p]);if(0!==_)return _}return mn(c.length,h.length)}(n.referenceValue,e.referenceValue);case 8:return function(r,s){const c=mn(cr(r.latitude),cr(s.latitude));return 0!==c?c:mn(cr(r.longitude),cr(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(r,s){const c=r.values||[],h=s.values||[];for(let p=0;p<c.length&&p<h.length;++p){const _=zc(c[p],h[p]);if(_)return _}return mn(c.length,h.length)}(n.arrayValue,e.arrayValue);case 10:return function(r,s){const c=r.fields||{},h=Object.keys(c),p=s.fields||{},_=Object.keys(p);h.sort(),_.sort();for(let E=0;E<h.length&&E<_.length;++E){const S=mn(h[E],_[E]);if(0!==S)return S;const P=zc(c[h[E]],p[_[E]]);if(0!==P)return P}return mn(h.length,_.length)}(n.mapValue,e.mapValue);default:throw Mt()}}function XT(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return mn(n,e);const t=Hu(n),i=Hu(e),r=mn(t.seconds,i.seconds);return 0!==r?r:mn(t.nanos,i.nanos)}function Mf(n){return eD(n)}function eD(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=Hu(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?$d(n.bytesValue).toBase64():"referenceValue"in n?ft.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(i){let r="[",s=!0;for(const c of i.values||[])s?s=!1:r+=",",r+=eD(c);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let s="{",c=!0;for(const h of r)c?c=!1:s+=",",s+=`${h}:${eD(i.fields[h])}`;return s+"}"}(n.mapValue):Mt();var e}function xf(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function tD(n){return!!n&&"integerValue"in n}function ny(n){return!!n&&"arrayValue"in n}function Ob(n){return!!n&&"nullValue"in n}function Em(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function iy(n){return!!n&&"mapValue"in n}function Tm(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return zd(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=Tm(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Tm(n.arrayValue.values[t]);return e}return Object.assign({},n)}function Nb(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function Dm(n){return"nullValue"in n?Rb:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?xf(jc.empty(),ft.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:Mt()}function sx(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?xf(jc.empty(),ft.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?JT:Mt()}function nD(n,e){return void 0===n?e:void 0===e||zc(n,e)>0?n:e}function iD(n,e){return void 0===n?e:void 0===e||zc(n,e)<0?n:e}class $s{constructor(e){this.value=e}static empty(){return new $s({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!iy(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Tm(t)}setAll(e){let t=Qr.emptyPath(),i={},r=[];e.forEach((c,h)=>{if(!t.isImmediateParentOf(h)){const p=this.getFieldsMap(t);this.applyChanges(p,i,r),i={},r=[],t=h.popLast()}c?i[h.lastSegment()]=Tm(c):r.push(h.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,i,r)}delete(e){const t=this.field(e.popLast());iy(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return cl(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];iy(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){zd(t,(r,s)=>e[r]=s);for(const r of i)delete e[r]}clone(){return new $s(Tm(this.value))}}function rD(n){const e=[];return zd(n.fields,(t,i)=>{const r=new Qr([t]);if(iy(i)){const s=rD(i.mapValue).fields;if(0===s.length)e.push(r);else for(const c of s)e.push(r.child(c))}else e.push(r)}),new If(e)}class Si{constructor(e,t,i,r,s,c){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.data=s,this.documentState=c}static newInvalidDocument(e){return new Si(e,0,Qt.min(),Qt.min(),$s.empty(),0)}static newFoundDocument(e,t,i){return new Si(e,1,t,Qt.min(),i,0)}static newNoDocument(e,t){return new Si(e,2,t,Qt.min(),$s.empty(),0)}static newUnknownDocument(e,t){return new Si(e,3,t,Qt.min(),$s.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=$s.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=$s.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Si&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Si(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ry{constructor(e,t,i,r){this.indexId=e,this.collectionGroup=t,this.fields=i,this.indexState=r}}function Pb(n){return n.fields.find(e=>2===e.kind)}function La(n){return n.fields.filter(e=>2!==e.kind)}ry.UNKNOWN_ID=-1;class sy{constructor(e,t){this.fieldPath=e,this.kind=t}}class kf{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new kf(0,$c.min())}}function sD(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=Qt.fromTimestamp(1e9===i?new gn(t+1,0):new gn(t,i));return new $c(r,ft.empty(),e)}function oD(n){return new $c(n.readTime,n.key,-1)}class $c{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new $c(Qt.min(),ft.empty(),-1)}static max(){return new $c(Qt.max(),ft.empty(),-1)}}function aD(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=ft.comparator(n.documentKey,e.documentKey),0!==t?t:mn(n.largestBatchId,e.largestBatchId))}class ox{constructor(e,t=null,i=[],r=[],s=null,c=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=c,this.endAt=h,this.P=null}}function oy(n,e=null,t=[],i=[],r=null,s=null,c=null){return new ox(n,e,t,i,r,s,c)}function qd(n){const e=gt(n);if(null===e.P){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>{return(r=i).field.canonicalString()+r.op.toString()+Mf(r.value);var r}).join(","),t+="|ob:",t+=e.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),ll(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Mf(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Mf(i)).join(",")),e.P=t}return e.P}function Rf(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<n.orderBy.length;r++)if(!hD(n.orderBy[r],e.orderBy[r]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let r=0;r<n.filters.length;r++)if((t=n.filters[r]).op!==(i=e.filters[r]).op||!t.field.isEqual(i.field)||!cl(t.value,i.value))return!1;var t,i;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!pD(n.startAt,e.startAt)&&pD(n.endAt,e.endAt)}function ay(n){return ft.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function ly(n,e){return n.filters.filter(t=>t instanceof As&&t.field.isEqual(e))}function cD(n,e,t){let i,r=!0;for(const s of ly(n,e)){let c,h=!0;switch(s.op){case"<":case"<=":c=Dm(s.value);break;case"==":case"in":case">=":c=s.value;break;case">":c=s.value,h=!1;break;case"!=":case"not-in":c=Rb}nD(i,c)===c&&(i=c,r=h)}if(null!==t)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(e)){const c=t.position[s];nD(i,c)===c&&(i=c,r=t.inclusive);break}return{value:i,inclusive:r}}function cy(n,e,t){let i,r=!0;for(const s of ly(n,e)){let c,h=!0;switch(s.op){case">=":case">":c=sx(s.value),h=!1;break;case"==":case"in":case"<=":c=s.value;break;case"<":c=s.value,h=!1;break;case"!=":case"not-in":c=JT}iD(i,c)===c&&(i=c,r=h)}if(null!==t)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(e)){const c=t.position[s];iD(i,c)===c&&(i=c,r=t.inclusive);break}return{value:i,inclusive:r}}class As extends class{}{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?"in"===t||"not-in"===t?this.V(e,t,i):new uD(e,t,i):"array-contains"===t?new cx(e,i):"in"===t?new ux(e,i):"not-in"===t?new dx(e,i):"array-contains-any"===t?new hx(e,i):new As(e,t,i)}static V(e,t,i){return"in"===t?new ax(e,i):new lx(e,i)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(zc(t,this.value)):null!==t&&ju(this.value)===ju(t)&&this.v(zc(t,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Mt()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class uD extends As{constructor(e,t,i){super(e,t,i),this.key=ft.fromName(i.referenceValue)}matches(e){const t=ft.comparator(e.key,this.key);return this.v(t)}}class ax extends As{constructor(e,t){super(e,"in",t),this.keys=dD(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class lx extends As{constructor(e,t){super(e,"not-in",t),this.keys=dD(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function dD(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(i=>ft.fromName(i.referenceValue))}class cx extends As{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return ny(t)&&Cm(t.arrayValue,this.value)}}class ux extends As{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Cm(this.value.arrayValue,t)}}class dx extends As{constructor(e,t){super(e,"not-in",t)}matches(e){if(Cm(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Cm(this.value.arrayValue,t)}}class hx extends As{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!ny(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>Cm(this.value.arrayValue,i))}}class Gu{constructor(e,t){this.position=e,this.inclusive=t}}class Wd{constructor(e,t="asc"){this.field=e,this.dir=t}}function hD(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function fD(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){const s=e[r],c=n.position[r];if(i=s.field.isKeyField()?ft.comparator(ft.fromName(c.referenceValue),t.key):zc(c,t.data.field(s.field)),"desc"===s.dir&&(i*=-1),0!==i)break}return i}function pD(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!cl(n.position[t],e.position[t]))return!1;return!0}class Yl{constructor(e,t=null,i=[],r=[],s=null,c="F",h=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=c,this.startAt=h,this.endAt=p,this.D=null,this.C=null}}function mD(n,e,t,i,r,s,c,h){return new Yl(n,e,t,i,r,s,c,h)}function Of(n){return new Yl(n)}function uy(n){return!ll(n.limit)&&"F"===n.limitType}function Nf(n){return!ll(n.limit)&&"L"===n.limitType}function Im(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function dy(n){for(const e of n.filters)if(e.S())return e.field;return null}function Sm(n){return null!==n.collectionGroup}function Pf(n){const e=gt(n);if(null===e.D){e.D=[];const t=dy(e),i=Im(e);if(null!==t&&null===i)t.isKeyField()||e.D.push(new Wd(t)),e.D.push(new Wd(Qr.keyField(),"asc"));else{let r=!1;for(const s of e.explicitOrderBy)e.D.push(s),s.field.isKeyField()&&(r=!0);if(!r){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.D.push(new Wd(Qr.keyField(),s))}}}return e.D}function Va(n){const e=gt(n);if(!e.C)if("F"===e.limitType)e.C=oy(e.path,e.collectionGroup,Pf(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const s of Pf(e))t.push(new Wd(s.field,"desc"===s.dir?"asc":"desc"));const i=e.endAt?new Gu(e.endAt.position,!e.endAt.inclusive):null,r=e.startAt?new Gu(e.startAt.position,!e.startAt.inclusive):null;e.C=oy(e.path,e.collectionGroup,t,e.filters,e.limit,i,r)}return e.C}function hy(n,e,t){return new Yl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Am(n,e){return Rf(Va(n),Va(e))&&n.limitType===e.limitType}function Fb(n){return`${qd(Va(n))}|lt:${n.limitType}`}function Lb(n){return`Query(target=${function lD(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(i=t).field.canonicalString()} ${i.op} ${Mf(i.value)}`;var i}).join(", ")}]`),ll(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(i=t).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>Mf(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>Mf(t)).join(",")),`Target(${e})`}(Va(n))}; limitType=${n.limitType})`}function fy(n,e){return e.isFoundDocument()&&function(t,i){const r=i.key.path;return null!==t.collectionGroup?i.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(r):ft.isDocumentKey(t.path)?t.path.isEqual(r):t.path.isImmediateParentOf(r)}(n,e)&&function(t,i){for(const r of t.explicitOrderBy)if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,e)&&function(t,i){for(const r of t.filters)if(!r.matches(i))return!1;return!0}(n,e)&&(i=e,!((t=n).startAt&&!function(r,s,c){const h=fD(r,s,c);return r.inclusive?h<=0:h<0}(t.startAt,Pf(t),i)||t.endAt&&!function(r,s,c){const h=fD(r,s,c);return r.inclusive?h>=0:h>0}(t.endAt,Pf(t),i)));var t,i}function gD(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Vb(n){return(e,t)=>{let i=!1;for(const r of Pf(n)){const s=BN(r,e,t);if(0!==s)return s;i=i||r.field.isKeyField()}return 0}}function BN(n,e,t){const i=n.field.isKeyField()?ft.comparator(e.key,t.key):function(r,s,c){const h=s.data.field(r),p=c.data.field(r);return null!==h&&null!==p?zc(h,p):Mt()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Mt()}}function _D(n,e){if(n.N){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Gc(e)?"-0":e}}function Mm(n){return{integerValue:""+n}}function yD(n,e){return QT(e)?Mm(e):_D(n,e)}class qc{constructor(){this._=void 0}}function xm(n,e,t){return n instanceof Zd?function(i,r){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&(s.fields.__previous_value__=r),{mapValue:s}}(t,e):n instanceof Yd?vD(n,e):n instanceof Kd?bD(n,e):function(i,r){const s=px(i,r),c=Ub(s)+Ub(i.k);return tD(s)&&tD(i.k)?Mm(c):_D(i.M,c)}(n,e)}function fx(n,e,t){return n instanceof Yd?vD(n,e):n instanceof Kd?bD(n,e):t}function px(n,e){return n instanceof Qd?tD(t=e)||(i=t)&&"doubleValue"in i?e:{integerValue:0}:null;var i,t}class Zd extends qc{}class Yd extends qc{constructor(e){super(),this.elements=e}}function vD(n,e){const t=py(e);for(const i of n.elements)t.some(r=>cl(r,i))||t.push(i);return{arrayValue:{values:t}}}class Kd extends qc{constructor(e){super(),this.elements=e}}function bD(n,e){let t=py(e);for(const i of n.elements)t=t.filter(r=>!cl(r,i));return{arrayValue:{values:t}}}class Qd extends qc{constructor(e,t){super(),this.M=e,this.k=t}}function Ub(n){return cr(n.integerValue||n.doubleValue)}function py(n){return ny(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class zu{constructor(e,t){this.field=e,this.transform=t}}class mx{constructor(e,t){this.version=e,this.transformResults=t}}class Er{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Er}static exists(e){return new Er(void 0,e)}static updateTime(e){return new Er(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Rm(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class my{}function gx(n,e,t){n instanceof Nm?function(i,r,s){const c=i.value.clone(),h=Jd(i.fieldTransforms,r,s.transformResults);c.setAll(h),r.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(n,e,t):n instanceof Ua?function(i,r,s){if(!Rm(i.precondition,r))return void r.convertToUnknownDocument(s.version);const c=Jd(i.fieldTransforms,r,s.transformResults),h=r.data;h.setAll(Bb(i)),h.setAll(c),r.convertToFoundDocument(s.version,h).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Om(n,e,t){var r;n instanceof Nm?function(i,r,s){if(!Rm(i.precondition,r))return;const c=i.value.clone(),h=vx(i.fieldTransforms,s,r);c.setAll(h),r.convertToFoundDocument(wD(r),c).setHasLocalMutations()}(n,e,t):n instanceof Ua?function(i,r,s){if(!Rm(i.precondition,r))return;const c=vx(i.fieldTransforms,s,r),h=r.data;h.setAll(Bb(i)),h.setAll(c),r.convertToFoundDocument(wD(r),h).setHasLocalMutations()}(n,e,t):Rm(n.precondition,r=e)&&r.convertToNoDocument(Qt.min())}function _x(n,e){let t=null;for(const i of n.fieldTransforms){const r=e.data.field(i.field),s=px(i.transform,r||null);null!=s&&(null==t&&(t=$s.empty()),t.set(i.field,s))}return t||null}function yx(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===i||t&&i&&Hc(t,i,(r,s)=>function km(n,e){return n.field.isEqual(e.field)&&(i=e.transform,(t=n.transform)instanceof Yd&&i instanceof Yd||t instanceof Kd&&i instanceof Kd?Hc(t.elements,i.elements,cl):t instanceof Qd&&i instanceof Qd?cl(t.k,i.k):t instanceof Zd&&i instanceof Zd);var t,i}(r,s))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,i}function wD(n){return n.isFoundDocument()?n.version:Qt.min()}class Nm extends my{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}}class Ua extends my{constructor(e,t,i,r,s=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}}function Bb(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function Jd(n,e,t){const i=new Map;Xt(n.length===t.length);for(let r=0;r<t.length;r++){const s=n[r],c=s.transform,h=e.data.field(s.field);i.set(s.field,fx(c,h,t[r]))}return i}function vx(n,e,t){const i=new Map;for(const r of n){const s=r.transform,c=t.data.field(r.field);i.set(r.field,xm(s,c,e))}return i}class Ff extends my{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class Hb extends my{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class HN{constructor(e){this.count=e}}var Tr,Jn;function jb(n){switch(n){default:return Mt();case Ie.CANCELLED:case Ie.UNKNOWN:case Ie.DEADLINE_EXCEEDED:case Ie.RESOURCE_EXHAUSTED:case Ie.INTERNAL:case Ie.UNAVAILABLE:case Ie.UNAUTHENTICATED:return!1;case Ie.INVALID_ARGUMENT:case Ie.NOT_FOUND:case Ie.ALREADY_EXISTS:case Ie.PERMISSION_DENIED:case Ie.FAILED_PRECONDITION:case Ie.ABORTED:case Ie.OUT_OF_RANGE:case Ie.UNIMPLEMENTED:case Ie.DATA_LOSS:return!0}}function gy(n){if(void 0===n)return Cr("GRPC error has no .code"),Ie.UNKNOWN;switch(n){case Tr.OK:return Ie.OK;case Tr.CANCELLED:return Ie.CANCELLED;case Tr.UNKNOWN:return Ie.UNKNOWN;case Tr.DEADLINE_EXCEEDED:return Ie.DEADLINE_EXCEEDED;case Tr.RESOURCE_EXHAUSTED:return Ie.RESOURCE_EXHAUSTED;case Tr.INTERNAL:return Ie.INTERNAL;case Tr.UNAVAILABLE:return Ie.UNAVAILABLE;case Tr.UNAUTHENTICATED:return Ie.UNAUTHENTICATED;case Tr.INVALID_ARGUMENT:return Ie.INVALID_ARGUMENT;case Tr.NOT_FOUND:return Ie.NOT_FOUND;case Tr.ALREADY_EXISTS:return Ie.ALREADY_EXISTS;case Tr.PERMISSION_DENIED:return Ie.PERMISSION_DENIED;case Tr.FAILED_PRECONDITION:return Ie.FAILED_PRECONDITION;case Tr.ABORTED:return Ie.ABORTED;case Tr.OUT_OF_RANGE:return Ie.OUT_OF_RANGE;case Tr.UNIMPLEMENTED:return Ie.UNIMPLEMENTED;case Tr.DATA_LOSS:return Ie.DATA_LOSS;default:return Mt()}}(Jn=Tr||(Tr={}))[Jn.OK=0]="OK",Jn[Jn.CANCELLED=1]="CANCELLED",Jn[Jn.UNKNOWN=2]="UNKNOWN",Jn[Jn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Jn[Jn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Jn[Jn.NOT_FOUND=5]="NOT_FOUND",Jn[Jn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Jn[Jn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Jn[Jn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Jn[Jn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Jn[Jn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Jn[Jn.ABORTED=10]="ABORTED",Jn[Jn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Jn[Jn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Jn[Jn.INTERNAL=13]="INTERNAL",Jn[Jn.UNAVAILABLE=14]="UNAVAILABLE",Jn[Jn.DATA_LOSS=15]="DATA_LOSS";class $u{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0!==i)for(const[r,s]of i)if(this.equalsFn(r,e))return s}has(e){return void 0!==this.get(e)}set(e,t){const i=this.mapKeyFn(e),r=this.inner[i];if(void 0===r)return this.inner[i]=[[e,t]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return void(r[s]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return 1===i.length?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){zd(this.inner,(t,i)=>{for(const[r,s]of i)e(r,s)})}isEmpty(){return ZT(this.inner)}size(){return this.innerSize}}class ur{constructor(e,t){this.comparator=e,this.root=t||Ms.EMPTY}insert(e,t){return new ur(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ms.BLACK,null,null))}remove(e){return new ur(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ms.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(0===i)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(0===r)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Pm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Pm(this.root,e,this.comparator,!1)}getReverseIterator(){return new Pm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Pm(this.root,e,this.comparator,!0)}}class Pm{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?i(e.key,t):1,t&&r&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ms{constructor(e,t,i,r,s){this.key=e,this.value=t,this.color=null!=i?i:Ms.RED,this.left=null!=r?r:Ms.EMPTY,this.right=null!=s?s:Ms.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,s){return new Ms(null!=e?e:this.key,null!=t?t:this.value,null!=i?i:this.color,null!=r?r:this.left,null!=s?s:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this;const s=i(e,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(e,t,i),null):0===s?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Ms.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Ms.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ms.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ms.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Mt();const e=this.left.check();if(e!==this.right.check())throw Mt();return e+(this.isRed()?0:1)}}Ms.EMPTY=null,Ms.RED=!0,Ms.BLACK=!1,Ms.EMPTY=new class{constructor(){this.size=0}get key(){throw Mt()}get value(){throw Mt()}get color(){throw Mt()}get left(){throw Mt()}get right(){throw Mt()}copy(n,e,t,i,r){return this}insert(n,e,t){return new Ms(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Vi{constructor(e){this.comparator=e,this.data=new ur(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new CD(this.data.getIterator())}getIteratorFrom(e){return new CD(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof Vi)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const r=t.getNext().key,s=i.getNext().key;if(0!==this.comparator(r,s))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Vi(this.comparator);return t.data=e,t}}class CD{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Lf(n){return n.hasNext()?n.getNext():void 0}const bx=new ur(ft.comparator);function Ba(){return bx}const wx=new ur(ft.comparator);function Xd(){return wx}function Vf(){return new $u(n=>n.toString(),(n,e)=>n.isEqual(e))}const ED=new ur(ft.comparator),TD=new Vi(ft.comparator);function oi(...n){let e=TD;for(const t of n)e=e.add(t);return e}const DD=new Vi(mn);function Fm(){return DD}class Lm{constructor(e,t,i,r,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t){const i=new Map;return i.set(e,Uf.createSynthesizedTargetChangeForCurrentChange(e,t)),new Lm(Qt.min(),i,Fm(),Ba(),oi())}}class Uf{constructor(e,t,i,r,s){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t){return new Uf(Jr.EMPTY_BYTE_STRING,t,oi(),oi(),oi())}}class Vm{constructor(e,t,i,r){this.O=e,this.removedTargetIds=t,this.key=i,this.F=r}}class Gb{constructor(e,t){this.targetId=e,this.$=t}}class zb{constructor(e,t,i=Jr.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}}class ID{constructor(){this.B=0,this.L=_y(),this.U=Jr.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}get current(){return this.q}get resumeToken(){return this.U}get G(){return 0!==this.B}get j(){return this.K}W(e){e.approximateByteSize()>0&&(this.K=!0,this.U=e)}H(){let e=oi(),t=oi(),i=oi();return this.L.forEach((r,s)=>{switch(s){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:Mt()}}),new Uf(this.U,this.q,e,t,i)}J(){this.K=!1,this.L=_y()}Y(e,t){this.K=!0,this.L=this.L.insert(e,t)}X(e){this.K=!0,this.L=this.L.remove(e)}Z(){this.B+=1}tt(){this.B-=1}et(){this.K=!0,this.q=!0}}class Um{constructor(e){this.nt=e,this.st=new Map,this.it=Ba(),this.rt=SD(),this.ot=new Vi(mn)}ut(e){for(const t of e.O)e.F&&e.F.isFoundDocument()?this.at(t,e.F):this.ct(t,e.key,e.F);for(const t of e.removedTargetIds)this.ct(t,e.key,e.F)}ht(e){this.forEachTarget(e,t=>{const i=this.lt(t);switch(e.state){case 0:this.ft(t)&&i.W(e.resumeToken);break;case 1:i.tt(),i.G||i.J(),i.W(e.resumeToken);break;case 2:i.tt(),i.G||this.removeTarget(t);break;case 3:this.ft(t)&&(i.et(),i.W(e.resumeToken));break;case 4:this.ft(t)&&(this.dt(t),i.W(e.resumeToken));break;default:Mt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((i,r)=>{this.ft(r)&&t(r)})}_t(e){const t=e.targetId,i=e.$.count,r=this.wt(t);if(r){const s=r.target;if(ay(s))if(0===i){const c=new ft(s.path);this.ct(t,c,Si.newNoDocument(c,Qt.min()))}else Xt(1===i);else this.gt(t)!==i&&(this.dt(t),this.ot=this.ot.add(t))}}yt(e){const t=new Map;this.st.forEach((s,c)=>{const h=this.wt(c);if(h){if(s.current&&ay(h.target)){const p=new ft(h.target.path);null!==this.it.get(p)||this.It(c,p)||this.ct(c,p,Si.newNoDocument(p,e))}s.j&&(t.set(c,s.H()),s.J())}});let i=oi();this.rt.forEach((s,c)=>{let h=!0;c.forEachWhile(p=>{const _=this.wt(p);return!_||2===_.purpose||(h=!1,!1)}),h&&(i=i.add(s))}),this.it.forEach((s,c)=>c.setReadTime(e));const r=new Lm(e,t,this.ot,this.it,i);return this.it=Ba(),this.rt=SD(),this.ot=new Vi(mn),r}at(e,t){if(!this.ft(e))return;const i=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,i),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Tt(t.key).add(e))}ct(e,t,i){if(!this.ft(e))return;const r=this.lt(e);this.It(e,t)?r.Y(t,1):r.X(t),this.rt=this.rt.insert(t,this.Tt(t).delete(e)),i&&(this.it=this.it.insert(t,i))}removeTarget(e){this.st.delete(e)}gt(e){const t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Z(e){this.lt(e).Z()}lt(e){let t=this.st.get(e);return t||(t=new ID,this.st.set(e,t)),t}Tt(e){let t=this.rt.get(e);return t||(t=new Vi(mn),this.rt=this.rt.insert(e,t)),t}ft(e){const t=null!==this.wt(e);return t||nt("WatchChangeAggregator","Detected inactive target",e),t}wt(e){const t=this.st.get(e);return t&&t.G?null:this.nt.Et(e)}dt(e){this.st.set(e,new ID),this.nt.getRemoteKeysForTarget(e).forEach(t=>{this.ct(e,t,null)})}It(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}function SD(){return new ur(ft.comparator)}function _y(){return new ur(ft.comparator)}const Kl={asc:"ASCENDING",desc:"DESCENDING"},Cx={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class $b{constructor(e,t){this.databaseId=e,this.N=t}}function Wc(n,e){return n.N?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function AD(n,e){return n.N?e.toBase64():e.toUint8Array()}function Ex(n,e){return Wc(n,e.toTimestamp())}function us(n){return Xt(!!n),Qt.fromTimestamp(function(e){const t=Hu(e);return new gn(t.seconds,t.nanos)}(n))}function Bf(n,e){return(t=n,new Hn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function Bm(n){const e=Hn.fromString(n);return Xt(Qb(e)),e}function Hm(n,e){return Bf(n.databaseId,e.path)}function Ql(n,e){const t=Bm(e);if(t.get(1)!==n.databaseId.projectId)throw new Ze(Ie.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ze(Ie.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ft(Wb(t))}function yy(n,e){return Bf(n.databaseId,e)}function qb(n){const e=Bm(n);return 4===e.length?Hn.emptyPath():Wb(e)}function eh(n){return new Hn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Wb(n){return Xt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function MD(n,e,t){return{name:Hm(n,e),fields:t.value.mapValue.fields}}function xD(n,e,t){const i=Ql(n,e.name),r=us(e.updateTime),s=new $s({mapValue:{fields:e.fields}}),c=Si.newFoundDocument(i,r,s);return t&&c.setHasCommittedMutations(),t?c.setHasCommittedMutations():c}function th(n,e){let t;if(e instanceof Nm)t={update:MD(n,e.key,e.value)};else if(e instanceof Ff)t={delete:Hm(n,e.key)};else if(e instanceof Ua)t={update:MD(n,e.key,e.data),updateMask:Dx(e.fieldMask)};else{if(!(e instanceof Hb))return Mt();t={verify:Hm(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(r,s){const c=s.transform;if(c instanceof Zd)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Yd)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Kd)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Qd)return{fieldPath:s.field.canonicalString(),increment:c.k};throw Mt()}(0,i))),e.precondition.isNone||(t.currentDocument=void 0!==(r=e.precondition).updateTime?{updateTime:Ex(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:Mt()),t;var r}function vy(n,e){const t=e.currentDocument?void 0!==(r=e.currentDocument).updateTime?Er.updateTime(us(r.updateTime)):void 0!==r.exists?Er.exists(r.exists):Er.none():Er.none(),i=e.updateTransforms?e.updateTransforms.map(r=>function(s,c){let h=null;"setToServerValue"in c?(Xt("REQUEST_TIME"===c.setToServerValue),h=new Zd):"appendMissingElements"in c?h=new Yd(c.appendMissingElements.values||[]):"removeAllFromArray"in c?h=new Kd(c.removeAllFromArray.values||[]):"increment"in c?h=new Qd(s,c.increment):Mt();const p=Qr.fromServerFormat(c.fieldPath);return new zu(p,h)}(n,r)):[];var r;if(e.update){const r=Ql(n,e.update.name),s=new $s({mapValue:{fields:e.update.fields}});if(e.updateMask){const c=new If((e.updateMask.fieldPaths||[]).map(_=>Qr.fromServerFormat(_)));return new Ua(r,s,c,t,i)}return new Nm(r,s,t,i)}if(e.delete){const r=Ql(n,e.delete);return new Ff(r,t)}if(e.verify){const r=Ql(n,e.verify);return new Hb(r,t)}return Mt()}function by(n,e){return{documents:[yy(n,e.path)]}}function kD(n,e){const t={structuredQuery:{}},i=e.path;null!==e.collectionGroup?(t.parent=yy(n,i),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=yy(n,i.popLast()),t.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(p){if(0===p.length)return;const _=p.map(E=>function(S){if("=="===S.op){if(Em(S.value))return{unaryFilter:{field:nh(S.field),op:"IS_NAN"}};if(Ob(S.value))return{unaryFilter:{field:nh(S.field),op:"IS_NULL"}}}else if("!="===S.op){if(Em(S.value))return{unaryFilter:{field:nh(S.field),op:"IS_NOT_NAN"}};if(Ob(S.value))return{unaryFilter:{field:nh(S.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:nh(S.field),op:Kb(S.op),value:S.value}}}(E));return 1===_.length?_[0]:{compositeFilter:{op:"AND",filters:_}}}(e.filters);r&&(t.structuredQuery.where=r);const s=function(p){if(0!==p.length)return p.map(_=>{return{field:nh((E=_).field),direction:ND(E.dir)};var E})}(e.orderBy);s&&(t.structuredQuery.orderBy=s);const c=(_=e.limit,n.N||ll(_)?_:{value:_});var _,h,p;return null!==c&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt={before:(h=e.startAt).inclusive,values:h.position}),e.endAt&&(t.structuredQuery.endAt={before:!(p=e.endAt).inclusive,values:p.position}),t}function RD(n){let e=qb(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let r=null;if(i>0){Xt(1===i);const E=t.from[0];E.allDescendants?r=E.collectionId:e=e.child(E.collectionId)}let s=[];t.where&&(s=OD(t.where));let c=[];t.orderBy&&(c=t.orderBy.map(E=>{return new Wd(ih((S=E).field),function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction));var S}));let h=null;t.limit&&(h=function(E){let S;return S="object"==typeof E?E.value:E,ll(S)?null:S}(t.limit));let p=null;var E;t.startAt&&(p=new Gu((E=t.startAt).values||[],!!E.before));let _=null;return t.endAt&&(_=function(E){return new Gu(E.values||[],!E.before)}(t.endAt)),mD(e,r,c,s,h,"F",p,_)}function OD(n){return n?void 0!==n.unaryFilter?[FD(n)]:void 0!==n.fieldFilter?[PD(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>OD(e)).reduce((e,t)=>e.concat(t)):Mt():[]}function ND(n){return Kl[n]}function Kb(n){return Cx[n]}function nh(n){return{fieldPath:n.canonicalString()}}function ih(n){return Qr.fromServerFormat(n.fieldPath)}function PD(n){return As.create(ih(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Mt()}}(n.fieldFilter.op),n.fieldFilter.value)}function FD(n){switch(n.unaryFilter.op){case"IS_NAN":const e=ih(n.unaryFilter.field);return As.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=ih(n.unaryFilter.field);return As.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=ih(n.unaryFilter.field);return As.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const r=ih(n.unaryFilter.field);return As.create(r,"!=",{nullValue:"NULL_VALUE"});default:return Mt()}}function Dx(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Qb(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function qs(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Jb(e)),e=Ix(n.get(t),e);return Jb(e)}function Ix(n,e){let t=e;const i=n.length;for(let r=0;r<i;r++){const s=n.charAt(r);switch(s){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=s}}return t}function Jb(n){return n+"\x01\x01"}function ul(n){const e=n.length;if(Xt(e>=2),2===e)return Xt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),Hn.emptyPath();const t=e-2,i=[];let r="";for(let s=0;s<e;){const c=n.indexOf("\x01",s);switch((c<0||c>t)&&Mt(),n.charAt(c+1)){case"\x01":const h=n.substring(s,c);let p;0===r.length?p=h:(r+=h,p=r,r=""),i.push(p);break;case"\x10":r+=n.substring(s,c),r+="\0";break;case"\x11":r+=n.substring(s,c+1);break;default:Mt()}s=c+2}return new Hn(i)}const Ws=["userId","batchId"];function Zc(n,e){return[n,qs(e)]}function LD(n,e,t){return[n,qs(e),t]}const Sx={},GN=["prefixPath","collectionGroup","readTime","documentId"],jm=["prefixPath","collectionGroup","documentId"],Ax=["collectionGroup","readTime","prefixPath","documentId"],Xb=["canonicalId","targetId"],Mx=["targetId","path"],VD=["path","targetId"],xx=["collectionId","parent"],kx=["indexId","uid"],ew=["uid","sequenceNumber"],UD=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],BD=["indexId","uid","orderedDocumentKey"],wy=["userId","collectionPath","documentId"],tw=["userId","collectionPath","largestBatchId"],zN=["userId","collectionGroup","largestBatchId"],nw=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Rx=[...nw,"documentOverlays"],iw=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Cy=[...iw,"indexConfiguration","indexState","indexEntries"],rw="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class HD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class Fe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Mt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Fe((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(t,s).next(i,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Fe?t:Fe.resolve(t)}catch(t){return Fe.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Fe.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Fe.reject(t)}static resolve(e){return new Fe((t,i)=>{t(e)})}static reject(e){return new Fe((t,i)=>{i(e)})}static waitFor(e){return new Fe((t,i)=>{let r=0,s=0,c=!1;e.forEach(h=>{++r,h.next(()=>{++s,c&&s===r&&t()},p=>i(p))}),c=!0,s===r&&t()})}static or(e){let t=Fe.resolve(!1);for(const i of e)t=t.next(r=>r?Fe.resolve(r):i());return t}static forEach(e,t){const i=[];return e.forEach((r,s)=>{i.push(t.call(this,r,s))}),this.waitFor(i)}}class Hf{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.At=new cs,this.transaction.oncomplete=()=>{this.At.resolve()},this.transaction.onabort=()=>{t.error?this.At.reject(new Gm(e,t.error)):this.At.resolve()},this.transaction.onerror=i=>{const r=Ey(i.target.error);this.At.reject(new Gm(e,r))}}static open(e,t,i,r){try{return new Hf(t,e.transaction(r,i))}catch(s){throw new Gm(t,s)}}get Rt(){return this.At.promise}abort(e){e&&this.At.reject(e),this.aborted||(nt("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}Pt(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new jD(t)}}class Jl{constructor(e,t,i){this.name=e,this.version=t,this.bt=i,12.2===Jl.Vt((0,j.z$)())&&Cr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return nt("SimpleDb","Removing database:",e),rh(window.indexedDB.deleteDatabase(e)).toPromise()}static vt(){if(!(0,j.hl)())return!1;if(Jl.St())return!0;const e=(0,j.z$)(),t=Jl.Vt(e),i=0<t&&t<10,r=Jl.Dt(e),s=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||s)}static St(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Ct)}static xt(e,t){return e.store(t)}static Vt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static Dt(e){const t=e.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}Nt(e){var t=this;return(0,Pe.Z)(function*(){return t.db||(nt("SimpleDb","Opening database:",t.name),t.db=yield new Promise((i,r)=>{const s=indexedDB.open(t.name,t.version);s.onsuccess=c=>{i(c.target.result)},s.onblocked=()=>{r(new Gm(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=c=>{const h=c.target.error;r("VersionError"===h.name?new Ze(Ie.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===h.name?new Ze(Ie.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+h):new Gm(e,h))},s.onupgradeneeded=c=>{nt("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',c.oldVersion),t.bt.kt(c.target.result,s.transaction,c.oldVersion,t.version).next(()=>{nt("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.Mt&&(t.db.onversionchange=i=>t.Mt(i)),t.db})()}Ot(e){this.Mt=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,i,r){var s=this;return(0,Pe.Z)(function*(){const c="readonly"===t;let h=0;for(;;){++h;try{s.db=yield s.Nt(e);const p=Hf.open(s.db,e,c?"readonly":"readwrite",i),_=r(p).next(E=>(p.Pt(),E)).catch(E=>(p.abort(E),Fe.reject(E))).toPromise();return _.catch(()=>{}),yield p.Rt,_}catch(p){const _="FirebaseError"!==p.name&&h<3;if(nt("SimpleDb","Transaction failed with error:",p.message,"Retrying:",_),s.close(),!_)return Promise.reject(p)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Ox{constructor(e){this.Ft=e,this.$t=!1,this.Bt=null}get isDone(){return this.$t}get Lt(){return this.Bt}set cursor(e){this.Ft=e}done(){this.$t=!0}Ut(e){this.Bt=e}delete(){return rh(this.Ft.delete())}}class Gm extends Ze{constructor(e,t){super(Ie.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function qu(n){return"IndexedDbTransactionError"===n.name}class jD{constructor(e){this.store=e}put(e,t){let i;return void 0!==t?(nt("SimpleDb","PUT",this.store.name,e,t),i=this.store.put(t,e)):(nt("SimpleDb","PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),rh(i)}add(e){return nt("SimpleDb","ADD",this.store.name,e,e),rh(this.store.add(e))}get(e){return rh(this.store.get(e)).next(t=>(void 0===t&&(t=null),nt("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return nt("SimpleDb","DELETE",this.store.name,e),rh(this.store.delete(e))}count(){return nt("SimpleDb","COUNT",this.store.name),rh(this.store.count())}qt(e,t){const i=this.options(e,t);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),s=[];return this.Kt(r,(c,h)=>{s.push(h)}).next(()=>s)}{const r=this.store.getAll(i.range);return new Fe((s,c)=>{r.onerror=h=>{c(h.target.error)},r.onsuccess=h=>{s(h.target.result)}})}}Gt(e,t){const i=this.store.getAll(e,null===t?void 0:t);return new Fe((r,s)=>{i.onerror=c=>{s(c.target.error)},i.onsuccess=c=>{r(c.target.result)}})}Qt(e,t){nt("SimpleDb","DELETE ALL",this.store.name);const i=this.options(e,t);i.jt=!1;const r=this.cursor(i);return this.Kt(r,(s,c,h)=>h.delete())}Wt(e,t){let i;t?i=e:(i={},t=e);const r=this.cursor(i);return this.Kt(r,t)}zt(e){const t=this.cursor({});return new Fe((i,r)=>{t.onerror=s=>{const c=Ey(s.target.error);r(c)},t.onsuccess=s=>{const c=s.target.result;c?e(c.primaryKey,c.value).next(h=>{h?c.continue():i()}):i()}})}Kt(e,t){const i=[];return new Fe((r,s)=>{e.onerror=c=>{s(c.target.error)},e.onsuccess=c=>{const h=c.target.result;if(!h)return void r();const p=new Ox(h),_=t(h.primaryKey,h.value,p);if(_ instanceof Fe){const E=_.catch(S=>(p.done(),Fe.reject(S)));i.push(E)}p.isDone?r():null===p.Lt?h.continue():h.continue(p.Lt)}}).next(()=>Fe.waitFor(i))}options(e,t){let i;return void 0!==e&&("string"==typeof e?i=e:t=e),{index:i,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const i=this.store.index(e.index);return e.jt?i.openKeyCursor(e.range,t):i.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function rh(n){return new Fe((e,t)=>{n.onsuccess=i=>{e(i.target.result)},n.onerror=i=>{const r=Ey(i.target.error);t(r)}})}let sw=!1;function Ey(n){const e=Jl.Vt((0,j.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const i=new Ze("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return sw||(sw=!0,setTimeout(()=>{throw i},0)),i}}return n}class GD extends HD{constructor(e,t){super(),this.Ht=e,this.currentSequenceNumber=t}}function ds(n,e){const t=gt(n);return Jl.xt(t.Ht,e)}class Ty{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(e.key)&&gx(s,e,i[r])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&Om(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&Om(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const i=e.get(t.key),r=i;this.applyToLocalView(r),i.isValidDocument()||r.convertToNoDocument(Qt.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),oi())}isEqual(e){return this.batchId===e.batchId&&Hc(this.mutations,e.mutations,(t,i)=>yx(t,i))&&Hc(this.baseMutations,e.baseMutations,(t,i)=>yx(t,i))}}class ow{constructor(e,t,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=r}static from(e,t,i){Xt(e.mutations.length===i.length);let r=ED;const s=e.mutations;for(let c=0;c<s.length;c++)r=r.insert(s[c].key,i[c].version);return new ow(e,t,i,r)}}class Dy{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Yc{constructor(e,t,i,r,s=Qt.min(),c=Qt.min(),h=Jr.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=h}withSequenceNumber(e){return new Yc(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Yc(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Yc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class aw{constructor(e){this.Jt=e}}function $D(n,e){const t=e.key,i={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Iy(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())i.document={name:Hm(r=n.Jt,(s=e).key),fields:s.data.value.mapValue.fields,updateTime:Wc(r,s.version.toTimestamp())};else if(e.isNoDocument())i.noDocument={path:t.path.toArray(),readTime:jf(e.version)};else{if(!e.isUnknownDocument())return Mt();i.unknownDocument={path:t.path.toArray(),version:jf(e.version)}}var r,s;return i}function Iy(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function jf(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Wu(n){const e=new gn(n.seconds,n.nanoseconds);return Qt.fromTimestamp(e)}function zm(n,e){const t=(e.baseMutations||[]).map(s=>vy(n.Jt,s));for(let s=0;s<e.mutations.length-1;++s){const c=e.mutations[s];s+1<e.mutations.length&&void 0!==e.mutations[s+1].transform&&(c.updateTransforms=e.mutations[s+1].transform.fieldTransforms,e.mutations.splice(s+1,1),++s)}const i=e.mutations.map(s=>vy(n.Jt,s)),r=gn.fromMillis(e.localWriteTimeMs);return new Ty(e.batchId,r,t,i)}function Sy(n){const e=Wu(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Wu(n.lastLimboFreeSnapshotVersion):Qt.min();let i;var r;return void 0!==n.query.documents?(Xt(1===(r=n.query).documents.length),i=Va(Of(qb(r.documents[0])))):i=Va(RD(n.query)),new Yc(i,n.targetId,0,n.lastListenSequenceNumber,e,t,Jr.fromBase64String(n.resumeToken))}function Nx(n,e){const t=jf(e.snapshotVersion),i=jf(e.lastLimboFreeSnapshotVersion);let r;r=ay(e.target)?by(n.Jt,e.target):kD(n.Jt,e.target);const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:qd(e.target),readTime:t,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function lw(n){const e=RD({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?hy(e,e.limit,"L"):e}function cw(n,e){return new Dy(e.largestBatchId,vy(n.Jt,e.overlayMutation))}function Px(n,e){const t=e.path.lastSegment();return[n,qs(e.path.popLast()),t]}class Fx{getBundleMetadata(e,t){return Lx(e).get(t).next(i=>{if(i)return{id:(r=i).bundleId,createTime:Wu(r.createTime),version:r.version};var r})}saveBundleMetadata(e,t){return Lx(e).put({bundleId:(i=t).id,createTime:jf(us(i.createTime)),version:i.version});var i}getNamedQuery(e,t){return $m(e).get(t).next(i=>{if(i)return{name:(r=i).name,query:lw(r.bundledQuery),readTime:Wu(r.readTime)};var r})}saveNamedQuery(e,t){return $m(e).put({name:(i=t).name,readTime:jf(us(i.readTime)),bundledQuery:i.bundledQuery});var i}}function Lx(n){return ds(n,"bundles")}function $m(n){return ds(n,"namedQueries")}class qD{constructor(e,t){this.M=e,this.userId=t}static Yt(e,t){return new qD(e,t.uid||"")}getOverlay(e,t){return Gf(e).get(Px(this.userId,t)).next(i=>i?cw(this.M,i):null)}saveOverlays(e,t,i){const r=[];return i.forEach((s,c)=>{const h=new Dy(t,c);r.push(this.Xt(e,h))}),Fe.waitFor(r)}removeOverlaysForBatchId(e,t,i){const r=new Set;t.forEach(c=>r.add(qs(c.getCollectionPath())));const s=[];return r.forEach(c=>{const h=IDBKeyRange.bound([this.userId,c,i],[this.userId,c,i+1],!1,!0);s.push(Gf(e).Qt("collectionPathOverlayIndex",h))}),Fe.waitFor(s)}getOverlaysForCollection(e,t,i){const r=Vf(),s=qs(t),c=IDBKeyRange.bound([this.userId,s,i],[this.userId,s,Number.POSITIVE_INFINITY],!0);return Gf(e).qt("collectionPathOverlayIndex",c).next(h=>{for(const p of h){const _=cw(this.M,p);r.set(_.getKey(),_)}return r})}getOverlaysForCollectionGroup(e,t,i,r){const s=Vf();let c;const h=IDBKeyRange.bound([this.userId,t,i],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Gf(e).Wt({index:"collectionGroupOverlayIndex",range:h},(p,_,E)=>{const S=cw(this.M,_);s.size()<r||S.largestBatchId===c?(s.set(S.getKey(),S),c=S.largestBatchId):E.done()}).next(()=>s)}Xt(e,t){return Gf(e).put(function(i,r,s){const[c,h,p]=Px(r,s.mutation.key);return{userId:r,collectionPath:h,documentId:p,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:th(i.Jt,s.mutation)}}(this.M,this.userId,t))}}function Gf(n){return ds(n,"documentOverlays")}class Kc{constructor(){}Zt(e,t){this.te(e,t),t.ee()}te(e,t){if("nullValue"in e)this.ne(t,5);else if("booleanValue"in e)this.ne(t,10),t.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(t,15),t.se(cr(e.integerValue));else if("doubleValue"in e){const i=cr(e.doubleValue);isNaN(i)?this.ne(t,13):(this.ne(t,15),Gc(i)?t.se(0):t.se(i))}else if("timestampValue"in e){const i=e.timestampValue;this.ne(t,20),"string"==typeof i?t.ie(i):(t.ie(`${i.seconds||""}`),t.se(i.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,t),this.oe(t);else if("bytesValue"in e)this.ne(t,30),t.ue($d(e.bytesValue)),this.oe(t);else if("referenceValue"in e)this.ae(e.referenceValue,t);else if("geoPointValue"in e){const i=e.geoPointValue;this.ne(t,45),t.se(i.latitude||0),t.se(i.longitude||0)}else"mapValue"in e?Nb(e)?this.ne(t,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,t),this.oe(t)):"arrayValue"in e?(this.he(e.arrayValue,t),this.oe(t)):Mt()}re(e,t){this.ne(t,25),this.le(e,t)}le(e,t){t.ie(e)}ce(e,t){const i=e.fields||{};this.ne(t,55);for(const r of Object.keys(i))this.re(r,t),this.te(i[r],t)}he(e,t){const i=e.values||[];this.ne(t,50);for(const r of i)this.te(r,t)}ae(e,t){this.ne(t,37),ft.fromName(e).path.forEach(i=>{this.ne(t,60),this.le(i,t)})}ne(e,t){e.se(t)}oe(e){e.se(2)}}function WD(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function uw(n){const e=64-function(t){let i=0;for(let r=0;r<8;++r){const s=WD(255&t[r]);if(i+=s,8!==s)break}return i}(n);return Math.ceil(e/8)}Kc.fe=new Kc;class $N{constructor(){this.buffer=new Uint8Array(1024),this.position=0}de(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this._e(i.value),i=t.next();this.we()}me(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.ge(i.value),i=t.next();this.ye()}pe(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this._e(i);else if(i<2048)this._e(960|i>>>6),this._e(128|63&i);else if(t<"\ud800"||"\udbff"<t)this._e(480|i>>>12),this._e(128|63&i>>>6),this._e(128|63&i);else{const r=t.codePointAt(0);this._e(240|r>>>18),this._e(128|63&r>>>12),this._e(128|63&r>>>6),this._e(128|63&r)}}this.we()}Ie(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.ge(i);else if(i<2048)this.ge(960|i>>>6),this.ge(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.ge(480|i>>>12),this.ge(128|63&i>>>6),this.ge(128|63&i);else{const r=t.codePointAt(0);this.ge(240|r>>>18),this.ge(128|63&r>>>12),this.ge(128|63&r>>>6),this.ge(128|63&r)}}this.ye()}Te(e){const t=this.Ee(e),i=uw(t);this.Ae(1+i),this.buffer[this.position++]=255&i;for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=255&t[r]}Re(e){const t=this.Ee(e),i=uw(t);this.Ae(1+i),this.buffer[this.position++]=~(255&i);for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}Pe(){this.be(255),this.be(255)}Ve(){this.ve(255),this.ve(255)}reset(){this.position=0}seed(e){this.Ae(e.length),this.buffer.set(e,this.position),this.position+=e.length}Se(){return this.buffer.slice(0,this.position)}Ee(e){const t=function(r){const s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,r,!1),new Uint8Array(s.buffer)}(e),i=0!=(128&t[0]);t[0]^=i?255:128;for(let r=1;r<t.length;++r)t[r]^=i?255:0;return t}_e(e){const t=255&e;0===t?(this.be(0),this.be(255)):255===t?(this.be(255),this.be(0)):this.be(t)}ge(e){const t=255&e;0===t?(this.ve(0),this.ve(255)):255===t?(this.ve(255),this.ve(0)):this.ve(e)}we(){this.be(0),this.be(1)}ye(){this.ve(0),this.ve(1)}be(e){this.Ae(1),this.buffer[this.position++]=e}ve(e){this.Ae(1),this.buffer[this.position++]=~e}Ae(e){const t=e+this.position;if(t<=this.buffer.length)return;let i=2*this.buffer.length;i<t&&(i=t);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class dw{constructor(e){this.De=e}ue(e){this.De.de(e)}ie(e){this.De.pe(e)}se(e){this.De.Te(e)}ee(){this.De.Pe()}}class ZD{constructor(e){this.De=e}ue(e){this.De.me(e)}ie(e){this.De.Ie(e)}se(e){this.De.Re(e)}ee(){this.De.Ve()}}class qm{constructor(){this.De=new $N,this.Ce=new dw(this.De),this.xe=new ZD(this.De)}seed(e){this.De.seed(e)}Ne(e){return 0===e?this.Ce:this.xe}Se(){return this.De.Se()}reset(){this.De.reset()}}class Qc{constructor(e,t,i,r){this.indexId=e,this.documentKey=t,this.arrayValue=i,this.directionalValue=r}ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,i=new Uint8Array(t);return i.set(this.directionalValue,0),t!==e?i.set([0],this.directionalValue.length):++i[i.length-1],new Qc(this.indexId,this.documentKey,this.arrayValue,i)}}function zf(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=YD(n.arrayValue,e.arrayValue),0!==t?t:(t=YD(n.directionalValue,e.directionalValue),0!==t?t:ft.comparator(n.documentKey,e.documentKey)))}function YD(n,e){for(let t=0;t<n.length&&t<e.length;++t){const i=n[t]-e[t];if(0!==i)return i}return n.length-e.length}class Vx{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Me=e.orderBy,this.Oe=[];for(const t of e.filters){const i=t;i.S()?this.Fe=i:this.Oe.push(i)}}$e(e){const t=Pb(e);if(void 0!==t&&!this.Be(t))return!1;const i=La(e);let r=0,s=0;for(;r<i.length&&this.Be(i[r]);++r);if(r===i.length)return!0;if(void 0!==this.Fe){const c=i[r];if(!this.Le(this.Fe,c)||!this.Ue(this.Me[s++],c))return!1;++r}for(;r<i.length;++r){const c=i[r];if(s>=this.Me.length||!this.Ue(this.Me[s++],c))return!1}return!0}Be(e){for(const t of this.Oe)if(this.Le(t,e))return!0;return!1}Le(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Ue(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class hw{constructor(){this.qe=new fw}addToCollectionParentIndex(e,t){return this.qe.add(t),Fe.resolve()}getCollectionParents(e,t){return Fe.resolve(this.qe.getEntries(t))}addFieldIndex(e,t){return Fe.resolve()}deleteFieldIndex(e,t){return Fe.resolve()}getDocumentsMatchingTarget(e,t){return Fe.resolve(null)}getFieldIndex(e,t){return Fe.resolve(null)}getFieldIndexes(e,t){return Fe.resolve([])}getNextCollectionGroupToUpdate(e){return Fe.resolve(null)}updateCollectionGroup(e,t,i){return Fe.resolve()}updateIndexEntries(e,t){return Fe.resolve()}}class fw{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new Vi(Hn.comparator),s=!r.has(i);return this.index[t]=r.add(i),s}has(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new Vi(Hn.comparator)).toArray()}}const Wm=new Uint8Array(0);class qN{constructor(e,t){this.user=e,this.databaseId=t,this.Ke=new fw,this.Ge=new $u(i=>qd(i),(i,r)=>Rf(i,r)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Ke.has(t)){const i=t.lastSegment(),r=t.popLast();e.addOnCommittedListener(()=>{this.Ke.add(t)});const s={collectionId:i,parent:qs(r)};return Ux(e).put(s)}return Fe.resolve()}getCollectionParents(e,t){const i=[],r=IDBKeyRange.bound([t,""],[bm(t),""],!1,!0);return Ux(e).qt(r).next(s=>{for(const c of s){if(c.collectionId!==t)break;i.push(ul(c.parent))}return i})}addFieldIndex(e,t){const i=Ay(e),r={indexId:(s=t).indexId,collectionGroup:s.collectionGroup,fields:s.fields.map(c=>[c.fieldPath.canonicalString(),c.kind])};var s;return delete r.indexId,i.add(r).next()}deleteFieldIndex(e,t){const i=Ay(e),r=My(e),s=Zm(e);return i.delete(t.indexId).next(()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const i=Zm(e);let r=!0;const s=new Map;return Fe.forEach(this.Qe(t),c=>this.getFieldIndex(e,c).next(h=>{r&&(r=!!h),s.set(c,h)})).next(()=>{if(r){let c=oi();const h=[];return Fe.forEach(s,(p,_)=>{var E;nt("IndexedDbIndexManager",`Using index ${E=p,`id=${E.indexId}|cg=${E.collectionGroup}|f=${E.fields.map(_t=>`${_t.fieldPath}:${_t.kind}`).join(",")}`} to execute ${qd(t)}`);const S=function(_t,ht){const Kt=Pb(ht);if(void 0===Kt)return null;for(const rn of ly(_t,Kt.fieldPath))switch(rn.op){case"array-contains-any":return rn.value.arrayValue.values||[];case"array-contains":return[rn.value]}return null}(_,p),P=function(_t,ht){const Kt=new Map;for(const rn of La(ht))for(const $n of ly(_t,rn.fieldPath))switch($n.op){case"==":case"in":Kt.set(rn.fieldPath.canonicalString(),$n.value);break;case"not-in":case"!=":return Kt.set(rn.fieldPath.canonicalString(),$n.value),Array.from(Kt.values())}return null}(_,p),H=function(_t,ht){const Kt=[];let rn=!0;for(const $n of La(ht)){const Sr=0===$n.kind?cD(_t,$n.fieldPath,_t.startAt):cy(_t,$n.fieldPath,_t.startAt);if(!Sr.value)return null;Kt.push(Sr.value),rn&&(rn=Sr.inclusive)}return new Gu(Kt,rn)}(_,p),$=function(_t,ht){const Kt=[];let rn=!0;for(const $n of La(ht)){const Sr=0===$n.kind?cy(_t,$n.fieldPath,_t.endAt):cD(_t,$n.fieldPath,_t.endAt);if(!Sr.value)return null;Kt.push(Sr.value),rn&&(rn=Sr.inclusive)}return new Gu(Kt,rn)}(_,p),ae=this.je(p,_,H),Ce=this.je(p,_,$),st=this.We(p,_,P),mt=this.ze(p.indexId,S,ae,!!H&&H.inclusive,Ce,!!$&&$.inclusive,st);return Fe.forEach(mt,_t=>i.Gt(_t,t.limit).next(ht=>{ht.forEach(Kt=>{const rn=ft.fromSegments(Kt.documentKey);c.has(rn)||(c=c.add(rn),h.push(rn))})}))}).next(()=>h)}return Fe.resolve(null)})}Qe(e){let t=this.Ge.get(e);return t||(t=[e],this.Ge.set(e,t),t)}ze(e,t,i,r,s,c,h){const p=(null!=t?t.length:1)*Math.max(null!=i?i.length:1,null!=s?s.length:1),_=p/(null!=t?t.length:1),E=[];for(let S=0;S<p;++S){const P=t?this.He(t[S/_]):Wm,H=i?this.Je(e,P,i[S%_],r):this.Ye(e),$=s?this.Xe(e,P,s[S%_],c):this.Ye(e+1);E.push(...this.createRange(H,$,h.map(ae=>this.Je(e,P,ae,!0))))}return E}Je(e,t,i,r){const s=new Qc(e,ft.empty(),t,i);return r?s:s.ke()}Xe(e,t,i,r){const s=new Qc(e,ft.empty(),t,i);return r?s.ke():s}Ye(e){return new Qc(e,ft.empty(),Wm,Wm)}getFieldIndex(e,t){const i=new Vx(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next(s=>{const c=s.filter(h=>i.$e(h));return c.sort((h,p)=>p.fields.length-h.fields.length),c.length>0?c[0]:null})}Ze(e,t){const i=new qm;for(const r of La(e)){const s=t.data.field(r.fieldPath);if(null==s)return null;const c=i.Ne(r.kind);Kc.fe.Zt(s,c)}return i.Se()}He(e){const t=new qm;return Kc.fe.Zt(e,t.Ne(0)),t.Se()}tn(e,t){const i=new qm;return Kc.fe.Zt(xf(this.databaseId,t),i.Ne(function(r){const s=La(r);return 0===s.length?0:s[s.length-1].kind}(e))),i.Se()}We(e,t,i){if(null===i)return[];let r=[];r.push(new qm);let s=0;for(const c of La(e)){const h=i[s++];for(const p of r)if(this.en(t,c.fieldPath)&&ny(h))r=this.nn(r,c,h);else{const _=p.Ne(c.kind);Kc.fe.Zt(h,_)}}return this.sn(r)}je(e,t,i){return null==i?null:this.We(e,t,i.position)}sn(e){const t=[];for(let i=0;i<e.length;++i)t[i]=e[i].Se();return t}nn(e,t,i){const r=[...e],s=[];for(const c of i.arrayValue.values||[])for(const h of r){const p=new qm;p.seed(h.Se()),Kc.fe.Zt(c,p.Ne(t.kind)),s.push(p)}return s}en(e,t){return!!e.filters.find(i=>i instanceof As&&i.field.isEqual(t)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(e,t){const i=Ay(e),r=My(e);return(t?i.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)):i.qt()).next(s=>{const c=[];return Fe.forEach(s,h=>r.get([h.indexId,this.uid]).next(p=>{c.push(function(_,E){const S=E?new kf(E.sequenceNumber,new $c(Wu(E.readTime),new ft(ul(E.documentKey)),E.largestBatchId)):kf.empty(),P=_.fields.map(([H,$])=>new sy(Qr.fromServerFormat(H),$));return new ry(_.indexId,_.collectionGroup,P,S)}(h,p))})).next(()=>c)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((i,r)=>{const s=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==s?s:mn(i.collectionGroup,r.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,i){const r=Ay(e),s=My(e);return this.rn(e).next(c=>r.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(h=>Fe.forEach(h,p=>{return s.put({indexId:p.indexId,uid:this.user.uid||"",sequenceNumber:c,readTime:jf((P=i).readTime),documentKey:qs(P.documentKey.path),largestBatchId:P.largestBatchId});var P})))}updateIndexEntries(e,t){const i=new Map;return Fe.forEach(t,(r,s)=>{const c=i.get(r.collectionGroup);return(c?Fe.resolve(c):this.getFieldIndexes(e,r.collectionGroup)).next(h=>(i.set(r.collectionGroup,h),Fe.forEach(h,p=>this.on(e,r,p).next(_=>{const E=this.un(s,p);return _.isEqual(E)?Fe.resolve():this.an(e,s,p,_,E)}))))})}cn(e,t,i,r){return Zm(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.tn(i,t.key),documentKey:t.key.path.toArray()})}hn(e,t,i,r){return Zm(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.tn(i,t.key),t.key.path.toArray()])}on(e,t,i){const r=Zm(e);let s=new Vi(zf);return r.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.tn(i,t)])},(c,h)=>{s=s.add(new Qc(i.indexId,t,h.arrayValue,h.directionalValue))}).next(()=>s)}un(e,t){let i=new Vi(zf);const r=this.Ze(t,e);if(null==r)return i;const s=Pb(t);if(null!=s){const c=e.data.field(s.fieldPath);if(ny(c))for(const h of c.arrayValue.values||[])i=i.add(new Qc(t.indexId,e.key,this.He(h),r))}else i=i.add(new Qc(t.indexId,e.key,Wm,r));return i}an(e,t,i,r,s){nt("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const c=[];return function(h,p,_,E,S){const P=h.getIterator(),H=p.getIterator();let $=Lf(P),ae=Lf(H);for(;$||ae;){let Ce=!1,st=!1;if($&&ae){const mt=_($,ae);mt<0?st=!0:mt>0&&(Ce=!0)}else null!=$?st=!0:Ce=!0;Ce?(E(ae),ae=Lf(H)):st?(S($),$=Lf(P)):($=Lf(P),ae=Lf(H))}}(r,s,zf,h=>{c.push(this.cn(e,t,i,h))},h=>{c.push(this.hn(e,t,i,h))}),Fe.waitFor(c)}rn(e){let t=1;return My(e).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,s)=>{s.done(),t=r.sequenceNumber+1}).next(()=>t)}createRange(e,t,i){i=i.sort((c,h)=>zf(c,h)).filter((c,h,p)=>!h||0!==zf(c,p[h-1]));const r=[];r.push(e);for(const c of i){const h=zf(c,e),p=zf(c,t);if(0===h)r[0]=e.ke();else if(h>0&&p<0)r.push(c),r.push(c.ke());else if(p>0)break}r.push(t);const s=[];for(let c=0;c<r.length;c+=2)s.push(IDBKeyRange.bound([r[c].indexId,this.uid,r[c].arrayValue,r[c].directionalValue,Wm,[]],[r[c+1].indexId,this.uid,r[c+1].arrayValue,r[c+1].directionalValue,Wm,[]]));return s}}function Ux(n){return ds(n,"collectionParents")}function Zm(n){return ds(n,"indexEntries")}function Ay(n){return ds(n,"indexConfiguration")}function My(n){return ds(n,"indexState")}const Bx={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Vo{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new Vo(e,Vo.DEFAULT_COLLECTION_PERCENTILE,Vo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function xy(n,e,t){const i=n.store("mutations"),r=n.store("documentMutations"),s=[],c=IDBKeyRange.only(t.batchId);let h=0;const p=i.Wt({range:c},(E,S,P)=>(h++,P.delete()));s.push(p.next(()=>{Xt(1===h)}));const _=[];for(const E of t.mutations){const S=LD(e,E.key.path,t.batchId);s.push(r.delete(S)),_.push(E.key)}return Fe.waitFor(s).next(()=>_)}function ky(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw Mt();e=n.noDocument}return JSON.stringify(e).length}Vo.DEFAULT_COLLECTION_PERCENTILE=10,Vo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Vo.DEFAULT=new Vo(41943040,Vo.DEFAULT_COLLECTION_PERCENTILE,Vo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Vo.DISABLED=new Vo(-1,0,0);class ha{constructor(e,t,i,r){this.userId=e,this.M=t,this.indexManager=i,this.referenceDelegate=r,this.ln={}}static Yt(e,t,i,r){Xt(""!==e.uid);const s=e.isAuthenticated()?e.uid:"";return new ha(s,t,i,r)}checkEmpty(e){let t=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Xl(e).Wt({index:"userMutationsIndex",range:i},(r,s,c)=>{t=!1,c.done()}).next(()=>t)}addMutationBatch(e,t,i,r){const s=$f(e),c=Xl(e);return c.add({}).next(h=>{Xt("number"==typeof h);const p=new Ty(h,t,i,r),_=function(P,H,$){const ae=$.baseMutations.map(st=>th(P.Jt,st)),Ce=$.mutations.map(st=>th(P.Jt,st));return{userId:H,batchId:$.batchId,localWriteTimeMs:$.localWriteTime.toMillis(),baseMutations:ae,mutations:Ce}}(this.M,this.userId,p),E=[];let S=new Vi((P,H)=>mn(P.canonicalString(),H.canonicalString()));for(const P of r){const H=LD(this.userId,P.key.path,h);S=S.add(P.key.path.popLast()),E.push(c.put(_)),E.push(s.put(H,Sx))}return S.forEach(P=>{E.push(this.indexManager.addToCollectionParentIndex(e,P))}),e.addOnCommittedListener(()=>{this.ln[h]=p.keys()}),Fe.waitFor(E).next(()=>p)})}lookupMutationBatch(e,t){return Xl(e).get(t).next(i=>i?(Xt(i.userId===this.userId),zm(this.M,i)):null)}fn(e,t){return this.ln[t]?Fe.resolve(this.ln[t]):this.lookupMutationBatch(e,t).next(i=>{if(i){const r=i.keys();return this.ln[t]=r,r}return null})}getNextMutationBatchAfterBatchId(e,t){const i=t+1,r=IDBKeyRange.lowerBound([this.userId,i]);let s=null;return Xl(e).Wt({index:"userMutationsIndex",range:r},(c,h,p)=>{h.userId===this.userId&&(Xt(h.batchId>=i),s=zm(this.M,h)),p.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return Xl(e).Wt({index:"userMutationsIndex",range:t,reverse:!0},(r,s,c)=>{i=s.batchId,c.done()}).next(()=>i)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Xl(e).qt("userMutationsIndex",t).next(i=>i.map(r=>zm(this.M,r)))}getAllMutationBatchesAffectingDocumentKey(e,t){const i=Zc(this.userId,t.path),r=IDBKeyRange.lowerBound(i),s=[];return $f(e).Wt({range:r},(c,h,p)=>{const[_,E,S]=c,P=ul(E);if(_===this.userId&&t.path.isEqual(P))return Xl(e).get(S).next(H=>{if(!H)throw Mt();Xt(H.userId===this.userId),s.push(zm(this.M,H))});p.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Vi(mn);const r=[];return t.forEach(s=>{const c=Zc(this.userId,s.path),h=IDBKeyRange.lowerBound(c),p=$f(e).Wt({range:h},(_,E,S)=>{const[P,H,$]=_,ae=ul(H);P===this.userId&&s.path.isEqual(ae)?i=i.add($):S.done()});r.push(p)}),Fe.waitFor(r).next(()=>this.dn(e,i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1,s=Zc(this.userId,i),c=IDBKeyRange.lowerBound(s);let h=new Vi(mn);return $f(e).Wt({range:c},(p,_,E)=>{const[S,P,H]=p,$=ul(P);S===this.userId&&i.isPrefixOf($)?$.length===r&&(h=h.add(H)):E.done()}).next(()=>this.dn(e,h))}dn(e,t){const i=[],r=[];return t.forEach(s=>{r.push(Xl(e).get(s).next(c=>{if(null===c)throw Mt();Xt(c.userId===this.userId),i.push(zm(this.M,c))}))}),Fe.waitFor(r).next(()=>i)}removeMutationBatch(e,t){return xy(e.Ht,this.userId,t).next(i=>(e.addOnCommittedListener(()=>{this._n(t.batchId)}),Fe.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(e,r))))}_n(e){delete this.ln[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return Fe.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return $f(e).Wt({range:i},(s,c,h)=>{if(s[0]===this.userId){const p=ul(s[1]);r.push(p)}else h.done()}).next(()=>{Xt(0===r.length)})})}containsKey(e,t){return KD(e,this.userId,t)}wn(e){return QD(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function KD(n,e,t){const i=Zc(e,t.path),r=i[1],s=IDBKeyRange.lowerBound(i);let c=!1;return $f(n).Wt({range:s,jt:!0},(h,p,_)=>{const[E,S,P]=h;E===e&&S===r&&(c=!0),_.done()}).next(()=>c)}function Xl(n){return ds(n,"mutations")}function $f(n){return ds(n,"documentMutations")}function QD(n){return ds(n,"mutationQueues")}class Jc{constructor(e){this.mn=e}next(){return this.mn+=2,this.mn}static gn(){return new Jc(0)}static yn(){return new Jc(-1)}}class JD{constructor(e,t){this.referenceDelegate=e,this.M=t}allocateTargetId(e){return this.pn(e).next(t=>{const i=new Jc(t.highestTargetId);return t.highestTargetId=i.next(),this.In(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.pn(e).next(t=>Qt.fromTimestamp(new gn(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.pn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,i){return this.pn(e).next(r=>(r.highestListenSequenceNumber=t,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.In(e,r)))}addTargetData(e,t){return this.Tn(e,t).next(()=>this.pn(e).next(i=>(i.targetCount+=1,this.En(t,i),this.In(e,i))))}updateTargetData(e,t){return this.Tn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>sh(e).delete(t.targetId)).next(()=>this.pn(e)).next(i=>(Xt(i.targetCount>0),i.targetCount-=1,this.In(e,i)))}removeTargets(e,t,i){let r=0;const s=[];return sh(e).Wt((c,h)=>{const p=Sy(h);p.sequenceNumber<=t&&null===i.get(p.targetId)&&(r++,s.push(this.removeTargetData(e,p)))}).next(()=>Fe.waitFor(s)).next(()=>r)}forEachTarget(e,t){return sh(e).Wt((i,r)=>{const s=Sy(r);t(s)})}pn(e){return XD(e).get("targetGlobalKey").next(t=>(Xt(null!==t),t))}In(e,t){return XD(e).put("targetGlobalKey",t)}Tn(e,t){return sh(e).put(Nx(this.M,t))}En(e,t){let i=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,i=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,i=!0),i}getTargetCount(e){return this.pn(e).next(t=>t.targetCount)}getTargetData(e,t){const i=qd(t),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let s=null;return sh(e).Wt({range:r,index:"queryTargetsIndex"},(c,h,p)=>{const _=Sy(h);Rf(t,_.target)&&(s=_,p.done())}).next(()=>s)}addMatchingKeys(e,t,i){const r=[],s=Xc(e);return t.forEach(c=>{const h=qs(c.path);r.push(s.put({targetId:i,path:h})),r.push(this.referenceDelegate.addReference(e,i,c))}),Fe.waitFor(r)}removeMatchingKeys(e,t,i){const r=Xc(e);return Fe.forEach(t,s=>{const c=qs(s.path);return Fe.waitFor([r.delete([i,c]),this.referenceDelegate.removeReference(e,i,s)])})}removeMatchingKeysForTargetId(e,t){const i=Xc(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(e,t){const i=IDBKeyRange.bound([t],[t+1],!1,!0),r=Xc(e);let s=oi();return r.Wt({range:i,jt:!0},(c,h,p)=>{const _=ul(c[1]),E=new ft(_);s=s.add(E)}).next(()=>s)}containsKey(e,t){const i=qs(t.path),r=IDBKeyRange.bound([i],[bm(i)],!1,!0);let s=0;return Xc(e).Wt({index:"documentTargetsIndex",jt:!0,range:r},([c,h],p,_)=>{0!==c&&(s++,_.done())}).next(()=>s>0)}Et(e,t){return sh(e).get(t).next(i=>i?Sy(i):null)}}function sh(n){return ds(n,"targets")}function XD(n){return ds(n,"targetGlobal")}function Xc(n){return ds(n,"targetDocuments")}function oh(n){return pw.apply(this,arguments)}function pw(){return pw=(0,Pe.Z)(function*(n){if(n.code!==Ie.FAILED_PRECONDITION||n.message!==rw)throw n;nt("LocalStore","Unexpectedly lost primary lease")}),pw.apply(this,arguments)}function eI([n,e],[t,i]){const r=mn(n,t);return 0===r?mn(e,i):r}class mw{constructor(e){this.An=e,this.buffer=new Vi(eI),this.Rn=0}Pn(){return++this.Rn}bn(e){const t=[e,this.Pn()];if(this.buffer.size<this.An)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();eI(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class dl{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.Vn=!1,this.vn=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Sn(e)}stop(){this.vn&&(this.vn.cancel(),this.vn=null)}get started(){return null!==this.vn}Sn(e){var t=this;const i=this.Vn?3e5:6e4;nt("LruGarbageCollector",`Garbage collection scheduled in ${i}ms`),this.vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",i,(0,Pe.Z)(function*(){t.vn=null,t.Vn=!0;try{yield e.collectGarbage(t.garbageCollector)}catch(r){qu(r)?nt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield oh(r)}yield t.Sn(e)}))}}class Hx{constructor(e,t){this.Dn=e,this.params=t}calculateTargetCount(e,t){return this.Dn.Cn(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(0===t)return Fe.resolve(da.A);const i=new mw(t);return this.Dn.forEachTarget(e,r=>i.bn(r.sequenceNumber)).next(()=>this.Dn.xn(e,r=>i.bn(r))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.Dn.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.Dn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(nt("LruGarbageCollector","Garbage collection skipped; disabled"),Fe.resolve(Bx)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(nt("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Bx):this.Nn(e,t))}getCacheSize(e){return this.Dn.getCacheSize(e)}Nn(e,t){let i,r,s,c,h,p,_;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(S=>(S>this.params.maximumSequenceNumbersToCollect?(nt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),r=this.params.maximumSequenceNumbersToCollect):r=S,c=Date.now(),this.nthSequenceNumber(e,r))).next(S=>(i=S,h=Date.now(),this.removeTargets(e,i,t))).next(S=>(s=S,p=Date.now(),this.removeOrphanedDocuments(e,i))).next(S=>(_=Date.now(),ey()<=Nr.in.DEBUG&&nt("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${c-E}ms\n\tDetermined least recently used ${r} in `+(h-c)+`ms\n\tRemoved ${s} targets in `+(p-h)+`ms\n\tRemoved ${S} documents in `+(_-p)+`ms\nTotal Duration: ${_-E}ms`),Fe.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:s,documentsRemoved:S})))}}class WN{constructor(e,t){this.db=e,this.garbageCollector=new Hx(this,t)}Cn(e){const t=this.kn(e);return this.db.getTargetCache().getTargetCount(e).next(i=>t.next(r=>i+r))}kn(e){let t=0;return this.xn(e,i=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}xn(e,t){return this.Mn(e,(i,r)=>t(r))}addReference(e,t,i){return Ry(e,i)}removeReference(e,t,i){return Ry(e,i)}removeTargets(e,t,i){return this.db.getTargetCache().removeTargets(e,t,i)}markPotentiallyOrphaned(e,t){return Ry(e,t)}On(e,t){return function(i,r){let s=!1;return QD(i).zt(c=>KD(i,c,r).next(h=>(h&&(s=!0),Fe.resolve(!h)))).next(()=>s)}(e,t)}removeOrphanedDocuments(e,t){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let s=0;return this.Mn(e,(c,h)=>{if(h<=t){const p=this.On(e,c).next(_=>{if(!_)return s++,i.getEntry(e,c).next(()=>(i.removeEntry(c,Qt.min()),Xc(e).delete([0,qs(c.path)])))});r.push(p)}}).next(()=>Fe.waitFor(r)).next(()=>i.apply(e)).next(()=>s)}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,i)}updateLimboDocument(e,t){return Ry(e,t)}Mn(e,t){const i=Xc(e);let r,s=da.A;return i.Wt({index:"documentTargetsIndex"},([c,h],{path:p,sequenceNumber:_})=>{0===c?(s!==da.A&&t(new ft(ul(r)),s),s=_,r=p):s=da.A}).next(()=>{s!==da.A&&t(new ft(ul(r)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Ry(n,e){return Xc(n).put((i=n.currentSequenceNumber,{targetId:0,path:qs(e.path),sequenceNumber:i}));var i}class gw{constructor(){this.changes=new $u(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Si.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return void 0!==i?Fe.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class jx{constructor(e){this.M=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,i){return ah(e).put(i)}removeEntry(e,t,i){return ah(e).delete(function(r,s){const c=r.path.toArray();return[c.slice(0,c.length-2),c[c.length-2],Iy(s),c[c.length-1]]}(t,i))}updateMetadata(e,t){return this.getMetadata(e).next(i=>(i.byteSize+=t,this.Fn(e,i)))}getEntry(e,t){let i=Si.newInvalidDocument(t);return ah(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(Oy(t))},(r,s)=>{i=this.$n(t,s)}).next(()=>i)}Bn(e,t){let i={size:0,document:Si.newInvalidDocument(t)};return ah(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(Oy(t))},(r,s)=>{i={document:this.$n(t,s),size:ky(s)}}).next(()=>i)}getEntries(e,t){let i=Ba();return this.Ln(e,t,(r,s)=>{const c=this.$n(r,s);i=i.insert(r,c)}).next(()=>i)}Un(e,t){let i=Ba(),r=new ur(ft.comparator);return this.Ln(e,t,(s,c)=>{const h=this.$n(s,c);i=i.insert(s,h),r=r.insert(s,ky(c))}).next(()=>({documents:i,qn:r}))}Ln(e,t,i){if(t.isEmpty())return Fe.resolve();let r=new Vi(tI);t.forEach(p=>r=r.add(p));const s=IDBKeyRange.bound(Oy(r.first()),Oy(r.last())),c=r.getIterator();let h=c.getNext();return ah(e).Wt({index:"documentKeyIndex",range:s},(p,_,E)=>{const S=ft.fromSegments([..._.prefixPath,_.collectionGroup,_.documentId]);for(;h&&tI(h,S)<0;)i(h,null),h=c.getNext();h&&h.isEqual(S)&&(i(h,_),h=c.hasNext()?c.getNext():null),h?E.Ut(Oy(h)):E.done()}).next(()=>{for(;h;)i(h,null),h=c.hasNext()?c.getNext():null})}getAllFromCollection(e,t,i){const r=[t.popLast().toArray(),t.lastSegment(),Iy(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],s=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return ah(e).qt(IDBKeyRange.bound(r,s,!0)).next(c=>{let h=Ba();for(const p of c){const _=this.$n(ft.fromSegments(p.prefixPath.concat(p.collectionGroup,p.documentId)),p);h=h.insert(_.key,_)}return h})}getAllFromCollectionGroup(e,t,i,r){let s=Ba();const c=yw(t,i),h=yw(t,$c.max());return ah(e).Wt({index:"collectionGroupIndex",range:IDBKeyRange.bound(c,h,!0)},(p,_,E)=>{const S=this.$n(ft.fromSegments(_.prefixPath.concat(_.collectionGroup,_.documentId)),_);s=s.insert(S.key,S),s.size===r&&E.done()}).next(()=>s)}newChangeBuffer(e){return new Gx(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return _w(e).get("remoteDocumentGlobalKey").next(t=>(Xt(!!t),t))}Fn(e,t){return _w(e).put("remoteDocumentGlobalKey",t)}$n(e,t){if(t){const i=function zD(n,e){let t;if(e.document)t=xD(n.Jt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const i=ft.fromSegments(e.noDocument.path),r=Wu(e.noDocument.readTime);t=Si.newNoDocument(i,r),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return Mt();{const i=ft.fromSegments(e.unknownDocument.path),r=Wu(e.unknownDocument.version);t=Si.newUnknownDocument(i,r)}}return e.readTime&&t.setReadTime(function(i){const r=new gn(i[0],i[1]);return Qt.fromTimestamp(r)}(e.readTime)),t}(this.M,t);if(!i.isNoDocument()||!i.version.isEqual(Qt.min()))return i}return Si.newInvalidDocument(e)}}class Gx extends gw{constructor(e,t){super(),this.Kn=e,this.trackRemovals=t,this.Gn=new $u(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(e){const t=[];let i=0,r=new Vi((s,c)=>mn(s.canonicalString(),c.canonicalString()));return this.changes.forEach((s,c)=>{const h=this.Gn.get(s);if(t.push(this.Kn.removeEntry(e,s,h.readTime)),c.isValidDocument()){const p=$D(this.Kn.M,c);r=r.add(s.path.popLast()),i+=ky(p)-h.size,t.push(this.Kn.addEntry(e,s,p))}else if(i-=h.size,this.trackRemovals){const p=$D(this.Kn.M,c.convertToNoDocument(Qt.min()));t.push(this.Kn.addEntry(e,s,p))}}),r.forEach(s=>{t.push(this.Kn.indexManager.addToCollectionParentIndex(e,s))}),t.push(this.Kn.updateMetadata(e,i)),Fe.waitFor(t)}getFromCache(e,t){return this.Kn.Bn(e,t).next(i=>(this.Gn.set(t,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(e,t){return this.Kn.Un(e,t).next(({documents:i,qn:r})=>(r.forEach((s,c)=>{this.Gn.set(s,{size:c,readTime:i.get(s).readTime})}),i))}}function _w(n){return ds(n,"remoteDocumentGlobal")}function ah(n){return ds(n,"remoteDocumentsV14")}function Oy(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function yw(n,e){const t=e.documentKey.path.toArray();return[n,Iy(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function tI(n,e){const t=n.path.toArray(),i=e.path.toArray();let r=0;for(let s=0;s<t.length-2&&s<i.length-2;++s)if(r=mn(t[s],i[s]),r)return r;return r=mn(t.length,i.length),r||(r=mn(t[t.length-2],i[i.length-2]),r||mn(t[t.length-1],i[i.length-1]))}class zx{constructor(e){this.M=e}kt(e,t,i,r){const s=new Hf("createOrUpgrade",t);var h;i<1&&r>=1&&(e.createObjectStore("owner"),(h=e).createObjectStore("mutationQueues",{keyPath:"userId"}),h.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Ws,{unique:!0}),h.createObjectStore("documentMutations"),nI(e),function(h){h.createObjectStore("remoteDocuments")}(e));let c=Fe.resolve();return i<3&&r>=3&&(0!==i&&(function(h){h.deleteObjectStore("targetDocuments"),h.deleteObjectStore("targets"),h.deleteObjectStore("targetGlobal")}(e),nI(e)),c=c.next(()=>function(h){const p=h.store("targetGlobal"),_={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Qt.min().toTimestamp(),targetCount:0};return p.put("targetGlobalKey",_)}(s))),i<4&&r>=4&&(0!==i&&(c=c.next(()=>function(h,p){return p.store("mutations").qt().next(_=>{h.deleteObjectStore("mutations"),h.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Ws,{unique:!0});const E=p.store("mutations"),S=_.map(P=>E.put(P));return Fe.waitFor(S)})}(e,s))),c=c.next(()=>{!function(h){h.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),i<5&&r>=5&&(c=c.next(()=>this.Qn(s))),i<6&&r>=6&&(c=c.next(()=>(function(h){h.createObjectStore("remoteDocumentGlobal")}(e),this.jn(s)))),i<7&&r>=7&&(c=c.next(()=>this.Wn(s))),i<8&&r>=8&&(c=c.next(()=>this.zn(e,s))),i<9&&r>=9&&(c=c.next(()=>{!function(h){h.objectStoreNames.contains("remoteDocumentChanges")&&h.deleteObjectStore("remoteDocumentChanges")}(e)})),i<10&&r>=10&&(c=c.next(()=>this.Hn(s))),i<11&&r>=11&&(c=c.next(()=>{(function(h){h.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(h){h.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),i<12&&r>=12&&(c=c.next(()=>{!function(h){const p=h.createObjectStore("documentOverlays",{keyPath:wy});p.createIndex("collectionPathOverlayIndex",tw,{unique:!1}),p.createIndex("collectionGroupOverlayIndex",zN,{unique:!1})}(e)})),i<13&&r>=13&&(c=c.next(()=>function(h){const p=h.createObjectStore("remoteDocumentsV14",{keyPath:GN});p.createIndex("documentKeyIndex",jm),p.createIndex("collectionGroupIndex",Ax)}(e)).next(()=>this.Jn(e,s)).next(()=>e.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(c=c.next(()=>{!function(h){h.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),h.createObjectStore("indexState",{keyPath:kx}).createIndex("sequenceNumberIndex",ew,{unique:!1}),h.createObjectStore("indexEntries",{keyPath:UD}).createIndex("documentKeyIndex",BD,{unique:!1})}(e)})),c}jn(e){let t=0;return e.store("remoteDocuments").Wt((i,r)=>{t+=ky(r)}).next(()=>{const i={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}Qn(e){const t=e.store("mutationQueues"),i=e.store("mutations");return t.qt().next(r=>Fe.forEach(r,s=>{const c=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return i.qt("userMutationsIndex",c).next(h=>Fe.forEach(h,p=>{Xt(p.userId===s.userId);const _=zm(this.M,p);return xy(e,s.userId,_).next(()=>{})}))}))}Wn(e){const t=e.store("targetDocuments"),i=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(r=>{const s=[];return i.Wt((c,h)=>{const p=new Hn(c),_=[0,qs(p)];s.push(t.get(_).next(E=>E?Fe.resolve():t.put({targetId:0,path:qs(p),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>Fe.waitFor(s))})}zn(e,t){e.createObjectStore("collectionParents",{keyPath:xx});const i=t.store("collectionParents"),r=new fw,s=c=>{if(r.add(c)){const h=c.lastSegment(),p=c.popLast();return i.put({collectionId:h,parent:qs(p)})}};return t.store("remoteDocuments").Wt({jt:!0},(c,h)=>{const p=new Hn(c);return s(p.popLast())}).next(()=>t.store("documentMutations").Wt({jt:!0},([c,h,p],_)=>{const E=ul(h);return s(E.popLast())}))}Hn(e){const t=e.store("targets");return t.Wt((i,r)=>{const s=Sy(r),c=Nx(this.M,s);return t.put(c)})}Jn(e,t){const i=t.store("remoteDocuments"),r=[];return i.Wt((s,c)=>{const h=t.store("remoteDocumentsV14"),p=(_=c,_.document?new ft(Hn.fromString(_.document.name).popFirst(5)):_.noDocument?ft.fromSegments(_.noDocument.path):_.unknownDocument?ft.fromSegments(_.unknownDocument.path):Mt()).path.toArray();var _;const E={prefixPath:p.slice(0,p.length-2),collectionGroup:p[p.length-2],documentId:p[p.length-1],readTime:c.readTime||[0,0],unknownDocument:c.unknownDocument,noDocument:c.noDocument,document:c.document,hasCommittedMutations:!!c.hasCommittedMutations};r.push(h.put(E))}).next(()=>Fe.waitFor(r))}}function nI(n){n.createObjectStore("targetDocuments",{keyPath:Mx}).createIndex("documentTargetsIndex",VD,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Xb,{unique:!0}),n.createObjectStore("targetGlobal")}const Ny="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Ym{constructor(e,t,i,r,s,c,h,p,_,E,S=13){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=i,this.Yn=s,this.window=c,this.document=h,this.Xn=_,this.Zn=E,this.ts=S,this.es=null,this.ns=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ss=null,this.inForeground=!1,this.rs=null,this.os=null,this.us=Number.NEGATIVE_INFINITY,this.cs=P=>Promise.resolve(),!Ym.vt())throw new Ze(Ie.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new WN(this,r),this.hs=t+"main",this.M=new aw(p),this.ls=new Jl(this.hs,this.ts,new zx(this.M)),this.fs=new JD(this.referenceDelegate,this.M),this.ds=new jx(this.M),this._s=new Fx,this.window&&this.window.localStorage?this.ws=this.window.localStorage:(this.ws=null,!1===E&&Cr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.gs().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ze(Ie.FAILED_PRECONDITION,Ny);return this.ys(),this.ps(),this.Is(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.fs.getHighestSequenceNumber(e))}).then(e=>{this.es=new da(e,this.Xn)}).then(()=>{this.ns=!0}).catch(e=>(this.ls&&this.ls.close(),Promise.reject(e)))}Ts(e){var t=this;return this.cs=function(){var i=(0,Pe.Z)(function*(r){if(t.started)return e(r)});return function(r){return i.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ls.Ot(function(){var t=(0,Pe.Z)(function*(i){null===i.newVersion&&(yield e())});return function(i){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Yn.enqueueAndForget((0,Pe.Z)(function*(){t.started&&(yield t.gs())})))}gs(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Km(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Es(e).next(t=>{t||(this.isPrimary=!1,this.Yn.enqueueRetryable(()=>this.cs(!1)))})}).next(()=>this.As(e)).next(t=>this.isPrimary&&!t?this.Rs(e).next(()=>!1):!!t&&this.Ps(e).next(()=>!0))).catch(e=>{if(qu(e))return nt("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return nt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Yn.enqueueRetryable(()=>this.cs(e)),this.isPrimary=e})}Es(e){return lh(e).get("owner").next(t=>Fe.resolve(this.bs(t)))}Vs(e){return Km(e).delete(this.clientId)}vs(){var e=this;return(0,Pe.Z)(function*(){if(e.isPrimary&&!e.Ss(e.us,18e5)){e.us=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=ds(i,"clientMetadata");return r.qt().next(s=>{const c=e.Ds(s,18e5),h=s.filter(p=>-1===c.indexOf(p));return Fe.forEach(h,p=>r.delete(p.clientId)).next(()=>h)})}).catch(()=>[]);if(e.ws)for(const i of t)e.ws.removeItem(e.Cs(i.clientId))}})()}Is(){this.os=this.Yn.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.gs().then(()=>this.vs()).then(()=>this.Is()))}bs(e){return!!e&&e.ownerId===this.clientId}As(e){return this.Zn?Fe.resolve(!0):lh(e).get("owner").next(t=>{if(null!==t&&this.Ss(t.leaseTimestampMs,5e3)&&!this.xs(t.ownerId)){if(this.bs(t)&&this.networkEnabled)return!0;if(!this.bs(t)){if(!t.allowTabSynchronization)throw new Ze(Ie.FAILED_PRECONDITION,Ny);return!1}}return!(!this.networkEnabled||!this.inForeground)||Km(e).qt().next(i=>void 0===this.Ds(i,5e3).find(r=>{if(this.clientId!==r.clientId){const c=!this.inForeground&&r.inForeground,h=this.networkEnabled===r.networkEnabled;if(!this.networkEnabled&&r.networkEnabled||c&&h)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&nt("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,Pe.Z)(function*(){e.ns=!1,e.Ns(),e.os&&(e.os.cancel(),e.os=null),e.ks(),e.Ms(),yield e.ls.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const i=new GD(t,da.A);return e.Rs(i).next(()=>e.Vs(i))}),e.ls.close(),e.Os()})()}Ds(e,t){return e.filter(i=>this.Ss(i.updateTimeMs,t)&&!this.xs(i.clientId))}Fs(){return this.runTransaction("getActiveClients","readonly",e=>Km(e).qt().next(t=>this.Ds(t,18e5).map(i=>i.clientId)))}get started(){return this.ns}getMutationQueue(e,t){return ha.Yt(e,this.M,t,this.referenceDelegate)}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getIndexManager(e){return new qN(e,this.M.Jt.databaseId)}getDocumentOverlayCache(e){return qD.Yt(this.M,e)}getBundleCache(){return this._s}runTransaction(e,t,i){nt("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",s=14===(c=this.ts)?Cy:13===c?iw:12===c?Rx:11===c?nw:void Mt();var c;let h;return this.ls.runTransaction(e,r,s,p=>(h=new GD(p,this.es?this.es.next():da.A),"readwrite-primary"===t?this.Es(h).next(_=>!!_||this.As(h)).next(_=>{if(!_)throw Cr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Yn.enqueueRetryable(()=>this.cs(!1)),new Ze(Ie.FAILED_PRECONDITION,rw);return i(h)}).next(_=>this.Ps(h).next(()=>_)):this.$s(h).next(()=>i(h)))).then(p=>(h.raiseOnCommittedEvent(),p))}$s(e){return lh(e).get("owner").next(t=>{if(null!==t&&this.Ss(t.leaseTimestampMs,5e3)&&!this.xs(t.ownerId)&&!this.bs(t)&&!(this.Zn||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Ze(Ie.FAILED_PRECONDITION,Ny)})}Ps(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return lh(e).put("owner",t)}static vt(){return Jl.vt()}Rs(e){const t=lh(e);return t.get("owner").next(i=>this.bs(i)?(nt("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):Fe.resolve())}Ss(e,t){const i=Date.now();return!(e<i-t||e>i&&(Cr(`Detected an update time that is in the future: ${e} > ${i}`),1))}ys(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.rs=()=>{this.Yn.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.gs()))},this.document.addEventListener("visibilitychange",this.rs),this.inForeground="visible"===this.document.visibilityState)}ks(){this.rs&&(this.document.removeEventListener("visibilitychange",this.rs),this.rs=null)}ps(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ss=()=>{this.Ns(),(0,j.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Yn.enterRestrictedMode(!0),this.Yn.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ss))}Ms(){this.ss&&(this.window.removeEventListener("pagehide",this.ss),this.ss=null)}xs(e){var t;try{const i=null!==(null===(t=this.ws)||void 0===t?void 0:t.getItem(this.Cs(e)));return nt("IndexedDbPersistence",`Client '${e}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return Cr("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}Ns(){if(this.ws)try{this.ws.setItem(this.Cs(this.clientId),String(Date.now()))}catch(e){Cr("Failed to set zombie client id.",e)}}Os(){if(this.ws)try{this.ws.removeItem(this.Cs(this.clientId))}catch(e){}}Cs(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function lh(n){return ds(n,"owner")}function Km(n){return ds(n,"clientMetadata")}function vw(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class iI{constructor(e,t,i){this.ds=e,this.Bs=t,this.indexManager=i}Ls(e,t){return this.Bs.getAllMutationBatchesAffectingDocumentKey(e,t).next(i=>this.Us(e,t,i))}Us(e,t,i){return this.ds.getEntry(e,t).next(r=>{for(const s of i)s.applyToLocalView(r);return r})}qs(e,t){e.forEach((i,r)=>{for(const s of t)s.applyToLocalView(r)})}Ks(e,t){return this.ds.getEntries(e,t).next(i=>this.Gs(e,i).next(()=>i))}Gs(e,t){return this.Bs.getAllMutationBatchesAffectingDocumentKeys(e,t).next(i=>this.qs(t,i))}Qs(e,t,i){return ft.isDocumentKey((r=t).path)&&null===r.collectionGroup&&0===r.filters.length?this.js(e,t.path):Sm(t)?this.Ws(e,t,i):this.zs(e,t,i);var r}js(e,t){return this.Ls(e,new ft(t)).next(i=>{let r=Xd();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}Ws(e,t,i){const r=t.collectionGroup;let s=Xd();return this.indexManager.getCollectionParents(e,r).next(c=>Fe.forEach(c,h=>{const p=(_=t,E=h.child(r),new Yl(E,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt));var _,E;return this.zs(e,p,i).next(_=>{_.forEach((E,S)=>{s=s.insert(E,S)})})}).next(()=>s))}zs(e,t,i){let r;return this.ds.getAllFromCollection(e,t.path,i).next(s=>(r=s,this.Bs.getAllMutationBatchesAffectingQuery(e,t))).next(s=>{for(const c of s)for(const h of c.mutations){const p=h.key;let _=r.get(p);null==_&&(_=Si.newInvalidDocument(p),r=r.insert(p,_)),Om(h,_,c.localWriteTime),_.isFoundDocument()||(r=r.remove(p))}}).next(()=>(r.forEach((s,c)=>{fy(t,c)||(r=r.remove(s))}),r))}}class Py{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.Hs=i,this.Js=r}static Ys(e,t){let i=oi(),r=oi();for(const s of t.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new Py(e,t.fromCache,i,r)}}class rI{Xs(e){this.Zs=e}Qs(e,t,i,r){return 0===(s=t).filters.length&&null===s.limit&&null==s.startAt&&null==s.endAt&&(0===s.explicitOrderBy.length||1===s.explicitOrderBy.length&&s.explicitOrderBy[0].field.isKeyField())||i.isEqual(Qt.min())?this.ti(e,t):this.Zs.Ks(e,r).next(s=>{const c=this.ei(t,s);return(uy(t)||Nf(t))&&this.ni(t.limitType,c,r,i)?this.ti(e,t):(ey()<=Nr.in.DEBUG&&nt("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Lb(t)),this.Zs.Qs(e,t,sD(i,-1)).next(h=>(c.forEach(p=>{h=h.insert(p.key,p)}),h)))});var s}ei(e,t){let i=new Vi(Vb(e));return t.forEach((r,s)=>{fy(e,s)&&(i=i.add(s))}),i}ni(e,t,i,r){if(i.size!==t.size)return!0;const s="F"===e?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}ti(e,t){return ey()<=Nr.in.DEBUG&&nt("QueryEngine","Using full collection scan to execute query:",Lb(t)),this.Zs.Qs(e,t,$c.min())}}class $x{constructor(e,t,i,r){this.persistence=e,this.si=t,this.M=r,this.ii=new ur(mn),this.ri=new $u(s=>qd(s),Rf),this.oi=new Map,this.ui=e.getRemoteDocumentCache(),this.fs=e.getTargetCache(),this._s=e.getBundleCache(),this.ai(i)}ai(e){this.indexManager=this.persistence.getIndexManager(e),this.Bs=this.persistence.getMutationQueue(e,this.indexManager),this.ci=new iI(this.ui,this.Bs,this.indexManager),this.ui.setIndexManager(this.indexManager),this.si.Xs(this.ci)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.ii))}}function qx(n,e,t,i){return new $x(n,e,t,i)}function Wx(n,e){return Fy.apply(this,arguments)}function Fy(){return Fy=(0,Pe.Z)(function*(n,e){const t=gt(n);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let r;return t.Bs.getAllMutationBatches(i).next(s=>(r=s,t.ai(e),t.Bs.getAllMutationBatches(i))).next(s=>{const c=[],h=[];let p=oi();for(const _ of r){c.push(_.batchId);for(const E of _.mutations)p=p.add(E.key)}for(const _ of s){h.push(_.batchId);for(const E of _.mutations)p=p.add(E.key)}return t.ci.Ks(i,p).next(_=>({hi:_,removedBatchIds:c,addedBatchIds:h}))})})}),Fy.apply(this,arguments)}function Zx(n,e){const t=gt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),s=t.ui.newChangeBuffer({trackRemovals:!0});return function(c,h,p,_){const E=p.batch,S=E.keys();let P=Fe.resolve();return S.forEach(H=>{P=P.next(()=>_.getEntry(h,H)).next($=>{const ae=p.docVersions.get(H);Xt(null!==ae),$.version.compareTo(ae)<0&&(E.applyToRemoteDocument($,p),$.isValidDocument()&&($.setReadTime(p.commitVersion),_.addEntry($)))})}),P.next(()=>c.Bs.removeMutationBatch(h,E))}(t,i,e,s).next(()=>s.apply(i)).next(()=>t.Bs.performConsistencyCheck(i)).next(()=>t.ci.Ks(i,r))})}function sI(n){const e=gt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.fs.getLastRemoteSnapshotVersion(t))}function Yx(n,e){const t=gt(n),i=e.snapshotVersion;let r=t.ii;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const c=t.ui.newChangeBuffer({trackRemovals:!0});r=t.ii;const h=[];e.targetChanges.forEach((_,E)=>{const S=r.get(E);if(!S)return;h.push(t.fs.removeMatchingKeys(s,_.removedDocuments,E).next(()=>t.fs.addMatchingKeys(s,_.addedDocuments,E)));let P=S.withSequenceNumber(s.currentSequenceNumber);var H,$,ae;e.targetMismatches.has(E)?P=P.withResumeToken(Jr.EMPTY_BYTE_STRING,Qt.min()).withLastLimboFreeSnapshotVersion(Qt.min()):_.resumeToken.approximateByteSize()>0&&(P=P.withResumeToken(_.resumeToken,i)),r=r.insert(E,P),$=P,ae=_,(0===(H=S).resumeToken.approximateByteSize()||$.snapshotVersion.toMicroseconds()-H.snapshotVersion.toMicroseconds()>=3e8||ae.addedDocuments.size+ae.modifiedDocuments.size+ae.removedDocuments.size>0)&&h.push(t.fs.updateTargetData(s,P))});let p=Ba();if(e.documentUpdates.forEach(_=>{e.resolvedLimboDocuments.has(_)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(s,_))}),h.push(Kx(s,c,e.documentUpdates).next(_=>{p=_})),!i.isEqual(Qt.min())){const _=t.fs.getLastRemoteSnapshotVersion(s).next(E=>t.fs.setTargetsMetadata(s,s.currentSequenceNumber,i));h.push(_)}return Fe.waitFor(h).next(()=>c.apply(s)).next(()=>t.ci.Gs(s,p)).next(()=>p)}).then(s=>(t.ii=r,s))}function Kx(n,e,t){let i=oi();return t.forEach(r=>i=i.add(r)),e.getEntries(n,i).next(r=>{let s=Ba();return t.forEach((c,h)=>{const p=r.get(c);h.isNoDocument()&&h.version.isEqual(Qt.min())?(e.removeEntry(c,h.readTime),s=s.insert(c,h)):!p.isValidDocument()||h.version.compareTo(p.version)>0||0===h.version.compareTo(p.version)&&p.hasPendingWrites?(e.addEntry(h),s=s.insert(c,h)):nt("LocalStore","Ignoring outdated watch update for ",c,". Current version:",p.version," Watch version:",h.version)}),s})}function ZN(n,e){const t=gt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===e&&(e=-1),t.Bs.getNextMutationBatchAfterBatchId(i,e)))}function Qm(n,e){const t=gt(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return t.fs.getTargetData(i,e).next(s=>s?(r=s,Fe.resolve(r)):t.fs.allocateTargetId(i).next(c=>(r=new Yc(e,c,0,i.currentSequenceNumber),t.fs.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=t.ii.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.ii=t.ii.insert(i.targetId,i),t.ri.set(e,i.targetId)),i})}function Jm(n,e,t){return oI.apply(this,arguments)}function oI(){return oI=(0,Pe.Z)(function*(n,e,t){const i=gt(n),r=i.ii.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",s,c=>i.persistence.referenceDelegate.removeTarget(c,r)))}catch(c){if(!qu(c))throw c;nt("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}i.ii=i.ii.remove(e),i.ri.delete(r.target)}),oI.apply(this,arguments)}function Ly(n,e,t){const i=gt(n);let r=Qt.min(),s=oi();return i.persistence.runTransaction("Execute query","readonly",c=>function(h,p,_){const E=gt(h),S=E.ri.get(_);return void 0!==S?Fe.resolve(E.ii.get(S)):E.fs.getTargetData(p,_)}(i,c,Va(e)).next(h=>{if(h)return r=h.lastLimboFreeSnapshotVersion,i.fs.getMatchingKeysForTargetId(c,h.targetId).next(p=>{s=p})}).next(()=>i.si.Qs(c,e,t?r:Qt.min(),t?s:oi())).next(h=>(lI(i,gD(e),h),{documents:h,li:s})))}function Xm(n,e){const t=gt(n),i=gt(t.fs),r=t.ii.get(e);return r?Promise.resolve(r.target):t.persistence.runTransaction("Get target data","readonly",s=>i.Et(s,e).next(c=>c?c.target:null))}function aI(n,e){const t=gt(n),i=t.oi.get(e)||Qt.min();return t.persistence.runTransaction("Get new document changes","readonly",r=>t.ui.getAllFromCollectionGroup(r,e,sD(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(lI(t,e,r),r))}function lI(n,e,t){let i=Qt.min();t.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),n.oi.set(e,i)}function eu(){return eu=(0,Pe.Z)(function*(n,e,t,i){const r=gt(n);let s=oi(),c=Ba();for(const _ of t){const E=e.fi(_.metadata.name);_.document&&(s=s.add(E));const S=e.di(_);S.setReadTime(e._i(_.metadata.readTime)),c=c.insert(E,S)}const h=r.ui.newChangeBuffer({trackRemovals:!0}),p=yield Qm(r,(_=i,Va(Of(Hn.fromString(`__bundle__/docs/${_}`)))));var _;return r.persistence.runTransaction("Apply bundle documents","readwrite",_=>Kx(_,h,c).next(E=>(h.apply(_),E)).next(E=>r.fs.removeMatchingKeysForTargetId(_,p.targetId).next(()=>r.fs.addMatchingKeys(_,s,p.targetId)).next(()=>r.ci.Gs(_,E)).next(()=>E)))}),eu.apply(this,arguments)}function uI(n,e){return eg.apply(this,arguments)}function eg(){return eg=(0,Pe.Z)(function*(n,e,t=oi()){const i=yield Qm(n,Va(lw(e.bundledQuery))),r=gt(n);return r.persistence.runTransaction("Save named query","readwrite",s=>{const c=us(e.readTime);if(i.snapshotVersion.compareTo(c)>=0)return r._s.saveNamedQuery(s,e);const h=i.withResumeToken(Jr.EMPTY_BYTE_STRING,c);return r.ii=r.ii.insert(h.targetId,h),r.fs.updateTargetData(s,h).next(()=>r.fs.removeMatchingKeysForTargetId(s,i.targetId)).next(()=>r.fs.addMatchingKeys(s,t,i.targetId)).next(()=>r._s.saveNamedQuery(s,e))})}),eg.apply(this,arguments)}class bw{constructor(e){this.M=e,this.wi=new Map,this.mi=new Map}getBundleMetadata(e,t){return Fe.resolve(this.wi.get(t))}saveBundleMetadata(e,t){var i;return this.wi.set(t.id,{id:(i=t).id,version:i.version,createTime:us(i.createTime)}),Fe.resolve()}getNamedQuery(e,t){return Fe.resolve(this.mi.get(t))}saveNamedQuery(e,t){return this.mi.set(t.name,{name:(i=t).name,query:lw(i.bundledQuery),readTime:us(i.readTime)}),Fe.resolve();var i}}class Qx{constructor(){this.overlays=new ur(ft.comparator),this.gi=new Map}getOverlay(e,t){return Fe.resolve(this.overlays.get(t))}saveOverlays(e,t,i){return i.forEach((r,s)=>{this.Xt(e,t,s)}),Fe.resolve()}removeOverlaysForBatchId(e,t,i){const r=this.gi.get(i);return void 0!==r&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.gi.delete(i)),Fe.resolve()}getOverlaysForCollection(e,t,i){const r=Vf(),s=t.length+1,c=new ft(t.child("")),h=this.overlays.getIteratorFrom(c);for(;h.hasNext();){const p=h.getNext().value,_=p.getKey();if(!t.isPrefixOf(_.path))break;_.path.length===s&&p.largestBatchId>i&&r.set(p.getKey(),p)}return Fe.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let s=new ur((_,E)=>_-E);const c=this.overlays.getIterator();for(;c.hasNext();){const _=c.getNext().value;if(_.getKey().getCollectionGroup()===t&&_.largestBatchId>i){let E=s.get(_.largestBatchId);null===E&&(E=Vf(),s=s.insert(_.largestBatchId,E)),E.set(_.getKey(),_)}}const h=Vf(),p=s.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((_,E)=>h.set(_,E)),!(h.size()>=r)););return Fe.resolve(h)}Xt(e,t,i){if(null===i)return;const r=this.overlays.get(i.key);if(null!==r){const c=this.gi.get(r.largestBatchId).delete(i.key);this.gi.set(r.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new Dy(t,i));let s=this.gi.get(t);void 0===s&&(s=oi(),this.gi.set(t,s)),this.gi.set(t,s.add(i.key))}}class tg{constructor(){this.yi=new Vi(Lr.pi),this.Ii=new Vi(Lr.Ti)}isEmpty(){return this.yi.isEmpty()}addReference(e,t){const i=new Lr(e,t);this.yi=this.yi.add(i),this.Ii=this.Ii.add(i)}Ei(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.Ai(new Lr(e,t))}Ri(e,t){e.forEach(i=>this.removeReference(i,t))}Pi(e){const t=new ft(new Hn([])),i=new Lr(t,e),r=new Lr(t,e+1),s=[];return this.Ii.forEachInRange([i,r],c=>{this.Ai(c),s.push(c.key)}),s}bi(){this.yi.forEach(e=>this.Ai(e))}Ai(e){this.yi=this.yi.delete(e),this.Ii=this.Ii.delete(e)}Vi(e){const t=new ft(new Hn([])),i=new Lr(t,e),r=new Lr(t,e+1);let s=oi();return this.Ii.forEachInRange([i,r],c=>{s=s.add(c.key)}),s}containsKey(e){const t=new Lr(e,0),i=this.yi.firstAfterOrEqual(t);return null!==i&&e.isEqual(i.key)}}class Lr{constructor(e,t){this.key=e,this.vi=t}static pi(e,t){return ft.comparator(e.key,t.key)||mn(e.vi,t.vi)}static Ti(e,t){return mn(e.vi,t.vi)||ft.comparator(e.key,t.key)}}class Vy{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.Bs=[],this.Si=1,this.Di=new Vi(Lr.pi)}checkEmpty(e){return Fe.resolve(0===this.Bs.length)}addMutationBatch(e,t,i,r){const s=this.Si;this.Si++;const c=new Ty(s,t,i,r);this.Bs.push(c);for(const h of r)this.Di=this.Di.add(new Lr(h.key,s)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return Fe.resolve(c)}lookupMutationBatch(e,t){return Fe.resolve(this.Ci(t))}getNextMutationBatchAfterBatchId(e,t){const r=this.xi(t+1),s=r<0?0:r;return Fe.resolve(this.Bs.length>s?this.Bs[s]:null)}getHighestUnacknowledgedBatchId(){return Fe.resolve(0===this.Bs.length?-1:this.Si-1)}getAllMutationBatches(e){return Fe.resolve(this.Bs.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Lr(t,0),r=new Lr(t,Number.POSITIVE_INFINITY),s=[];return this.Di.forEachInRange([i,r],c=>{const h=this.Ci(c.vi);s.push(h)}),Fe.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Vi(mn);return t.forEach(r=>{const s=new Lr(r,0),c=new Lr(r,Number.POSITIVE_INFINITY);this.Di.forEachInRange([s,c],h=>{i=i.add(h.vi)})}),Fe.resolve(this.Ni(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1;let s=i;ft.isDocumentKey(s)||(s=s.child(""));const c=new Lr(new ft(s),0);let h=new Vi(mn);return this.Di.forEachWhile(p=>{const _=p.key.path;return!!i.isPrefixOf(_)&&(_.length===r&&(h=h.add(p.vi)),!0)},c),Fe.resolve(this.Ni(h))}Ni(e){const t=[];return e.forEach(i=>{const r=this.Ci(i);null!==r&&t.push(r)}),t}removeMutationBatch(e,t){Xt(0===this.ki(t.batchId,"removed")),this.Bs.shift();let i=this.Di;return Fe.forEach(t.mutations,r=>{const s=new Lr(r.key,t.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Di=i})}_n(e){}containsKey(e,t){const i=new Lr(t,0),r=this.Di.firstAfterOrEqual(i);return Fe.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return Fe.resolve()}ki(e,t){return this.xi(e)}xi(e){return 0===this.Bs.length?0:e-this.Bs[0].batchId}Ci(e){const t=this.xi(e);return t<0||t>=this.Bs.length?null:this.Bs[t]}}class YN{constructor(e){this.Mi=e,this.docs=new ur(ft.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,r=this.docs.get(i),s=r?r.size:0,c=this.Mi(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:c}),this.size+=c-s,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return Fe.resolve(i?i.document.mutableCopy():Si.newInvalidDocument(t))}getEntries(e,t){let i=Ba();return t.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():Si.newInvalidDocument(r))}),Fe.resolve(i)}getAllFromCollection(e,t,i){let r=Ba();const s=new ft(t.child("")),c=this.docs.getIteratorFrom(s);for(;c.hasNext();){const{key:h,value:{document:p}}=c.getNext();if(!t.isPrefixOf(h.path))break;h.path.length>t.length+1||aD(oD(p),i)<=0||(r=r.insert(p.key,p.mutableCopy()))}return Fe.resolve(r)}getAllFromCollectionGroup(e,t,i,r){Mt()}Oi(e,t){return Fe.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new KN(this)}getSize(e){return Fe.resolve(this.size)}}class KN extends gw{constructor(e){super(),this.Kn=e}applyChanges(e){const t=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?t.push(this.Kn.addEntry(e,r)):this.Kn.removeEntry(i)}),Fe.waitFor(t)}getFromCache(e,t){return this.Kn.getEntry(e,t)}getAllFromCache(e,t){return this.Kn.getEntries(e,t)}}class QN{constructor(e){this.persistence=e,this.Fi=new $u(t=>qd(t),Rf),this.lastRemoteSnapshotVersion=Qt.min(),this.highestTargetId=0,this.$i=0,this.Bi=new tg,this.targetCount=0,this.Li=Jc.gn()}forEachTarget(e,t){return this.Fi.forEach((i,r)=>t(r)),Fe.resolve()}getLastRemoteSnapshotVersion(e){return Fe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Fe.resolve(this.$i)}allocateTargetId(e){return this.highestTargetId=this.Li.next(),Fe.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.$i&&(this.$i=t),Fe.resolve()}Tn(e){this.Fi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Li=new Jc(t),this.highestTargetId=t),e.sequenceNumber>this.$i&&(this.$i=e.sequenceNumber)}addTargetData(e,t){return this.Tn(t),this.targetCount+=1,Fe.resolve()}updateTargetData(e,t){return this.Tn(t),Fe.resolve()}removeTargetData(e,t){return this.Fi.delete(t.target),this.Bi.Pi(t.targetId),this.targetCount-=1,Fe.resolve()}removeTargets(e,t,i){let r=0;const s=[];return this.Fi.forEach((c,h)=>{h.sequenceNumber<=t&&null===i.get(h.targetId)&&(this.Fi.delete(c),s.push(this.removeMatchingKeysForTargetId(e,h.targetId)),r++)}),Fe.waitFor(s).next(()=>r)}getTargetCount(e){return Fe.resolve(this.targetCount)}getTargetData(e,t){const i=this.Fi.get(t)||null;return Fe.resolve(i)}addMatchingKeys(e,t,i){return this.Bi.Ei(t,i),Fe.resolve()}removeMatchingKeys(e,t,i){this.Bi.Ri(t,i);const r=this.persistence.referenceDelegate,s=[];return r&&t.forEach(c=>{s.push(r.markPotentiallyOrphaned(e,c))}),Fe.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.Bi.Pi(t),Fe.resolve()}getMatchingKeysForTargetId(e,t){const i=this.Bi.Vi(t);return Fe.resolve(i)}containsKey(e,t){return Fe.resolve(this.Bi.containsKey(t))}}class JN{constructor(e,t){this.Ui={},this.overlays={},this.es=new da(0),this.ns=!1,this.ns=!0,this.referenceDelegate=e(this),this.fs=new QN(this),this.indexManager=new hw,this.ds=new YN(i=>this.referenceDelegate.qi(i)),this.M=new aw(t),this._s=new bw(this.M)}start(){return Promise.resolve()}shutdown(){return this.ns=!1,Promise.resolve()}get started(){return this.ns}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Qx,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Ui[e.toKey()];return i||(i=new Vy(t,this.referenceDelegate),this.Ui[e.toKey()]=i),i}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getBundleCache(){return this._s}runTransaction(e,t,i){nt("MemoryPersistence","Starting transaction:",e);const r=new dI(this.es.next());return this.referenceDelegate.Ki(),i(r).next(s=>this.referenceDelegate.Gi(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Qi(e,t){return Fe.or(Object.values(this.Ui).map(i=>()=>i.containsKey(e,t)))}}class dI extends HD{constructor(e){super(),this.currentSequenceNumber=e}}class ww{constructor(e){this.persistence=e,this.ji=new tg,this.Wi=null}static zi(e){return new ww(e)}get Hi(){if(this.Wi)return this.Wi;throw Mt()}addReference(e,t,i){return this.ji.addReference(i,t),this.Hi.delete(i.toString()),Fe.resolve()}removeReference(e,t,i){return this.ji.removeReference(i,t),this.Hi.add(i.toString()),Fe.resolve()}markPotentiallyOrphaned(e,t){return this.Hi.add(t.toString()),Fe.resolve()}removeTarget(e,t){this.ji.Pi(t.targetId).forEach(r=>this.Hi.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(r=>{r.forEach(s=>this.Hi.add(s.toString()))}).next(()=>i.removeTargetData(e,t))}Ki(){this.Wi=new Set}Gi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Fe.forEach(this.Hi,i=>{const r=ft.fromPath(i);return this.Ji(e,r).next(s=>{s||t.removeEntry(r,Qt.min())})}).next(()=>(this.Wi=null,t.apply(e)))}updateLimboDocument(e,t){return this.Ji(e,t).next(i=>{i?this.Hi.delete(t.toString()):this.Hi.add(t.toString())})}qi(e){return 0}Ji(e,t){return Fe.or([()=>Fe.resolve(this.ji.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Qi(e,t)])}}function hI(n,e){return`firestore_clients_${n}_${e}`}function fI(n,e,t){let i=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(i+=`_${e.uid}`),i}function Cw(n,e){return`firestore_targets_${n}_${e}`}class ng{constructor(e,t,i,r){this.user=e,this.batchId=t,this.state=i,this.error=r}static Yi(e,t,i){const r=JSON.parse(i);let s,c="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return c&&r.error&&(c="string"==typeof r.error.message&&"string"==typeof r.error.code,c&&(s=new Ze(r.error.code,r.error.message))),c?new ng(e,t,r.state,s):(Cr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${i}`),null)}Xi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class qf{constructor(e,t,i){this.targetId=e,this.state=t,this.error=i}static Yi(e,t){const i=JSON.parse(t);let r,s="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return s&&i.error&&(s="string"==typeof i.error.message&&"string"==typeof i.error.code,s&&(r=new Ze(i.error.code,i.error.message))),s?new qf(e,i.state,r):(Cr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Xi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class ig{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Yi(e,t){const i=JSON.parse(t);let r="object"==typeof i&&i.activeTargetIds instanceof Array,s=Fm();for(let c=0;r&&c<i.activeTargetIds.length;++c)r=QT(i.activeTargetIds[c]),s=s.add(i.activeTargetIds[c]);return r?new ig(e,s):(Cr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class Ew{constructor(e,t){this.clientId=e,this.onlineState=t}static Yi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new Ew(t.clientId,t.onlineState):(Cr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Tw{constructor(){this.activeTargetIds=Fm()}Zi(e){this.activeTargetIds=this.activeTargetIds.add(e)}tr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Xi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Uy{constructor(e,t,i,r,s){this.window=e,this.Yn=t,this.persistenceKey=i,this.er=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.nr=this.sr.bind(this),this.ir=new ur(mn),this.started=!1,this.rr=[];const c=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.ur=hI(this.persistenceKey,this.er),this.ar=`firestore_sequence_number_${this.persistenceKey}`,this.ir=this.ir.insert(this.er,new Tw),this.cr=new RegExp(`^firestore_clients_${c}_([^_]*)$`),this.hr=new RegExp(`^firestore_mutations_${c}_(\\d+)(?:_(.*))?$`),this.lr=new RegExp(`^firestore_targets_${c}_(\\d+)$`),this.dr=`firestore_online_state_${this.persistenceKey}`,this._r=function(h){return`firestore_bundle_loaded_v2_${h}`}(this.persistenceKey),this.window.addEventListener("storage",this.nr)}static vt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Pe.Z)(function*(){const t=yield e.syncEngine.Fs();for(const r of t){if(r===e.er)continue;const s=e.getItem(hI(e.persistenceKey,r));if(s){const c=ig.Yi(r,s);c&&(e.ir=e.ir.insert(c.clientId,c))}}e.wr();const i=e.storage.getItem(e.dr);if(i){const r=e.mr(i);r&&e.gr(r)}for(const r of e.rr)e.sr(r);e.rr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ar,JSON.stringify(e))}getAllActiveQueryTargets(){return this.yr(this.ir)}isActiveQueryTarget(e){let t=!1;return this.ir.forEach((i,r)=>{r.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.pr(e,"pending")}updateMutationState(e,t,i){this.pr(e,t,i),this.Ir(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(Cw(this.persistenceKey,e));if(i){const r=qf.Yi(e,i);r&&(t=r.state)}}return this.Tr.Zi(e),this.wr(),t}removeLocalQueryTarget(e){this.Tr.tr(e),this.wr()}isLocalQueryTarget(e){return this.Tr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Cw(this.persistenceKey,e))}updateQueryState(e,t,i){this.Er(e,t,i)}handleUserChange(e,t,i){t.forEach(r=>{this.Ir(r)}),this.currentUser=e,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(e){this.Ar(e)}notifyBundleLoaded(e){this.Rr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.nr),this.removeItem(this.ur),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return nt("SharedClientState","READ",e,t),t}setItem(e,t){nt("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){nt("SharedClientState","REMOVE",e),this.storage.removeItem(e)}sr(e){var t=this;const i=e;if(i.storageArea===this.storage){if(nt("SharedClientState","EVENT",i.key,i.newValue),i.key===this.ur)return void Cr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Yn.enqueueRetryable((0,Pe.Z)(function*(){if(t.started){if(null!==i.key)if(t.cr.test(i.key)){if(null==i.newValue){const r=t.Pr(i.key);return t.br(r,null)}{const r=t.Vr(i.key,i.newValue);if(r)return t.br(r.clientId,r)}}else if(t.hr.test(i.key)){if(null!==i.newValue){const r=t.vr(i.key,i.newValue);if(r)return t.Sr(r)}}else if(t.lr.test(i.key)){if(null!==i.newValue){const r=t.Dr(i.key,i.newValue);if(r)return t.Cr(r)}}else if(i.key===t.dr){if(null!==i.newValue){const r=t.mr(i.newValue);if(r)return t.gr(r)}}else if(i.key===t.ar){const r=function(s){let c=da.A;if(null!=s)try{const h=JSON.parse(s);Xt("number"==typeof h),c=h}catch(h){Cr("SharedClientState","Failed to read sequence number from WebStorage",h)}return c}(i.newValue);r!==da.A&&t.sequenceNumberHandler(r)}else if(i.key===t._r){const r=t.Nr(i.newValue);yield Promise.all(r.map(s=>t.syncEngine.kr(s)))}}else t.rr.push(i)}))}}get Tr(){return this.ir.get(this.er)}wr(){this.setItem(this.ur,this.Tr.Xi())}pr(e,t,i){const r=new ng(this.currentUser,e,t,i),s=fI(this.persistenceKey,this.currentUser,e);this.setItem(s,r.Xi())}Ir(e){const t=fI(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Ar(e){this.storage.setItem(this.dr,JSON.stringify({clientId:this.er,onlineState:e}))}Er(e,t,i){const r=Cw(this.persistenceKey,e),s=new qf(e,t,i);this.setItem(r,s.Xi())}Rr(e){const t=JSON.stringify(Array.from(e));this.setItem(this._r,t)}Pr(e){const t=this.cr.exec(e);return t?t[1]:null}Vr(e,t){const i=this.Pr(e);return ig.Yi(i,t)}vr(e,t){const i=this.hr.exec(e),r=Number(i[1]);return ng.Yi(new Ss(void 0!==i[2]?i[2]:null),r,t)}Dr(e,t){const i=this.lr.exec(e),r=Number(i[1]);return qf.Yi(r,t)}mr(e){return Ew.Yi(e)}Nr(e){return JSON.parse(e)}Sr(e){var t=this;return(0,Pe.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Mr(e.batchId,e.state,e.error);nt("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Cr(e){return this.syncEngine.Or(e.targetId,e.state,e.error)}br(e,t){const i=t?this.ir.insert(e,t):this.ir.remove(e),r=this.yr(this.ir),s=this.yr(i),c=[],h=[];return s.forEach(p=>{r.has(p)||c.push(p)}),r.forEach(p=>{s.has(p)||h.push(p)}),this.syncEngine.Fr(c,h).then(()=>{this.ir=i})}gr(e){this.ir.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}yr(e){let t=Fm();return e.forEach((i,r)=>{t=t.unionWith(r.activeTargetIds)}),t}}class By{constructor(){this.$r=new Tw,this.Br={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e){return this.$r.Zi(e),this.Br[e]||"not-current"}updateQueryState(e,t,i){this.Br[e]=t}removeLocalQueryTarget(e){this.$r.tr(e)}isLocalQueryTarget(e){return this.$r.activeTargetIds.has(e)}clearQueryState(e){delete this.Br[e]}getAllActiveQueryTargets(){return this.$r.activeTargetIds}isActiveQueryTarget(e){return this.$r.activeTargetIds.has(e)}start(){return this.$r=new Tw,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class XN{Lr(e){}shutdown(){}}class Dw{constructor(){this.Ur=()=>this.qr(),this.Kr=()=>this.Gr(),this.Qr=[],this.jr()}Lr(e){this.Qr.push(e)}shutdown(){window.removeEventListener("online",this.Ur),window.removeEventListener("offline",this.Kr)}jr(){window.addEventListener("online",this.Ur),window.addEventListener("offline",this.Kr)}qr(){nt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Qr)e(0)}Gr(){nt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Qr)e(1)}static vt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const Iw={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class Jx{constructor(e){this.Wr=e.Wr,this.zr=e.zr}Hr(e){this.Jr=e}Yr(e){this.Xr=e}onMessage(e){this.Zr=e}close(){this.zr()}send(e){this.Wr(e)}eo(){this.Jr()}no(e){this.Xr(e)}so(e){this.Zr(e)}}class Xx extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.io=(e.ssl?"https":"http")+"://"+e.host,this.ro="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}oo(e,t,i,r,s){const c=this.uo(e,t);nt("RestConnection","Sending: ",c,i);const h={};return this.ao(h,r,s),this.co(e,c,h,i).then(p=>(nt("RestConnection","Received: ",p),p),p=>{throw Tf("RestConnection",`${e} failed with error: `,p,"url: ",c,"request:",i),p})}ho(e,t,i,r,s){return this.oo(e,t,i,r,s)}ao(e,t,i){e["X-Goog-Api-Client"]="gl-js/ fire/"+Ef,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((r,s)=>e[s]=r),i&&i.headers.forEach((r,s)=>e[s]=r)}uo(e,t){return`${this.io}/v1/${t}:${Iw[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}co(e,t,i,r){return new Promise((s,c)=>{const h=new tx;h.listenOnce(JM.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case Sb.NO_ERROR:const _=h.getResponseJson();nt("Connection","XHR received:",JSON.stringify(_)),s(_);break;case Sb.TIMEOUT:nt("Connection",'RPC "'+e+'" timed out'),c(new Ze(Ie.DEADLINE_EXCEEDED,"Request time out"));break;case Sb.HTTP_ERROR:const E=h.getStatus();if(nt("Connection",'RPC "'+e+'" failed with status:',E,"response text:",h.getResponseText()),E>0){const S=h.getResponseJson().error;if(S&&S.status&&S.message){const P=function(H){const $=H.toLowerCase().replace(/_/g,"-");return Object.values(Ie).indexOf($)>=0?$:Ie.UNKNOWN}(S.status);c(new Ze(P,S.message))}else c(new Ze(Ie.UNKNOWN,"Server responded with status "+h.getStatus()))}else c(new Ze(Ie.UNAVAILABLE,"Connection failed."));break;default:Mt()}}finally{nt("Connection",'RPC "'+e+'" completed.')}});const p=JSON.stringify(r);h.send(t,"POST",p,i,15)})}lo(e,t,i){const r=[this.io,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=KM(),c=QM(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(h.xmlHttpFactory=new ex({})),this.ao(h.initMessageHeaders,t,i),(0,j.uI)()||(0,j.b$)()||(0,j.d)()||(0,j.w1)()||(0,j.Mn)()||(0,j.ru)()||(h.httpHeadersOverwriteParam="$httpHeaders");const p=r.join("");nt("Connection","Creating WebChannel: "+p,h);const _=s.createWebChannel(p,h);let E=!1,S=!1;const P=new Jx({Wr:$=>{S?nt("Connection","Not sending because WebChannel is closed:",$):(E||(nt("Connection","Opening WebChannel transport."),_.open(),E=!0),nt("Connection","WebChannel sending:",$),_.send($))},zr:()=>_.close()}),H=($,ae,Ce)=>{$.listen(ae,st=>{try{Ce(st)}catch(mt){setTimeout(()=>{throw mt},0)}})};return H(_,X_.EventType.OPEN,()=>{S||nt("Connection","WebChannel transport opened.")}),H(_,X_.EventType.CLOSE,()=>{S||(S=!0,nt("Connection","WebChannel transport closed"),P.no())}),H(_,X_.EventType.ERROR,$=>{S||(S=!0,Tf("Connection","WebChannel transport errored:",$),P.no(new Ze(Ie.UNAVAILABLE,"The operation could not be completed")))}),H(_,X_.EventType.MESSAGE,$=>{var ae;if(!S){const Ce=$.data[0];Xt(!!Ce);const st=Ce,mt=st.error||(null===(ae=st[0])||void 0===ae?void 0:ae.error);if(mt){nt("Connection","WebChannel received error:",mt);const _t=mt.status;let ht=function(rn){const $n=Tr[rn];if(void 0!==$n)return gy($n)}(_t),Kt=mt.message;void 0===ht&&(ht=Ie.INTERNAL,Kt="Unknown error status: "+_t+" with message "+mt.message),S=!0,P.no(new Ze(ht,Kt)),_.close()}else nt("Connection","WebChannel received:",Ce),P.so(Ce)}}),H(c,XM.STAT_EVENT,$=>{$.stat===GT.PROXY?nt("Connection","Detected buffering proxy"):$.stat===GT.NOPROXY&&nt("Connection","Detected no buffering proxy")}),setTimeout(()=>{P.eo()},0),P}}function ek(){return"undefined"!=typeof window?window:null}function Sw(){return"undefined"!=typeof document?document:null}function rg(n){return new $b(n,!0)}class Aw{constructor(e,t,i=1e3,r=1.5,s=6e4){this.Yn=e,this.timerId=t,this.fo=i,this._o=r,this.wo=s,this.mo=0,this.yo=null,this.po=Date.now(),this.reset()}reset(){this.mo=0}Io(){this.mo=this.wo}To(e){this.cancel();const t=Math.floor(this.mo+this.Eo()),i=Math.max(0,Date.now()-this.po),r=Math.max(0,t-i);r>0&&nt("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.mo} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.yo=this.Yn.enqueueAfterDelay(this.timerId,r,()=>(this.po=Date.now(),e())),this.mo*=this._o,this.mo<this.fo&&(this.mo=this.fo),this.mo>this.wo&&(this.mo=this.wo)}Ao(){null!==this.yo&&(this.yo.skipDelay(),this.yo=null)}cancel(){null!==this.yo&&(this.yo.cancel(),this.yo=null)}Eo(){return(Math.random()-.5)*this.mo}}class tk{constructor(e,t,i,r,s,c,h,p){this.Yn=e,this.Ro=i,this.Po=r,this.bo=s,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=h,this.listener=p,this.state=0,this.Vo=0,this.vo=null,this.So=null,this.stream=null,this.Do=new Aw(e,t)}Co(){return 1===this.state||5===this.state||this.xo()}xo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.No()}stop(){var e=this;return(0,Pe.Z)(function*(){e.Co()&&(yield e.close(0))})()}ko(){this.state=0,this.Do.reset()}Mo(){this.xo()&&null===this.vo&&(this.vo=this.Yn.enqueueAfterDelay(this.Ro,6e4,()=>this.Oo()))}Fo(e){this.$o(),this.stream.send(e)}Oo(){var e=this;return(0,Pe.Z)(function*(){if(e.xo())return e.close(0)})()}$o(){this.vo&&(this.vo.cancel(),this.vo=null)}Bo(){this.So&&(this.So.cancel(),this.So=null)}close(e,t){var i=this;return(0,Pe.Z)(function*(){i.$o(),i.Bo(),i.Do.cancel(),i.Vo++,4!==e?i.Do.reset():t&&t.code===Ie.RESOURCE_EXHAUSTED?(Cr(t.toString()),Cr("Using maximum backoff delay to prevent overloading the backend."),i.Do.Io()):t&&t.code===Ie.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Lo(),i.stream.close(),i.stream=null),i.state=e,yield i.listener.Yr(t)})()}Lo(){}auth(){this.state=1;const e=this.Uo(this.Vo),t=this.Vo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Vo===t&&this.qo(i,r)},i=>{e(()=>{const r=new Ze(Ie.UNKNOWN,"Fetching auth token failed: "+i.message);return this.Ko(r)})})}qo(e,t){const i=this.Uo(this.Vo);this.stream=this.Go(e,t),this.stream.Hr(()=>{i(()=>(this.state=2,this.So=this.Yn.enqueueAfterDelay(this.Po,1e4,()=>(this.xo()&&(this.state=3),Promise.resolve())),this.listener.Hr()))}),this.stream.Yr(r=>{i(()=>this.Ko(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}No(){var e=this;this.state=5,this.Do.To((0,Pe.Z)(function*(){e.state=0,e.start()}))}Ko(e){return nt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Uo(e){return t=>{this.Yn.enqueueAndForget(()=>this.Vo===e?t():(nt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class eP extends tk{constructor(e,t,i,r,s,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,c),this.M=s}Go(e,t){return this.bo.lo("Listen",e,t)}onMessage(e){this.Do.reset();const t=function Zb(n,e){let t;if("targetChange"in e){const i="NO_CHANGE"===(p=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===p?1:"REMOVE"===p?2:"CURRENT"===p?3:"RESET"===p?4:Mt(),r=e.targetChange.targetIds||[],s=function(p,_){return p.N?(Xt(void 0===_||"string"==typeof _),Jr.fromBase64String(_||"")):(Xt(void 0===_||_ instanceof Uint8Array),Jr.fromUint8Array(_||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,h=c&&function(p){const _=void 0===p.code?Ie.UNKNOWN:gy(p.code);return new Ze(_,p.message||"")}(c);t=new zb(i,r,s,h||null)}else if("documentChange"in e){const i=e.documentChange,r=Ql(n,i.document.name),s=us(i.document.updateTime),c=new $s({mapValue:{fields:i.document.fields}}),h=Si.newFoundDocument(r,s,c);t=new Vm(i.targetIds||[],i.removedTargetIds||[],h.key,h)}else if("documentDelete"in e){const i=e.documentDelete,r=Ql(n,i.document),s=i.readTime?us(i.readTime):Qt.min(),c=Si.newNoDocument(r,s);t=new Vm([],i.removedTargetIds||[],c.key,c)}else if("documentRemove"in e){const i=e.documentRemove,r=Ql(n,i.document);t=new Vm([],i.removedTargetIds||[],r,null)}else{if(!("filter"in e))return Mt();{const i=e.filter,s=new HN(i.count||0);t=new Gb(i.targetId,s)}}var p;return t}(this.M,e),i=function(r){if(!("targetChange"in r))return Qt.min();const s=r.targetChange;return s.targetIds&&s.targetIds.length?Qt.min():s.readTime?us(s.readTime):Qt.min()}(e);return this.listener.Qo(t,i)}jo(e){const t={};t.database=eh(this.M),t.addTarget=function(r,s){let c;const h=s.target;return c=ay(h)?{documents:by(r,h)}:{query:kD(r,h)},c.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?c.resumeToken=AD(r,s.resumeToken):s.snapshotVersion.compareTo(Qt.min())>0&&(c.readTime=Wc(r,s.snapshotVersion.toTimestamp())),c}(this.M,e);const i=function Tx(n,e){const t=function(i,r){switch(r){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Mt()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);i&&(t.labels=i),this.Fo(t)}Wo(e){const t={};t.database=eh(this.M),t.removeTarget=e,this.Fo(t)}}class tP extends tk{constructor(e,t,i,r,s,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,r,c),this.M=s,this.zo=!1}get Ho(){return this.zo}start(){this.zo=!1,this.lastStreamToken=void 0,super.start()}Lo(){this.zo&&this.Jo([])}Go(e,t){return this.bo.lo("Write",e,t)}onMessage(e){if(Xt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.zo){this.Do.reset();const t=function Yb(n,e){return n&&n.length>0?(Xt(void 0!==e),n.map(t=>function(i,r){let s=us(i.updateTime?i.updateTime:r);return s.isEqual(Qt.min())&&(s=us(r)),new mx(s,i.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),i=us(e.commitTime);return this.listener.Yo(i,t)}return Xt(!e.writeResults||0===e.writeResults.length),this.zo=!0,this.listener.Xo()}Zo(){const e={};e.database=eh(this.M),this.Fo(e)}Jo(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>th(this.M,i))};this.Fo(t)}}class nP extends class{}{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.bo=i,this.M=r,this.tu=!1}eu(){if(this.tu)throw new Ze(Ie.FAILED_PRECONDITION,"The client has already been terminated.")}oo(e,t,i){return this.eu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,s])=>this.bo.oo(e,t,i,r,s)).catch(r=>{throw"FirebaseError"===r.name?(r.code===Ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new Ze(Ie.UNKNOWN,r.toString())})}ho(e,t,i){return this.eu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,s])=>this.bo.ho(e,t,i,r,s)).catch(r=>{throw"FirebaseError"===r.name?(r.code===Ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new Ze(Ie.UNKNOWN,r.toString())})}terminate(){this.tu=!0}}class iP{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.nu=0,this.su=null,this.iu=!0}ru(){0===this.nu&&(this.ou("Unknown"),this.su=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.su=null,this.uu("Backend didn't respond within 10 seconds."),this.ou("Offline"),Promise.resolve())))}au(e){"Online"===this.state?this.ou("Unknown"):(this.nu++,this.nu>=1&&(this.cu(),this.uu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ou("Offline")))}set(e){this.cu(),this.nu=0,"Online"===e&&(this.iu=!1),this.ou(e)}ou(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}uu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.iu?(Cr(t),this.iu=!1):nt("OnlineStateTracker",t)}cu(){null!==this.su&&(this.su.cancel(),this.su=null)}}class nk{constructor(e,t,i,r,s){var c=this;this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.hu=[],this.lu=new Map,this.fu=new Set,this.du=[],this._u=s,this._u.Lr(h=>{i.enqueueAndForget((0,Pe.Z)(function*(){var p;v(c)&&(nt("RemoteStore","Restarting streams for network reachability change."),yield(p=(0,Pe.Z)(function*(_){const E=gt(_);E.fu.add(4),yield sg(E),E.wu.set("Unknown"),E.fu.delete(4),yield Hy(E)}),function(_){return p.apply(this,arguments)})(c))}))}),this.wu=new iP(i,r)}}function Hy(n){return pI.apply(this,arguments)}function pI(){return pI=(0,Pe.Z)(function*(n){if(v(n))for(const e of n.du)yield e(!0)}),pI.apply(this,arguments)}function sg(n){return mI.apply(this,arguments)}function mI(){return mI=(0,Pe.Z)(function*(n){for(const e of n.du)yield e(!1)}),mI.apply(this,arguments)}function a(n,e){const t=gt(n);t.lu.has(e.targetId)||(t.lu.set(e.targetId,e),m(t)?f(t):Gy(t).xo()&&u(t,e))}function l(n,e){const t=gt(n),i=Gy(t);t.lu.delete(e),i.xo()&&d(t,e),0===t.lu.size&&(i.xo()?i.Mo():v(t)&&t.wu.set("Unknown"))}function u(n,e){n.mu.Z(e.targetId),Gy(n).jo(e)}function d(n,e){n.mu.Z(e),Gy(n).Wo(e)}function f(n){n.mu=new Um({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.lu.get(e)||null}),Gy(n).start(),n.wu.ru()}function m(n){return v(n)&&!Gy(n).Co()&&n.lu.size>0}function v(n){return 0===gt(n).fu.size}function T(n){n.mu=void 0}function M(n){return F.apply(this,arguments)}function F(){return F=(0,Pe.Z)(function*(n){n.lu.forEach((e,t)=>{u(n,e)})}),F.apply(this,arguments)}function V(n,e){return Y.apply(this,arguments)}function Y(){return Y=(0,Pe.Z)(function*(n,e){T(n),m(n)?(n.wu.au(e),f(n)):n.wu.set("Unknown")}),Y.apply(this,arguments)}function ie(n,e,t){return he.apply(this,arguments)}function he(){return he=(0,Pe.Z)(function*(n,e,t){if(n.wu.set("Online"),e instanceof zb&&2===e.state&&e.cause)try{yield(i=(0,Pe.Z)(function*(r,s){const c=s.cause;for(const h of s.targetIds)r.lu.has(h)&&(yield r.remoteSyncer.rejectListen(h,c),r.lu.delete(h),r.mu.removeTarget(h))}),function(r,s){return i.apply(this,arguments)})(n,e)}catch(i){nt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield Ve(n,i)}else if(e instanceof Vm?n.mu.ut(e):e instanceof Gb?n.mu._t(e):n.mu.ht(e),!t.isEqual(Qt.min()))try{const i=yield sI(n.localStore);t.compareTo(i)>=0&&(yield function(r,s){const c=r.mu.yt(s);return c.targetChanges.forEach((h,p)=>{if(h.resumeToken.approximateByteSize()>0){const _=r.lu.get(p);_&&r.lu.set(p,_.withResumeToken(h.resumeToken,s))}}),c.targetMismatches.forEach(h=>{const p=r.lu.get(h);if(!p)return;r.lu.set(h,p.withResumeToken(Jr.EMPTY_BYTE_STRING,p.snapshotVersion)),d(r,h);const _=new Yc(p.target,h,1,p.sequenceNumber);u(r,_)}),r.remoteSyncer.applyRemoteEvent(c)}(n,t))}catch(i){nt("RemoteStore","Failed to raise snapshot:",i),yield Ve(n,i)}var i}),he.apply(this,arguments)}function Ve(n,e,t){return it.apply(this,arguments)}function it(){return it=(0,Pe.Z)(function*(n,e,t){if(!qu(e))throw e;n.fu.add(1),yield sg(n),n.wu.set("Offline"),t||(t=()=>sI(n.localStore)),n.asyncQueue.enqueueRetryable((0,Pe.Z)(function*(){nt("RemoteStore","Retrying IndexedDB access"),yield t(),n.fu.delete(1),yield Hy(n)}))}),it.apply(this,arguments)}function dt(n,e){return e().catch(t=>Ve(n,t,e))}function wt(n){return $e.apply(this,arguments)}function $e(){return $e=(0,Pe.Z)(function*(n){const e=gt(n),t=Wf(e);let i=e.hu.length>0?e.hu[e.hu.length-1].batchId:-1;for(;Ht(e);)try{const r=yield ZN(e.localStore,i);if(null===r){0===e.hu.length&&t.Mo();break}i=r.batchId,Rn(e,r)}catch(r){yield Ve(e,r)}ai(e)&&Uo(e)}),$e.apply(this,arguments)}function Ht(n){return v(n)&&n.hu.length<10}function Rn(n,e){n.hu.push(e);const t=Wf(n);t.xo()&&t.Ho&&t.Jo(e.mutations)}function ai(n){return v(n)&&!Wf(n).Co()&&n.hu.length>0}function Uo(n){Wf(n).start()}function ch(n){return og.apply(this,arguments)}function og(){return og=(0,Pe.Z)(function*(n){Wf(n).Zo()}),og.apply(this,arguments)}function Mw(n){return ag.apply(this,arguments)}function ag(){return ag=(0,Pe.Z)(function*(n){const e=Wf(n);for(const t of n.hu)e.Jo(t.mutations)}),ag.apply(this,arguments)}function xw(n,e,t){return lg.apply(this,arguments)}function lg(){return lg=(0,Pe.Z)(function*(n,e,t){const i=n.hu.shift(),r=ow.from(i,e,t);yield dt(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield wt(n)}),lg.apply(this,arguments)}function kw(n,e){return cg.apply(this,arguments)}function cg(){return cg=(0,Pe.Z)(function*(n,e){var t;e&&Wf(n).Ho&&(yield(t=(0,Pe.Z)(function*(i,r){if(jb(s=r.code)&&s!==Ie.ABORTED){const c=i.hu.shift();Wf(i).ko(),yield dt(i,()=>i.remoteSyncer.rejectFailedWrite(c.batchId,r)),yield wt(i)}var s}),function(i,r){return t.apply(this,arguments)})(n,e)),ai(n)&&Uo(n)}),cg.apply(this,arguments)}function jy(n,e){return ug.apply(this,arguments)}function ug(){return ug=(0,Pe.Z)(function*(n,e){const t=gt(n);t.asyncQueue.verifyOperationInProgress(),nt("RemoteStore","RemoteStore received new credentials");const i=v(t);t.fu.add(3),yield sg(t),i&&t.wu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.fu.delete(3),yield Hy(t)}),ug.apply(this,arguments)}function ik(n,e){return rk.apply(this,arguments)}function rk(){return rk=(0,Pe.Z)(function*(n,e){const t=gt(n);e?(t.fu.delete(2),yield Hy(t)):e||(t.fu.add(2),yield sg(t),t.wu.set("Unknown"))}),rk.apply(this,arguments)}function Gy(n){return n.gu||(n.gu=function(e,t,i){const r=gt(e);return r.eu(),new eP(t,r.bo,r.authCredentials,r.appCheckCredentials,r.M,i)}(n.datastore,n.asyncQueue,{Hr:M.bind(null,n),Yr:V.bind(null,n),Qo:ie.bind(null,n)}),n.du.push(function(){var e=(0,Pe.Z)(function*(t){t?(n.gu.ko(),m(n)?f(n):n.wu.set("Unknown")):(yield n.gu.stop(),T(n))});return function(t){return e.apply(this,arguments)}}())),n.gu}function Wf(n){return n.yu||(n.yu=function(e,t,i){const r=gt(e);return r.eu(),new tP(t,r.bo,r.authCredentials,r.appCheckCredentials,r.M,i)}(n.datastore,n.asyncQueue,{Hr:ch.bind(null,n),Yr:kw.bind(null,n),Xo:Mw.bind(null,n),Yo:xw.bind(null,n)}),n.du.push(function(){var e=(0,Pe.Z)(function*(t){t?(n.yu.ko(),yield wt(n)):(yield n.yu.stop(),n.hu.length>0&&(nt("RemoteStore",`Stopping write stream with ${n.hu.length} pending writes`),n.hu=[]))});return function(t){return e.apply(this,arguments)}}())),n.yu}class sk{constructor(e,t,i,r,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new cs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}static createAndSchedule(e,t,i,r,s){const c=Date.now()+i,h=new sk(e,t,c,r,s);return h.start(i),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ze(Ie.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function zy(n,e){if(Cr("AsyncQueue",`${e}: ${n}`),qu(n))return new Ze(Ie.UNAVAILABLE,`${e}: ${n}`);throw n}class $y{constructor(e){this.comparator=e?(t,i)=>e(t,i)||ft.comparator(t.key,i.key):(t,i)=>ft.comparator(t.key,i.key),this.keyedMap=Xd(),this.sortedSet=new ur(this.comparator)}static emptySet(e){return new $y(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof $y)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const r=t.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const i=new $y;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class rP{constructor(){this.pu=new ur(ft.comparator)}track(e){const t=e.doc.key,i=this.pu.get(t);i?0!==e.type&&3===i.type?this.pu=this.pu.insert(t,e):3===e.type&&1!==i.type?this.pu=this.pu.insert(t,{type:i.type,doc:e.doc}):2===e.type&&2===i.type?this.pu=this.pu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===i.type?this.pu=this.pu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===i.type?this.pu=this.pu.remove(t):1===e.type&&2===i.type?this.pu=this.pu.insert(t,{type:1,doc:i.doc}):0===e.type&&1===i.type?this.pu=this.pu.insert(t,{type:2,doc:e.doc}):Mt():this.pu=this.pu.insert(t,e)}Iu(){const e=[];return this.pu.inorderTraversal((t,i)=>{e.push(i)}),e}}class qy{constructor(e,t,i,r,s,c,h,p){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=c,this.syncStateChanged=h,this.excludesMetadataChanges=p}static fromInitialDocuments(e,t,i,r){const s=[];return t.forEach(c=>{s.push({type:0,doc:c})}),new qy(e,t,$y.emptySet(t),s,i,r,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Am(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}}class f3{constructor(){this.Tu=void 0,this.listeners=[]}}class p3{constructor(){this.queries=new $u(e=>Fb(e),Am),this.onlineState="Unknown",this.Eu=new Set}}function ok(n,e){return ak.apply(this,arguments)}function ak(){return ak=(0,Pe.Z)(function*(n,e){const t=gt(n),i=e.query;let r=!1,s=t.queries.get(i);if(s||(r=!0,s=new f3),r)try{s.Tu=yield t.onListen(i)}catch(c){const h=zy(c,`Initialization of query '${Lb(e.query)}' failed`);return void e.onError(h)}t.queries.set(i,s),s.listeners.push(e),e.Au(t.onlineState),s.Tu&&e.Ru(s.Tu)&&uk(t)}),ak.apply(this,arguments)}function lk(n,e){return ck.apply(this,arguments)}function ck(){return ck=(0,Pe.Z)(function*(n,e){const t=gt(n),i=e.query;let r=!1;const s=t.queries.get(i);if(s){const c=s.listeners.indexOf(e);c>=0&&(s.listeners.splice(c,1),r=0===s.listeners.length)}if(r)return t.queries.delete(i),t.onUnlisten(i)}),ck.apply(this,arguments)}function m3(n,e){const t=gt(n);let i=!1;for(const r of e){const c=t.queries.get(r.query);if(c){for(const h of c.listeners)h.Ru(r)&&(i=!0);c.Tu=r}}i&&uk(t)}function g3(n,e,t){const i=gt(n),r=i.queries.get(e);if(r)for(const s of r.listeners)s.onError(t);i.queries.delete(e)}function uk(n){n.Eu.forEach(e=>{e.next()})}class dk{constructor(e,t,i){this.query=e,this.Pu=t,this.bu=!1,this.Vu=null,this.onlineState="Unknown",this.options=i||{}}Ru(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)3!==r.type&&i.push(r);e=new qy(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.bu?this.vu(e)&&(this.Pu.next(e),t=!0):this.Su(e,this.onlineState)&&(this.Du(e),t=!0),this.Vu=e,t}onError(e){this.Pu.error(e)}Au(e){this.onlineState=e;let t=!1;return this.Vu&&!this.bu&&this.Su(this.Vu,e)&&(this.Du(this.Vu),t=!0),t}Su(e,t){return!e.fromCache||!(this.options.Cu&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}vu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Vu&&this.Vu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Du(e){e=qy.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Pu.next(e)}}class _3{constructor(e,t){this.payload=e,this.byteLength=t}xu(){return"metadata"in this.payload}}class sP{constructor(e){this.M=e}fi(e){return Ql(this.M,e)}di(e){return e.metadata.exists?xD(this.M,e.document,!1):Si.newNoDocument(this.fi(e.metadata.name),this._i(e.metadata.readTime))}_i(e){return us(e)}}class y3{constructor(e,t,i){this.Nu=e,this.localStore=t,this.M=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=oP(e)}ku(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const i=Hn.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Mu(e){const t=new Map,i=new sP(this.M);for(const r of e)if(r.metadata.queries){const s=i.fi(r.metadata.name);for(const c of r.metadata.queries){const h=(t.get(c)||oi()).add(s);t.set(c,h)}}return t}complete(){var e=this;return(0,Pe.Z)(function*(){const t=yield function cI(n,e,t,i){return eu.apply(this,arguments)}(e.localStore,new sP(e.M),e.documents,e.Nu.id),i=e.Mu(e.documents);for(const r of e.queries)yield uI(e.localStore,r,i.get(r.name));return e.progress.taskState="Success",{progress:e.progress,Ou:e.collectionGroups,Fu:t}})()}}function oP(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class aP{constructor(e){this.key=e}}class lP{constructor(e){this.key=e}}class cP{constructor(e,t){this.query=e,this.$u=t,this.Bu=null,this.current=!1,this.Lu=oi(),this.mutatedKeys=oi(),this.Uu=Vb(e),this.qu=new $y(this.Uu)}get Ku(){return this.$u}Gu(e,t){const i=t?t.Qu:new rP,r=t?t.qu:this.qu;let s=t?t.mutatedKeys:this.mutatedKeys,c=r,h=!1;const p=uy(this.query)&&r.size===this.query.limit?r.last():null,_=Nf(this.query)&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((E,S)=>{const P=r.get(E),H=fy(this.query,S)?S:null,$=!!P&&this.mutatedKeys.has(P.key),ae=!!H&&(H.hasLocalMutations||this.mutatedKeys.has(H.key)&&H.hasCommittedMutations);let Ce=!1;P&&H?P.data.isEqual(H.data)?$!==ae&&(i.track({type:3,doc:H}),Ce=!0):this.ju(P,H)||(i.track({type:2,doc:H}),Ce=!0,(p&&this.Uu(H,p)>0||_&&this.Uu(H,_)<0)&&(h=!0)):!P&&H?(i.track({type:0,doc:H}),Ce=!0):P&&!H&&(i.track({type:1,doc:P}),Ce=!0,(p||_)&&(h=!0)),Ce&&(H?(c=c.add(H),s=ae?s.add(E):s.delete(E)):(c=c.delete(E),s=s.delete(E)))}),uy(this.query)||Nf(this.query))for(;c.size>this.query.limit;){const E=uy(this.query)?c.last():c.first();c=c.delete(E.key),s=s.delete(E.key),i.track({type:1,doc:E})}return{qu:c,Qu:i,ni:h,mutatedKeys:s}}ju(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i){const r=this.qu;this.qu=e.qu,this.mutatedKeys=e.mutatedKeys;const s=e.Qu.Iu();s.sort((_,E)=>function(S,P){const H=$=>{switch($){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Mt()}};return H(S)-H(P)}(_.type,E.type)||this.Uu(_.doc,E.doc)),this.Wu(i);const c=t?this.zu():[],h=0===this.Lu.size&&this.current?1:0,p=h!==this.Bu;return this.Bu=h,0!==s.length||p?{snapshot:new qy(this.query,e.qu,r,s,e.mutatedKeys,0===h,p,!1),Hu:c}:{Hu:c}}Au(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({qu:this.qu,Qu:new rP,mutatedKeys:this.mutatedKeys,ni:!1},!1)):{Hu:[]}}Ju(e){return!this.$u.has(e)&&!!this.qu.has(e)&&!this.qu.get(e).hasLocalMutations}Wu(e){e&&(e.addedDocuments.forEach(t=>this.$u=this.$u.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.$u=this.$u.delete(t)),this.current=e.current)}zu(){if(!this.current)return[];const e=this.Lu;this.Lu=oi(),this.qu.forEach(i=>{this.Ju(i.key)&&(this.Lu=this.Lu.add(i.key))});const t=[];return e.forEach(i=>{this.Lu.has(i)||t.push(new lP(i))}),this.Lu.forEach(i=>{e.has(i)||t.push(new aP(i))}),t}Yu(e){this.$u=e.li,this.Lu=oi();const t=this.Gu(e.documents);return this.applyChanges(t,!0)}Xu(){return qy.fromInitialDocuments(this.query,this.qu,this.mutatedKeys,0===this.Bu)}}class v3{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class b3{constructor(e){this.key=e,this.Zu=!1}}class w3{constructor(e,t,i,r,s,c){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=c,this.ta={},this.ea=new $u(h=>Fb(h),Am),this.na=new Map,this.sa=new Set,this.ia=new ur(ft.comparator),this.ra=new Map,this.oa=new tg,this.ua={},this.aa=new Map,this.ca=Jc.yn(),this.onlineState="Unknown",this.ha=void 0}get isPrimaryClient(){return!0===this.ha}}function C3(n,e){return hk.apply(this,arguments)}function hk(){return hk=(0,Pe.Z)(function*(n,e){const t=Pk(n);let i,r;const s=t.ea.get(e);if(s)i=s.targetId,t.sharedClientState.addLocalQueryTarget(i),r=s.view.Xu();else{const c=yield Qm(t.localStore,Va(e));t.isPrimaryClient&&a(t.remoteStore,c);const h=t.sharedClientState.addLocalQueryTarget(c.targetId);i=c.targetId,r=yield fk(t,e,i,"current"===h)}return r}),hk.apply(this,arguments)}function fk(n,e,t,i){return pk.apply(this,arguments)}function pk(){return pk=(0,Pe.Z)(function*(n,e,t,i){n.la=(E,S,P)=>{return(H=(0,Pe.Z)(function*($,ae,Ce,st){let mt=ae.view.Gu(Ce);mt.ni&&(mt=yield Ly($.localStore,ae.query,!1).then(({documents:Kt})=>ae.view.Gu(Kt,mt)));const _t=st&&st.targetChanges.get(ae.targetId),ht=ae.view.applyChanges(mt,$.isPrimaryClient,_t);return Tk($,ae.targetId,ht.Hu),ht.snapshot}),function($,ae,Ce,st){return H.apply(this,arguments)})(n,E,S,P);var H};const r=yield Ly(n.localStore,e,!0),s=new cP(e,r.li),c=s.Gu(r.documents),h=Uf.createSynthesizedTargetChangeForCurrentChange(t,i&&"Offline"!==n.onlineState),p=s.applyChanges(c,n.isPrimaryClient,h);Tk(n,t,p.Hu);const _=new v3(e,t,s);return n.ea.set(e,_),n.na.has(t)?n.na.get(t).push(e):n.na.set(t,[e]),p.snapshot}),pk.apply(this,arguments)}function E3(n,e){return mk.apply(this,arguments)}function mk(){return mk=(0,Pe.Z)(function*(n,e){const t=gt(n),i=t.ea.get(e),r=t.na.get(i.targetId);if(r.length>1)return t.na.set(i.targetId,r.filter(s=>!Am(s,e))),void t.ea.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(i.targetId),t.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Jm(t.localStore,i.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(i.targetId),l(t.remoteStore,i.targetId),Wy(t,i.targetId)}).catch(oh))):(Wy(t,i.targetId),yield Jm(t.localStore,i.targetId,!0))}),mk.apply(this,arguments)}function gk(){return gk=(0,Pe.Z)(function*(n,e,t){const i=Fk(n);try{const r=yield function(s,c){const h=gt(s),p=gn.now(),_=c.reduce((S,P)=>S.add(P.key),oi());let E;return h.persistence.runTransaction("Locally write mutations","readwrite",S=>h.ci.Ks(S,_).next(P=>{E=P;const H=[];for(const $ of c){const ae=_x($,E.get($.key));null!=ae&&H.push(new Ua($.key,ae,rD(ae.value.mapValue),Er.exists(!0)))}return h.Bs.addMutationBatch(S,p,H,c)})).then(S=>(S.applyToLocalDocumentSet(E),{batchId:S.batchId,changes:E}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(s,c,h){let p=s.ua[s.currentUser.toKey()];p||(p=new ur(mn)),p=p.insert(c,h),s.ua[s.currentUser.toKey()]=p}(i,r.batchId,t),yield uh(i,r.changes),yield wt(i.remoteStore)}catch(r){const s=zy(r,"Failed to persist write");t.reject(s)}}),gk.apply(this,arguments)}function uP(n,e){return _k.apply(this,arguments)}function _k(){return _k=(0,Pe.Z)(function*(n,e){const t=gt(n);try{const i=yield Yx(t.localStore,e);e.targetChanges.forEach((r,s)=>{const c=t.ra.get(s);c&&(Xt(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?c.Zu=!0:r.modifiedDocuments.size>0?Xt(c.Zu):r.removedDocuments.size>0&&(Xt(c.Zu),c.Zu=!1))}),yield uh(t,i,e)}catch(i){yield oh(i)}}),_k.apply(this,arguments)}function dP(n,e,t){const i=gt(n);if(i.isPrimaryClient&&0===t||!i.isPrimaryClient&&1===t){const r=[];i.ea.forEach((s,c)=>{const h=c.view.Au(e);h.snapshot&&r.push(h.snapshot)}),function(s,c){const h=gt(s);h.onlineState=c;let p=!1;h.queries.forEach((_,E)=>{for(const S of E.listeners)S.Au(c)&&(p=!0)}),p&&uk(h)}(i.eventManager,e),r.length&&i.ta.Qo(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function D3(n,e,t){return yk.apply(this,arguments)}function yk(){return yk=(0,Pe.Z)(function*(n,e,t){const i=gt(n);i.sharedClientState.updateQueryState(e,"rejected",t);const r=i.ra.get(e),s=r&&r.key;if(s){let c=new ur(ft.comparator);c=c.insert(s,Si.newNoDocument(s,Qt.min()));const h=oi().add(s),p=new Lm(Qt.min(),new Map,new Vi(mn),c,h);yield uP(i,p),i.ia=i.ia.remove(s),i.ra.delete(e),Dk(i)}else yield Jm(i.localStore,e,!1).then(()=>Wy(i,e,t)).catch(oh)}),yk.apply(this,arguments)}function I3(n,e){return vk.apply(this,arguments)}function vk(){return vk=(0,Pe.Z)(function*(n,e){const t=gt(n),i=e.batch.batchId;try{const r=yield Zx(t.localStore,e);Ek(t,i,null),Ck(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield uh(t,r)}catch(r){yield oh(r)}}),vk.apply(this,arguments)}function S3(n,e,t){return bk.apply(this,arguments)}function bk(){return bk=(0,Pe.Z)(function*(n,e,t){const i=gt(n);try{const r=yield function(s,c){const h=gt(s);return h.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let _;return h.Bs.lookupMutationBatch(p,c).next(E=>(Xt(null!==E),_=E.keys(),h.Bs.removeMutationBatch(p,E))).next(()=>h.Bs.performConsistencyCheck(p)).next(()=>h.ci.Ks(p,_))})}(i.localStore,e);Ek(i,e,t),Ck(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield uh(i,r)}catch(r){yield oh(r)}}),bk.apply(this,arguments)}function wk(){return wk=(0,Pe.Z)(function*(n,e){const t=gt(n);v(t.remoteStore)||nt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(s){const c=gt(s);return c.persistence.runTransaction("Get highest unacknowledged batch id","readonly",h=>c.Bs.getHighestUnacknowledgedBatchId(h))}(t.localStore);if(-1===i)return void e.resolve();const r=t.aa.get(i)||[];r.push(e),t.aa.set(i,r)}catch(i){const r=zy(i,"Initialization of waitForPendingWrites() operation failed");e.reject(r)}}),wk.apply(this,arguments)}function Ck(n,e){(n.aa.get(e)||[]).forEach(t=>{t.resolve()}),n.aa.delete(e)}function Ek(n,e,t){const i=gt(n);let r=i.ua[i.currentUser.toKey()];if(r){const s=r.get(e);s&&(t?s.reject(t):s.resolve(),r=r.remove(e)),i.ua[i.currentUser.toKey()]=r}}function Wy(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.na.get(e))n.ea.delete(i),t&&n.ta.fa(i,t);n.na.delete(e),n.isPrimaryClient&&n.oa.Pi(e).forEach(i=>{n.oa.containsKey(i)||hP(n,i)})}function hP(n,e){n.sa.delete(e.path.canonicalString());const t=n.ia.get(e);null!==t&&(l(n.remoteStore,t),n.ia=n.ia.remove(e),n.ra.delete(t),Dk(n))}function Tk(n,e,t){for(const i of t)i instanceof aP?(n.oa.addReference(i.key,e),M3(n,i)):i instanceof lP?(nt("SyncEngine","Document no longer in limbo: "+i.key),n.oa.removeReference(i.key,e),n.oa.containsKey(i.key)||hP(n,i.key)):Mt()}function M3(n,e){const t=e.key,i=t.path.canonicalString();n.ia.get(t)||n.sa.has(i)||(nt("SyncEngine","New document in limbo: "+t),n.sa.add(i),Dk(n))}function Dk(n){for(;n.sa.size>0&&n.ia.size<n.maxConcurrentLimboResolutions;){const e=n.sa.values().next().value;n.sa.delete(e);const t=new ft(Hn.fromString(e)),i=n.ca.next();n.ra.set(i,new b3(t)),n.ia=n.ia.insert(t,i),a(n.remoteStore,new Yc(Va(Of(t.path)),i,2,da.A))}}function uh(n,e,t){return Ik.apply(this,arguments)}function Ik(){return Ik=(0,Pe.Z)(function*(n,e,t){const i=gt(n),r=[],s=[],c=[];var h;i.ea.isEmpty()||(i.ea.forEach((h,p)=>{c.push(i.la(p,e,t).then(_=>{if(_){i.isPrimaryClient&&i.sharedClientState.updateQueryState(p.targetId,_.fromCache?"not-current":"current"),r.push(_);const E=Py.Ys(p.targetId,_);s.push(E)}}))}),yield Promise.all(c),i.ta.Qo(r),yield(h=(0,Pe.Z)(function*(p,_){const E=gt(p);try{yield E.persistence.runTransaction("notifyLocalViewChanges","readwrite",S=>Fe.forEach(_,P=>Fe.forEach(P.Hs,H=>E.persistence.referenceDelegate.addReference(S,P.targetId,H)).next(()=>Fe.forEach(P.Js,H=>E.persistence.referenceDelegate.removeReference(S,P.targetId,H)))))}catch(S){if(!qu(S))throw S;nt("LocalStore","Failed to update sequence numbers: "+S)}for(const S of _){const P=S.targetId;if(!S.fromCache){const H=E.ii.get(P),ae=H.withLastLimboFreeSnapshotVersion(H.snapshotVersion);E.ii=E.ii.insert(P,ae)}}}),function(p,_){return h.apply(this,arguments)})(i.localStore,s))}),Ik.apply(this,arguments)}function x3(n,e){return Sk.apply(this,arguments)}function Sk(){return Sk=(0,Pe.Z)(function*(n,e){const t=gt(n);if(!t.currentUser.isEqual(e)){nt("SyncEngine","User change. New user:",e.toKey());const i=yield Wx(t.localStore,e);t.currentUser=e,(r=t).aa.forEach(c=>{c.forEach(h=>{h.reject(new Ze(Ie.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.aa.clear(),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield uh(t,i.hi)}var r}),Sk.apply(this,arguments)}function k3(n,e){const t=gt(n),i=t.ra.get(e);if(i&&i.Zu)return oi().add(i.key);{let r=oi();const s=t.na.get(e);if(!s)return r;for(const c of s){const h=t.ea.get(c);r=r.unionWith(h.view.Ku)}return r}}function R3(n,e){return Ak.apply(this,arguments)}function Ak(){return Ak=(0,Pe.Z)(function*(n,e){const t=gt(n),i=yield Ly(t.localStore,e.query,!0),r=e.view.Yu(i);return t.isPrimaryClient&&Tk(t,e.targetId,r.Hu),r}),Ak.apply(this,arguments)}function O3(n,e){return Mk.apply(this,arguments)}function Mk(){return Mk=(0,Pe.Z)(function*(n,e){const t=gt(n);return aI(t.localStore,e).then(i=>uh(t,i))}),Mk.apply(this,arguments)}function N3(n,e,t,i){return xk.apply(this,arguments)}function xk(){return xk=(0,Pe.Z)(function*(n,e,t,i){const r=gt(n),s=yield function(c,h){const p=gt(c),_=gt(p.Bs);return p.persistence.runTransaction("Lookup mutation documents","readonly",E=>_.fn(E,h).next(S=>S?p.ci.Ks(E,S):Fe.resolve(null)))}(r.localStore,e);var h;null!==s?("pending"===t?yield wt(r.remoteStore):"acknowledged"===t||"rejected"===t?(Ek(r,e,i||null),Ck(r,e),h=e,gt(gt(r.localStore).Bs)._n(h)):Mt(),yield uh(r,s)):nt("SyncEngine","Cannot apply mutation batch with id: "+e)}),xk.apply(this,arguments)}function kk(){return kk=(0,Pe.Z)(function*(n,e){const t=gt(n);if(Pk(t),Fk(t),!0===e&&!0!==t.ha){const i=t.sharedClientState.getAllActiveQueryTargets(),r=yield fP(t,i.toArray());t.ha=!0,yield ik(t.remoteStore,!0);for(const s of r)a(t.remoteStore,s)}else if(!1===e&&!1!==t.ha){const i=[];let r=Promise.resolve();t.na.forEach((s,c)=>{t.sharedClientState.isLocalQueryTarget(c)?i.push(c):r=r.then(()=>(Wy(t,c),Jm(t.localStore,c,!0))),l(t.remoteStore,c)}),yield r,yield fP(t,i),function(s){const c=gt(s);c.ra.forEach((h,p)=>{l(c.remoteStore,p)}),c.oa.bi(),c.ra=new Map,c.ia=new ur(ft.comparator)}(t),t.ha=!1,yield ik(t.remoteStore,!1)}}),kk.apply(this,arguments)}function fP(n,e,t){return Rk.apply(this,arguments)}function Rk(){return Rk=(0,Pe.Z)(function*(n,e,t){const i=gt(n),r=[],s=[];for(const c of e){let h;const p=i.na.get(c);if(p&&0!==p.length){h=yield Qm(i.localStore,Va(p[0]));for(const _ of p){const E=i.ea.get(_),S=yield R3(i,E);S.snapshot&&s.push(S.snapshot)}}else{const _=yield Xm(i.localStore,c);h=yield Qm(i.localStore,_),yield fk(i,pP(_),c,!1)}r.push(h)}return i.ta.Qo(s),r}),Rk.apply(this,arguments)}function pP(n){return mD(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function F3(n){const e=gt(n);return gt(gt(e.localStore).persistence).Fs()}function L3(n,e,t,i){return Ok.apply(this,arguments)}function Ok(){return Ok=(0,Pe.Z)(function*(n,e,t,i){const r=gt(n);if(r.ha)return void nt("SyncEngine","Ignoring unexpected query state notification.");const s=r.na.get(e);if(s&&s.length>0)switch(t){case"current":case"not-current":{const c=yield aI(r.localStore,gD(s[0])),h=Lm.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield uh(r,c,h);break}case"rejected":yield Jm(r.localStore,e,!0),Wy(r,e,i);break;default:Mt()}}),Ok.apply(this,arguments)}function V3(n,e,t){return Nk.apply(this,arguments)}function Nk(){return Nk=(0,Pe.Z)(function*(n,e,t){const i=Pk(n);if(i.ha){for(const r of e){if(i.na.has(r)){nt("SyncEngine","Adding an already active target "+r);continue}const s=yield Xm(i.localStore,r),c=yield Qm(i.localStore,s);yield fk(i,pP(s),c.targetId,!1),a(i.remoteStore,c)}for(const r of t)i.na.has(r)&&(yield Jm(i.localStore,r,!1).then(()=>{l(i.remoteStore,r),Wy(i,r)}).catch(oh))}}),Nk.apply(this,arguments)}function Pk(n){const e=gt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=uP.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=k3.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=D3.bind(null,e),e.ta.Qo=m3.bind(null,e.eventManager),e.ta.fa=g3.bind(null,e.eventManager),e}function Fk(n){const e=gt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=I3.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=S3.bind(null,e),e}class mP{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,Pe.Z)(function*(){t.M=rg(e.databaseInfo.databaseId),t.sharedClientState=t._a(e),t.persistence=t.wa(e),yield t.persistence.start(),t.gcScheduler=t.ma(e),t.localStore=t.ga(e)})()}ma(e){return null}ga(e){return qx(this.persistence,new rI,e.initialUser,this.M)}wa(e){return new JN(ww.zi,this.M)}_a(e){return new By}terminate(){var e=this;return(0,Pe.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class gP extends mP{constructor(e,t,i){super(),this.ya=e,this.cacheSizeBytes=t,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,i=this;return(0,Pe.Z)(function*(){yield t().call(i,e),yield i.ya.initialize(i,e),yield Fk(i.ya.syncEngine),yield wt(i.ya.remoteStore),yield i.persistence.Ts(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(i.localStore),Promise.resolve()))})()}ga(e){return qx(this.persistence,new rI,e.initialUser,this.M)}ma(e){return new dl(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}wa(e){const t=vw(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?Vo.withCacheSize(this.cacheSizeBytes):Vo.DEFAULT;return new Ym(this.synchronizeTabs,t,e.clientId,i,e.asyncQueue,ek(),Sw(),this.M,this.sharedClientState,!!this.forceOwnership)}_a(e){return new By}}class B3 extends gP{constructor(e,t){super(e,t,!1),this.ya=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,i=this;return(0,Pe.Z)(function*(){yield t().call(i,e);const r=i.ya.syncEngine;i.sharedClientState instanceof Uy&&(i.sharedClientState.syncEngine={Mr:N3.bind(null,r),Or:L3.bind(null,r),Fr:V3.bind(null,r),Fs:F3.bind(null,r),kr:O3.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.Ts(function(){var s=(0,Pe.Z)(function*(c){yield function P3(n,e){return kk.apply(this,arguments)}(i.ya.syncEngine,c),i.gcScheduler&&(c&&!i.gcScheduler.started?i.gcScheduler.start(i.localStore):c||i.gcScheduler.stop())});return function(c){return s.apply(this,arguments)}}())})()}_a(e){const t=ek();if(!Uy.vt(t))throw new Ze(Ie.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=vw(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Uy(t,e.asyncQueue,i,e.clientId,e.initialUser)}}class Lk{initialize(e,t){var i=this;return(0,Pe.Z)(function*(){i.localStore||(i.localStore=e.localStore,i.sharedClientState=e.sharedClientState,i.datastore=i.createDatastore(t),i.remoteStore=i.createRemoteStore(t),i.eventManager=i.createEventManager(t),i.syncEngine=i.createSyncEngine(t,!e.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>dP(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=x3.bind(null,i.syncEngine),yield ik(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(e){return new p3}createDatastore(e){const t=rg(e.databaseInfo.databaseId),i=new Xx(e.databaseInfo);return new nP(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return t=this.localStore,i=this.datastore,r=e.asyncQueue,s=h=>dP(this.syncEngine,h,0),c=Dw.vt()?new Dw:new XN,new nk(t,i,r,s,c);var t,i,r,s,c}createSyncEngine(e,t){return function(i,r,s,c,h,p,_){const E=new w3(i,r,s,c,h,p);return _&&(E.ha=!0),E}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,Pe.Z)(function*(t){const i=gt(t);nt("RemoteStore","RemoteStore shutting down."),i.fu.add(5),yield sg(i),i._u.shutdown(),i.wu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function _P(n,e=10240){let t=0;return{read:()=>(0,Pe.Z)(function*(){if(t<n.byteLength){const i={value:n.slice(t,t+e),done:!1};return t+=e,i}return{done:!0}})(),cancel:()=>(0,Pe.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class gI{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.pa(this.observer.next,e)}error(e){this.observer.error?this.pa(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Ia(){this.muted=!0}pa(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class H3{constructor(e,t){this.Ta=e,this.M=t,this.metadata=new cs,this.buffer=new Uint8Array,this.Ea=new TextDecoder("utf-8"),this.Aa().then(i=>{i&&i.xu()?this.metadata.resolve(i.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==i?void 0:i.payload)}`))},i=>this.metadata.reject(i))}close(){return this.Ta.cancel()}getMetadata(){var e=this;return(0,Pe.Z)(function*(){return e.metadata.promise})()}da(){var e=this;return(0,Pe.Z)(function*(){return yield e.getMetadata(),e.Aa()})()}Aa(){var e=this;return(0,Pe.Z)(function*(){const t=yield e.Ra();if(null===t)return null;const i=e.Ea.decode(t),r=Number(i);isNaN(r)&&e.Pa(`length string (${i}) is not valid number`);const s=yield e.ba(r);return new _3(JSON.parse(s),t.length+r)})()}Va(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Ra(){var e=this;return(0,Pe.Z)(function*(){for(;e.Va()<0&&!(yield e.va()););if(0===e.buffer.length)return null;const t=e.Va();t<0&&e.Pa("Reached the end of bundle when a length string is expected.");const i=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),i})()}ba(e){var t=this;return(0,Pe.Z)(function*(){for(;t.buffer.length<e;)(yield t.va())&&t.Pa("Reached the end of bundle when more is expected.");const i=t.Ea.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),i})()}Pa(e){throw this.Ta.cancel(),new Error(`Invalid bundle format: ${e}`)}va(){var e=this;return(0,Pe.Z)(function*(){const t=yield e.Ta.read();if(!t.done){const i=new Uint8Array(e.buffer.length+t.value.length);i.set(e.buffer),i.set(t.value,e.buffer.length),e.buffer=i}return t.done})()}}class j3{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,Pe.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Ze(Ie.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,Pe.Z)(function*(s,c){const h=gt(s),p=eh(h.M)+"/documents",_={documents:c.map(H=>Hm(h.M,H))},E=yield h.ho("BatchGetDocuments",p,_),S=new Map;E.forEach(H=>{const $=function jN(n,e){return"found"in e?function(t,i){Xt(!!i.found);const r=Ql(t,i.found.name),s=us(i.found.updateTime),c=new $s({mapValue:{fields:i.found.fields}});return Si.newFoundDocument(r,s,c)}(n,e):"missing"in e?function(t,i){Xt(!!i.missing),Xt(!!i.readTime);const r=Ql(t,i.missing),s=us(i.readTime);return Si.newNoDocument(r,s)}(n,e):Mt()}(h.M,H);S.set($.key.toString(),$)});const P=[];return c.forEach(H=>{const $=S.get(H.toString());Xt(!!$),P.push($)}),P}),function(s,c){return r.apply(this,arguments)})(t.datastore,e);var r;return i.forEach(r=>t.recordVersion(r)),i})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(e.toString())}delete(e){this.write(new Ff(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Pe.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var i;e.mutations.forEach(i=>{t.delete(i.key.toString())}),t.forEach((i,r)=>{const s=ft.fromPath(r);e.mutations.push(new Hb(s,e.precondition(s)))}),yield(i=(0,Pe.Z)(function*(r,s){const c=gt(r),h=eh(c.M)+"/documents",p={writes:s.map(_=>th(c.M,_))};yield c.oo("Commit",h,p)}),function(r,s){return i.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Mt();t=Qt.min()}const i=this.readVersions.get(e.key.toString());if(i){if(!t.isEqual(i))throw new Ze(Ie.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?Er.updateTime(t):Er.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Qt.min()))throw new Ze(Ie.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Er.updateTime(t)}return Er.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class G3{constructor(e,t,i,r){this.asyncQueue=e,this.datastore=t,this.updateFunction=i,this.deferred=r,this.Sa=5,this.Do=new Aw(this.asyncQueue,"transaction_retry")}run(){this.Sa-=1,this.Da()}Da(){var e=this;this.Do.To((0,Pe.Z)(function*(){const t=new j3(e.datastore),i=e.Ca(t);i&&i.then(r=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(r)}).catch(s=>{e.xa(s)}))}).catch(r=>{e.xa(r)})}))}Ca(e){try{const t=this.updateFunction(e);return!ll(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}xa(e){this.Sa>0&&this.Na(e)?(this.Sa-=1,this.asyncQueue.enqueueAndForget(()=>(this.Da(),Promise.resolve()))):this.deferred.reject(e)}Na(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!jb(t)}return!1}}class z3{constructor(e,t,i,r){var s=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=Ss.UNAUTHENTICATED,this.clientId=vm.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var c=(0,Pe.Z)(function*(h){nt("FirestoreClient","Received user=",h.uid),yield s.authCredentialListener(h),s.user=h});return function(h){return c.apply(this,arguments)}}()),this.appCheckCredentials.start(i,c=>(nt("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}getConfiguration(){var e=this;return(0,Pe.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ze(Ie.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new cs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Pe.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=zy(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}function yP(n,e){return Vk.apply(this,arguments)}function Vk(){return Vk=(0,Pe.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),nt("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(function(){var r=(0,Pe.Z)(function*(s){i.isEqual(s)||(yield Wx(e.localStore,s),i=s)});return function(s){return r.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),Vk.apply(this,arguments)}function vP(n,e){return Uk.apply(this,arguments)}function Uk(){return Uk=(0,Pe.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield Bk(n);nt("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield e.initialize(t,i),n.setCredentialChangeListener(r=>jy(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,s)=>jy(e.remoteStore,s)),n.onlineComponents=e}),Uk.apply(this,arguments)}function Bk(n){return Hk.apply(this,arguments)}function Hk(){return Hk=(0,Pe.Z)(function*(n){return n.offlineComponents||(nt("FirestoreClient","Using default OfflineComponentProvider"),yield yP(n,new mP)),n.offlineComponents}),Hk.apply(this,arguments)}function _I(n){return jk.apply(this,arguments)}function jk(){return jk=(0,Pe.Z)(function*(n){return n.onlineComponents||(nt("FirestoreClient","Using default OnlineComponentProvider"),yield vP(n,new Lk)),n.onlineComponents}),jk.apply(this,arguments)}function bP(n){return Bk(n).then(e=>e.persistence)}function Gk(n){return Bk(n).then(e=>e.localStore)}function wP(n){return _I(n).then(e=>e.remoteStore)}function zk(n){return _I(n).then(e=>e.syncEngine)}function Zy(n){return $k.apply(this,arguments)}function $k(){return $k=(0,Pe.Z)(function*(n){const e=yield _I(n),t=e.eventManager;return t.onListen=C3.bind(null,e.syncEngine),t.onUnlisten=E3.bind(null,e.syncEngine),t}),$k.apply(this,arguments)}function CP(n,e,t={}){const i=new cs;return n.asyncQueue.enqueueAndForget((0,Pe.Z)(function*(){return function(r,s,c,h,p){const _=new gI({next:S=>{s.enqueueAndForget(()=>lk(r,E));const P=S.docs.has(c);!P&&S.fromCache?p.reject(new Ze(Ie.UNAVAILABLE,"Failed to get document because the client is offline.")):P&&S.fromCache&&h&&"server"===h.source?p.reject(new Ze(Ie.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(S)},error:S=>p.reject(S)}),E=new dk(Of(c.path),_,{includeMetadataChanges:!0,Cu:!0});return ok(r,E)}(yield Zy(n),n.asyncQueue,e,t,i)})),i.promise}function EP(n,e,t={}){const i=new cs;return n.asyncQueue.enqueueAndForget((0,Pe.Z)(function*(){return function(r,s,c,h,p){const _=new gI({next:S=>{s.enqueueAndForget(()=>lk(r,E)),S.fromCache&&"server"===h.source?p.reject(new Ze(Ie.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(S)},error:S=>p.reject(S)}),E=new dk(c,_,{includeMetadataChanges:!0,Cu:!0});return ok(r,E)}(yield Zy(n),n.asyncQueue,e,t,i)})),i.promise}const TP=new Map;function qk(n,e,t){if(!t)throw new Ze(Ie.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function DP(n,e,t,i){if(!0===e&&!0===i)throw new Ze(Ie.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function IP(n){if(!ft.isDocumentKey(n))throw new Ze(Ie.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function SP(n){if(ft.isDocumentKey(n))throw new Ze(Ie.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function yI(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":Mt()}function Xn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ze(Ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=yI(n);throw new Ze(Ie.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function AP(n,e){if(e<=0)throw new Ze(Ie.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class MP{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Ze(Ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Ze(Ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,DP("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Rw{constructor(e,t,i){this._authCredentials=t,this._appCheckCredentials=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new MP({}),this._settingsFrozen=!1,e instanceof jc?this._databaseId=e:(this._app=e,this._databaseId=function(r){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new Ze(Ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new jc(r.options.projectId)}(e))}get app(){if(!this._app)throw new Ze(Ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Ze(Ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new MP(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new LN;switch(t.type){case"gapi":const i=t.client;return Xt(!("object"!=typeof i||null===i||!i.auth||!i.auth.getAuthHeaderValueForFirstParty)),new WT(i,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Ze(Ie.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=TP.get(e);t&&(nt("ComponentProvider","Removing Datastore"),TP.delete(e),t.terminate())}(this),Promise.resolve()}}class er{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Zu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new er(this.firestore,e,this._key)}}class Bo{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Bo(this.firestore,e,this._query)}}class Zu extends Bo{constructor(e,t,i){super(e,t,Of(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new er(this.firestore,null,new ft(e))}withConverter(e){return new Zu(this.firestore,e,this._path)}}function xP(n,e,...t){if(n=(0,j.m9)(n),qk("collection","path",e),n instanceof Rw){const i=Hn.fromString(e,...t);return SP(i),new Zu(n,null,i)}{if(!(n instanceof er||n instanceof Zu))throw new Ze(Ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Hn.fromString(e,...t));return SP(i),new Zu(n.firestore,null,i)}}function vI(n,e,...t){if(n=(0,j.m9)(n),1===arguments.length&&(e=vm.R()),qk("doc","path",e),n instanceof Rw){const i=Hn.fromString(e,...t);return IP(i),new er(n,null,new ft(i))}{if(!(n instanceof er||n instanceof Zu))throw new Ze(Ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Hn.fromString(e,...t));return IP(i),new er(n.firestore,n instanceof Zu?n.converter:null,new ft(i))}}function kP(n,e){return n=(0,j.m9)(n),e=(0,j.m9)(e),(n instanceof er||n instanceof Zu)&&(e instanceof er||e instanceof Zu)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function RP(n,e){return n=(0,j.m9)(n),e=(0,j.m9)(e),n instanceof Bo&&e instanceof Bo&&n.firestore===e.firestore&&Am(n._query,e._query)&&n.converter===e.converter}class tj{constructor(){this.ka=Promise.resolve(),this.Ma=[],this.Oa=!1,this.Fa=[],this.$a=null,this.Ba=!1,this.La=!1,this.Ua=[],this.Do=new Aw(this,"async_queue_retry"),this.qa=()=>{const t=Sw();t&&nt("AsyncQueue","Visibility state changed to "+t.visibilityState),this.Do.Ao()};const e=Sw();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.qa)}get isShuttingDown(){return this.Oa}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ka(),this.Ga(e)}enterRestrictedMode(e){if(!this.Oa){this.Oa=!0,this.La=e||!1;const t=Sw();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.qa)}}enqueue(e){if(this.Ka(),this.Oa)return new Promise(()=>{});const t=new cs;return this.Ga(()=>this.Oa&&this.La?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ma.push(e),this.Qa()))}Qa(){var e=this;return(0,Pe.Z)(function*(){if(0!==e.Ma.length){try{yield e.Ma[0](),e.Ma.shift(),e.Do.reset()}catch(t){if(!qu(t))throw t;nt("AsyncQueue","Operation failed with retryable error: "+t)}e.Ma.length>0&&e.Do.To(()=>e.Qa())}})()}Ga(e){const t=this.ka.then(()=>(this.Ba=!0,e().catch(i=>{throw this.$a=i,this.Ba=!1,Cr("INTERNAL UNHANDLED ERROR: ",function(s){let c=s.message||"";return s.stack&&(c=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),c}(i)),i}).then(i=>(this.Ba=!1,i))));return this.ka=t,t}enqueueAfterDelay(e,t,i){this.Ka(),this.Ua.indexOf(e)>-1&&(t=0);const r=sk.createAndSchedule(this,e,t,i,s=>this.ja(s));return this.Fa.push(r),r}Ka(){this.$a&&Mt()}verifyOperationInProgress(){}Wa(){var e=this;return(0,Pe.Z)(function*(){let t;do{t=e.ka,yield t}while(t!==e.ka)})()}za(e){for(const t of this.Fa)if(t.timerId===e)return!0;return!1}Ha(e){return this.Wa().then(()=>{this.Fa.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.Fa)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Wa()})}Ja(e){this.Ua.push(e)}ja(e){const t=this.Fa.indexOf(e);this.Fa.splice(t,1)}}function Wk(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const i=e;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class nj{constructor(){this._progressObserver={},this._taskCompletionResolver=new cs,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,i){this._progressObserver={next:e,error:t,complete:i}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class dr extends Rw{constructor(e,t,i){super(e,t,i),this.type="firestore",this._queue=new tj,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||OP(this),this._firestoreClient.terminate()}}function hs(n){return n._firestoreClient||OP(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function OP(n){var e;const t=n._freezeSettings(),i=(s=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new KT(n._databaseId,s,n._persistenceKey,(h=t).host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,h.useFetchStreams));var s,h;n._firestoreClient=new z3(n._authCredentials,n._appCheckCredentials,n._queue,i)}function NP(n,e,t){const i=new cs;return n.asyncQueue.enqueue((0,Pe.Z)(function*(){try{yield yP(n,t),yield vP(n,e),i.resolve()}catch(r){if(!("FirebaseError"===(s=r).name?s.code===Ie.FAILED_PRECONDITION||s.code===Ie.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&s instanceof DOMException)||22===s.code||20===s.code||11===s.code))throw r;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r)}var s})).then(()=>i.promise)}function PP(n){if(n._initialized||n._terminated)throw new Ze(Ie.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class dh{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Ze(Ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Yu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Yu(Jr.fromBase64String(e))}catch(t){throw new Ze(Ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Yu(Jr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class dg{constructor(e){this._methodName=e}}class bI{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ze(Ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ze(Ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return mn(this._lat,e._lat)||mn(this._long,e._long)}}const hj=/^__.*__$/;class fj{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return null!==this.fieldMask?new Ua(e,this.data,this.fieldMask,t,this.fieldTransforms):new Nm(e,this.data,t,this.fieldTransforms)}}class FP{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new Ua(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function LP(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Mt()}}class wI{constructor(e,t,i,r,s,c){this.settings=e,this.databaseId=t,this.M=i,this.ignoreUndefinedProperties=r,void 0===s&&this.Ya(),this.fieldTransforms=s||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Xa(){return this.settings.Xa}Za(e){return new wI(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}tc(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Za({path:i,ec:!1});return r.nc(e),r}sc(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Za({path:i,ec:!1});return r.Ya(),r}ic(e){return this.Za({path:void 0,ec:!0})}rc(e){return TI(e,this.settings.methodName,this.settings.oc||!1,this.path,this.settings.uc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Ya(){if(this.path)for(let e=0;e<this.path.length;e++)this.nc(this.path.get(e))}nc(e){if(0===e.length)throw this.rc("Document fields must not be empty");if(LP(this.Xa)&&hj.test(e))throw this.rc('Document fields cannot begin and end with "__"')}}class pj{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.M=i||rg(e)}ac(e,t,i,r=!1){return new wI({Xa:e,methodName:t,uc:i,path:Qr.emptyPath(),ec:!1,oc:r},this.databaseId,this.M,this.ignoreUndefinedProperties)}}function hg(n){const e=n._freezeSettings(),t=rg(n._databaseId);return new pj(n._databaseId,!!e.ignoreUndefinedProperties,t)}function CI(n,e,t,i,r,s={}){const c=n.ac(s.merge||s.mergeFields?2:0,e,t,r);Qk("Data must be an object, but it was:",c,i);const h=BP(i,c);let p,_;if(s.merge)p=new If(c.fieldMask),_=c.fieldTransforms;else if(s.mergeFields){const E=[];for(const S of s.mergeFields){const P=Jk(e,S,t);if(!c.contains(P))throw new Ze(Ie.INVALID_ARGUMENT,`Field '${P}' is specified in your field mask but missing from your input data.`);jP(E,P)||E.push(P)}p=new If(E),_=c.fieldTransforms.filter(S=>p.covers(S.field))}else p=null,_=c.fieldTransforms;return new fj(new $s(h),p,_)}class Ow extends dg{_toFieldTransform(e){if(2!==e.Xa)throw e.rc(1===e.Xa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ow}}function VP(n,e,t){return new wI({Xa:3,uc:e.settings.uc,methodName:n._methodName,ec:t},e.databaseId,e.M,e.ignoreUndefinedProperties)}class Zk extends dg{_toFieldTransform(e){return new zu(e.path,new Zd)}isEqual(e){return e instanceof Zk}}class mj extends dg{constructor(e,t){super(e),this.cc=t}_toFieldTransform(e){const t=VP(this,e,!0),i=this.cc.map(s=>fg(s,t)),r=new Yd(i);return new zu(e.path,r)}isEqual(e){return this===e}}class gj extends dg{constructor(e,t){super(e),this.cc=t}_toFieldTransform(e){const t=VP(this,e,!0),i=this.cc.map(s=>fg(s,t)),r=new Kd(i);return new zu(e.path,r)}isEqual(e){return this===e}}class _j extends dg{constructor(e,t){super(e),this.hc=t}_toFieldTransform(e){const t=new Qd(e.M,yD(e.M,this.hc));return new zu(e.path,t)}isEqual(e){return this===e}}function Yk(n,e,t,i){const r=n.ac(1,e,t);Qk("Data must be an object, but it was:",r,i);const s=[],c=$s.empty();zd(i,(p,_)=>{const E=EI(e,p,t);_=(0,j.m9)(_);const S=r.sc(E);if(_ instanceof Ow)s.push(E);else{const P=fg(_,S);null!=P&&(s.push(E),c.set(E,P))}});const h=new If(s);return new FP(c,h,r.fieldTransforms)}function Kk(n,e,t,i,r,s){const c=n.ac(1,e,t),h=[Jk(e,i,t)],p=[r];if(s.length%2!=0)throw new Ze(Ie.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let P=0;P<s.length;P+=2)h.push(Jk(e,s[P])),p.push(s[P+1]);const _=[],E=$s.empty();for(let P=h.length-1;P>=0;--P)if(!jP(_,h[P])){const H=h[P];let $=p[P];$=(0,j.m9)($);const ae=c.sc(H);if($ instanceof Ow)_.push(H);else{const Ce=fg($,ae);null!=Ce&&(_.push(H),E.set(H,Ce))}}const S=new If(_);return new FP(E,S,c.fieldTransforms)}function UP(n,e,t,i=!1){return fg(t,n.ac(i?4:3,e))}function fg(n,e){if(HP(n=(0,j.m9)(n)))return Qk("Unsupported field value:",e,n),BP(n,e);if(n instanceof dg)return function(t,i){if(!LP(i.Xa))throw i.rc(`${t._methodName}() can only be used with update() and set()`);if(!i.path)throw i.rc(`${t._methodName}() is not currently supported inside arrays`);const r=t._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.ec&&4!==e.Xa)throw e.rc("Nested arrays are not supported");return function(t,i){const r=[];let s=0;for(const c of t){let h=fg(c,i.ic(s));null==h&&(h={nullValue:"NULL_VALUE"}),r.push(h),s++}return{arrayValue:{values:r}}}(n,e)}return function(t,i){if(null===(t=(0,j.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return yD(i.M,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const r=gn.fromDate(t);return{timestampValue:Wc(i.M,r)}}if(t instanceof gn){const r=new gn(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Wc(i.M,r)}}if(t instanceof bI)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Yu)return{bytesValue:AD(i.M,t._byteString)};if(t instanceof er){const r=i.databaseId,s=t.firestore._databaseId;if(!s.isEqual(r))throw i.rc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:Bf(t.firestore._databaseId||i.databaseId,t._key.path)}}throw i.rc(`Unsupported field value: ${yI(t)}`)}(n,e)}function BP(n,e){const t={};return ZT(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):zd(n,(i,r)=>{const s=fg(r,e.tc(i));null!=s&&(t[i]=s)}),{mapValue:{fields:t}}}function HP(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof gn||n instanceof bI||n instanceof Yu||n instanceof er||n instanceof dg)}function Qk(n,e,t){if(!HP(t)||"object"!=typeof(i=t)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=yI(t);throw e.rc("an object"===i?n+" a custom object":n+" "+i)}var i}function Jk(n,e,t){if((e=(0,j.m9)(e))instanceof dh)return e._internalPath;if("string"==typeof e)return EI(n,e);throw TI("Field path arguments must be of type string or ",n,!1,void 0,t)}const yj=new RegExp("[~\\*/\\[\\]]");function EI(n,e,t){if(e.search(yj)>=0)throw TI(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new dh(...e.split("."))._internalPath}catch(i){throw TI(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function TI(n,e,t,i,r){const s=i&&!i.isEmpty(),c=void 0!==r;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let p="";return(s||c)&&(p+=" (found",s&&(p+=` in field ${i}`),c&&(p+=` in document ${r}`),p+=")"),new Ze(Ie.INVALID_ARGUMENT,h+n+p)}function jP(n,e){return n.some(t=>t.isEqual(e))}class Nw{constructor(e,t,i,r,s){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new er(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new vj(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(DI("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class vj extends Nw{data(){return super.data()}}function DI(n,e){return"string"==typeof e?EI(n,e):e instanceof dh?e._internalPath:e._delegate._internalPath}class pg{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class hh extends Nw{constructor(e,t,i,r,s,c){super(e,t,i,r,c),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Pw(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(DI("DocumentSnapshot.get",e));if(null!==i)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class Pw extends hh{data(e={}){return super.data(e)}}class Zf{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new pg(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new Pw(this._firestore,this._userDataWriter,i.key,i,new pg(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ze(Ie.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(c=>({type:"added",doc:new Pw(i._firestore,i._userDataWriter,c.doc.key,c.doc,new pg(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:s++}))}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>r||3!==c.type).map(c=>{const h=new Pw(i._firestore,i._userDataWriter,c.doc.key,c.doc,new pg(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let p=-1,_=-1;return 0!==c.type&&(p=s.indexOf(c.doc.key),s=s.delete(c.doc.key)),1!==c.type&&(s=s.add(c.doc),_=s.indexOf(c.doc.key)),{type:bj(c.type),doc:h,oldIndex:p,newIndex:_}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function bj(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Mt()}}function GP(n,e){return n instanceof hh&&e instanceof hh?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Zf&&e instanceof Zf&&n._firestore===e._firestore&&RP(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function zP(n){if(Nf(n)&&0===n.explicitOrderBy.length)throw new Ze(Ie.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Fw{}function Yf(n,...e){for(const t of e)n=t._apply(n);return n}class wj extends Fw{constructor(e,t,i){super(),this.lc=e,this.fc=t,this.dc=i,this.type="where"}_apply(e){const t=hg(e.firestore),i=function(r,s,c,h,p,_,E){let S;if(p.isKeyField()){if("array-contains"===_||"array-contains-any"===_)throw new Ze(Ie.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if("in"===_||"not-in"===_){KP(E,_);const H=[];for(const $ of E)H.push(YP(h,r,$));S={arrayValue:{values:H}}}else S=YP(h,r,E)}else"in"!==_&&"not-in"!==_&&"array-contains-any"!==_||KP(E,_),S=UP(c,"where",E,"in"===_||"not-in"===_);const P=As.create(p,_,S);return function(H,$){if($.S()){const Ce=dy(H);if(null!==Ce&&!Ce.isEqual($.field))throw new Ze(Ie.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Ce.toString()}' and '${$.field.toString()}'`);const st=Im(H);null!==st&&QP(0,$.field,st)}const ae=function(Ce,st){for(const mt of Ce.filters)if(st.indexOf(mt.op)>=0)return mt.op;return null}(H,function(Ce){switch(Ce){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}($.op));if(null!==ae)throw new Ze(Ie.INVALID_ARGUMENT,ae===$.op?`Invalid query. You cannot use more than one '${$.op.toString()}' filter.`:`Invalid query. You cannot use '${$.op.toString()}' filters with '${ae.toString()}' filters.`)}(r,P),P}(e._query,0,t,e.firestore._databaseId,this.lc,this.fc,this.dc);return new Bo(e.firestore,e.converter,function(r,s){const c=r.filters.concat([s]);return new Yl(r.path,r.collectionGroup,r.explicitOrderBy.slice(),c,r.limit,r.limitType,r.startAt,r.endAt)}(e._query,i))}}class Ej extends Fw{constructor(e,t){super(),this.lc=e,this._c=t,this.type="orderBy"}_apply(e){const t=function(i,r,s){if(null!==i.startAt)throw new Ze(Ie.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new Ze(Ie.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const c=new Wd(r,s);return function(h,p){if(null===Im(h)){const _=dy(h);null!==_&&QP(0,_,p.field)}}(i,c),c}(e._query,this.lc,this._c);return new Bo(e.firestore,e.converter,function(i,r){const s=i.explicitOrderBy.concat([r]);return new Yl(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}class $P extends Fw{constructor(e,t,i){super(),this.type=e,this.wc=t,this.mc=i}_apply(e){return new Bo(e.firestore,e.converter,hy(e._query,this.wc,this.mc))}}class qP extends Fw{constructor(e,t,i){super(),this.type=e,this.gc=t,this.yc=i}_apply(e){const t=ZP(e,this.type,this.gc,this.yc);return new Bo(e.firestore,e.converter,(r=t,new Yl((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,r,i.endAt)));var i,r}}class WP extends Fw{constructor(e,t,i){super(),this.type=e,this.gc=t,this.yc=i}_apply(e){const t=ZP(e,this.type,this.gc,this.yc);return new Bo(e.firestore,e.converter,(r=t,new Yl((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,r)));var i,r}}function ZP(n,e,t,i){if(t[0]=(0,j.m9)(t[0]),t[0]instanceof Nw)return function(r,s,c,h,p){if(!h)throw new Ze(Ie.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${c}().`);const _=[];for(const E of Pf(r))if(E.field.isKeyField())_.push(xf(s,h.key));else{const S=h.data.field(E.field);if(Sf(S))throw new Ze(Ie.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+E.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===S){const P=E.field.canonicalString();throw new Ze(Ie.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${P}' (used as the orderBy) does not exist.`)}_.push(S)}return new Gu(_,p)}(n._query,n.firestore._databaseId,e,t[0]._document,i);{const r=hg(n.firestore);return function(s,c,h,p,_,E){const S=s.explicitOrderBy;if(_.length>S.length)throw new Ze(Ie.INVALID_ARGUMENT,`Too many arguments provided to ${p}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const P=[];for(let H=0;H<_.length;H++){const $=_[H];if(S[H].field.isKeyField()){if("string"!=typeof $)throw new Ze(Ie.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${p}(), but got a ${typeof $}`);if(!Sm(s)&&-1!==$.indexOf("/"))throw new Ze(Ie.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${p}() must be a plain document ID, but '${$}' contains a slash.`);const ae=s.path.child(Hn.fromString($));if(!ft.isDocumentKey(ae))throw new Ze(Ie.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${p}() must result in a valid document path, but '${ae}' is not because it contains an odd number of segments.`);const Ce=new ft(ae);P.push(xf(c,Ce))}else{const ae=UP(h,p,$);P.push(ae)}}return new Gu(P,E)}(n._query,n.firestore._databaseId,r,e,t,i)}}function YP(n,e,t){if("string"==typeof(t=(0,j.m9)(t))){if(""===t)throw new Ze(Ie.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Sm(e)&&-1!==t.indexOf("/"))throw new Ze(Ie.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(Hn.fromString(t));if(!ft.isDocumentKey(i))throw new Ze(Ie.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return xf(n,new ft(i))}if(t instanceof er)return xf(n,t._key);throw new Ze(Ie.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${yI(t)}.`)}function KP(n,e){if(!Array.isArray(n)||0===n.length)throw new Ze(Ie.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new Ze(Ie.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function QP(n,e,t){if(!t.isEqual(e))throw new Ze(Ie.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class Xk{convertValue(e,t="none"){switch(ju(e)){case 0:return null;case 1:return e.booleanValue;case 2:return cr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes($d(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Mt()}}convertObject(e,t){const i={};return zd(e.fields,(r,s)=>{i[r]=this.convertValue(s,t)}),i}convertGeoPoint(e){return new bI(cr(e.latitude),cr(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=kb(e);return null==i?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Af(e));default:return null}}convertTimestamp(e){const t=Hu(e);return new gn(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=Hn.fromString(e);Xt(Qb(i));const r=new jc(i.get(1),i.get(3)),s=new ft(i.popFirst(5));return r.isEqual(t)||Cr(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}function II(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}class kj extends Xk{constructor(e){super(),this.firestore=e}convertBytes(e){return new Yu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new er(this.firestore,null,t)}}class JP{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=hg(e)}set(e,t,i){this._verifyNotCommitted();const r=Kf(e,this._firestore),s=II(r.converter,t,i),c=CI(this._dataReader,"WriteBatch.set",r._key,s,null!==r.converter,i);return this._mutations.push(c.toMutation(r._key,Er.none())),this}update(e,t,i,...r){this._verifyNotCommitted();const s=Kf(e,this._firestore);let c;return c="string"==typeof(t=(0,j.m9)(t))||t instanceof dh?Kk(this._dataReader,"WriteBatch.update",s._key,t,i,r):Yk(this._dataReader,"WriteBatch.update",s._key,t),this._mutations.push(c.toMutation(s._key,Er.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Kf(e,this._firestore);return this._mutations=this._mutations.concat(new Ff(t._key,Er.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ze(Ie.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Kf(n,e){if((n=(0,j.m9)(n)).firestore!==e)throw new Ze(Ie.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class mg extends Xk{constructor(e){super(),this.firestore=e}convertBytes(e){return new Yu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new er(this.firestore,null,t)}}function XP(n,e,t){n=Xn(n,er);const i=Xn(n.firestore,dr),r=II(n.converter,e,t);return Yy(i,[CI(hg(i),"setDoc",n._key,r,null!==n.converter,t).toMutation(n._key,Er.none())])}function eF(n,e,t,...i){n=Xn(n,er);const r=Xn(n.firestore,dr),s=hg(r);let c;return c="string"==typeof(e=(0,j.m9)(e))||e instanceof dh?Kk(s,"updateDoc",n._key,e,t,i):Yk(s,"updateDoc",n._key,e),Yy(r,[c.toMutation(n._key,Er.exists(!0))])}function tF(n,...e){var t,i,r;n=(0,j.m9)(n);let s={includeMetadataChanges:!1},c=0;"object"!=typeof e[c]||Wk(e[c])||(s=e[c],c++);const h={includeMetadataChanges:s.includeMetadataChanges};if(Wk(e[c])){const S=e[c];e[c]=null===(t=S.next)||void 0===t?void 0:t.bind(S),e[c+1]=null===(i=S.error)||void 0===i?void 0:i.bind(S),e[c+2]=null===(r=S.complete)||void 0===r?void 0:r.bind(S)}let p,_,E;if(n instanceof er)_=Xn(n.firestore,dr),E=Of(n._key.path),p={next:S=>{e[c]&&e[c](e1(_,n,S))},error:e[c+1],complete:e[c+2]};else{const S=Xn(n,Bo);_=Xn(S.firestore,dr),E=S._query;const P=new mg(_);p={next:H=>{e[c]&&e[c](new Zf(_,P,S,H))},error:e[c+1],complete:e[c+2]},zP(n._query)}return function(S,P,H,$){const ae=new gI($),Ce=new dk(P,ae,H);return S.asyncQueue.enqueueAndForget((0,Pe.Z)(function*(){return ok(yield Zy(S),Ce)})),()=>{ae.Ia(),S.asyncQueue.enqueueAndForget((0,Pe.Z)(function*(){return lk(yield Zy(S),Ce)}))}}(hs(_),E,h,p)}function Yy(n,e){return function(t,i){const r=new cs;return t.asyncQueue.enqueueAndForget((0,Pe.Z)(function*(){return function T3(n,e,t){return gk.apply(this,arguments)}(yield zk(t),i,r)})),r.promise}(hs(n),e)}function e1(n,e,t){const i=t.docs.get(e._key),r=new mg(n);return new hh(n,r,e._key,i,new pg(t.hasPendingWrites,t.fromCache),e.converter)}class Hj extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=hg(e)}get(e){const t=Kf(e,this._firestore),i=new kj(this._firestore);return this._transaction.lookup([t._key]).then(r=>{if(!r||1!==r.length)return Mt();const s=r[0];if(s.isFoundDocument())return new Nw(this._firestore,i,s.key,s,t.converter);if(s.isNoDocument())return new Nw(this._firestore,i,t._key,null,t.converter);throw Mt()})}set(e,t,i){const r=Kf(e,this._firestore),s=II(r.converter,t,i),c=CI(this._dataReader,"Transaction.set",r._key,s,null!==r.converter,i);return this._transaction.set(r._key,c),this}update(e,t,i,...r){const s=Kf(e,this._firestore);let c;return c="string"==typeof(t=(0,j.m9)(t))||t instanceof dh?Kk(this._dataReader,"Transaction.update",s._key,t,i,r):Yk(this._dataReader,"Transaction.update",s._key,t),this._transaction.update(s._key,c),this}delete(e){const t=Kf(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Kf(e,this._firestore),i=new mg(this._firestore);return super.get(e).then(r=>new hh(this._firestore,i,t._key,r._document,new pg(!1,!1),t.converter))}}function t1(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Ze("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function iF(){if("undefined"==typeof Uint8Array)throw new Ze("unimplemented","Uint8Arrays are not available in this environment.")}function rF(){if(!function rx(){return"undefined"!=typeof atob}())throw new Ze("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){Ef=Yi.SDK_VERSION,(0,Yi._registerComponent)(new Ni.wA("firestore",(t,{options:i})=>{const r=t.getProvider("app").getImmediate(),s=new dr(r,new VN(t.getProvider("auth-internal")),new $t(t.getProvider("app-check-internal")));return i=Object.assign({useFetchStreams:e},i),s._setSettings(i),s},"PUBLIC")),(0,Yi.registerVersion)(zT,"3.4.8",n),(0,Yi.registerVersion)(zT,"3.4.8","esm2017")}();class Lw{constructor(e){this._delegate=e}static fromBase64String(e){return rF(),new Lw(Yu.fromBase64String(e))}static fromUint8Array(e){return iF(),new Lw(Yu.fromUint8Array(e))}toBase64(){return rF(),this._delegate.toBase64()}toUint8Array(){return iF(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function n1(n){return function Kj(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const i of e)if(i in t&&"function"==typeof t[i])return!0;return!1}(n,["next","error","complete"])}class Qj{enableIndexedDbPersistence(e,t){return function rj(n,e){PP(n=Xn(n,dr));const t=hs(n),i=n._freezeSettings(),r=new Lk;return NP(t,r,new gP(r,i.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function sj(n){PP(n=Xn(n,dr));const e=hs(n),t=n._freezeSettings(),i=new Lk;return NP(e,i,new B3(i,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function oj(n){if(n._initialized&&!n._terminated)throw new Ze(Ie.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new cs;return n._queue.enqueueAndForgetEvenWhileRestricted((0,Pe.Z)(function*(){try{yield(t=(0,Pe.Z)(function*(i){if(!Jl.vt())return Promise.resolve();const r=i+"main";yield Jl.delete(r)}),function(i){return t.apply(this,arguments)})(vw(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class sF{constructor(e,t,i){this._delegate=t,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},e instanceof jc||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Tf("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,i={}){!function X3(n,e,t,i={}){var r;const s=(n=Xn(n,Rw))._getSettings();if("firestore.googleapis.com"!==s.host&&s.host!==e&&Tf("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},s),{host:`${e}:${t}`,ssl:!1})),i.mockUserToken){let c,h;if("string"==typeof i.mockUserToken)c=i.mockUserToken,h=Ss.MOCK_USER;else{c=(0,j.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const p=i.mockUserToken.sub||i.mockUserToken.user_id;if(!p)throw new Ze(Ie.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new Ss(p)}n._authCredentials=new Mb(new Gd(c,h))}}(this._delegate,e,t,i)}enableNetwork(){return function lj(n){return function $3(n){return n.asyncQueue.enqueue((0,Pe.Z)(function*(){const e=yield bP(n),t=yield wP(n);return e.setNetworkEnabled(!0),function(i){const r=gt(i);return r.fu.delete(0),Hy(r)}(t)}))}(hs(n=Xn(n,dr)))}(this._delegate)}disableNetwork(){return function cj(n){return function q3(n){return n.asyncQueue.enqueue((0,Pe.Z)(function*(){const e=yield bP(n),t=yield wP(n);return e.setNetworkEnabled(!1),(i=(0,Pe.Z)(function*(r){const s=gt(r);s.fu.add(0),yield sg(s),s.wu.set("Offline")}),function(r){return i.apply(this,arguments)})(t);var i}))}(hs(n=Xn(n,dr)))}(this._delegate)}enablePersistence(e){let t=!1,i=!1;return e&&(t=!!e.synchronizeTabs,i=!!e.experimentalForceOwningTab,DP("synchronizeTabs",t,"experimentalForceOwningTab",i)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function aj(n){return function(e){const t=new cs;return e.asyncQueue.enqueueAndForget((0,Pe.Z)(function*(){return function A3(n,e){return wk.apply(this,arguments)}(yield zk(e),t)})),t.promise}(hs(n=Xn(n,dr)))}(this._delegate)}onSnapshotsInSync(e){return function Bj(n,e){return function Y3(n,e){const t=new gI(e);return n.asyncQueue.enqueueAndForget((0,Pe.Z)(function*(){return i=yield Zy(n),r=t,gt(i).Eu.add(r),void r.next();var i,r})),()=>{t.Ia(),n.asyncQueue.enqueueAndForget((0,Pe.Z)(function*(){return i=yield Zy(n),r=t,void gt(i).Eu.delete(r);var i,r}))}}(hs(n=Xn(n,dr)),Wk(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Ze("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Ky(this,xP(this._delegate,e))}catch(t){throw fa(t,"collection()","Firestore.collection()")}}doc(e){try{return new ec(this,vI(this._delegate,e))}catch(t){throw fa(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new pa(this,function ej(n,e){if(n=Xn(n,Rw),qk("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Ze(Ie.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Bo(n,null,(t=e,new Yl(Hn.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw fa(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function jj(n,e){return function K3(n,e){const t=new cs;return n.asyncQueue.enqueueAndForget((0,Pe.Z)(function*(){const i=yield(r=n,_I(r).then(s=>s.datastore));var r;new G3(n.asyncQueue,i,e,t).run()})),t.promise}(hs(n=Xn(n,dr)),t=>e(new Hj(n,t)))}(this._delegate,t=>e(new oF(this,t)))}batch(){return hs(this._delegate),new aF(new JP(this._delegate,e=>Yy(this._delegate,e)))}loadBundle(e){return function uj(n,e){const t=hs(n=Xn(n,dr)),i=new nj;return function Q3(n,e,t,i){const r=function(s,c){let h;return h="string"==typeof s?(new TextEncoder).encode(s):s,p=function(p,_){if(p instanceof Uint8Array)return _P(p,_);if(p instanceof ArrayBuffer)return _P(new Uint8Array(p),_);if(p instanceof ReadableStream)return p.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(h),new H3(p,c);var p}(t,rg(e));n.asyncQueue.enqueueAndForget((0,Pe.Z)(function*(){!function U3(n,e,t){const i=gt(n);var r;(r=(0,Pe.Z)(function*(s,c,h){try{const p=yield c.getMetadata();if(yield function(P,H){const $=gt(P),ae=us(H.createTime);return $.persistence.runTransaction("hasNewerBundle","readonly",Ce=>$._s.getBundleMetadata(Ce,H.id)).then(Ce=>!!Ce&&Ce.createTime.compareTo(ae)>=0)}(s.localStore,p))return yield c.close(),h._completeWith({taskState:"Success",documentsLoaded:(P=p).totalDocuments,bytesLoaded:P.totalBytes,totalDocuments:P.totalDocuments,totalBytes:P.totalBytes}),Promise.resolve(new Set);h._updateProgress(oP(p));const _=new y3(p,s.localStore,c.M);let E=yield c.da();for(;E;){const P=yield _.ku(E);P&&h._updateProgress(P),E=yield c.da()}const S=yield _.complete();return yield uh(s,S.Fu,void 0),yield function(P,H){const $=gt(P);return $.persistence.runTransaction("Save bundle","readwrite",ae=>$._s.saveBundleMetadata(ae,H))}(s.localStore,p),h._completeWith(S.progress),Promise.resolve(S.Ou)}catch(p){return Tf("SyncEngine",`Loading bundle failed with ${p}`),h._failWith(p),Promise.resolve(new Set)}var P}),function(s,c,h){return r.apply(this,arguments)})(i,e,t).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield zk(n),r,i)}))}(t,n._databaseId,e,i),i}(this._delegate,e)}namedQuery(e){return function dj(n,e){return function J3(n,e){return n.asyncQueue.enqueue((0,Pe.Z)(function*(){return function(t,i){const r=gt(t);return r.persistence.runTransaction("Get named query","readonly",s=>r._s.getNamedQuery(s,i))}(yield Gk(n),e)}))}(hs(n=Xn(n,dr)),e).then(t=>t?new Bo(n,null,t.query):null)}(this._delegate,e).then(t=>t?new pa(this,t):null)}}class SI extends Xk{constructor(e){super(),this.firestore=e}convertBytes(e){return new Lw(new Yu(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return ec.forKey(t,this.firestore,null)}}class oF{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new SI(e)}get(e){const t=_g(e);return this._delegate.get(t).then(i=>new Vw(this._firestore,new hh(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,t.converter)))}set(e,t,i){const r=_g(e);return i?(t1("Transaction.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const s=_g(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,i,...r),this}delete(e){const t=_g(e);return this._delegate.delete(t),this}}class aF{constructor(e){this._delegate=e}set(e,t,i){const r=_g(e);return i?(t1("WriteBatch.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const s=_g(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,i,...r),this}delete(e){const t=_g(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class gg{constructor(e,t,i){this._firestore=e,this._userDataWriter=t,this._delegate=i}fromFirestore(e,t){const i=new Pw(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Uw(this._firestore,i),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const i=gg.INSTANCES;let r=i.get(e);r||(r=new WeakMap,i.set(e,r));let s=r.get(t);return s||(s=new gg(e,new SI(e),t),r.set(t,s)),s}}gg.INSTANCES=new WeakMap;class ec{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new SI(e)}static forPath(e,t,i){if(e.length%2!=0)throw new Ze("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new ec(t,new er(t._delegate,i,new ft(e)))}static forKey(e,t,i){return new ec(t,new er(t._delegate,i,e))}get id(){return this._delegate.id}get parent(){return new Ky(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Ky(this.firestore,xP(this._delegate,e))}catch(t){throw fa(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,j.m9)(e))instanceof er&&kP(this._delegate,e)}set(e,t){t=t1("DocumentReference.set",t);try{return t?XP(this._delegate,e,t):XP(this._delegate,e)}catch(i){throw fa(i,"setDoc()","DocumentReference.set()")}}update(e,t,...i){try{return 1===arguments.length?eF(this._delegate,e):eF(this._delegate,e,t,...i)}catch(r){throw fa(r,"updateDoc()","DocumentReference.update()")}}delete(){return function Vj(n){return Yy(Xn(n.firestore,dr),[new Ff(n._key,Er.none())])}(this._delegate)}onSnapshot(...e){const t=lF(e),i=cF(e,r=>new Vw(this.firestore,new hh(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return tF(this._delegate,t,i)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function Oj(n){n=Xn(n,er);const e=Xn(n.firestore,dr),t=hs(e),i=new mg(e);return function W3(n,e){const t=new cs;return n.asyncQueue.enqueueAndForget((0,Pe.Z)(function*(){return(i=(0,Pe.Z)(function*(r,s,c){try{const h=yield function(p,_){const E=gt(p);return E.persistence.runTransaction("read document","readonly",S=>E.ci.Ls(S,_))}(r,s);h.isFoundDocument()?c.resolve(h):h.isNoDocument()?c.resolve(null):c.reject(new Ze(Ie.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(h){const p=zy(h,`Failed to get document '${s} from cache`);c.reject(p)}}),function(r,s,c){return i.apply(this,arguments)})(yield Gk(n),e,t);var i})),t.promise}(t,n._key).then(r=>new hh(e,i,n._key,r,new pg(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function Nj(n){n=Xn(n,er);const e=Xn(n.firestore,dr);return CP(hs(e),n._key,{source:"server"}).then(t=>e1(e,n,t))}(this._delegate):function Rj(n){n=Xn(n,er);const e=Xn(n.firestore,dr);return CP(hs(e),n._key).then(t=>e1(e,n,t))}(this._delegate),t.then(i=>new Vw(this.firestore,new hh(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(e){return new ec(this.firestore,this._delegate.withConverter(e?gg.getInstance(this.firestore,e):null))}}function fa(n,e,t){return n.message=n.message.replace(e,t),n}function lF(n){for(const e of n)if("object"==typeof e&&!n1(e))return e;return{}}function cF(n,e){var t,i;let r;return r=n1(n[0])?n[0]:n1(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:s=>{r.next&&r.next(e(s))},error:null===(t=r.error)||void 0===t?void 0:t.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class Vw{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new ec(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return GP(this._delegate,e._delegate)}}class Uw extends Vw{data(e){const t=this._delegate.data(e);return function Ab(n,e){n||Mt()}(void 0!==t),t}}class pa{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new SI(e)}where(e,t,i){try{return new pa(this.firestore,Yf(this._delegate,function Cj(n,e,t){const i=e,r=DI("where",n);return new wj(r,i,t)}(e,t,i)))}catch(r){throw fa(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new pa(this.firestore,Yf(this._delegate,function Tj(n,e="asc"){const t=e,i=DI("orderBy",n);return new Ej(i,t)}(e,t)))}catch(i){throw fa(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new pa(this.firestore,Yf(this._delegate,function Dj(n){return AP("limit",n),new $P("limit",n,"F")}(e)))}catch(t){throw fa(t,"limit()","Query.limit()")}}limitToLast(e){try{return new pa(this.firestore,Yf(this._delegate,function Ij(n){return AP("limitToLast",n),new $P("limitToLast",n,"L")}(e)))}catch(t){throw fa(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new pa(this.firestore,Yf(this._delegate,function Sj(...n){return new qP("startAt",n,!0)}(...e)))}catch(t){throw fa(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new pa(this.firestore,Yf(this._delegate,function Aj(...n){return new qP("startAfter",n,!1)}(...e)))}catch(t){throw fa(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new pa(this.firestore,Yf(this._delegate,function Mj(...n){return new WP("endBefore",n,!1)}(...e)))}catch(t){throw fa(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new pa(this.firestore,Yf(this._delegate,function xj(...n){return new WP("endAt",n,!0)}(...e)))}catch(t){throw fa(t,"endAt()","Query.endAt()")}}isEqual(e){return RP(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function Fj(n){n=Xn(n,Bo);const e=Xn(n.firestore,dr),t=hs(e),i=new mg(e);return function Z3(n,e){const t=new cs;return n.asyncQueue.enqueueAndForget((0,Pe.Z)(function*(){return(i=(0,Pe.Z)(function*(r,s,c){try{const h=yield Ly(r,s,!0),p=new cP(s,h.li),_=p.Gu(h.documents),E=p.applyChanges(_,!1);c.resolve(E.snapshot)}catch(h){const p=zy(h,`Failed to execute query '${s} against cache`);c.reject(p)}}),function(r,s,c){return i.apply(this,arguments)})(yield Gk(n),e,t);var i})),t.promise}(t,n._query).then(r=>new Zf(e,i,n,r))}(this._delegate):"server"===(null==e?void 0:e.source)?function Lj(n){n=Xn(n,Bo);const e=Xn(n.firestore,dr),t=hs(e),i=new mg(e);return EP(t,n._query,{source:"server"}).then(r=>new Zf(e,i,n,r))}(this._delegate):function Pj(n){n=Xn(n,Bo);const e=Xn(n.firestore,dr),t=hs(e),i=new mg(e);return zP(n._query),EP(t,n._query).then(r=>new Zf(e,i,n,r))}(this._delegate),t.then(i=>new r1(this.firestore,new Zf(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...e){const t=lF(e),i=cF(e,r=>new r1(this.firestore,new Zf(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return tF(this._delegate,t,i)}withConverter(e){return new pa(this.firestore,this._delegate.withConverter(e?gg.getInstance(this.firestore,e):null))}}class Xj{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Uw(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class r1{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new pa(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Uw(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new Xj(this._firestore,t))}forEach(e,t){this._delegate.forEach(i=>{e.call(t,new Uw(this._firestore,i))})}isEqual(e){return GP(this._delegate,e._delegate)}}class Ky extends pa{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new ec(this.firestore,e):null}doc(e){try{return new ec(this.firestore,void 0===e?vI(this._delegate):vI(this._delegate,e))}catch(t){throw fa(t,"doc()","CollectionReference.doc()")}}add(e){return function Uj(n,e){const t=Xn(n.firestore,dr),i=vI(n),r=II(n.converter,e);return Yy(t,[CI(hg(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,Er.exists(!1))]).then(()=>i)}(this._delegate,e).then(t=>new ec(this.firestore,t))}isEqual(e){return kP(this._delegate,e._delegate)}withConverter(e){return new Ky(this.firestore,this._delegate.withConverter(e?gg.getInstance(this.firestore,e):null))}}function _g(n){return Xn(n,er)}class s1{constructor(...e){this._delegate=new dh(...e)}static documentId(){return new s1(Qr.keyField().canonicalString())}isEqual(e){return(e=(0,j.m9)(e))instanceof dh&&this._delegate._internalPath.isEqual(e._internalPath)}}class yg{constructor(e){this._delegate=e}static serverTimestamp(){const e=function zj(){return new Zk("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new yg(e)}static delete(){const e=function Gj(){return new Ow("deleteField")}();return e._methodName="FieldValue.delete",new yg(e)}static arrayUnion(...e){const t=function $j(...n){return new mj("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new yg(t)}static arrayRemove(...e){const t=function qj(...n){return new gj("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new yg(t)}static increment(e){const t=function Wj(n){return new _j("increment",n)}(e);return t._methodName="FieldValue.increment",new yg(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const e6={Firestore:sF,GeoPoint:bI,Timestamp:gn,Blob:Lw,Transaction:oF,WriteBatch:aF,DocumentReference:ec,DocumentSnapshot:Vw,Query:pa,QueryDocumentSnapshot:Uw,QuerySnapshot:r1,CollectionReference:Ky,FieldPath:s1,FieldValue:yg,setLogLevel:function Jj(n){!function $T(n){Bc.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function uF(n,e){return function i6(n,e=Oo.z){return new G.y(t=>{let i;return null!=e?e.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},t)}):i=n.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=i&&i()}})}(n,e)}function o1(n,e){return uF(n,e).pipe((0,ye.U)(t=>({payload:t,type:"query"})))}function AI(n,e){return o1(n,e).pipe(Nc(void 0),Jh(),(0,ye.U)(([t,i])=>{const r=i.payload.docChanges(),s=r.map(c=>({type:c.type,payload:c}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((c,h)=>{const p=r.find(E=>E.doc.ref.isEqual(c.ref)),_=null==t?void 0:t.payload.docs.find(E=>E.ref.isEqual(c.ref));p&&JSON.stringify(p.doc.metadata)===JSON.stringify(c.metadata)||!p&&_&&JSON.stringify(_.metadata)===JSON.stringify(c.metadata)||s.push({type:"modified",payload:{oldIndex:h,newIndex:h,type:"modified",doc:c}})}),s}))}function dF(n,e,t){return AI(n,t).pipe(sr((i,r)=>function s6(n,e,t){return e.forEach(i=>{t.indexOf(i.type)>-1&&(n=function o6(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return a1(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return a1(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return a1(n,e.oldIndex,1)}return n}(n,i))}),n}(i,r.map(s=>s.payload),e),[]),C_(),(0,ye.U)(i=>i.map(r=>({type:r.type,payload:r}))))}function a1(n,e,t,...i){const r=n.slice();return r.splice(e,t,...i),r}function hF(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}!function n6(n){(function t6(n,e){n.INTERNAL.registerComponent(new Ni.wA("firestore-compat",t=>{const i=t.getProvider("app-compat").getImmediate(),r=t.getProvider("firestore").getImmediate();return e(i,r)},"PUBLIC").setServiceProps(Object.assign({},e6)))})(n,(e,t)=>new sF(e,t,new Qj)),n.registerVersion("@firebase/firestore-compat","0.1.17")}(Xh.Z);class fF{constructor(e,t,i){this.ref=e,this.query=t,this.afs=i}stateChanges(e){let t=AI(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,ye.U)(i=>i.filter(r=>e.indexOf(r.type)>-1)))),t.pipe(Nc(void 0),Jh(),kn(([i,r])=>r.length>0||!i),(0,ye.U)(([i,r])=>r),fn.iC)}auditTrail(e){return this.stateChanges(e).pipe(sr((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=hF(e);return dF(this.query,t,this.afs.schedulers.outsideAngular).pipe(fn.iC)}valueChanges(e={}){return o1(this.query,this.afs.schedulers.outsideAngular).pipe((0,ye.U)(t=>t.payload.docs.map(i=>e.idField?Object.assign(Object.assign({},i.data()),{[e.idField]:i.id}):i.data())),fn.iC)}get(e){return(0,x.D)(this.query.get(e)).pipe(fn.iC)}add(e){return this.ref.add(e)}doc(e){return new pF(this.ref.doc(e),this.afs)}}class pF{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const i=this.ref.collection(e),{ref:r,query:s}=_F(i,t);return new fF(r,s,this.afs)}snapshotChanges(){return function r6(n,e){return uF(n,e).pipe(Nc(void 0),Jh(),(0,ye.U)(([t,i])=>i.exists?(null==t?void 0:t.exists)?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(fn.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,ye.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,x.D)(this.ref.get(e)).pipe(fn.iC)}}class a6{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?AI(this.query,this.afs.schedulers.outsideAngular).pipe((0,ye.U)(t=>t.filter(i=>e.indexOf(i.type)>-1)),kn(t=>t.length>0),fn.iC):AI(this.query,this.afs.schedulers.outsideAngular).pipe(fn.iC)}auditTrail(e){return this.stateChanges(e).pipe(sr((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=hF(e);return dF(this.query,t,this.afs.schedulers.outsideAngular).pipe(fn.iC)}valueChanges(e={}){return o1(this.query,this.afs.schedulers.outsideAngular).pipe((0,ye.U)(i=>i.payload.docs.map(r=>e.idField?Object.assign({[e.idField]:r.id},r.data()):r.data())),fn.iC)}get(e){return(0,x.D)(this.query.get(e)).pipe(fn.iC)}}const mF=new o.OlP("angularfire2.enableFirestorePersistence"),gF=new o.OlP("angularfire2.firestore.persistenceSettings"),l6=new o.OlP("angularfire2.firestore.settings"),c6=new o.OlP("angularfire2.firestore.use-emulator");function _F(n,e=(t=>t)){return{query:e(n),ref:n}}let l1=(()=>{class n{constructor(t,i,r,s,c,h,p,_,E,S,P,H,$,ae,Ce,st,mt){this.schedulers=p;const _t=(0,Bn.on)(t,h,i),ht=E;S&&Ip(_t,h,P,$,ae,Ce,H,st),[this.firestore,this.persistenceEnabled$]=(0,Bn.cc)(`${_t.name}.firestore`,"AngularFirestore",_t.name,()=>{const Kt=h.runOutsideAngular(()=>_t.firestore());if(s&&Kt.settings(s),ht&&Kt.useEmulator(...ht),r&&!vo(c)){const rn=()=>{try{return(0,x.D)(Kt.enablePersistence(_||void 0).then(()=>!0,()=>!1))}catch($n){return"undefined"!=typeof console&&console.warn($n),N(!1)}};return[Kt,h.runOutsideAngular(rn)]}return[Kt,N(!1)]},[s,ht,r])}collection(t,i){let r;r="string"==typeof t?this.firestore.collection(t):t;const{ref:s,query:c}=_F(r,i),h=this.schedulers.ngZone.run(()=>s);return new fF(h,c,this)}collectionGroup(t,i){const r=i||(c=>c),s=this.firestore.collectionGroup(t);return new a6(r(s),this)}doc(t){let i;i="string"==typeof t?this.firestore.doc(t):t;const r=this.schedulers.ngZone.run(()=>i);return new pF(r,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(Bn.Dh),o.LFG(Bn.xv,8),o.LFG(mF,8),o.LFG(l6,8),o.LFG(o.Lbi),o.LFG(o.R0b),o.LFG(fn.HU),o.LFG(gF,8),o.LFG(c6,8),o.LFG(Sd,8),o.LFG(Di,8),o.LFG(sa,8),o.LFG(el,8),o.LFG(Hl,8),o.LFG(Au,8),o.LFG(Rc,8),o.LFG(Id,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),u6=(()=>{class n{constructor(){Lt.Z.registerVersion("angularfire",fn.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:mF,useValue:!0},{provide:gF,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[l1]}),n})(),MI=(()=>{class n{constructor(t,i,r,s){this.afAuth=t,this.router=i,this.ngZone=r,this.afs=s,this.signInOut()}signInOut(){var t=this;this.afAuth.authState.subscribe(function(){var i=(0,Pe.Z)(function*(r){if(console.log(r,"useruseruseruser"),r){console.log(r,"useruseruseruser inside"),t.userData=r,localStorage.setItem("user",JSON.stringify(t.userData));let s={displayName:t.userData.displayName,email:t.userData.email,photoURL:t.userData.photoURL,uid:t.userData.uid};console.log(r.uid,"User does not exist");let c=t.afs.doc("users/"+r.uid);try{(yield t.afs.collection("users",p=>p.where("uid","==",r.uid))).valueChanges().subscribe(p=>{console.log(p,"fsd afsadf sdafsad fsda fsdfsd"),0===p.length?(console.log("data empty"),c.set(s),localStorage.setItem("loginuser",JSON.stringify(s))):(console.log("User does exist"),localStorage.setItem("loginuser",JSON.stringify(p[0])))})}catch(h){console.log(h,"eratssa")}}else console.log(r," else testData"),localStorage.setItem("user","null"),JSON.parse(localStorage.getItem("user")),localStorage.setItem("loginuser","null"),JSON.parse(localStorage.getItem("loginuser"))});return function(r){return i.apply(this,arguments)}}())}docExists(t){return console.log(t,"pathpath"),this.afs.doc(t).valueChanges().pipe(R()).toPromise()}get isLoggedIn(){this.signInOut();let t=localStorage.getItem("user");console.log(t,"localstorage");const i=JSON.parse(t);return console.log(i,"user"),null!==i}GoogleAuth(){return this.AuthLogin(new vr.N)}AuthLogin(t){return this.afAuth.signInWithPopup(t).then(i=>{console.log(i,"result"),this.ngZone.run(()=>{this.router.navigate(["home"])})}).catch(i=>{window.alert(i)})}SignOut(){return this.afAuth.signOut().then(()=>{localStorage.setItem("user","null"),localStorage.setItem("loginuser","null"),this.router.navigate(["home"])})}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(Sd),o.LFG(Kr),o.LFG(o.R0b),o.LFG(l1))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),d6=(()=>{class n{constructor(t,i){this.authService=t,this.router=i}canActivate(t,i){return this.authService.isLoggedIn&&(console.log(this.authService.isLoggedIn,"this.authService.isLoggedIn"),window.alert("Access Denied"),this.router.navigate(["/"])),!0}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(MI),o.LFG(Kr))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Qy=(()=>{class n{constructor(t){this.afs=t}createNote(t){return this.afs.collection("notes").add(t)}userId(){const t=JSON.parse(localStorage.getItem("user"));return null!==t?t.uid:""}getNotes(t){return this.afs.collection("notes",r=>(r.orderBy("title","asc"),r.where("uid","==",t))).snapshotChanges()}getUsers(){return this.afs.collection("users").snapshotChanges()}getaNote(t){return this.afs.doc("notes/"+t).valueChanges()}updateNote(t){this.afs.doc("notes/"+t.id).update(t)}deleteNote(t){this.afs.doc("notes/"+t).delete()}loggedInUser(){return JSON.parse(localStorage.getItem("loginuser"))}activeDeactiveUser(t,i){this.afs.doc("users/"+t).update({isVerified:i})}getTiming(){return this.afs.collection("timing").snapshotChanges()}updateTiming(t){this.afs.doc("timing/"+t.id).update(t)}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(l1))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),yF=(()=>{class n{constructor(t,i){this.userService=t,this.router=i}canActivate(t,i){return this.userService.loggedInUser()&&(this.userService.loggedInUser().isVerified||this.userService.loggedInUser().isAdmin||(window.alert("Access Denied, Login is Required to Access This Page!"),this.router.navigate(["home"]))),!0}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(Qy),o.LFG(Kr))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function vF(n,e=Oo.z){return(0,Qn.e)((t,i)=>{let r=null,s=null,c=null;const h=()=>{if(r){r.unsubscribe(),r=null;const _=s;s=null,i.next(_)}};function p(){const _=c+n,E=e.now();if(E<_)return r=this.schedule(void 0,_-E),void i.add(r);h()}t.subscribe((0,pi.x)(i,_=>{s=_,c=e.now(),r||(r=e.schedule(p,n),i.add(r))},()=>{h(),i.complete()},void 0,()=>{s=r=null}))})}const bF="firebasestorage.googleapis.com",wF="storageBucket";class Vr extends j.ZR{constructor(e,t){super(c1(e),`Firebase Storage: ${t} (${c1(e)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Vr.prototype)}_codeEquals(e){return c1(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function c1(n){return"storage/"+n}function u1(){return new Vr("unknown","An unknown error occurred, please check the error payload for server response.")}function CF(){return new Vr("canceled","User canceled the upload/download.")}function EF(){return new Vr("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function Jy(n){return new Vr("invalid-argument",n)}function TF(){return new Vr("app-deleted","The Firebase app was deleted.")}function DF(n){return new Vr("invalid-root-operation","The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Bw(n,e){return new Vr("invalid-format","String does not match format '"+n+"': "+e)}function Hw(n){throw new Vr("internal-error","Internal error: "+n)}class Ho{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let i;try{i=Ho.makeFromUrl(e,t)}catch(r){return new Ho(e,"")}if(""===i.path)return i;throw function w6(n){return new Vr("invalid-default-bucket","Invalid default bucket '"+n+"'.")}(e)}static makeFromUrl(e,t){let i=null;const r="([A-Za-z0-9.\\-_]+)",h=new RegExp("^gs://"+r+"(/(.*))?$","i");function _(ht){ht.path_=decodeURIComponent(ht.path)}const S=t.replace(/[.]/g,"\\."),_t=[{regex:h,indices:{bucket:1,path:3},postModify:function s(ht){"/"===ht.path.charAt(ht.path.length-1)&&(ht.path_=ht.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${S}/v[A-Za-z0-9_]+/b/${r}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:_},{regex:new RegExp(`^https?://${t===bF?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${r}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:_}];for(let ht=0;ht<_t.length;ht++){const Kt=_t[ht],rn=Kt.regex.exec(e);if(rn){let Sr=rn[Kt.indices.path];Sr||(Sr=""),i=new Ho(rn[Kt.indices.bucket],Sr),Kt.postModify(i);break}}if(null==i)throw function b6(n){return new Vr("invalid-url","Invalid URL '"+n+"'.")}(e);return i}}class D6{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function xI(n){return"string"==typeof n||n instanceof String}function IF(n){return d1()&&n instanceof Blob}function d1(){return"undefined"!=typeof Blob}function h1(n,e,t,i){if(i<e)throw Jy(`Invalid value for '${n}'. Expected ${e} or greater.`);if(i>t)throw Jy(`Invalid value for '${n}'. Expected ${t} or less.`)}function fh(n,e,t){let i=e;return null==t&&(i=`https://${e}`),`${t}://${i}/v0${n}`}function SF(n){const e=encodeURIComponent;let t="?";for(const i in n)n.hasOwnProperty(i)&&(t=t+(e(i)+"=")+e(n[i])+"&");return t=t.slice(0,-1),t}var Qf=(()=>(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"}(Qf||(Qf={})),Qf))();class k6{constructor(e,t,i,r,s,c,h,p,_,E,S){this.url_=e,this.method_=t,this.headers_=i,this.body_=r,this.successCodes_=s,this.additionalRetryCodes_=c,this.callback_=h,this.errorCallback_=p,this.timeout_=_,this.progressCallback_=E,this.connectionFactory_=S,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((P,H)=>{this.resolve_=P,this.reject_=H,this.start_()})}start_(){const t=(i,r)=>{const s=this.resolve_,c=this.reject_,h=r.connection;if(r.wasSuccessCode)try{const p=this.callback_(h,h.getResponse());!function A6(n){return void 0!==n}(p)?s():s(p)}catch(p){c(p)}else if(null!==h){const p=u1();p.serverResponse=h.getErrorText(),c(this.errorCallback_?this.errorCallback_(h,p):p)}else c(r.canceled?this.appDelete_?TF():CF():function v6(){return new Vr("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}())};this.canceled_?t(0,new kI(!1,null,!0)):this.backoffId_=function I6(n,e,t){let i=1,r=null,s=null,c=!1,h=0;function p(){return 2===h}let _=!1;function E(...Ce){_||(_=!0,e.apply(null,Ce))}function S(Ce){r=setTimeout(()=>{r=null,n(H,p())},Ce)}function P(){s&&clearTimeout(s)}function H(Ce,...st){if(_)return void P();if(Ce)return P(),void E.call(null,Ce,...st);if(p()||c)return P(),void E.call(null,Ce,...st);let _t;i<64&&(i*=2),1===h?(h=2,_t=0):_t=1e3*(i+Math.random()),S(_t)}let $=!1;function ae(Ce){$||($=!0,P(),!_&&(null!==r?(Ce||(h=2),clearTimeout(r),S(0)):Ce||(h=1)))}return S(0),s=setTimeout(()=>{c=!0,ae(!0)},t),ae}((i,r)=>{if(r)return void i(!1,new kI(!1,null,!0));const s=this.connectionFactory_();this.pendingConnection_=s;const c=h=>{null!==this.progressCallback_&&this.progressCallback_(h.loaded,h.lengthComputable?h.total:-1)};null!==this.progressCallback_&&s.addUploadProgressListener(c),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&s.removeUploadProgressListener(c),this.pendingConnection_=null;const h=s.getErrorCode()===Qf.NO_ERROR,p=s.getStatus();if(!h||this.isRetryStatusCode_(p)){const E=s.getErrorCode()===Qf.ABORT;return void i(!1,new kI(!1,null,E))}const _=-1!==this.successCodes_.indexOf(p);i(!0,new kI(_,s))})},t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function S6(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(e){const t=e>=500&&e<600,r=-1!==[408,429].indexOf(e),s=-1!==this.additionalRetryCodes_.indexOf(e);return t||r||s}}class kI{constructor(e,t,i){this.wasSuccessCode=e,this.connection=t,this.canceled=!!i}}function V6(...n){const e=function L6(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}();if(void 0!==e){const t=new e;for(let i=0;i<n.length;i++)t.append(n[i]);return t.getBlob()}if(d1())return new Blob(n);throw new Vr("unsupported-environment","This browser doesn't seem to support creating Blobs")}const hl={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class f1{constructor(e,t){this.data=e,this.contentType=t||null}}function p1(n,e){switch(n){case hl.RAW:return new f1(AF(e));case hl.BASE64:case hl.BASE64URL:return new f1(MF(n,e));case hl.DATA_URL:return new f1(function j6(n){const e=new xF(n);return e.base64?MF(hl.BASE64,e.rest):function H6(n){let e;try{e=decodeURIComponent(n)}catch(t){throw Bw(hl.DATA_URL,"Malformed data URL.")}return AF(e)}(e.rest)}(e),function G6(n){return new xF(n).contentType}(e))}throw u1()}function AF(n){const e=[];for(let t=0;t<n.length;t++){let i=n.charCodeAt(t);i<=127?e.push(i):i<=2047?e.push(192|i>>6,128|63&i):55296==(64512&i)?t<n.length-1&&56320==(64512&n.charCodeAt(t+1))?(i=65536|(1023&i)<<10|1023&n.charCodeAt(++t),e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|63&i)):e.push(239,191,189):56320==(64512&i)?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|63&i)}return new Uint8Array(e)}function MF(n,e){switch(n){case hl.BASE64:{const r=-1!==e.indexOf("-"),s=-1!==e.indexOf("_");if(r||s)throw Bw(n,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case hl.BASE64URL:{const r=-1!==e.indexOf("+"),s=-1!==e.indexOf("/");if(r||s)throw Bw(n,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=function B6(n){return atob(n)}(e)}catch(r){throw Bw(n,"Invalid character found")}const i=new Uint8Array(t.length);for(let r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return i}class xF{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw Bw(hl.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=t[1]||null;null!=i&&(this.base64=function z6(n,e){return n.length>=e.length&&n.substring(n.length-e.length)===e}(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=e.substring(e.indexOf(",")+1)}}class Ku{constructor(e,t){let i=0,r="";IF(e)?(this.data_=e,i=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),i=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),i=e.length),this.size_=i,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,t){if(IF(this.data_)){const r=function U6(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}(this.data_,e,t);return null===r?null:new Ku(r)}{const i=new Uint8Array(this.data_.buffer,e,t-e);return new Ku(i,!0)}}static getBlob(...e){if(d1()){const t=e.map(i=>i instanceof Ku?i.data_:i);return new Ku(V6.apply(null,t))}{const t=e.map(c=>xI(c)?p1(hl.RAW,c).data:c.data_);let i=0;t.forEach(c=>{i+=c.byteLength});const r=new Uint8Array(i);let s=0;return t.forEach(c=>{for(let h=0;h<c.length;h++)r[s++]=c[h]}),new Ku(r,!0)}}uploadData(){return this.data_}}function m1(n){let e;try{e=JSON.parse(n)}catch(t){return null}return function x6(n){return"object"==typeof n&&!Array.isArray(n)}(e)?e:null}function kF(n){const e=n.lastIndexOf("/",n.length-2);return-1===e?n:n.slice(e+1)}function W6(n,e){return e}class ma{constructor(e,t,i,r){this.server=e,this.local=t||e,this.writable=!!i,this.xform=r||W6}}let RI=null;function jw(){if(RI)return RI;const n=[];n.push(new ma("bucket")),n.push(new ma("generation")),n.push(new ma("metageneration")),n.push(new ma("name","fullPath",!0));const t=new ma("name");t.xform=function e(s,c){return function Z6(n){return!xI(n)||n.length<2?n:kF(n)}(c)},n.push(t);const r=new ma("size");return r.xform=function i(s,c){return void 0!==c?Number(c):c},n.push(r),n.push(new ma("timeCreated")),n.push(new ma("updated")),n.push(new ma("md5Hash",null,!0)),n.push(new ma("cacheControl",null,!0)),n.push(new ma("contentDisposition",null,!0)),n.push(new ma("contentEncoding",null,!0)),n.push(new ma("contentLanguage",null,!0)),n.push(new ma("contentType",null,!0)),n.push(new ma("metadata","customMetadata",!0)),RI=n,RI}function RF(n,e,t){const i=m1(e);return null===i?null:function K6(n,e,t){const i={type:"file"},r=t.length;for(let s=0;s<r;s++){const c=t[s];i[c.local]=c.xform(i,e[c.server])}return function Y6(n,e){Object.defineProperty(n,"ref",{get:function t(){const s=new Ho(n.bucket,n.fullPath);return e._makeStorageReference(s)}})}(i,n),i}(n,i,t)}function g1(n,e){const t={},i=e.length;for(let r=0;r<i;r++){const s=e[r];s.writable&&(t[s.server]=n[s.local])}return JSON.stringify(t)}const OF="prefixes";class Qu{constructor(e,t,i,r){this.url=e,this.method=t,this.handler=i,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Ju(n){if(!n)throw u1()}function OI(n,e){return function t(i,r){const s=RF(n,r,e);return Ju(null!==s),s}}function Xy(n){return function e(t,i){let r;return r=401===t.getStatus()?t.getErrorText().includes("Firebase App Check token is invalid")?function _6(){return new Vr("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}():function g6(){return new Vr("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===t.getStatus()?function m6(n){return new Vr("quota-exceeded","Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===t.getStatus()?function y6(n){return new Vr("unauthorized","User does not have permission to access '"+n+"'.")}(n.path):i,r.serverResponse=i.serverResponse,r}}function Gw(n){const e=Xy(n);return function t(i,r){let s=e(i,r);return 404===i.getStatus()&&(s=function p6(n){return new Vr("object-not-found","Object '"+n+"' does not exist.")}(n.path)),s.serverResponse=r.serverResponse,s}}function PF(n,e,t){const r=fh(e.fullServerUrl(),n.host,n._protocol),c=n.maxOperationRetryTime,h=new Qu(r,"GET",OI(n,t),c);return h.errorHandler=Gw(e),h}function nG(n,e,t,i,r){const s={};s.prefix=e.isRoot?"":e.path+"/",t&&t.length>0&&(s.delimiter=t),i&&(s.pageToken=i),r&&(s.maxResults=r);const h=fh(e.bucketOnlyServerUrl(),n.host,n._protocol),_=n.maxOperationRetryTime,E=new Qu(h,"GET",function eG(n,e){return function t(i,r){const s=function X6(n,e,t){const i=m1(t);return null===i?null:function J6(n,e,t){const i={prefixes:[],items:[],nextPageToken:t.nextPageToken};if(t[OF])for(const r of t[OF]){const s=r.replace(/\/$/,""),c=n._makeStorageReference(new Ho(e,s));i.prefixes.push(c)}if(t.items)for(const r of t.items){const s=n._makeStorageReference(new Ho(e,r.name));i.items.push(s)}return i}(n,e,i)}(n,e,r);return Ju(null!==s),s}}(n,e.bucket),_);return E.urlParams=s,E.errorHandler=Xy(e),E}function LF(n,e,t){const i=Object.assign({},t);return i.fullPath=n.path,i.size=e.size(),i.contentType||(i.contentType=function oG(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}(null,e)),i}class NI{constructor(e,t,i,r){this.current=e,this.total=t,this.finalized=!!i,this.metadata=r||null}}function _1(n,e){let t=null;try{t=n.getResponseHeader("X-Goog-Upload-Status")}catch(r){Ju(!1)}return Ju(!!t&&-1!==(e||["active"]).indexOf(t)),t}const uG={STATE_CHANGED:"state_changed"},ga={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function y1(n){switch(n){case"running":case"pausing":case"canceling":return ga.RUNNING;case"paused":return ga.PAUSED;case"success":return ga.SUCCESS;case"canceled":return ga.CANCELED;default:return ga.ERROR}}class dG{constructor(e,t,i){if(function M6(n){return"function"==typeof n}(e)||null!=t||null!=i)this.next=e,this.error=null!=t?t:void 0,this.complete=null!=i?i:void 0;else{const s=e;this.next=s.next,this.error=s.error,this.complete=s.complete}}}function ev(n){return(...e)=>{Promise.resolve().then(()=>n(...e))}}class fG extends class hG{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Qf.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Qf.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Qf.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,i,r){if(this.sent_)throw Hw("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(const s in r)r.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,r[s].toString());return void 0!==i?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Hw("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Hw("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}getResponse(){if(!this.sent_)throw Hw("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Hw("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}{initXhr(){this.xhr_.responseType="text"}}function tu(){return new fG}class HF{constructor(e,t,i=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=i,this._mappings=jw(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=r=>{this._request=void 0,this._chunkMultiplier=1,r._codeEquals("canceled")?(this._needToFetchStatus=!0,this.completeTransitions_()):(this._error=r,this._transition("error"))},this._metadataErrorHandler=r=>{this._request=void 0,r._codeEquals("canceled")?this.completeTransitions_():(this._error=r,this._transition("error"))},this._promise=new Promise((r,s)=>{this._resolve=r,this._reject=s,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,i])=>{switch(this._state){case"running":e(t,i);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((e,t)=>{const i=function aG(n,e,t,i,r){const s=e.bucketOnlyServerUrl(),c=LF(e,i,r),h={name:c.fullPath},p=fh(s,n.host,n._protocol),E={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i.size()}`,"X-Goog-Upload-Header-Content-Type":c.contentType,"Content-Type":"application/json; charset=utf-8"},S=g1(c,t),$=new Qu(p,"POST",function H(ae){let Ce;_1(ae);try{Ce=ae.getResponseHeader("X-Goog-Upload-URL")}catch(st){Ju(!1)}return Ju(xI(Ce)),Ce},n.maxUploadRetryTime);return $.urlParams=h,$.headers=E,$.body=S,$.errorHandler=Xy(e),$}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,tu,e,t);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((t,i)=>{const r=function lG(n,e,t,i){const p=new Qu(t,"POST",function s(_){const E=_1(_,["active","final"]);let S=null;try{S=_.getResponseHeader("X-Goog-Upload-Size-Received")}catch(H){Ju(!1)}S||Ju(!1);const P=Number(S);return Ju(!isNaN(P)),new NI(P,i.size(),"final"===E)},n.maxUploadRetryTime);return p.headers={"X-Goog-Upload-Command":"query"},p.errorHandler=Xy(e),p}(this._ref.storage,this._ref._location,e,this._blob),s=this._ref.storage._makeRequest(r,tu,t,i);this._request=s,s.getPromise().then(c=>{c=c,this._request=void 0,this._updateProgress(c.current),this._needToFetchStatus=!1,c.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=262144*this._chunkMultiplier,t=new NI(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken((r,s)=>{let c;try{c=function cG(n,e,t,i,r,s,c,h){const p=new NI(0,0);if(c?(p.current=c.current,p.total=c.total):(p.current=0,p.total=i.size()),i.size()!==p.total)throw function E6(){return new Vr("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}();const _=p.total-p.current;let E=_;r>0&&(E=Math.min(E,r));const S=p.current,$={"X-Goog-Upload-Command":E===_?"upload, finalize":"upload","X-Goog-Upload-Offset":`${p.current}`},ae=i.slice(S,S+E);if(null===ae)throw EF();const _t=new Qu(t,"POST",function Ce(ht,Kt){const rn=_1(ht,["active","final"]),$n=p.current+E,Sr=i.size();let yl;return yl="final"===rn?OI(e,s)(ht,Kt):null,new NI($n,Sr,"final"===rn,yl)},e.maxUploadRetryTime);return _t.headers=$,_t.body=ae.uploadData(),_t.progressCallback=h||null,_t.errorHandler=Xy(n),_t}(this._ref._location,this._ref.storage,i,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(p){return this._error=p,void this._transition("error")}const h=this._ref.storage._makeRequest(c,tu,r,s);this._request=h,h.getPromise().then(p=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(p.current),p.finalized?(this._metadata=p.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{const i=PF(this._ref.storage,this._ref._location,this._mappings),r=this._ref.storage._makeRequest(i,tu,e,t);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{const i=function VF(n,e,t,i,r){const s=e.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"},p=function h(){let _t="";for(let ht=0;ht<2;ht++)_t+=Math.random().toString().slice(2);return _t}();c["Content-Type"]="multipart/related; boundary="+p;const _=LF(e,i,r),E=g1(_,t),H=Ku.getBlob("--"+p+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+E+"\r\n--"+p+"\r\nContent-Type: "+_.contentType+"\r\n\r\n",i,"\r\n--"+p+"--");if(null===H)throw EF();const $={name:_.fullPath},ae=fh(s,n.host,n._protocol),st=n.maxUploadRetryTime,mt=new Qu(ae,"POST",OI(n,t),st);return mt.urlParams=$,mt.headers=c,mt.body=H.uploadData(),mt.errorHandler=Xy(e),mt}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,tu,e,t);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":const t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=CF(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=y1(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,i,r){const s=new dG(t||void 0,i||void 0,r||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(y1(this._state)){case ga.SUCCESS:ev(this._resolve.bind(null,this.snapshot))();break;case ga.CANCELED:case ga.ERROR:ev(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(y1(this._state)){case ga.RUNNING:case ga.PAUSED:e.next&&ev(e.next.bind(e,this.snapshot))();break;case ga.SUCCESS:e.complete&&ev(e.complete.bind(e))();break;default:e.error&&ev(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class vg{constructor(e,t){this._service=e,this._location=t instanceof Ho?t:Ho.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new vg(e,t)}get root(){const e=new Ho(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return kF(this._location.path)}get storage(){return this._service}get parent(){const e=function $6(n){if(0===n.length)return null;const e=n.lastIndexOf("/");return-1===e?"":n.slice(0,e)}(this._location.path);if(null===e)return null;const t=new Ho(this._location.bucket,e);return new vg(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw DF(e)}}function GF(n,e,t){return v1.apply(this,arguments)}function v1(){return v1=(0,Pe.Z)(function*(n,e,t){const r=yield zF(n,{pageToken:t});e.prefixes.push(...r.prefixes),e.items.push(...r.items),null!=r.nextPageToken&&(yield GF(n,e,r.nextPageToken))}),v1.apply(this,arguments)}function zF(n,e){null!=e&&"number"==typeof e.maxResults&&h1("options.maxResults",1,1e3,e.maxResults);const t=e||{},i=nG(n.storage,n._location,"/",t.pageToken,t.maxResults);return n.storage.makeRequestWithTokens(i,tu)}function DG(n){n._throwIfRoot("getDownloadURL");const e=function iG(n,e,t){const r=fh(e.fullServerUrl(),n.host,n._protocol),c=n.maxOperationRetryTime,h=new Qu(r,"GET",function tG(n,e){return function t(i,r){const s=RF(n,r,e);return Ju(null!==s),function Q6(n,e,t,i){const r=m1(e);if(null===r||!xI(r.downloadTokens))return null;const s=r.downloadTokens;if(0===s.length)return null;const c=encodeURIComponent;return s.split(",").map(_=>{const S=n.fullPath;return fh("/b/"+c(n.bucket)+"/o/"+c(S),t,i)+SF({alt:"media",token:_})})[0]}(s,r,n.host,n._protocol)}}(n,t),c);return h.errorHandler=Gw(e),h}(n.storage,n._location,jw());return n.storage.makeRequestWithTokens(e,tu).then(t=>{if(null===t)throw function T6(){return new Vr("no-download-url","The given file does not have any download URLs.")}();return t})}function $F(n,e){const t=function q6(n,e){const t=e.split("/").filter(i=>i.length>0).join("/");return 0===n.length?t:n+"/"+t}(n._location.path,e),i=new Ho(n._location.bucket,t);return new vg(n.storage,i)}function qF(n,e){if(n instanceof b1){const t=n;if(null==t._bucket)throw function C6(){return new Vr("no-default-bucket","No default bucket found. Did you set the '"+wF+"' property when initializing the app?")}();const i=new vg(t,t._bucket);return null!=e?qF(i,e):i}return void 0!==e?$F(n,e):n}function MG(n,e){if(e&&function SG(n){return/^[A-Za-z]+:\/\//.test(n)}(e)){if(n instanceof b1)return function AG(n,e){return new vg(n,e)}(n,e);throw Jy("To use ref(service, url), the first argument must be a Storage instance.")}return qF(n,e)}function WF(n,e){const t=null==e?void 0:e[wF];return null==t?null:Ho.makeFromBucketSpec(t,n)}class b1{constructor(e,t,i,r,s){this.app=e,this._authProvider=t,this._appCheckProvider=i,this._url=r,this._firebaseVersion=s,this._bucket=null,this._host=bF,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?Ho.makeFromBucketSpec(r,this._host):WF(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?Ho.makeFromBucketSpec(this._url,e):WF(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){h1("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){h1("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return(0,Pe.Z)(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const t=e._authProvider.getImmediate({optional:!0});if(t){const i=yield t.getToken();if(null!==i)return i.accessToken}return null})()}_getAppCheckToken(){var e=this;return(0,Pe.Z)(function*(){const t=e._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new vg(this,e)}_makeRequest(e,t,i,r){if(this._deleted)return new D6(TF());{const s=function F6(n,e,t,i,r,s){const c=SF(n.urlParams),h=n.url+c,p=Object.assign({},n.headers);return function N6(n,e){e&&(n["X-Firebase-GMPID"]=e)}(p,e),function R6(n,e){null!==e&&e.length>0&&(n.Authorization="Firebase "+e)}(p,t),function O6(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(null!=e?e:"AppManager")}(p,s),function P6(n,e){null!==e&&(n["X-Firebase-AppCheck"]=e)}(p,i),new k6(h,n.method,p,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,r)}(e,this._appId,i,r,t,this._firebaseVersion);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}makeRequestWithTokens(e,t){var i=this;return(0,Pe.Z)(function*(){const[r,s]=yield Promise.all([i._getAuthToken(),i._getAppCheckToken()]);return i._makeRequest(e,t,r,s).getPromise()})()}}const ZF="@firebase/storage";function QF(n,e){return MG(n=(0,j.m9)(n),e)}function BG(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),r=n.getProvider("app-check-internal");return new b1(t,i,r,e,Yi.SDK_VERSION)}!function HG(){(0,Yi._registerComponent)(new Ni.wA("storage",BG,"PUBLIC").setMultipleInstances(!0)),(0,Yi.registerVersion)(ZF,"0.9.5",""),(0,Yi.registerVersion)(ZF,"0.9.5","esm2017")}();class PI{constructor(e,t,i){this._delegate=e,this.task=t,this.ref=i}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class JF{constructor(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new PI(this._delegate.snapshot,this,this._ref)}then(e,t){return this._delegate.then(i=>{if(e)return e(new PI(i,this,this._ref))},t)}on(e,t,i,r){let s;return t&&(s="function"==typeof t?c=>t(new PI(c,this,this._ref)):{next:t.next?c=>t.next(new PI(c,this,this._ref)):void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,s,i||void 0,r||void 0)}}class XF{constructor(e,t){this._delegate=e,this._service=t}get prefixes(){return this._delegate.prefixes.map(e=>new ph(e,this._service))}get items(){return this._delegate.items.map(e=>new ph(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class ph{constructor(e,t){this._delegate=e,this.storage=t}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const t=function VG(n,e){return $F(n,e)}(this._delegate,e);return new ph(t,this.storage)}get root(){return new ph(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return null==e?null:new ph(e,this.storage)}put(e,t){return this._throwIfRoot("put"),new JF(function kG(n,e,t){return function bG(n,e,t){return n._throwIfRoot("uploadBytesResumable"),new HF(n,new Ku(e),t)}(n=(0,j.m9)(n),e,t)}(this._delegate,e,t),this)}putString(e,t=hl.RAW,i){this._throwIfRoot("putString");const r=p1(t,e),s=Object.assign({},i);return null==s.contentType&&null!=r.contentType&&(s.contentType=r.contentType),new JF(new HF(this._delegate,new Ku(r.data,!0),s),this)}listAll(){return function PG(n){return function CG(n){const e={prefixes:[],items:[]};return GF(n,e).then(()=>e)}(n=(0,j.m9)(n))}(this._delegate).then(e=>new XF(e,this.storage))}list(e){return function NG(n,e){return zF(n=(0,j.m9)(n),e)}(this._delegate,e||void 0).then(t=>new XF(t,this.storage))}getMetadata(){return function RG(n){return function EG(n){n._throwIfRoot("getMetadata");const e=PF(n.storage,n._location,jw());return n.storage.makeRequestWithTokens(e,tu)}(n=(0,j.m9)(n))}(this._delegate)}updateMetadata(e){return function OG(n,e){return function TG(n,e){n._throwIfRoot("updateMetadata");const t=function rG(n,e,t,i){const s=fh(e.fullServerUrl(),n.host,n._protocol),h=g1(t,i),_=n.maxOperationRetryTime,E=new Qu(s,"PATCH",OI(n,i),_);return E.headers={"Content-Type":"application/json; charset=utf-8"},E.body=h,E.errorHandler=Gw(e),E}(n.storage,n._location,e,jw());return n.storage.makeRequestWithTokens(t,tu)}(n=(0,j.m9)(n),e)}(this._delegate,e)}getDownloadURL(){return function FG(n){return DG(n=(0,j.m9)(n))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function LG(n){return function IG(n){n._throwIfRoot("deleteObject");const e=function sG(n,e){const i=fh(e.fullServerUrl(),n.host,n._protocol),h=new Qu(i,"DELETE",function c(p,_){},n.maxOperationRetryTime);return h.successCodes=[200,204],h.errorHandler=Gw(e),h}(n.storage,n._location);return n.storage.makeRequestWithTokens(e,tu)}(n=(0,j.m9)(n))}(this._delegate)}_throwIfRoot(e){if(""===this._delegate._location.path)throw DF(e)}}class eL{constructor(e,t){this.app=e,this._delegate=t}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(tL(e))throw Jy("ref() expected a child path but got a URL, use refFromURL instead.");return new ph(QF(this._delegate,e),this)}refFromURL(e){if(!tL(e))throw Jy("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Ho.makeFromUrl(e,this._delegate.host)}catch(t){throw Jy("refFromUrl() expected a valid full URL but got an invalid one.")}return new ph(QF(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,t,i={}){!function UG(n,e,t,i={}){!function xG(n,e,t,i={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:r}=i;r&&(n._overrideAuthToken="string"==typeof r?r:(0,j.Sg)(r,n.app.options.projectId))}(n,e,t,i)}(this._delegate,e,t,i)}}function tL(n){return/^[A-Za-z]+:\/\//.test(n)}function $G(n,{instanceIdentifier:e}){const t=n.getProvider("app-compat").getImmediate(),i=n.getProvider("storage").getImmediate({identifier:e});return new eL(t,i)}function nL(n){const e=function WG(n){return new G.y(e=>{const t=c=>e.next(c);t(n.snapshot);const s=n.on("state_changed",t);return n.then(c=>{t(c),e.complete()},c=>{t(n.snapshot),(c=>{e.error(c)})(c)}),function(){s()}}).pipe(vF(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>e,percentageChanges:()=>e.pipe((0,ye.U)(t=>t.bytesTransferred/t.totalBytes*100))}}function FI(n){return{getDownloadURL:()=>N(void 0).pipe(fn.fc,qe(()=>n.getDownloadURL()),fn.iC),getMetadata:()=>N(void 0).pipe(fn.fc,qe(()=>n.getMetadata()),fn.iC),delete:()=>(0,x.D)(n.delete()),child:e=>FI(n.child(e)),updateMetadata:e=>(0,x.D)(n.updateMetadata(e)),put:(e,t)=>nL(n.put(e,t)),putString:(e,t,i)=>nL(n.putString(e,t,i)),list:e=>(0,x.D)(n.list(e)),listAll:()=>(0,x.D)(n.listAll())}}!function qG(n){const e={TaskState:ga,TaskEvent:uG,StringFormat:hl,Storage:eL,Reference:ph};n.INTERNAL.registerComponent(new Ni.wA("storage-compat",$G,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.1.13")}(Xh.Z);const ZG=new o.OlP("angularfire2.storageBucket"),YG=new o.OlP("angularfire2.storage.maxUploadRetryTime"),KG=new o.OlP("angularfire2.storage.maxOperationRetryTime"),QG=new o.OlP("angularfire2.storage.use-emulator");let JG=(()=>{class n{constructor(t,i,r,s,c,h,p,_,E,S){const P=(0,Bn.on)(t,c,i);this.storage=(0,Bn.cc)(`${P.name}.storage.${r}`,"AngularFireStorage",P.name,()=>{const H=c.runOutsideAngular(()=>P.storage(r||void 0)),$=E;return $&&H.useEmulator(...$),p&&H.setMaxUploadRetryTime(p),_&&H.setMaxOperationRetryTime(_),H},[p,_])}ref(t){return FI(this.storage.ref(t))}refFromURL(t){return FI(this.storage.refFromURL(t))}upload(t,i,r){return FI(this.storage.ref(t)).put(i,r)}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(Bn.Dh),o.LFG(Bn.xv,8),o.LFG(ZG,8),o.LFG(o.Lbi),o.LFG(o.R0b),o.LFG(fn.HU),o.LFG(YG,8),o.LFG(KG,8),o.LFG(QG,8),o.LFG(Id,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),XG=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})(),e4=(()=>{class n{constructor(){Lt.Z.registerVersion("angularfire",fn.q4.full,"gcs-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[JG],imports:[XG]}),n})();var LI=z(5032);const iL="@firebase/database";let w1="";function sL(n){w1=n}class i4{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),(0,j.Pz)(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:(0,j.cI)(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class r4{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return(0,j.r3)(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const oL=function(n){try{if("undefined"!=typeof window&&void 0!==window[n]){const e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new i4(e)}}catch(e){}return new r4},bg=oL("localStorage"),C1=oL("sessionStorage"),tv=new Nr.Yd("@firebase/database"),aL=function(){let n=1;return function(){return n++}}(),lL=function(n){const e=(0,j.dS)(n),t=new j.gQ;t.update(e);const i=t.digest();return j.US.encodeByteArray(i)},zw=function(...n){let e="";for(let t=0;t<n.length;t++){const i=n[t];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?e+=zw.apply(null,i):e+="object"==typeof i?(0,j.Pz)(i):i,e+=" "}return e};let wg=null,cL=!0;const uL=function(n,e){(0,j.hu)(!e||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(tv.logLevel=Nr.in.VERBOSE,wg=tv.log.bind(tv),e&&C1.set("logging_enabled",!0)):"function"==typeof n?wg=n:(wg=null,C1.remove("logging_enabled"))},Zs=function(...n){if(!0===cL&&(cL=!1,null===wg&&!0===C1.get("logging_enabled")&&uL(!0)),wg){const e=zw.apply(null,n);wg(e)}},$w=function(n){return function(...e){Zs(n,...e)}},E1=function(...n){const e="FIREBASE INTERNAL ERROR: "+zw(...n);tv.error(e)},Xu=function(...n){const e=`FIREBASE FATAL ERROR: ${zw(...n)}`;throw tv.error(e),new Error(e)},_a=function(...n){const e="FIREBASE WARNING: "+zw(...n);tv.warn(e)},VI=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},mh="[MIN_NAME]",ed="[MAX_NAME]",Cg=function(n,e){if(n===e)return 0;if(n===mh||e===ed)return-1;if(e===mh||n===ed)return 1;{const t=UI(n),i=UI(e);return null!==t?null!==i?t-i==0?n.length-e.length:t-i:-1:null!==i?1:n<e?-1:1}},a4=function(n,e){return n===e?0:n<e?-1:1},qw=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+(0,j.Pz)(e))},T1=function(n){if("object"!=typeof n||null===n)return(0,j.Pz)(n);const e=[];for(const i in n)e.push(i);e.sort();let t="{";for(let i=0;i<e.length;i++)0!==i&&(t+=","),t+=(0,j.Pz)(e[i]),t+=":",t+=T1(n[e[i]]);return t+="}",t},dL=function(n,e){const t=n.length;if(t<=e)return[n];const i=[];for(let r=0;r<t;r+=e)i.push(n.substring(r,r+e>t?t:r+e));return i};function Ys(n,e){for(const t in n)n.hasOwnProperty(t)&&e(t,n[t])}const hL=function(n){(0,j.hu)(!VI(n),"Invalid JSON number");const i=1023;let r,s,c,h,p;0===n?(s=0,c=0,r=1/n==-1/0?1:0):(r=n<0,(n=Math.abs(n))>=Math.pow(2,1-i)?(h=Math.min(Math.floor(Math.log(n)/Math.LN2),i),s=h+i,c=Math.round(n*Math.pow(2,52-h)-Math.pow(2,52))):(s=0,c=Math.round(n/Math.pow(2,-1074))));const _=[];for(p=52;p;p-=1)_.push(c%2?1:0),c=Math.floor(c/2);for(p=11;p;p-=1)_.push(s%2?1:0),s=Math.floor(s/2);_.push(r?1:0),_.reverse();const E=_.join("");let S="";for(p=0;p<64;p+=8){let P=parseInt(E.substr(p,8),2).toString(16);1===P.length&&(P="0"+P),S+=P}return S.toLowerCase()},d4=new RegExp("^-?(0*)\\d{1,10}$"),fL=-2147483648,D1=2147483647,UI=function(n){if(d4.test(n)){const e=Number(n);if(e>=fL&&e<=D1)return e}return null},nv=function(n){try{n()}catch(e){setTimeout(()=>{throw _a("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}},Ww=function(n,e){const t=setTimeout(n,e);return"object"==typeof t&&t.unref&&t.unref(),t};class f4{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=null==t?void 0:t.getImmediate({optional:!0}),this.appCheck||null==t||t.get().then(i=>this.appCheck=i)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((t,i)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,i):t(null)},0)})}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then(i=>i.addTokenListener(e))}notifyForInvalidToken(){_a(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class p4{constructor(e,t,i){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(t=>t&&"auth/token-not-initialized"===t.code?(Zs("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((t,i)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,i):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';e+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',_a(e)}}let Zw=(()=>{class n{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const yL=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,bL="websocket",wL="long_polling";class S1{constructor(e,t,i,r,s=!1,c="",h=!1){this.secure=t,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=s,this.persistenceKey=c,this.includeNamespaceInQueryParams=h,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=bg.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&bg.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function CL(n,e,t){let i;if((0,j.hu)("string"==typeof e,"typeof type must == string"),(0,j.hu)("object"==typeof t,"typeof params must == object"),e===bL)i=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(e!==wL)throw new Error("Unknown connection type: "+e);i=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function g4(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(t.ns=n.namespace);const r=[];return Ys(t,(s,c)=>{r.push(s+"="+c)}),i+r.join("&")}class _4{constructor(){this.counters_={}}incrementCounter(e,t=1){(0,j.r3)(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return(0,j.p$)(this.counters_)}}const A1={},M1={};function x1(n){const e=n.toString();return A1[e]||(A1[e]=new _4),A1[e]}class v4{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&nv(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class iv{constructor(e,t,i,r,s,c,h){this.connId=e,this.repoInfo=t,this.applicationId=i,this.appCheckToken=r,this.authToken=s,this.transportSessionId=c,this.lastSessionId=h,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=$w(e),this.stats_=x1(t),this.urlFn=p=>(this.appCheckToken&&(p.ac=this.appCheckToken),CL(t,wL,p))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new v4(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,j.Yr)()||"complete"===document.readyState)n();else{let e=!1;const t=function(){document.body?e||(e=!0,n()):setTimeout(t,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&t()}),window.attachEvent("onload",t))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new k1((...s)=>{const[c,h,p,_,E]=s;if(this.incrementIncomingBytes_(s),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===c)this.id=h,this.password=p;else{if("close"!==c)throw new Error("Unrecognized command received: "+c);h?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(h,()=>{this.onClosed_()})):this.onClosed_()}},(...s)=>{const[c,h]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(c,h)},()=>{this.onClosed_()},this.urlFn);const i={start:"t"};i.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(i.cb=this.scriptTagHolder.uniqueCallbackIdentifier),i.v="5",this.transportSessionId&&(i.s=this.transportSessionId),this.lastSessionId&&(i.ls=this.lastSessionId),this.applicationId&&(i.p=this.applicationId),this.appCheckToken&&(i.ac=this.appCheckToken),"undefined"!=typeof location&&location.hostname&&yL.test(location.hostname)&&(i.r="f");const r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){iv.forceAllow_=!0}static forceDisallow(){iv.forceDisallow_=!0}static isAvailable(){return!((0,j.Yr)()||!iv.forceAllow_&&(iv.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=(0,j.Pz)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const i=(0,j.h$)(t),r=dL(i,1840);for(let s=0;s<r.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[s]),this.curSegmentNum++}addDisconnectPingFrame(e,t){if((0,j.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const i={dframe:"t"};i.id=e,i.pw=t,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=(0,j.Pz)(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class k1{constructor(e,t,i,r){if(this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,j.Yr)())this.commandCB=e,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=aL(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=k1.createIFrame_();let s="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(s='<script>document.domain="'+document.domain+'";<\/script>');const c="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(c),this.myIFrame.doc.close()}catch(h){Zs("frame writing exception"),h.stack&&Zs(h.stack),Zs(h)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||Zs("No IE domain setting required")}catch(t){const i=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+i.length<=1870;){const c=this.pendingSegs.shift();i=i+"&seg"+r+"="+c.seg+"&ts"+r+"="+c.ts+"&d"+r+"="+c.d,r++}return t+=i,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,i){this.pendingSegs.push({seg:e,ts:t,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const i=()=>{this.outstandingRequests.delete(t),this.newRequest_()},r=setTimeout(i,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(r),i()})}addTag(e,t){(0,j.Yr)()?this.doNodeLongPoll(e,t):setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){const r=i.readyState;(!r||"loaded"===r||"complete"===r)&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),t())},i.onerror=()=>{Zs("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch(i){}},Math.floor(1))}}let Yw=null;"undefined"!=typeof MozWebSocket?Yw=MozWebSocket:"undefined"!=typeof WebSocket&&(Yw=WebSocket);let Kw=(()=>{class n{constructor(t,i,r,s,c,h,p){this.connId=t,this.applicationId=r,this.appCheckToken=s,this.authToken=c,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=$w(this.connId),this.stats_=x1(i),this.connURL=n.connectionURL_(i,h,p,s),this.nodeAdmin=i.nodeAdmin}static connectionURL_(t,i,r,s){const c={v:"5"};return!(0,j.Yr)()&&"undefined"!=typeof location&&location.hostname&&yL.test(location.hostname)&&(c.r="f"),i&&(c.s=i),r&&(c.ls=r),s&&(c.ac=s),CL(t,bL,c)}open(t,i){this.onDisconnect=i,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,bg.set("previous_websocket_failure",!0);try{if((0,j.Yr)()){const s={headers:{"User-Agent":`Firebase/5/${w1}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(s.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(s.headers["X-Firebase-AppCheck"]=this.appCheckToken);const c=process.env,h=0===this.connURL.indexOf("wss://")?c.HTTPS_PROXY||c.https_proxy:c.HTTP_PROXY||c.http_proxy;h&&(s.proxy={origin:h}),this.mySock=new Yw(this.connURL,[],s)}else this.mySock=new Yw(this.connURL,[],{headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}})}catch(r){this.log_("Error instantiating WebSocket.");const s=r.message||r.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let t=!1;if("undefined"!=typeof navigator&&navigator.userAgent){const r=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);r&&r.length>1&&parseFloat(r[1])<4.4&&(t=!0)}return!t&&null!==Yw&&!n.forceDisallow_}static previouslyFailed(){return bg.isInMemoryStorage||!0===bg.get("previous_websocket_failure")}markConnectionHealthy(){bg.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const r=(0,j.cI)(i);this.onMessage(r)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if((0,j.hu)(null===this.frames,"We already have a frame buffer"),t.length<=6){const i=Number(t);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(null===this.mySock)return;const i=t.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(i);else{const r=this.extractFrameCount_(i);null!==r&&this.appendFrame_(r)}}send(t){this.resetKeepAlive();const i=(0,j.Pz)(t);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const r=dL(i,16384);r.length>1&&this.sendString_(String(r.length));for(let s=0;s<r.length;s++)this.sendString_(r[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(t){try{this.mySock.send(t)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})();class R1{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[iv,Kw]}initTransports_(e){const t=Kw&&Kw.isAvailable();let i=t&&!Kw.previouslyFailed();if(e.webSocketOnly&&(t||_a("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[Kw];else{const r=this.transports_=[];for(const s of R1.ALL_TRANSPORTS)s&&s.isAvailable()&&r.push(s)}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}class PL{constructor(e,t,i,r,s,c,h,p,_,E){this.id=e,this.repoInfo_=t,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=s,this.onMessage_=c,this.onReady_=h,this.onDisconnect_=p,this.onKill_=_,this.lastSessionId=E,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=$w("c:"+this.id+":"),this.transportManager_=new R1(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,i)},Math.floor(0));const r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=Ww(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){this.sendData_({t:"d",d:e})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=qw("t",e),i=qw("d",e);if("c"===t)this.onSecondaryControl_(i);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(i)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=qw("t",e),i=qw("d",e);"c"===t?this.onControl_(i):"d"===t&&this.onDataMessage_(i)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=qw("t",e);if("d"in e){const i=e.d;if("h"===t)this.onHandshake_(i);else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(i):"r"===t?this.onReset_(i):"e"===t?E1("Server Error: "+i):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):E1("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,i=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==i&&_a("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,i),Ww(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Ww(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(bg.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class FL{put(e,t,i,r){}merge(e,t,i,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,i){}onDisconnectMerge(e,t,i){}onDisconnectCancel(e,t){}reportStats(e){}}class LL{constructor(e){this.allowedEvents_=e,this.listeners_={},(0,j.hu)(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,t)}}on(e,t,i){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:i});const r=this.getInitialEvent(e);r&&t.apply(i,r)}off(e,t,i){this.validateEventType_(e);const r=this.listeners_[e]||[];for(let s=0;s<r.length;s++)if(r[s].callback===t&&(!i||i===r[s].context))return void r.splice(s,1)}validateEventType_(e){(0,j.hu)(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}class HI extends LL{constructor(){super(["online"]),this.online_=!0,"undefined"!=typeof window&&void 0!==window.addEventListener&&!(0,j.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new HI}getInitialEvent(e){return(0,j.hu)("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class Ei{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function mi(){return new Ei("")}function On(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function Jf(n){return n.pieces_.length-n.pieceNum_}function Ui(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new Ei(n.pieces_,e)}function N1(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function Qw(n,e=0){return n.pieces_.slice(n.pieceNum_+e)}function BL(n){if(n.pieceNum_>=n.pieces_.length)return null;const e=[];for(let t=n.pieceNum_;t<n.pieces_.length-1;t++)e.push(n.pieces_[t]);return new Ei(e,0)}function hr(n,e){const t=[];for(let i=n.pieceNum_;i<n.pieces_.length;i++)t.push(n.pieces_[i]);if(e instanceof Ei)for(let i=e.pieceNum_;i<e.pieces_.length;i++)t.push(e.pieces_[i]);else{const i=e.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&t.push(i[r])}return new Ei(t,0)}function Nn(n){return n.pieceNum_>=n.pieces_.length}function ya(n,e){const t=On(n),i=On(e);if(null===t)return e;if(t===i)return ya(Ui(n),Ui(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function H4(n,e){const t=Qw(n,0),i=Qw(e,0);for(let r=0;r<t.length&&r<i.length;r++){const s=Cg(t[r],i[r]);if(0!==s)return s}return t.length===i.length?0:t.length<i.length?-1:1}function P1(n,e){if(Jf(n)!==Jf(e))return!1;for(let t=n.pieceNum_,i=e.pieceNum_;t<=n.pieces_.length;t++,i++)if(n.pieces_[t]!==e.pieces_[i])return!1;return!0}function tc(n,e){let t=n.pieceNum_,i=e.pieceNum_;if(Jf(n)>Jf(e))return!1;for(;t<n.pieces_.length;){if(n.pieces_[t]!==e.pieces_[i])return!1;++t,++i}return!0}class j4{constructor(e,t){this.errorPrefix_=t,this.parts_=Qw(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=(0,j.ug)(this.parts_[i]);HL(this)}}function HL(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Eg(n))}function Eg(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class F1 extends LL{constructor(){let e,t;super(["visible"]),"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(t="visibilitychange",e="hidden"):void 0!==document.mozHidden?(t="mozvisibilitychange",e="mozHidden"):void 0!==document.msHidden?(t="msvisibilitychange",e="msHidden"):void 0!==document.webkitHidden&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const i=!document[e];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new F1}getInitialEvent(e){return(0,j.hu)("visible"===e,"Unknown event type: "+e),[this.visible_]}}const Jw=1e3;let GI,Tg=(()=>{class n extends FL{constructor(t,i,r,s,c,h,p,_){if(super(),this.repoInfo_=t,this.applicationId_=i,this.onDataUpdate_=r,this.onConnectStatus_=s,this.onServerInfoUpdate_=c,this.authTokenProvider_=h,this.appCheckTokenProvider_=p,this.authOverride_=_,this.id=n.nextPersistentConnectionId_++,this.log_=$w("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Jw,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,_&&!(0,j.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");F1.getInstance().on("visible",this.onVisible_,this),-1===t.host.indexOf("fblocal")&&HI.getInstance().on("online",this.onOnline_,this)}sendRequest(t,i,r){const s=++this.requestNumber_,c={r:s,a:t,b:i};this.log_((0,j.Pz)(c)),(0,j.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(c),r&&(this.requestCBHash_[s]=r)}get(t){this.initConnection_();const i=new j.BH,r={p:t._path.toString(),q:t._queryObject},s={action:"g",request:r,onComplete:h=>{const p=h.d;"ok"===h.s?(this.onDataUpdate_(r.p,p,!1,null),i.resolve(p)):i.reject(p)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;const c=this.outstandingGets_.length-1;return this.connected_||setTimeout(()=>{const h=this.outstandingGets_[c];void 0===h||s!==h||(delete this.outstandingGets_[c],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),this.log_("get "+c+" timed out on connection"),i.reject(new Error("Client is offline.")))},3e3),this.connected_&&this.sendGet_(c),i.promise}listen(t,i,r,s){this.initConnection_();const c=t._queryIdentifier,h=t._path.toString();this.log_("Listen called for "+h+" "+c),this.listens.has(h)||this.listens.set(h,new Map),(0,j.hu)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,j.hu)(!this.listens.get(h).has(c),"listen() called twice for same path/queryId.");const p={onComplete:s,hashFn:i,query:t,tag:r};this.listens.get(h).set(c,p),this.connected_&&this.sendListen_(p)}sendGet_(t){const i=this.outstandingGets_[t];this.sendRequest("g",i.request,r=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(r)})}sendListen_(t){const i=t.query,r=i._path.toString(),s=i._queryIdentifier;this.log_("Listen on "+r+" for "+s);const c={p:r};t.tag&&(c.q=i._queryObject,c.t=t.tag),c.h=t.hashFn(),this.sendRequest("q",c,p=>{const _=p.d,E=p.s;n.warnOnListenWarnings_(_,i),(this.listens.get(r)&&this.listens.get(r).get(s))===t&&(this.log_("listen response",p),"ok"!==E&&this.removeListen_(r,s),t.onComplete&&t.onComplete(E,_))})}static warnOnListenWarnings_(t,i){if(t&&"object"==typeof t&&(0,j.r3)(t,"w")){const r=(0,j.DV)(t,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const s='".indexOn": "'+i._queryParams.getIndex().toString()+'"',c=i._path.toString();_a(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${c} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&40===t.length||(0,j.GJ)(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,i=(0,j.w9)(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(i,r,s=>{const c=s.s,h=s.d||"error";this.authToken_===t&&("ok"===c?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(c,h))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const i=t.s,r=t.d||"error";"ok"===i?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,r)})}unlisten(t,i){const r=t._path.toString(),s=t._queryIdentifier;this.log_("Unlisten called for "+r+" "+s),(0,j.hu)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,s)&&this.connected_&&this.sendUnlisten_(r,s,t._queryObject,i)}sendUnlisten_(t,i,r,s){this.log_("Unlisten on "+t+" for "+i);const c={p:t};s&&(c.q=r,c.t=s),this.sendRequest("n",c)}onDisconnectPut(t,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,i,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:i,onComplete:r})}onDisconnectMerge(t,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,i,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:i,onComplete:r})}onDisconnectCancel(t,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(t,i,r,s){const c={p:i,d:r};this.log_("onDisconnect "+t,c),this.sendRequest(t,c,h=>{s&&setTimeout(()=>{s(h.s,h.d)},Math.floor(0))})}put(t,i,r,s){this.putInternal("p",t,i,r,s)}merge(t,i,r,s){this.putInternal("m",t,i,r,s)}putInternal(t,i,r,s,c){this.initConnection_();const h={p:i,d:r};void 0!==c&&(h.h=c),this.outstandingPuts_.push({action:t,request:h,onComplete:s}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+i)}sendPut_(t){const i=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,s=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(i,r,c=>{this.log_(i+" response",c),delete this.outstandingPuts_[t],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),s&&s(c.s,c.d)})}reportStats(t){if(this.connected_){const i={c:t};this.log_("reportStats",i),this.sendRequest("s",i,r=>{"ok"!==r.s&&this.log_("reportStats","Error sending stats: "+r.d)})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+(0,j.Pz)(t));const i=t.r,r=this.requestCBHash_[i];r&&(delete this.requestCBHash_[i],r(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,i){this.log_("handleServerMessage",t,i),"d"===t?this.onDataUpdate_(i.p,i.d,!1,i.t):"m"===t?this.onDataUpdate_(i.p,i.d,!0,i.t):"c"===t?this.onListenRevoked_(i.p,i.q):"ac"===t?this.onAuthRevoked_(i.s,i.d):"apc"===t?this.onAppCheckRevoked_(i.s,i.d):"sd"===t?this.onSecurityDebugPacket_(i):E1("Unrecognized action received from server: "+(0,j.Pz)(t)+"\nAre you using the latest client?")}onReady_(t,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){(0,j.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Jw,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=Jw,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Jw),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const t=(new Date).getTime()-this.lastConnectionAttemptTime_;let i=Math.max(0,this.reconnectDelay_-t);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var t=this;return(0,Pe.Z)(function*(){if(t.shouldReconnect_()){t.log_("Making a connection attempt"),t.lastConnectionAttemptTime_=(new Date).getTime(),t.lastConnectionEstablishedTime_=null;const i=t.onDataMessage_.bind(t),r=t.onReady_.bind(t),s=t.onRealtimeDisconnect_.bind(t),c=t.id+":"+n.nextConnectionId_++,h=t.lastSessionId;let p=!1,_=null;const E=function(){_?_.close():(p=!0,s())};t.realtime_={close:E,sendRequest:function(H){(0,j.hu)(_,"sendRequest call when we're not connected not allowed."),_.sendRequest(H)}};const P=t.forceTokenRefresh_;t.forceTokenRefresh_=!1;try{const[H,$]=yield Promise.all([t.authTokenProvider_.getToken(P),t.appCheckTokenProvider_.getToken(P)]);p?Zs("getToken() completed but was canceled"):(Zs("getToken() completed. Creating connection."),t.authToken_=H&&H.accessToken,t.appCheckToken_=$&&$.token,_=new PL(c,t.repoInfo_,t.applicationId_,t.appCheckToken_,t.authToken_,i,r,s,ae=>{_a(ae+" ("+t.repoInfo_.toString()+")"),t.interrupt("server_kill")},h))}catch(H){t.log_("Failed to get token: "+H),p||(t.repoInfo_.nodeAdmin&&_a(H),E())}}})()}interrupt(t){Zs("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){Zs("Resuming connection for reason: "+t),delete this.interruptReasons_[t],(0,j.xb)(this.interruptReasons_)&&(this.reconnectDelay_=Jw,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const i=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const i=this.outstandingPuts_[t];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(t,i){let r;r=i?i.map(c=>T1(c)).join("$"):"default";const s=this.removeListen_(t,r);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(t,i){const r=new Ei(t).toString();let s;if(this.listens.has(r)){const c=this.listens.get(r);s=c.get(i),c.delete(i),0===c.size&&this.listens.delete(r)}else s=void 0;return s}onAuthRevoked_(t,i){Zs("Auth token revoked: "+t+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===t||"permission_denied"===t)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,i){Zs("App check token revoked: "+t+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===t||"permission_denied"===t)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const i of t.values())this.sendListen_(i);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let i="js";(0,j.Yr)()&&(i=this.repoInfo_.nodeAdmin?"admin_node":"node"),t["sdk."+i+"."+w1.replace(/\./g,"-")]=1,(0,j.uI)()?t["framework.cordova"]=1:(0,j.b$)()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=HI.getInstance().currentlyOnline();return(0,j.xb)(this.interruptReasons_)&&t}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class Ln{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new Ln(e,t)}}class jI{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const i=new Ln(mh,e),r=new Ln(mh,t);return 0!==this.compare(i,r)}minPost(){return Ln.MIN}}class zL extends jI{static get __EMPTY_NODE(){return GI}static set __EMPTY_NODE(e){GI=e}compare(e,t){return Cg(e.name,t.name)}isDefinedOn(e){throw(0,j.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return Ln.MIN}maxPost(){return new Ln(ed,GI)}makePost(e,t){return(0,j.hu)("string"==typeof e,"KeyIndex indexValue must always be a string."),new Ln(e,GI)}toString(){return".key"}}const td=new zL;class zI{constructor(e,t,i,r,s=null){this.isReverse_=r,this.resultGenerator_=s,this.nodeStack_=[];let c=1;for(;!e.isEmpty();)if(e=e,c=t?i(e.key,t):1,r&&(c*=-1),c<0)e=this.isReverse_?e.left:e.right;else{if(0===c){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}let V1,nu=(()=>{class n{constructor(t,i,r,s,c){this.key=t,this.value=i,this.color=null!=r?r:n.RED,this.left=null!=s?s:Ha.EMPTY_NODE,this.right=null!=c?c:Ha.EMPTY_NODE}copy(t,i,r,s,c){return new n(null!=t?t:this.key,null!=i?i:this.value,null!=r?r:this.color,null!=s?s:this.left,null!=c?c:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,r){let s=this;const c=r(t,s.key);return s=c<0?s.copy(null,null,null,s.left.insert(t,i,r),null):0===c?s.copy(null,i,null,null,null):s.copy(null,null,null,null,s.right.insert(t,i,r)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return Ha.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,i){let r,s;if(r=this,i(t,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(t,i),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),0===i(t,r.key)){if(r.right.isEmpty())return Ha.EMPTY_NODE;s=r.right.min_(),r=r.copy(s.key,s.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(t,i))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class Ha{constructor(e,t=Ha.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new Ha(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,nu.BLACK,null,null))}remove(e){return new Ha(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,nu.BLACK,null,null))}get(e){let t,i=this.root_;for(;!i.isEmpty();){if(t=this.comparator_(e,i.key),0===t)return i.value;t<0?i=i.left:t>0&&(i=i.right)}return null}getPredecessorKey(e){let t,i=this.root_,r=null;for(;!i.isEmpty();){if(t=this.comparator_(e,i.key),0===t){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}t<0?i=i.left:t>0&&(r=i,i=i.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new zI(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new zI(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new zI(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new zI(this.root_,null,this.comparator_,!0,e)}}function Q4(n,e){return Cg(n.name,e.name)}function L1(n,e){return Cg(n,e)}Ha.EMPTY_NODE=new class K4{copy(e,t,i,r,s){return this}insert(e,t,i){return new nu(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const $L=function(n){return"number"==typeof n?"number:"+hL(n):"string:"+n},qL=function(n){if(n.isLeafNode()){const e=n.val();(0,j.hu)("string"==typeof e||"number"==typeof e||"object"==typeof e&&(0,j.r3)(e,".sv"),"Priority must be a string or number.")}else(0,j.hu)(n===V1||n.isEmpty(),"priority of unexpected type.");(0,j.hu)(n===V1||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let WL,ZL,YL,rv=(()=>{class n{constructor(t,i=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=i,this.lazyHash_=null,(0,j.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),qL(this.priorityNode_)}static set __childrenNodeConstructor(t){WL=t}static get __childrenNodeConstructor(){return WL}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new n(this.value_,t)}getImmediateChild(t){return".priority"===t?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return Nn(t)?this:".priority"===On(t)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,i){return null}updateImmediateChild(t,i){return".priority"===t?this.updatePriority(i):i.isEmpty()&&".priority"!==t?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,i).updatePriority(this.priorityNode_)}updateChild(t,i){const r=On(t);return null===r?i:i.isEmpty()&&".priority"!==r?this:((0,j.hu)(".priority"!==r||1===Jf(t),".priority must be the last token in a path"),this.updateImmediateChild(r,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ui(t),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,i){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+$L(this.priorityNode_.val())+":");const i=typeof this.value_;t+=i+":",t+="number"===i?hL(this.value_):this.value_,this.lazyHash_=lL(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===n.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof n.__childrenNodeConstructor?-1:((0,j.hu)(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const i=typeof t.value_,r=typeof this.value_,s=n.VALUE_TYPE_ORDER.indexOf(i),c=n.VALUE_TYPE_ORDER.indexOf(r);return(0,j.hu)(s>=0,"Unknown leaf type: "+i),(0,j.hu)(c>=0,"Unknown leaf type: "+r),s===c?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:c-s}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const i=t;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}return!1}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const zi=new class tz extends jI{compare(e,t){const i=e.node.getPriority(),r=t.node.getPriority(),s=i.compareTo(r);return 0===s?Cg(e.name,t.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return Ln.MIN}maxPost(){return new Ln(ed,new rv("[PRIORITY-POST]",YL))}makePost(e,t){const i=ZL(e);return new Ln(t,new rv("[PRIORITY-POST]",i))}toString(){return".priority"}},nz=Math.log(2);class iz{constructor(e){this.count=parseInt(Math.log(e+1)/nz,10),this.current_=this.count-1;const r=(s=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=e+1&r}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const $I=function(n,e,t,i){n.sort(e);const r=function(p,_){const E=_-p;let S,P;if(0===E)return null;if(1===E)return S=n[p],P=t?t(S):S,new nu(P,S.node,nu.BLACK,null,null);{const H=parseInt(E/2,10)+p,$=r(p,H),ae=r(H+1,_);return S=n[H],P=t?t(S):S,new nu(P,S.node,nu.BLACK,$,ae)}},h=function(p){let _=null,E=null,S=n.length;const P=function($,ae){const Ce=S-$,st=S;S-=$;const mt=r(Ce+1,st),_t=n[Ce],ht=t?t(_t):_t;H(new nu(ht,_t.node,ae,null,mt))},H=function($){_?(_.left=$,_=$):(E=$,_=$)};for(let $=0;$<p.count;++$){const ae=p.nextBitIsOne(),Ce=Math.pow(2,p.count-($+1));ae?P(Ce,nu.BLACK):(P(Ce,nu.BLACK),P(Ce,nu.RED))}return E}(new iz(n.length));return new Ha(i||e,h)};let U1;const sv={};class gh{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return(0,j.hu)(sv&&zi,"ChildrenNode.ts has not been loaded"),U1=U1||new gh({".priority":sv},{".priority":zi}),U1}get(e){const t=(0,j.DV)(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Ha?t:null}hasIndex(e){return(0,j.r3)(this.indexSet_,e.toString())}addIndex(e,t){(0,j.hu)(e!==td,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let r=!1;const s=t.getIterator(Ln.Wrap);let h,c=s.getNext();for(;c;)r=r||e.isDefinedOn(c.node),i.push(c),c=s.getNext();h=r?$I(i,e.getCompare()):sv;const p=e.toString(),_=Object.assign({},this.indexSet_);_[p]=e;const E=Object.assign({},this.indexes_);return E[p]=h,new gh(E,_)}addToIndexes(e,t){const i=(0,j.UI)(this.indexes_,(r,s)=>{const c=(0,j.DV)(this.indexSet_,s);if((0,j.hu)(c,"Missing index implementation for "+s),r===sv){if(c.isDefinedOn(e.node)){const h=[],p=t.getIterator(Ln.Wrap);let _=p.getNext();for(;_;)_.name!==e.name&&h.push(_),_=p.getNext();return h.push(e),$I(h,c.getCompare())}return sv}{const h=t.get(e.name);let p=r;return h&&(p=p.remove(new Ln(e.name,h))),p.insert(e,e.node)}});return new gh(i,this.indexSet_)}removeFromIndexes(e,t){const i=(0,j.UI)(this.indexes_,r=>{if(r===sv)return r;{const s=t.get(e.name);return s?r.remove(new Ln(e.name,s)):r}});return new gh(i,this.indexSet_)}}let Xw,wn=(()=>{class n{constructor(t,i,r){this.children_=t,this.priorityNode_=i,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&qL(this.priorityNode_),this.children_.isEmpty()&&(0,j.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Xw||(Xw=new n(new Ha(L1),null,gh.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Xw}updatePriority(t){return this.children_.isEmpty()?this:new n(this.children_,t,this.indexMap_)}getImmediateChild(t){if(".priority"===t)return this.getPriority();{const i=this.children_.get(t);return null===i?Xw:i}}getChild(t){const i=On(t);return null===i?this:this.getImmediateChild(i).getChild(Ui(t))}hasChild(t){return null!==this.children_.get(t)}updateImmediateChild(t,i){if((0,j.hu)(i,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(i);{const r=new Ln(t,i);let s,c;i.isEmpty()?(s=this.children_.remove(t),c=this.indexMap_.removeFromIndexes(r,this.children_)):(s=this.children_.insert(t,i),c=this.indexMap_.addToIndexes(r,this.children_));const h=s.isEmpty()?Xw:this.priorityNode_;return new n(s,h,c)}}updateChild(t,i){const r=On(t);if(null===r)return i;{(0,j.hu)(".priority"!==On(t)||1===Jf(t),".priority must be the last token in a path");const s=this.getImmediateChild(r).updateChild(Ui(t),i);return this.updateImmediateChild(r,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const i={};let r=0,s=0,c=!0;if(this.forEachChild(zi,(h,p)=>{i[h]=p.val(t),r++,c&&n.INTEGER_REGEXP_.test(h)?s=Math.max(s,Number(h)):c=!1}),!t&&c&&s<2*r){const h=[];for(const p in i)h[p]=i[p];return h}return t&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(null===this.lazyHash_){let t="";this.getPriority().isEmpty()||(t+="priority:"+$L(this.getPriority().val())+":"),this.forEachChild(zi,(i,r)=>{const s=r.hash();""!==s&&(t+=":"+i+":"+s)}),this.lazyHash_=""===t?"":lL(t)}return this.lazyHash_}getPredecessorChildName(t,i,r){const s=this.resolveIndex_(r);if(s){const c=s.getPredecessorKey(new Ln(t,i));return c?c.name:null}return this.children_.getPredecessorKey(t)}getFirstChildName(t){const i=this.resolveIndex_(t);if(i){const r=i.minKey();return r&&r.name}return this.children_.minKey()}getFirstChild(t){const i=this.getFirstChildName(t);return i?new Ln(i,this.children_.get(i)):null}getLastChildName(t){const i=this.resolveIndex_(t);if(i){const r=i.maxKey();return r&&r.name}return this.children_.maxKey()}getLastChild(t){const i=this.getLastChildName(t);return i?new Ln(i,this.children_.get(i)):null}forEachChild(t,i){const r=this.resolveIndex_(t);return r?r.inorderTraversal(s=>i(s.name,s.node)):this.children_.inorderTraversal(i)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,i){const r=this.resolveIndex_(i);if(r)return r.getIteratorFrom(t,s=>s);{const s=this.children_.getIteratorFrom(t.name,Ln.Wrap);let c=s.peek();for(;null!=c&&i.compare(c,t)<0;)s.getNext(),c=s.peek();return s}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,i){const r=this.resolveIndex_(i);if(r)return r.getReverseIteratorFrom(t,s=>s);{const s=this.children_.getReverseIteratorFrom(t.name,Ln.Wrap);let c=s.peek();for(;null!=c&&i.compare(c,t)>0;)s.getNext(),c=s.peek();return s}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===eC?-1:0}withIndex(t){if(t===td||this.indexMap_.hasIndex(t))return this;{const i=this.indexMap_.addIndex(t,this.children_);return new n(this.children_,this.priorityNode_,i)}}isIndexed(t){return t===td||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const i=t;if(this.getPriority().equals(i.getPriority())){if(this.children_.count()===i.children_.count()){const r=this.getIterator(zi),s=i.getIterator(zi);let c=r.getNext(),h=s.getNext();for(;c&&h;){if(c.name!==h.name||!c.node.equals(h.node))return!1;c=r.getNext(),h=s.getNext()}return null===c&&null===h}return!1}return!1}}resolveIndex_(t){return t===td?null:this.indexMap_.get(t.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const eC=new class rz extends wn{constructor(){super(new Ha(L1),wn.EMPTY_NODE,gh.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return wn.EMPTY_NODE}isEmpty(){return!1}};function Dr(n,e=null){if(null===n)return wn.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(e=n[".priority"]),(0,j.hu)(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new rv(n,Dr(e));if(n instanceof Array){let t=wn.EMPTY_NODE;return Ys(n,(i,r)=>{if((0,j.r3)(n,i)&&"."!==i.substring(0,1)){const s=Dr(r);(s.isLeafNode()||!s.isEmpty())&&(t=t.updateImmediateChild(i,s))}}),t.updatePriority(Dr(e))}{const t=[];let i=!1;if(Ys(n,(c,h)=>{if("."!==c.substring(0,1)){const p=Dr(h);p.isEmpty()||(i=i||!p.getPriority().isEmpty(),t.push(new Ln(c,p)))}}),0===t.length)return wn.EMPTY_NODE;const s=$I(t,Q4,c=>c.name,L1);if(i){const c=$I(t,zi.getCompare());return new wn(s,Dr(e),new gh({".priority":c},{".priority":zi}))}return new wn(s,Dr(e),gh.Default)}}Object.defineProperties(Ln,{MIN:{value:new Ln(mh,wn.EMPTY_NODE)},MAX:{value:new Ln(ed,eC)}}),zL.__EMPTY_NODE=wn.EMPTY_NODE,rv.__childrenNodeConstructor=wn,function J4(n){V1=n}(eC),function ez(n){YL=n}(eC),function X4(n){ZL=n}(Dr);class B1 extends jI{constructor(e){super(),this.indexPath_=e,(0,j.hu)(!Nn(e)&&".priority"!==On(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const i=this.extractChild(e.node),r=this.extractChild(t.node),s=i.compareTo(r);return 0===s?Cg(e.name,t.name):s}makePost(e,t){const i=Dr(e),r=wn.EMPTY_NODE.updateChild(this.indexPath_,i);return new Ln(t,r)}maxPost(){const e=wn.EMPTY_NODE.updateChild(this.indexPath_,eC);return new Ln(ed,e)}toString(){return Qw(this.indexPath_,0).join("/")}}const H1=new class oz extends jI{compare(e,t){const i=e.node.compareTo(t.node);return 0===i?Cg(e.name,t.name):i}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return Ln.MIN}maxPost(){return Ln.MAX}makePost(e,t){const i=Dr(e);return new Ln(t,i)}toString(){return".value"}},ov="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",az=function(){let n=0;const e=[];return function(t){const i=t===n;let r;n=t;const s=new Array(8);for(r=7;r>=0;r--)s[r]=ov.charAt(t%64),t=Math.floor(t/64);(0,j.hu)(0===t,"Cannot push at time == 0");let c=s.join("");if(i){for(r=11;r>=0&&63===e[r];r--)e[r]=0;e[r]++}else for(r=0;r<12;r++)e[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)c+=ov.charAt(e[r]);return(0,j.hu)(20===c.length,"nextPushId: Length should be 20."),c}}(),JL=function(n){if(n===""+D1)return"-";const e=UI(n);if(null!=e)return""+(e+1);const t=new Array(n.length);for(let c=0;c<t.length;c++)t[c]=n.charAt(c);if(t.length<786)return t.push("-"),t.join("");let i=t.length-1;for(;i>=0&&"z"===t[i];)i--;if(-1===i)return ed;const s=ov.charAt(ov.indexOf(t[i])+1);return t[i]=s,t.slice(0,i+1).join("")},XL=function(n){if(n===""+fL)return mh;const e=UI(n);if(null!=e)return""+(e-1);const t=new Array(n.length);for(let i=0;i<t.length;i++)t[i]=n.charAt(i);return"-"===t[t.length-1]?1===t.length?""+D1:(delete t[t.length-1],t.join("")):(t[t.length-1]=ov.charAt(ov.indexOf(t[t.length-1])-1),t.join("")+"z".repeat(786-t.length))};function e2(n){return{type:"value",snapshotNode:n}}function av(n,e){return{type:"child_added",snapshotNode:e,childName:n}}function tC(n,e){return{type:"child_removed",snapshotNode:e,childName:n}}function nC(n,e,t){return{type:"child_changed",snapshotNode:e,childName:n,oldSnap:t}}class G1{constructor(e){this.index_=e}updateChild(e,t,i,r,s,c){(0,j.hu)(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const h=e.getImmediateChild(t);return h.getChild(r).equals(i.getChild(r))&&h.isEmpty()===i.isEmpty()||(null!=c&&(i.isEmpty()?e.hasChild(t)?c.trackChildChange(tC(t,h)):(0,j.hu)(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):h.isEmpty()?c.trackChildChange(av(t,i)):c.trackChildChange(nC(t,i,h))),e.isLeafNode()&&i.isEmpty())?e:e.updateImmediateChild(t,i).withIndex(this.index_)}updateFullNode(e,t,i){return null!=i&&(e.isLeafNode()||e.forEachChild(zi,(r,s)=>{t.hasChild(r)||i.trackChildChange(tC(r,s))}),t.isLeafNode()||t.forEachChild(zi,(r,s)=>{if(e.hasChild(r)){const c=e.getImmediateChild(r);c.equals(s)||i.trackChildChange(nC(r,s,c))}else i.trackChildChange(av(r,s))})),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?wn.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class iC{constructor(e){this.indexedFilter_=new G1(e.getIndex()),this.index_=e.getIndex(),this.startPost_=iC.getStartPost_(e),this.endPost_=iC.getEndPost_(e)}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){return this.index_.compare(this.getStartPost(),e)<=0&&this.index_.compare(e,this.getEndPost())<=0}updateChild(e,t,i,r,s,c){return this.matches(new Ln(t,i))||(i=wn.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,i,r,s,c)}updateFullNode(e,t,i){t.isLeafNode()&&(t=wn.EMPTY_NODE);let r=t.withIndex(this.index_);r=r.updatePriority(wn.EMPTY_NODE);const s=this;return t.forEachChild(zi,(c,h)=>{s.matches(new Ln(c,h))||(r=r.updateImmediateChild(c,wn.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,r,i)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}class cz{constructor(e){this.rangedFilter_=new iC(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft()}updateChild(e,t,i,r,s,c){return this.rangedFilter_.matches(new Ln(t,i))||(i=wn.EMPTY_NODE),e.getImmediateChild(t).equals(i)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,i,r,s,c):this.fullLimitUpdateChild_(e,t,i,s,c)}updateFullNode(e,t,i){let r;if(t.isLeafNode()||t.isEmpty())r=wn.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){let s;r=wn.EMPTY_NODE.withIndex(this.index_),s=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let c=0;for(;s.hasNext()&&c<this.limit_;){const h=s.getNext();let p;if(p=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),h)<=0:this.index_.compare(h,this.rangedFilter_.getEndPost())<=0,!p)break;r=r.updateImmediateChild(h.name,h.node),c++}}else{let s,c,h,p;if(r=t.withIndex(this.index_),r=r.updatePriority(wn.EMPTY_NODE),this.reverse_){p=r.getReverseIterator(this.index_),s=this.rangedFilter_.getEndPost(),c=this.rangedFilter_.getStartPost();const S=this.index_.getCompare();h=(P,H)=>S(H,P)}else p=r.getIterator(this.index_),s=this.rangedFilter_.getStartPost(),c=this.rangedFilter_.getEndPost(),h=this.index_.getCompare();let _=0,E=!1;for(;p.hasNext();){const S=p.getNext();!E&&h(s,S)<=0&&(E=!0),E&&_<this.limit_&&h(S,c)<=0?_++:r=r.updateImmediateChild(S.name,wn.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,i)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,i,r,s){let c;if(this.reverse_){const S=this.index_.getCompare();c=(P,H)=>S(H,P)}else c=this.index_.getCompare();const h=e;(0,j.hu)(h.numChildren()===this.limit_,"");const p=new Ln(t,i),_=this.reverse_?h.getFirstChild(this.index_):h.getLastChild(this.index_),E=this.rangedFilter_.matches(p);if(h.hasChild(t)){const S=h.getImmediateChild(t);let P=r.getChildAfterChild(this.index_,_,this.reverse_);for(;null!=P&&(P.name===t||h.hasChild(P.name));)P=r.getChildAfterChild(this.index_,P,this.reverse_);const H=null==P?1:c(P,p);if(E&&!i.isEmpty()&&H>=0)return null!=s&&s.trackChildChange(nC(t,i,S)),h.updateImmediateChild(t,i);{null!=s&&s.trackChildChange(tC(t,S));const ae=h.updateImmediateChild(t,wn.EMPTY_NODE);return null!=P&&this.rangedFilter_.matches(P)?(null!=s&&s.trackChildChange(av(P.name,P.node)),ae.updateImmediateChild(P.name,P.node)):ae}}return i.isEmpty()?e:E&&c(_,p)>=0?(null!=s&&(s.trackChildChange(tC(_.name,_.node)),s.trackChildChange(av(t,i))),h.updateImmediateChild(t,i).updateImmediateChild(_.name,wn.EMPTY_NODE)):e}}class qI{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=zi}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,j.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,j.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:mh}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,j.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,j.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:ed}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,j.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===zi}copy(){const e=new qI;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function z1(n,e,t){const i=n.copy();return i.startSet_=!0,void 0===e&&(e=null),i.indexStartValue_=e,null!=t?(i.startNameSet_=!0,i.indexStartName_=t):(i.startNameSet_=!1,i.indexStartName_=""),i}function $1(n,e,t){const i=n.copy();return i.endSet_=!0,void 0===e&&(e=null),i.indexEndValue_=e,void 0!==t?(i.endNameSet_=!0,i.indexEndName_=t):(i.endNameSet_=!1,i.indexEndName_=""),i}function WI(n,e){const t=n.copy();return t.index_=e,t}function t2(n){const e={};if(n.isDefault())return e;let t;return n.index_===zi?t="$priority":n.index_===H1?t="$value":n.index_===td?t="$key":((0,j.hu)(n.index_ instanceof B1,"Unrecognized index type!"),t=n.index_.toString()),e.orderBy=(0,j.Pz)(t),n.startSet_&&(e.startAt=(0,j.Pz)(n.indexStartValue_),n.startNameSet_&&(e.startAt+=","+(0,j.Pz)(n.indexStartName_))),n.endSet_&&(e.endAt=(0,j.Pz)(n.indexEndValue_),n.endNameSet_&&(e.endAt+=","+(0,j.Pz)(n.indexEndName_))),n.limitSet_&&(n.isViewFromLeft()?e.limitToFirst=n.limit_:e.limitToLast=n.limit_),e}function n2(n){const e={};if(n.startSet_&&(e.sp=n.indexStartValue_,n.startNameSet_&&(e.sn=n.indexStartName_)),n.endSet_&&(e.ep=n.indexEndValue_,n.endNameSet_&&(e.en=n.indexEndName_)),n.limitSet_){e.l=n.limit_;let t=n.viewFrom_;""===t&&(t=n.isViewFromLeft()?"l":"r"),e.vf=t}return n.index_!==zi&&(e.i=n.index_.toString()),e}class ZI extends FL{constructor(e,t,i,r){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=$w("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:((0,j.hu)(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,i,r){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const c=ZI.getListenId_(e,i),h={};this.listens_[c]=h;const p=t2(e._queryParams);this.restRequest_(s+".json",p,(_,E)=>{let S=E;if(404===_&&(S=null,_=null),null===_&&this.onDataUpdate_(s,S,!1,i),(0,j.DV)(this.listens_,c)===h){let P;P=_?401===_?"permission_denied":"rest_error:"+_:"ok",r(P,null)}})}unlisten(e,t){const i=ZI.getListenId_(e,t);delete this.listens_[i]}get(e){const t=t2(e._queryParams),i=e._path.toString(),r=new j.BH;return this.restRequest_(i+".json",t,(s,c)=>{let h=c;404===s&&(h=null,s=null),null===s?(this.onDataUpdate_(i,h,!1,null),r.resolve(h)):r.reject(new Error(h))}),r.promise}refreshAuthToken(e){}restRequest_(e,t={},i){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,s])=>{r&&r.accessToken&&(t.auth=r.accessToken),s&&s.token&&(t.ac=s.token);const c=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+(0,j.xO)(t);this.log_("Sending REST request for "+c);const h=new XMLHttpRequest;h.onreadystatechange=()=>{if(i&&4===h.readyState){this.log_("REST Response for "+c+" received. status:",h.status,"response:",h.responseText);let p=null;if(h.status>=200&&h.status<300){try{p=(0,j.cI)(h.responseText)}catch(_){_a("Failed to parse JSON response for "+c+": "+h.responseText)}i(null,p)}else 401!==h.status&&404!==h.status&&_a("Got unsuccessful REST response for "+c+" Status: "+h.status),i(h.status);i=null}},h.open("GET",c,!0),h.send()})}}class mz{constructor(){this.rootNode_=wn.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function YI(){return{value:null,children:new Map}}function lv(n,e,t){if(Nn(e))n.value=t,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(e,t);else{const i=On(e);n.children.has(i)||n.children.set(i,YI()),lv(n.children.get(i),e=Ui(e),t)}}function q1(n,e){if(Nn(e))return n.value=null,n.children.clear(),!0;if(null!==n.value){if(n.value.isLeafNode())return!1;{const t=n.value;return n.value=null,t.forEachChild(zi,(i,r)=>{lv(n,new Ei(i),r)}),q1(n,e)}}if(n.children.size>0){const t=On(e);return e=Ui(e),n.children.has(t)&&q1(n.children.get(t),e)&&n.children.delete(t),0===n.children.size}return!0}function W1(n,e,t){null!==n.value?t(e,n.value):function gz(n,e){n.children.forEach((t,i)=>{e(i,t)})}(n,(i,r)=>{W1(r,new Ei(e.toString()+"/"+i),t)})}class _z{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&Ys(this.last_,(i,r)=>{t[i]=t[i]-r}),this.last_=e,t}}class bz{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new _z(e);const i=1e4+2e4*Math.random();Ww(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const e=this.statsListener_.get(),t={};let i=!1;Ys(e,(r,s)=>{s>0&&(0,j.r3)(this.statsToReport_,r)&&(t[r]=s,i=!0)}),i&&this.server_.reportStats(t),Ww(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var nc=(()=>(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(nc||(nc={})),nc))();function K1(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class KI{constructor(e,t,i){this.path=e,this.affectedTree=t,this.revert=i,this.type=nc.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(Nn(this.path)){if(null!=this.affectedTree.value)return(0,j.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new Ei(e));return new KI(mi(),t,this.revert)}}return(0,j.hu)(On(this.path)===e,"operationForChild called for unrelated child."),new KI(Ui(this.path),this.affectedTree,this.revert)}}class rC{constructor(e,t){this.source=e,this.path=t,this.type=nc.LISTEN_COMPLETE}operationForChild(e){return Nn(this.path)?new rC(this.source,mi()):new rC(this.source,Ui(this.path))}}class Dg{constructor(e,t,i){this.source=e,this.path=t,this.snap=i,this.type=nc.OVERWRITE}operationForChild(e){return Nn(this.path)?new Dg(this.source,mi(),this.snap.getImmediateChild(e)):new Dg(this.source,Ui(this.path),this.snap)}}class cv{constructor(e,t,i){this.source=e,this.path=t,this.children=i,this.type=nc.MERGE}operationForChild(e){if(Nn(this.path)){const t=this.children.subtree(new Ei(e));return t.isEmpty()?null:t.value?new Dg(this.source,mi(),t.value):new cv(this.source,mi(),t)}return(0,j.hu)(On(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new cv(this.source,Ui(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Xf{constructor(e,t,i){this.node_=e,this.fullyInitialized_=t,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Nn(e))return this.isFullyInitialized()&&!this.filtered_;const t=On(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}class wz{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function sC(n,e,t,i,r,s){const c=i.filter(h=>h.type===t);c.sort((h,p)=>function Tz(n,e,t){if(null==e.childName||null==t.childName)throw(0,j.g5)("Should only compare child_ events.");const i=new Ln(e.childName,e.snapshotNode),r=new Ln(t.childName,t.snapshotNode);return n.index_.compare(i,r)}(n,h,p)),c.forEach(h=>{const p=function Ez(n,e,t){return"value"===e.type||"child_removed"===e.type||(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,n.index_)),e}(n,h,s);r.forEach(_=>{_.respondsTo(h.type)&&e.push(_.createEvent(p,n.query_))})})}function QI(n,e){return{eventCache:n,serverCache:e}}function oC(n,e,t,i){return QI(new Xf(e,t,i),n.serverCache)}function s2(n,e,t,i){return QI(n.eventCache,new Xf(e,t,i))}function JI(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function Ig(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let Q1;class $i{constructor(e,t=(()=>(Q1||(Q1=new Ha(a4)),Q1))()){this.value=e,this.children=t}static fromObject(e){let t=new $i(null);return Ys(e,(i,r)=>{t=t.set(new Ei(i),r)}),t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:mi(),value:this.value};if(Nn(e))return null;{const i=On(e),r=this.children.get(i);if(null!==r){const s=r.findRootMostMatchingPathAndValue(Ui(e),t);return null!=s?{path:hr(new Ei(i),s.path),value:s.value}:null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Nn(e))return this;{const t=On(e),i=this.children.get(t);return null!==i?i.subtree(Ui(e)):new $i(null)}}set(e,t){if(Nn(e))return new $i(t,this.children);{const i=On(e),s=(this.children.get(i)||new $i(null)).set(Ui(e),t),c=this.children.insert(i,s);return new $i(this.value,c)}}remove(e){if(Nn(e))return this.children.isEmpty()?new $i(null):new $i(null,this.children);{const t=On(e),i=this.children.get(t);if(i){const r=i.remove(Ui(e));let s;return s=r.isEmpty()?this.children.remove(t):this.children.insert(t,r),null===this.value&&s.isEmpty()?new $i(null):new $i(this.value,s)}return this}}get(e){if(Nn(e))return this.value;{const t=On(e),i=this.children.get(t);return i?i.get(Ui(e)):null}}setTree(e,t){if(Nn(e))return t;{const i=On(e),s=(this.children.get(i)||new $i(null)).setTree(Ui(e),t);let c;return c=s.isEmpty()?this.children.remove(i):this.children.insert(i,s),new $i(this.value,c)}}fold(e){return this.fold_(mi(),e)}fold_(e,t){const i={};return this.children.inorderTraversal((r,s)=>{i[r]=s.fold_(hr(e,r),t)}),t(e,this.value,i)}findOnPath(e,t){return this.findOnPath_(e,mi(),t)}findOnPath_(e,t,i){const r=!!this.value&&i(t,this.value);if(r)return r;if(Nn(e))return null;{const s=On(e),c=this.children.get(s);return c?c.findOnPath_(Ui(e),hr(t,s),i):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,mi(),t)}foreachOnPath_(e,t,i){if(Nn(e))return this;{this.value&&i(t,this.value);const r=On(e),s=this.children.get(r);return s?s.foreachOnPath_(Ui(e),hr(t,r),i):new $i(null)}}foreach(e){this.foreach_(mi(),e)}foreach_(e,t){this.children.inorderTraversal((i,r)=>{r.foreach_(hr(e,i),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,i)=>{i.value&&e(t,i.value)})}}class iu{constructor(e){this.writeTree_=e}static empty(){return new iu(new $i(null))}}function aC(n,e,t){if(Nn(e))return new iu(new $i(t));{const i=n.writeTree_.findRootMostValueAndPath(e);if(null!=i){const r=i.path;let s=i.value;const c=ya(r,e);return s=s.updateChild(c,t),new iu(n.writeTree_.set(r,s))}{const r=new $i(t),s=n.writeTree_.setTree(e,r);return new iu(s)}}}function J1(n,e,t){let i=n;return Ys(t,(r,s)=>{i=aC(i,hr(e,r),s)}),i}function o2(n,e){if(Nn(e))return iu.empty();{const t=n.writeTree_.setTree(e,new $i(null));return new iu(t)}}function X1(n,e){return null!=Sg(n,e)}function Sg(n,e){const t=n.writeTree_.findRootMostValueAndPath(e);return null!=t?n.writeTree_.get(t.path).getChild(ya(t.path,e)):null}function a2(n){const e=[],t=n.writeTree_.value;return null!=t?t.isLeafNode()||t.forEachChild(zi,(i,r)=>{e.push(new Ln(i,r))}):n.writeTree_.children.inorderTraversal((i,r)=>{null!=r.value&&e.push(new Ln(i,r.value))}),e}function ep(n,e){if(Nn(e))return n;{const t=Sg(n,e);return new iu(null!=t?new $i(t):n.writeTree_.subtree(e))}}function eR(n){return n.writeTree_.isEmpty()}function uv(n,e){return l2(mi(),n.writeTree_,e)}function l2(n,e,t){if(null!=e.value)return t.updateChild(n,e.value);{let i=null;return e.children.inorderTraversal((r,s)=>{".priority"===r?((0,j.hu)(null!==s.value,"Priority writes must always be leaf nodes"),i=s.value):t=l2(hr(n,r),s,t)}),!t.getChild(n).isEmpty()&&null!==i&&(t=t.updateChild(hr(n,".priority"),i)),t}}function XI(n,e){return f2(e,n)}function xz(n,e){if(n.snap)return tc(n.path,e);for(const t in n.children)if(n.children.hasOwnProperty(t)&&tc(hr(n.path,t),e))return!0;return!1}function Rz(n){return n.visible}function c2(n,e,t){let i=iu.empty();for(let r=0;r<n.length;++r){const s=n[r];if(e(s)){const c=s.path;let h;if(s.snap)tc(t,c)?(h=ya(t,c),i=aC(i,h,s.snap)):tc(c,t)&&(h=ya(c,t),i=aC(i,mi(),s.snap.getChild(h)));else{if(!s.children)throw(0,j.g5)("WriteRecord should have .snap or .children");if(tc(t,c))h=ya(t,c),i=J1(i,h,s.children);else if(tc(c,t))if(h=ya(c,t),Nn(h))i=J1(i,mi(),s.children);else{const p=(0,j.DV)(s.children,On(h));if(p){const _=p.getChild(Ui(h));i=aC(i,mi(),_)}}}}}return i}function u2(n,e,t,i,r){if(i||r){const s=ep(n.visibleWrites,e);return!r&&eR(s)?t:r||null!=t||X1(s,mi())?uv(c2(n.allWrites,function(_){return(_.visible||r)&&(!i||!~i.indexOf(_.writeId))&&(tc(_.path,e)||tc(e,_.path))},e),t||wn.EMPTY_NODE):null}{const s=Sg(n.visibleWrites,e);if(null!=s)return s;{const c=ep(n.visibleWrites,e);return eR(c)?t:null!=t||X1(c,mi())?uv(c,t||wn.EMPTY_NODE):null}}}function eS(n,e,t,i){return u2(n.writeTree,n.treePath,e,t,i)}function tR(n,e){return function Oz(n,e,t){let i=wn.EMPTY_NODE;const r=Sg(n.visibleWrites,e);if(r)return r.isLeafNode()||r.forEachChild(zi,(s,c)=>{i=i.updateImmediateChild(s,c)}),i;if(t){const s=ep(n.visibleWrites,e);return t.forEachChild(zi,(c,h)=>{const p=uv(ep(s,new Ei(c)),h);i=i.updateImmediateChild(c,p)}),a2(s).forEach(c=>{i=i.updateImmediateChild(c.name,c.node)}),i}return a2(ep(n.visibleWrites,e)).forEach(c=>{i=i.updateImmediateChild(c.name,c.node)}),i}(n.writeTree,n.treePath,e)}function d2(n,e,t,i){return function Nz(n,e,t,i,r){(0,j.hu)(i||r,"Either existingEventSnap or existingServerSnap must exist");const s=hr(e,t);if(X1(n.visibleWrites,s))return null;{const c=ep(n.visibleWrites,s);return eR(c)?r.getChild(t):uv(c,r.getChild(t))}}(n.writeTree,n.treePath,e,t,i)}function tS(n,e){return function Fz(n,e){return Sg(n.visibleWrites,e)}(n.writeTree,hr(n.treePath,e))}function nR(n,e,t){return function Pz(n,e,t,i){const r=hr(e,t),s=Sg(n.visibleWrites,r);return null!=s?s:i.isCompleteForChild(t)?uv(ep(n.visibleWrites,r),i.getNode().getImmediateChild(t)):null}(n.writeTree,n.treePath,e,t)}function h2(n,e){return f2(hr(n.treePath,e),n.writeTree)}function f2(n,e){return{treePath:n,writeTree:e}}class Bz{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,i=e.childName;(0,j.hu)("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),(0,j.hu)(".priority"!==i,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(i);if(r){const s=r.type;if("child_added"===t&&"child_removed"===s)this.changeMap.set(i,nC(i,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===s)this.changeMap.delete(i);else if("child_removed"===t&&"child_changed"===s)this.changeMap.set(i,tC(i,r.oldSnap));else if("child_changed"===t&&"child_added"===s)this.changeMap.set(i,av(i,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==s)throw(0,j.g5)("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(i,nC(i,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(i,e)}getChanges(){return Array.from(this.changeMap.values())}}const p2=new class Hz{getCompleteChild(e){return null}getChildAfterChild(e,t,i){return null}};class iR{constructor(e,t,i=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=i}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const i=null!=this.optCompleteServerCache_?new Xf(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return nR(this.writes_,e,i)}}getChildAfterChild(e,t,i){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Ig(this.viewCache_),s=function Uz(n,e,t,i,r,s){return function Lz(n,e,t,i,r,s,c){let h;const p=ep(n.visibleWrites,e),_=Sg(p,mi());if(null!=_)h=_;else{if(null==t)return[];h=uv(p,t)}if(h=h.withIndex(c),h.isEmpty()||h.isLeafNode())return[];{const E=[],S=c.getCompare(),P=s?h.getReverseIteratorFrom(i,c):h.getIteratorFrom(i,c);let H=P.getNext();for(;H&&E.length<r;)0!==S(H,i)&&E.push(H),H=P.getNext();return E}}(n.writeTree,n.treePath,e,t,i,r,s)}(this.writes_,r,t,1,i,e);return 0===s.length?null:s[0]}}function m2(n,e,t,i,r,s){const c=e.eventCache;if(null!=tS(i,t))return e;{let h,p;if(Nn(t))if((0,j.hu)(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const _=Ig(e),S=tR(i,_ instanceof wn?_:wn.EMPTY_NODE);h=n.filter.updateFullNode(e.eventCache.getNode(),S,s)}else{const _=eS(i,Ig(e));h=n.filter.updateFullNode(e.eventCache.getNode(),_,s)}else{const _=On(t);if(".priority"===_){(0,j.hu)(1===Jf(t),"Can't have a priority with additional path components");const E=c.getNode();p=e.serverCache.getNode();const S=d2(i,t,E,p);h=null!=S?n.filter.updatePriority(E,S):c.getNode()}else{const E=Ui(t);let S;if(c.isCompleteForChild(_)){p=e.serverCache.getNode();const P=d2(i,t,c.getNode(),p);S=null!=P?c.getNode().getImmediateChild(_).updateChild(E,P):c.getNode().getImmediateChild(_)}else S=nR(i,_,e.serverCache);h=null!=S?n.filter.updateChild(c.getNode(),_,S,E,r,s):c.getNode()}}return oC(e,h,c.isFullyInitialized()||Nn(t),n.filter.filtersNodes())}}function nS(n,e,t,i,r,s,c,h){const p=e.serverCache;let _;const E=c?n.filter:n.filter.getIndexedFilter();if(Nn(t))_=E.updateFullNode(p.getNode(),i,null);else if(E.filtersNodes()&&!p.isFiltered()){const H=p.getNode().updateChild(t,i);_=E.updateFullNode(p.getNode(),H,null)}else{const H=On(t);if(!p.isCompleteForPath(t)&&Jf(t)>1)return e;const $=Ui(t),Ce=p.getNode().getImmediateChild(H).updateChild($,i);_=".priority"===H?E.updatePriority(p.getNode(),Ce):E.updateChild(p.getNode(),H,Ce,$,p2,null)}const S=s2(e,_,p.isFullyInitialized()||Nn(t),E.filtersNodes());return m2(n,S,t,r,new iR(r,S,s),h)}function rR(n,e,t,i,r,s,c){const h=e.eventCache;let p,_;const E=new iR(r,e,s);if(Nn(t))_=n.filter.updateFullNode(e.eventCache.getNode(),i,c),p=oC(e,_,!0,n.filter.filtersNodes());else{const S=On(t);if(".priority"===S)_=n.filter.updatePriority(e.eventCache.getNode(),i),p=oC(e,_,h.isFullyInitialized(),h.isFiltered());else{const P=Ui(t),H=h.getNode().getImmediateChild(S);let $;if(Nn(P))$=i;else{const ae=E.getCompleteChild(S);$=null!=ae?".priority"===N1(P)&&ae.getChild(BL(P)).isEmpty()?ae:ae.updateChild(P,i):wn.EMPTY_NODE}p=H.equals($)?e:oC(e,n.filter.updateChild(h.getNode(),S,$,P,E,c),h.isFullyInitialized(),n.filter.filtersNodes())}}return p}function g2(n,e){return n.eventCache.isCompleteForChild(e)}function _2(n,e,t){return t.foreach((i,r)=>{e=e.updateChild(i,r)}),e}function sR(n,e,t,i,r,s,c,h){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let _,p=e;_=Nn(t)?i:new $i(null).setTree(t,i);const E=e.serverCache.getNode();return _.children.inorderTraversal((S,P)=>{if(E.hasChild(S)){const $=_2(0,e.serverCache.getNode().getImmediateChild(S),P);p=nS(n,p,new Ei(S),$,r,s,c,h)}}),_.children.inorderTraversal((S,P)=>{const H=!e.serverCache.isCompleteForChild(S)&&void 0===P.value;if(!E.hasChild(S)&&!H){const ae=_2(0,e.serverCache.getNode().getImmediateChild(S),P);p=nS(n,p,new Ei(S),ae,r,s,c,h)}}),p}class Kz{constructor(e,t){this.query_=e,this.eventRegistrations_=[];const i=this.query_._queryParams,r=new G1(i.getIndex()),s=function uz(n){return n.loadsAllData()?new G1(n.getIndex()):n.hasLimit()?new cz(n):new iC(n)}(i);this.processor_=function jz(n){return{filter:n}}(s);const c=t.serverCache,h=t.eventCache,p=r.updateFullNode(wn.EMPTY_NODE,c.getNode(),null),_=s.updateFullNode(wn.EMPTY_NODE,h.getNode(),null),E=new Xf(p,c.isFullyInitialized(),r.filtersNodes()),S=new Xf(_,h.isFullyInitialized(),s.filtersNodes());this.viewCache_=QI(S,E),this.eventGenerator_=new wz(this.query_)}get query(){return this.query_}}function Xz(n,e){const t=Ig(n.viewCache_);return t&&(n.query._queryParams.loadsAllData()||!Nn(e)&&!t.getImmediateChild(On(e)).isEmpty())?t.getChild(e):null}function y2(n){return 0===n.eventRegistrations_.length}function v2(n,e,t){const i=[];if(t){(0,j.hu)(null==e,"A cancel should cancel all event registrations.");const r=n.query._path;n.eventRegistrations_.forEach(s=>{const c=s.createCancelEvent(t,r);c&&i.push(c)})}if(e){let r=[];for(let s=0;s<n.eventRegistrations_.length;++s){const c=n.eventRegistrations_[s];if(c.matches(e)){if(e.hasAnyCallback()){r=r.concat(n.eventRegistrations_.slice(s+1));break}}else r.push(c)}n.eventRegistrations_=r}else n.eventRegistrations_=[];return i}function b2(n,e,t,i){e.type===nc.MERGE&&null!==e.source.queryId&&((0,j.hu)(Ig(n.viewCache_),"We should always have a full cache before handling merges"),(0,j.hu)(JI(n.viewCache_),"Missing event cache, even though we have a server cache"));const r=n.viewCache_,s=function zz(n,e,t,i,r){const s=new Bz;let c,h;if(t.type===nc.OVERWRITE){const _=t;_.source.fromUser?c=rR(n,e,_.path,_.snap,i,r,s):((0,j.hu)(_.source.fromServer,"Unknown source."),h=_.source.tagged||e.serverCache.isFiltered()&&!Nn(_.path),c=nS(n,e,_.path,_.snap,i,r,h,s))}else if(t.type===nc.MERGE){const _=t;_.source.fromUser?c=function qz(n,e,t,i,r,s,c){let h=e;return i.foreach((p,_)=>{const E=hr(t,p);g2(e,On(E))&&(h=rR(n,h,E,_,r,s,c))}),i.foreach((p,_)=>{const E=hr(t,p);g2(e,On(E))||(h=rR(n,h,E,_,r,s,c))}),h}(n,e,_.path,_.children,i,r,s):((0,j.hu)(_.source.fromServer,"Unknown source."),h=_.source.tagged||e.serverCache.isFiltered(),c=sR(n,e,_.path,_.children,i,r,h,s))}else if(t.type===nc.ACK_USER_WRITE){const _=t;c=_.revert?function Yz(n,e,t,i,r,s){let c;if(null!=tS(i,t))return e;{const h=new iR(i,e,r),p=e.eventCache.getNode();let _;if(Nn(t)||".priority"===On(t)){let E;if(e.serverCache.isFullyInitialized())E=eS(i,Ig(e));else{const S=e.serverCache.getNode();(0,j.hu)(S instanceof wn,"serverChildren would be complete if leaf node"),E=tR(i,S)}E=E,_=n.filter.updateFullNode(p,E,s)}else{const E=On(t);let S=nR(i,E,e.serverCache);null==S&&e.serverCache.isCompleteForChild(E)&&(S=p.getImmediateChild(E)),_=null!=S?n.filter.updateChild(p,E,S,Ui(t),h,s):e.eventCache.getNode().hasChild(E)?n.filter.updateChild(p,E,wn.EMPTY_NODE,Ui(t),h,s):p,_.isEmpty()&&e.serverCache.isFullyInitialized()&&(c=eS(i,Ig(e)),c.isLeafNode()&&(_=n.filter.updateFullNode(_,c,s)))}return c=e.serverCache.isFullyInitialized()||null!=tS(i,mi()),oC(e,_,c,n.filter.filtersNodes())}}(n,e,_.path,i,r,s):function Wz(n,e,t,i,r,s,c){if(null!=tS(r,t))return e;const h=e.serverCache.isFiltered(),p=e.serverCache;if(null!=i.value){if(Nn(t)&&p.isFullyInitialized()||p.isCompleteForPath(t))return nS(n,e,t,p.getNode().getChild(t),r,s,h,c);if(Nn(t)){let _=new $i(null);return p.getNode().forEachChild(td,(E,S)=>{_=_.set(new Ei(E),S)}),sR(n,e,t,_,r,s,h,c)}return e}{let _=new $i(null);return i.foreach((E,S)=>{const P=hr(t,E);p.isCompleteForPath(P)&&(_=_.set(E,p.getNode().getChild(P)))}),sR(n,e,t,_,r,s,h,c)}}(n,e,_.path,_.affectedTree,i,r,s)}else{if(t.type!==nc.LISTEN_COMPLETE)throw(0,j.g5)("Unknown operation type: "+t.type);c=function Zz(n,e,t,i,r){const s=e.serverCache;return m2(n,s2(e,s.getNode(),s.isFullyInitialized()||Nn(t),s.isFiltered()),t,i,p2,r)}(n,e,t.path,i,s)}const p=s.getChanges();return function $z(n,e,t){const i=e.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),s=JI(n);(t.length>0||!n.eventCache.isFullyInitialized()||r&&!i.getNode().equals(s)||!i.getNode().getPriority().equals(s.getPriority()))&&t.push(e2(JI(e)))}}(e,c,p),{viewCache:c,changes:p}}(n.processor_,r,e,t,i);return function Gz(n,e){(0,j.hu)(e.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,j.hu)(e.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,s.viewCache),(0,j.hu)(s.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=s.viewCache,w2(n,s.changes,s.viewCache.eventCache.getNode(),null)}function w2(n,e,t,i){return function Cz(n,e,t,i){const r=[],s=[];return e.forEach(c=>{"child_changed"===c.type&&n.index_.indexedValueChanged(c.oldSnap,c.snapshotNode)&&s.push(function lz(n,e){return{type:"child_moved",snapshotNode:e,childName:n}}(c.childName,c.snapshotNode))}),sC(n,r,"child_removed",e,i,t),sC(n,r,"child_added",e,i,t),sC(n,r,"child_moved",s,i,t),sC(n,r,"child_changed",e,i,t),sC(n,r,"value",e,i,t),r}(n.eventGenerator_,e,t,i?[i]:n.eventRegistrations_)}let iS,sS;class C2{constructor(){this.views=new Map}}function oR(n,e,t,i){const r=e.source.queryId;if(null!==r){const s=n.views.get(r);return(0,j.hu)(null!=s,"SyncTree gave us an op for an invalid query."),b2(s,e,t,i)}{let s=[];for(const c of n.views.values())s=s.concat(b2(c,e,t,i));return s}}function E2(n,e,t,i,r){const c=n.views.get(e._queryIdentifier);if(!c){let h=eS(t,r?i:null),p=!1;h?p=!0:i instanceof wn?(h=tR(t,i),p=!1):(h=wn.EMPTY_NODE,p=!1);const _=QI(new Xf(h,p,!1),new Xf(i,r,!1));return new Kz(e,_)}return c}function T2(n){const e=[];for(const t of n.views.values())t.query._queryParams.loadsAllData()||e.push(t);return e}function tp(n,e){let t=null;for(const i of n.views.values())t=t||Xz(i,e);return t}function D2(n,e){return e._queryParams.loadsAllData()?rS(n):n.views.get(e._queryIdentifier)}function I2(n,e){return null!=D2(n,e)}function np(n){return null!=rS(n)}function rS(n){for(const e of n.views.values())if(e.query._queryParams.loadsAllData())return e;return null}let c$=1;class S2{constructor(e){this.listenProvider_=e,this.syncPointTree_=new $i(null),this.pendingWriteTree_=function Vz(){return{visibleWrites:iu.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function aR(n,e,t,i,r){return function Iz(n,e,t,i,r){(0,j.hu)(i>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),n.allWrites.push({path:e,snap:t,writeId:i,visible:r}),r&&(n.visibleWrites=aC(n.visibleWrites,e,t)),n.lastWriteId=i}(n.pendingWriteTree_,e,t,i,r),r?dv(n,new Dg({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,t)):[]}function ip(n,e,t=!1){const i=function Az(n,e){for(let t=0;t<n.allWrites.length;t++){const i=n.allWrites[t];if(i.writeId===e)return i}return null}(n.pendingWriteTree_,e);if(function Mz(n,e){const t=n.allWrites.findIndex(h=>h.writeId===e);(0,j.hu)(t>=0,"removeWrite called with nonexistent writeId.");const i=n.allWrites[t];n.allWrites.splice(t,1);let r=i.visible,s=!1,c=n.allWrites.length-1;for(;r&&c>=0;){const h=n.allWrites[c];h.visible&&(c>=t&&xz(h,i.path)?r=!1:tc(i.path,h.path)&&(s=!0)),c--}return!!r&&(s?(function kz(n){n.visibleWrites=c2(n.allWrites,Rz,mi()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(i.snap?n.visibleWrites=o2(n.visibleWrites,i.path):Ys(i.children,p=>{n.visibleWrites=o2(n.visibleWrites,hr(i.path,p))}),!0))}(n.pendingWriteTree_,e)){let s=new $i(null);return null!=i.snap?s=s.set(mi(),!0):Ys(i.children,c=>{s=s.set(new Ei(c),!0)}),dv(n,new KI(i.path,s,t))}return[]}function lC(n,e,t){return dv(n,new Dg({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,t))}function lR(n,e,t,i){const r=e._path,s=n.syncPointTree_.get(r);let c=[];if(s&&("default"===e._queryIdentifier||I2(s,e))){const h=function o$(n,e,t,i){const r=e._queryIdentifier,s=[];let c=[];const h=np(n);if("default"===r)for(const[p,_]of n.views.entries())c=c.concat(v2(_,t,i)),y2(_)&&(n.views.delete(p),_.query._queryParams.loadsAllData()||s.push(_.query));else{const p=n.views.get(r);p&&(c=c.concat(v2(p,t,i)),y2(p)&&(n.views.delete(r),p.query._queryParams.loadsAllData()||s.push(p.query)))}return h&&!np(n)&&s.push(new(function i$(){return(0,j.hu)(iS,"Reference.ts has not been loaded"),iS}())(e._repo,e._path)),{removed:s,events:c}}(s,e,t,i);(function r$(n){return 0===n.views.size})(s)&&(n.syncPointTree_=n.syncPointTree_.remove(r));const p=h.removed;c=h.events;const _=-1!==p.findIndex(S=>S._queryParams.loadsAllData()),E=n.syncPointTree_.findOnPath(r,(S,P)=>np(P));if(_&&!E){const S=n.syncPointTree_.subtree(r);if(!S.isEmpty()){const P=function _$(n){return n.fold((e,t,i)=>{if(t&&np(t))return[rS(t)];{let r=[];return t&&(r=T2(t)),Ys(i,(s,c)=>{r=r.concat(c)}),r}})}(S);for(let H=0;H<P.length;++H){const $=P[H],ae=$.query,Ce=k2(n,$);n.listenProvider_.startListening(cC(ae),aS(n,ae),Ce.hashFn,Ce.onComplete)}}}!E&&p.length>0&&!i&&(_?n.listenProvider_.stopListening(cC(e),null):p.forEach(S=>{const P=n.queryToTagMap.get(lS(S));n.listenProvider_.stopListening(cC(S),P)})),function y$(n,e){for(let t=0;t<e.length;++t){const i=e[t];if(!i._queryParams.loadsAllData()){const r=lS(i),s=n.queryToTagMap.get(r);n.queryToTagMap.delete(r),n.tagToQueryMap.delete(s)}}}(n,p)}return c}function A2(n,e,t){const i=e._path;let r=null,s=!1;n.syncPointTree_.foreachOnPath(i,(S,P)=>{const H=ya(S,i);r=r||tp(P,H),s=s||np(P)});let h,c=n.syncPointTree_.get(i);c?(s=s||np(c),r=r||tp(c,mi())):(c=new C2,n.syncPointTree_=n.syncPointTree_.set(i,c)),null!=r?h=!0:(h=!1,r=wn.EMPTY_NODE,n.syncPointTree_.subtree(i).foreachChild((P,H)=>{const $=tp(H,mi());$&&(r=r.updateImmediateChild(P,$))}));const p=I2(c,e);if(!p&&!e._queryParams.loadsAllData()){const S=lS(e);(0,j.hu)(!n.queryToTagMap.has(S),"View does not exist, but we have a tag");const P=function v$(){return c$++}();n.queryToTagMap.set(S,P),n.tagToQueryMap.set(P,S)}let E=function s$(n,e,t,i,r,s){const c=E2(n,e,i,r,s);return n.views.has(e._queryIdentifier)||n.views.set(e._queryIdentifier,c),function e$(n,e){n.eventRegistrations_.push(e)}(c,t),function t$(n,e){const t=n.viewCache_.eventCache,i=[];return t.getNode().isLeafNode()||t.getNode().forEachChild(zi,(s,c)=>{i.push(av(s,c))}),t.isFullyInitialized()&&i.push(e2(t.getNode())),w2(n,i,t.getNode(),e)}(c,t)}(c,e,t,XI(n.pendingWriteTree_,i),r,h);if(!p&&!s){const S=D2(c,e);E=E.concat(function b$(n,e,t){const i=e._path,r=aS(n,e),s=k2(n,t),c=n.listenProvider_.startListening(cC(e),r,s.hashFn,s.onComplete),h=n.syncPointTree_.subtree(i);if(r)(0,j.hu)(!np(h.value),"If we're adding a query, it shouldn't be shadowed");else{const p=h.fold((_,E,S)=>{if(!Nn(_)&&E&&np(E))return[rS(E).query];{let P=[];return E&&(P=P.concat(T2(E).map(H=>H.query))),Ys(S,(H,$)=>{P=P.concat($)}),P}});for(let _=0;_<p.length;++_){const E=p[_];n.listenProvider_.stopListening(cC(E),aS(n,E))}}return c}(n,e,S))}return E}function oS(n,e,t){const r=n.pendingWriteTree_,s=n.syncPointTree_.findOnPath(e,(c,h)=>{const _=tp(h,ya(c,e));if(_)return _});return u2(r,e,s,t,!0)}function dv(n,e){return M2(e,n.syncPointTree_,null,XI(n.pendingWriteTree_,mi()))}function M2(n,e,t,i){if(Nn(n.path))return x2(n,e,t,i);{const r=e.get(mi());null==t&&null!=r&&(t=tp(r,mi()));let s=[];const c=On(n.path),h=n.operationForChild(c),p=e.children.get(c);if(p&&h){const _=t?t.getImmediateChild(c):null,E=h2(i,c);s=s.concat(M2(h,p,_,E))}return r&&(s=s.concat(oR(r,n,i,t))),s}}function x2(n,e,t,i){const r=e.get(mi());null==t&&null!=r&&(t=tp(r,mi()));let s=[];return e.children.inorderTraversal((c,h)=>{const p=t?t.getImmediateChild(c):null,_=h2(i,c),E=n.operationForChild(c);E&&(s=s.concat(x2(E,h,p,_)))}),r&&(s=s.concat(oR(r,n,i,t))),s}function k2(n,e){const t=e.query,i=aS(n,t);return{hashFn:()=>(function Qz(n){return n.viewCache_.serverCache.getNode()}(e)||wn.EMPTY_NODE).hash(),onComplete:r=>{if("ok"===r)return i?function f$(n,e,t){const i=cR(n,t);if(i){const r=uR(i),s=r.path,c=r.queryId,h=ya(s,e);return dR(n,s,new rC(K1(c),h))}return[]}(n,t._path,i):function h$(n,e){return dv(n,new rC({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e))}(n,t._path);{const s=function u4(n,e){let t="Unknown Error";"too_big"===n?t="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?t="Client doesn't have permission to access the desired data.":"unavailable"===n&&(t="The service is unavailable");const i=new Error(n+" at "+e._path.toString()+": "+t);return i.code=n.toUpperCase(),i}(r,t);return lR(n,t,null,s)}}}}function aS(n,e){const t=lS(e);return n.queryToTagMap.get(t)}function lS(n){return n._path.toString()+"$"+n._queryIdentifier}function cR(n,e){return n.tagToQueryMap.get(e)}function uR(n){const e=n.indexOf("$");return(0,j.hu)(-1!==e&&e<n.length-1,"Bad queryKey."),{queryId:n.substr(e+1),path:new Ei(n.substr(0,e))}}function dR(n,e,t){const i=n.syncPointTree_.get(e);return(0,j.hu)(i,"Missing sync point for query tag that we're tracking"),oR(i,t,XI(n.pendingWriteTree_,e),null)}function cC(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(function l$(){return(0,j.hu)(sS,"Reference.ts has not been loaded"),sS}())(n._repo,n._path):n}class hR{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new hR(t)}node(){return this.node_}}class fR{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=hr(this.path_,e);return new fR(this.syncTree_,t)}node(){return oS(this.syncTree_,this.path_)}}const R2=function(n,e,t){return n&&"object"==typeof n?((0,j.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?C$(n[".sv"],e,t):"object"==typeof n[".sv"]?E$(n[".sv"],e):void(0,j.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},C$=function(n,e,t){if("timestamp"===n)return t.timestamp;(0,j.hu)(!1,"Unexpected server value: "+n)},E$=function(n,e,t){n.hasOwnProperty("increment")||(0,j.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const i=n.increment;"number"!=typeof i&&(0,j.hu)(!1,"Unexpected increment value: "+i);const r=e.node();if((0,j.hu)(null!=r,"Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const c=r.getValue();return"number"!=typeof c?i:c+i},O2=function(n,e,t,i){return mR(e,new fR(t,n),i)},pR=function(n,e,t){return mR(n,new hR(e),t)};function mR(n,e,t){const i=n.getPriority().val(),r=R2(i,e.getImmediateChild(".priority"),t);let s;if(n.isLeafNode()){const c=n,h=R2(c.getValue(),e,t);return h!==c.getValue()||r!==c.getPriority().val()?new rv(h,Dr(r)):n}{const c=n;return s=c,r!==c.getPriority().val()&&(s=s.updatePriority(new rv(r))),c.forEachChild(zi,(h,p)=>{const _=mR(p,e.getImmediateChild(h),t);_!==p&&(s=s.updateImmediateChild(h,_))}),s}}class gR{constructor(e="",t=null,i={children:{},childCount:0}){this.name=e,this.parent=t,this.node=i}}function cS(n,e){let t=e instanceof Ei?e:new Ei(e),i=n,r=On(t);for(;null!==r;){const s=(0,j.DV)(i.node.children,r)||{children:{},childCount:0};i=new gR(r,i,s),t=Ui(t),r=On(t)}return i}function Ag(n){return n.node.value}function _R(n,e){n.node.value=e,yR(n)}function N2(n){return n.node.childCount>0}function uS(n,e){Ys(n.node.children,(t,i)=>{e(new gR(t,n,i))})}function P2(n,e,t,i){t&&!i&&e(n),uS(n,r=>{P2(r,e,!0,i)}),t&&i&&e(n)}function uC(n){return new Ei(null===n.parent?n.name:uC(n.parent)+"/"+n.name)}function yR(n){null!==n.parent&&function I$(n,e,t){const i=function T$(n){return void 0===Ag(n)&&!N2(n)}(t),r=(0,j.r3)(n.node.children,e);i&&r?(delete n.node.children[e],n.node.childCount--,yR(n)):!i&&!r&&(n.node.children[e]=t.node,n.node.childCount++,yR(n))}(n.parent,n.name,n)}const S$=/[\[\].#$\/\u0000-\u001F\u007F]/,A$=/[\[\].#$\u0000-\u001F\u007F]/,vR=10485760,dS=function(n){return"string"==typeof n&&0!==n.length&&!S$.test(n)},F2=function(n){return"string"==typeof n&&0!==n.length&&!A$.test(n)},dC=function(n){return null===n||"string"==typeof n||"number"==typeof n&&!VI(n)||n&&"object"==typeof n&&(0,j.r3)(n,".sv")},nd=function(n,e,t,i){i&&void 0===e||hC((0,j.gK)(n,"value"),e,t)},hC=function(n,e,t){const i=t instanceof Ei?new j4(t,n):t;if(void 0===e)throw new Error(n+"contains undefined "+Eg(i));if("function"==typeof e)throw new Error(n+"contains a function "+Eg(i)+" with contents = "+e.toString());if(VI(e))throw new Error(n+"contains "+e.toString()+" "+Eg(i));if("string"==typeof e&&e.length>vR/3&&(0,j.ug)(e)>vR)throw new Error(n+"contains a string greater than "+vR+" utf8 bytes "+Eg(i)+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){let r=!1,s=!1;if(Ys(e,(c,h)=>{if(".value"===c)r=!0;else if(".priority"!==c&&".sv"!==c&&(s=!0,!dS(c)))throw new Error(n+" contains an invalid key ("+c+") "+Eg(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function G4(n,e){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(e),n.byteLength_+=(0,j.ug)(e),HL(n)})(i,c),hC(n,h,i),function z4(n){const e=n.parts_.pop();n.byteLength_-=(0,j.ug)(e),n.parts_.length>0&&(n.byteLength_-=1)}(i)}),r&&s)throw new Error(n+' contains ".value" child '+Eg(i)+" in addition to actual children.")}},L2=function(n,e,t,i){if(i&&void 0===e)return;const r=(0,j.gK)(n,"values");if(!e||"object"!=typeof e||Array.isArray(e))throw new Error(r+" must be an object containing the children to replace.");const s=[];Ys(e,(c,h)=>{const p=new Ei(c);if(hC(r,h,hr(t,p)),".priority"===N1(p)&&!dC(h))throw new Error(r+"contains an invalid value for '"+p.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(p)}),function(n,e){let t,i;for(t=0;t<e.length;t++){i=e[t];const s=Qw(i);for(let c=0;c<s.length;c++)if((".priority"!==s[c]||c!==s.length-1)&&!dS(s[c]))throw new Error(n+"contains an invalid key ("+s[c]+") in path "+i.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}e.sort(H4);let r=null;for(t=0;t<e.length;t++){if(i=e[t],null!==r&&tc(r,i))throw new Error(n+"contains a path "+r.toString()+" that is ancestor of another path "+i.toString());r=i}}(r,s)},bR=function(n,e,t){if(!t||void 0!==e){if(VI(e))throw new Error((0,j.gK)(n,"priority")+"is "+e.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!dC(e))throw new Error((0,j.gK)(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},fC=function(n,e,t,i){if(!(i&&void 0===t||dS(t)))throw new Error((0,j.gK)(n,e)+'was an invalid key = "'+t+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},pC=function(n,e,t,i){if(!(i&&void 0===t||F2(t)))throw new Error((0,j.gK)(n,e)+'was an invalid path = "'+t+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},ic=function(n,e){if(".info"===On(e))throw new Error(n+" failed = Can't modify data under /.info/")},V2=function(n,e){const t=e.path.toString();if("string"!=typeof e.repoInfo.host||0===e.repoInfo.host.length||!dS(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==t.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),F2(n)}(t))throw new Error((0,j.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class R${constructor(){this.eventLists_=[],this.recursionDepth_=0}}function hS(n,e){let t=null;for(let i=0;i<e.length;i++){const r=e[i],s=r.getPath();null!==t&&!P1(s,t.path)&&(n.eventLists_.push(t),t=null),null===t&&(t={events:[],path:s}),t.events.push(r)}t&&n.eventLists_.push(t)}function wR(n,e,t){hS(n,t),U2(n,i=>P1(i,e))}function rc(n,e,t){hS(n,t),U2(n,i=>tc(i,e)||tc(e,i))}function U2(n,e){n.recursionDepth_++;let t=!0;for(let i=0;i<n.eventLists_.length;i++){const r=n.eventLists_[i];r&&(e(r.path)?(O$(n.eventLists_[i]),n.eventLists_[i]=null):t=!1)}t&&(n.eventLists_=[]),n.recursionDepth_--}function O$(n){for(let e=0;e<n.events.length;e++){const t=n.events[e];if(null!==t){n.events[e]=null;const i=t.getEventRunner();wg&&Zs("event: "+t.toString()),nv(i)}}}const B2="repo_interrupt";class P${constructor(e,t,i,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new R$,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=YI(),this.transactionQueueTree_=new gR,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function H2(n){const t=n.infoData_.getNode(new Ei(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function mC(n){return function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n}({timestamp:H2(n)})}function j2(n,e,t,i,r){n.dataUpdateCount++;const s=new Ei(e);t=n.interceptServerDataCallback_?n.interceptServerDataCallback_(e,t):t;let c=[];if(r)if(i){const p=(0,j.UI)(t,_=>Dr(_));c=function m$(n,e,t,i){const r=cR(n,i);if(r){const s=uR(r),c=s.path,h=s.queryId,p=ya(c,e),_=$i.fromObject(t);return dR(n,c,new cv(K1(h),p,_))}return[]}(n.serverSyncTree_,s,p,r)}else{const p=Dr(t);c=function p$(n,e,t,i){const r=cR(n,i);if(null!=r){const s=uR(r),c=s.path,h=s.queryId,p=ya(c,e);return dR(n,c,new Dg(K1(h),p,t))}return[]}(n.serverSyncTree_,s,p,r)}else if(i){const p=(0,j.UI)(t,_=>Dr(_));c=function d$(n,e,t){const i=$i.fromObject(t);return dv(n,new cv({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,i))}(n.serverSyncTree_,s,p)}else{const p=Dr(t);c=lC(n.serverSyncTree_,s,p)}let h=s;c.length>0&&(h=fv(n,s)),rc(n.eventQueue_,h,c)}function G2(n,e){CR(n,"connected",e),!1===e&&function B$(n){hv(n,"onDisconnectEvents");const e=mC(n),t=YI();W1(n.onDisconnect_,mi(),(r,s)=>{const c=O2(r,s,n.serverSyncTree_,e);lv(t,r,c)});let i=[];W1(t,mi(),(r,s)=>{i=i.concat(lC(n.serverSyncTree_,r,s));const c=IR(n,r);fv(n,c)}),n.onDisconnect_=YI(),rc(n.eventQueue_,mi(),i)}(n)}function CR(n,e,t){const i=new Ei("/.info/"+e),r=Dr(t);n.infoData_.updateSnapshot(i,r);const s=lC(n.infoSyncTree_,i,r);rc(n.eventQueue_,i,s)}function fS(n){return n.nextWriteId_++}function ER(n,e,t,i,r){hv(n,"set",{path:e.toString(),value:t,priority:i});const s=mC(n),c=Dr(t,i),h=oS(n.serverSyncTree_,e),p=pR(c,h,s),_=fS(n),E=aR(n.serverSyncTree_,e,p,_,!0);hS(n.eventQueue_,E),n.server_.put(e.toString(),c.val(!0),(P,H)=>{const $="ok"===P;$||_a("set at "+e+" failed: "+P);const ae=ip(n.serverSyncTree_,_,!$);rc(n.eventQueue_,e,ae),rp(0,r,P,H)});const S=IR(n,e);fv(n,S),rc(n.eventQueue_,S,[])}function H$(n,e,t){n.server_.onDisconnectCancel(e.toString(),(i,r)=>{"ok"===i&&q1(n.onDisconnect_,e),rp(0,t,i,r)})}function z2(n,e,t,i){const r=Dr(t);n.server_.onDisconnectPut(e.toString(),r.val(!0),(s,c)=>{"ok"===s&&lv(n.onDisconnect_,e,r),rp(0,i,s,c)})}function TR(n,e,t){let i;i=".info"===On(e._path)?lR(n.infoSyncTree_,e,t):lR(n.serverSyncTree_,e,t),wR(n.eventQueue_,e._path,i)}function $2(n){n.persistentConnection_&&n.persistentConnection_.interrupt(B2)}function hv(n,...e){let t="";n.persistentConnection_&&(t=n.persistentConnection_.id+":"),Zs(t,...e)}function rp(n,e,t,i){e&&nv(()=>{if("ok"===t)e(null);else{const r=(t||"error").toUpperCase();let s=r;i&&(s+=": "+i);const c=new Error(s);c.code=r,e(c)}})}function DR(n,e,t){return oS(n.serverSyncTree_,e,t)||wn.EMPTY_NODE}function pS(n,e=n.transactionQueueTree_){if(e||mS(n,e),Ag(e)){const t=W2(n,e);(0,j.hu)(t.length>0,"Sending zero length transaction queue"),t.every(r=>0===r.status)&&function W$(n,e,t){const i=t.map(_=>_.currentWriteId),r=DR(n,e,i);let s=r;const c=r.hash();for(let _=0;_<t.length;_++){const E=t[_];(0,j.hu)(0===E.status,"tryToSendTransactionQueue_: items in queue should all be run."),E.status=1,E.retryCount++;const S=ya(e,E.path);s=s.updateChild(S,E.currentOutputSnapshotRaw)}const h=s.val(!0),p=e;n.server_.put(p.toString(),h,_=>{hv(n,"transaction put response",{path:p.toString(),status:_});let E=[];if("ok"===_){const S=[];for(let P=0;P<t.length;P++)t[P].status=2,E=E.concat(ip(n.serverSyncTree_,t[P].currentWriteId)),t[P].onComplete&&S.push(()=>t[P].onComplete(null,!0,t[P].currentOutputSnapshotResolved)),t[P].unwatcher();mS(n,cS(n.transactionQueueTree_,e)),pS(n,n.transactionQueueTree_),rc(n.eventQueue_,e,E);for(let P=0;P<S.length;P++)nv(S[P])}else{if("datastale"===_)for(let S=0;S<t.length;S++)t[S].status=3===t[S].status?4:0;else{_a("transaction at "+p.toString()+" failed: "+_);for(let S=0;S<t.length;S++)t[S].status=4,t[S].abortReason=_}fv(n,e)}},c)}(n,uC(e),t)}else N2(e)&&uS(e,t=>{pS(n,t)})}function fv(n,e){const t=q2(n,e),i=uC(t);return function Z$(n,e,t){if(0===e.length)return;const i=[];let r=[];const c=e.filter(h=>0===h.status).map(h=>h.currentWriteId);for(let h=0;h<e.length;h++){const p=e[h],_=ya(t,p.path);let S,E=!1;if((0,j.hu)(null!==_,"rerunTransactionsUnderNode_: relativePath should not be null."),4===p.status)E=!0,S=p.abortReason,r=r.concat(ip(n.serverSyncTree_,p.currentWriteId,!0));else if(0===p.status)if(p.retryCount>=25)E=!0,S="maxretry",r=r.concat(ip(n.serverSyncTree_,p.currentWriteId,!0));else{const P=DR(n,p.path,c);p.currentInputSnapshot=P;const H=e[h].update(P.val());if(void 0!==H){hC("transaction failed: Data returned ",H,p.path);let $=Dr(H);"object"==typeof H&&null!=H&&(0,j.r3)(H,".priority")||($=$.updatePriority(P.getPriority()));const Ce=p.currentWriteId,st=mC(n),mt=pR($,P,st);p.currentOutputSnapshotRaw=$,p.currentOutputSnapshotResolved=mt,p.currentWriteId=fS(n),c.splice(c.indexOf(Ce),1),r=r.concat(aR(n.serverSyncTree_,p.path,mt,p.currentWriteId,p.applyLocally)),r=r.concat(ip(n.serverSyncTree_,Ce,!0))}else E=!0,S="nodata",r=r.concat(ip(n.serverSyncTree_,p.currentWriteId,!0))}rc(n.eventQueue_,t,r),r=[],E&&(e[h].status=2,setTimeout(e[h].unwatcher,Math.floor(0)),e[h].onComplete&&i.push("nodata"===S?()=>e[h].onComplete(null,!1,e[h].currentInputSnapshot):()=>e[h].onComplete(new Error(S),!1,null)))}mS(n,n.transactionQueueTree_);for(let h=0;h<i.length;h++)nv(i[h]);pS(n,n.transactionQueueTree_)}(n,W2(n,t),i),i}function q2(n,e){let t,i=n.transactionQueueTree_;for(t=On(e);null!==t&&void 0===Ag(i);)i=cS(i,t),t=On(e=Ui(e));return i}function W2(n,e){const t=[];return Z2(n,e,t),t.sort((i,r)=>i.order-r.order),t}function Z2(n,e,t){const i=Ag(e);if(i)for(let r=0;r<i.length;r++)t.push(i[r]);uS(e,r=>{Z2(n,r,t)})}function mS(n,e){const t=Ag(e);if(t){let i=0;for(let r=0;r<t.length;r++)2!==t[r].status&&(t[i]=t[r],i++);t.length=i,_R(e,t.length>0?t:void 0)}uS(e,i=>{mS(n,i)})}function IR(n,e){const t=uC(q2(n,e)),i=cS(n.transactionQueueTree_,e);return function D$(n,e,t){let i=t?n:n.parent;for(;null!==i;){if(e(i))return!0;i=i.parent}}(i,r=>{SR(n,r)}),SR(n,i),P2(i,r=>{SR(n,r)}),t}function SR(n,e){const t=Ag(e);if(t){const i=[];let r=[],s=-1;for(let c=0;c<t.length;c++)3===t[c].status||(1===t[c].status?((0,j.hu)(s===c-1,"All SENT items should be at beginning of queue."),s=c,t[c].status=3,t[c].abortReason="set"):((0,j.hu)(0===t[c].status,"Unexpected transaction status in abort"),t[c].unwatcher(),r=r.concat(ip(n.serverSyncTree_,t[c].currentWriteId,!0)),t[c].onComplete&&i.push(t[c].onComplete.bind(null,new Error("set"),!1,null))));-1===s?_R(e,void 0):t.length=s+1,rc(n.eventQueue_,uC(e),r);for(let c=0;c<i.length;c++)nv(i[c])}}const AR=function(n,e){const t=Q$(n),i=t.namespace;return"firebase.com"===t.domain&&Xu(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||"undefined"===i)&&"localhost"!==t.domain&&Xu("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&_a("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new S1(t.host,t.secure,i,"ws"===t.scheme||"wss"===t.scheme,e,"",i!==t.subdomain),path:new Ei(t.pathString)}},Q$=function(n){let e="",t="",i="",r="",s="",c=!0,h="https",p=443;if("string"==typeof n){let _=n.indexOf("//");_>=0&&(h=n.substring(0,_-1),n=n.substring(_+2));let E=n.indexOf("/");-1===E&&(E=n.length);let S=n.indexOf("?");-1===S&&(S=n.length),e=n.substring(0,Math.min(E,S)),E<S&&(r=function Y$(n){let e="";const t=n.split("/");for(let i=0;i<t.length;i++)if(t[i].length>0){let r=t[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch(s){}e+="/"+r}return e}(n.substring(E,S)));const P=function K$(n){const e={};"?"===n.charAt(0)&&(n=n.substring(1));for(const t of n.split("&")){if(0===t.length)continue;const i=t.split("=");2===i.length?e[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):_a(`Invalid query segment '${t}' in query '${n}'`)}return e}(n.substring(Math.min(n.length,S)));_=e.indexOf(":"),_>=0?(c="https"===h||"wss"===h,p=parseInt(e.substring(_+1),10)):_=e.length;const H=e.slice(0,_);if("localhost"===H.toLowerCase())t="localhost";else if(H.split(".").length<=2)t=H;else{const $=e.indexOf(".");i=e.substring(0,$).toLowerCase(),t=e.substring($+1),s=i}"ns"in P&&(s=P.ns)}return{host:e,port:p,domain:t,subdomain:i,secure:c,scheme:h,pathString:r,namespace:s}};class Y2{constructor(e,t,i,r){this.eventType=e,this.eventRegistration=t,this.snapshot=i,this.prevName=r}getPath(){const e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,j.Pz)(this.snapshot.exportVal())}}class K2{constructor(e,t,i){this.eventRegistration=e,this.error=t,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class Q2{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return(0,j.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}class J2{constructor(e,t){this._repo=e,this._path=t}cancel(){const e=new j.BH;return H$(this._repo,this._path,e.wrapCallback(()=>{})),e.promise}remove(){ic("OnDisconnect.remove",this._path);const e=new j.BH;return z2(this._repo,this._path,null,e.wrapCallback(()=>{})),e.promise}set(e){ic("OnDisconnect.set",this._path),nd("OnDisconnect.set",e,this._path,!1);const t=new j.BH;return z2(this._repo,this._path,e,t.wrapCallback(()=>{})),t.promise}setWithPriority(e,t){ic("OnDisconnect.setWithPriority",this._path),nd("OnDisconnect.setWithPriority",e,this._path,!1),bR("OnDisconnect.setWithPriority",t,!1);const i=new j.BH;return function j$(n,e,t,i,r){const s=Dr(t,i);n.server_.onDisconnectPut(e.toString(),s.val(!0),(c,h)=>{"ok"===c&&lv(n.onDisconnect_,e,s),rp(0,r,c,h)})}(this._repo,this._path,e,t,i.wrapCallback(()=>{})),i.promise}update(e){ic("OnDisconnect.update",this._path),L2("OnDisconnect.update",e,this._path,!1);const t=new j.BH;return function G$(n,e,t,i){if((0,j.xb)(t))return Zs("onDisconnect().update() called with empty data.  Don't do anything."),void rp(0,i,"ok",void 0);n.server_.onDisconnectMerge(e.toString(),t,(r,s)=>{"ok"===r&&Ys(t,(c,h)=>{const p=Dr(h);lv(n.onDisconnect_,hr(e,c),p)}),rp(0,i,r,s)})}(this._repo,this._path,e,t.wrapCallback(()=>{})),t.promise}}class ja{constructor(e,t,i,r){this._repo=e,this._path=t,this._queryParams=i,this._orderByCalled=r}get key(){return Nn(this._path)?null:N1(this._path)}get ref(){return new sc(this._repo,this._path)}get _queryIdentifier(){const e=n2(this._queryParams),t=T1(e);return"{}"===t?"default":t}get _queryObject(){return n2(this._queryParams)}isEqual(e){if(!((e=(0,j.m9)(e))instanceof ja))return!1;const t=this._repo===e._repo,i=P1(this._path,e._path);return t&&i&&this._queryIdentifier===e._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function B4(n){let e="";for(let t=n.pieceNum_;t<n.pieces_.length;t++)""!==n.pieces_[t]&&(e+="/"+encodeURIComponent(String(n.pieces_[t])));return e||"/"}(this._path)}}function gS(n,e){if(!0===n._orderByCalled)throw new Error(e+": You can't combine multiple orderBy calls.")}function sp(n){let e=null,t=null;if(n.hasStart()&&(e=n.getIndexStartValue()),n.hasEnd()&&(t=n.getIndexEndValue()),n.getIndex()===td){const i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",r="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==mh)throw new Error(i);if("string"!=typeof e)throw new Error(r)}if(n.hasEnd()){if(n.getIndexEndName()!==ed)throw new Error(i);if("string"!=typeof t)throw new Error(r)}}else if(n.getIndex()===zi){if(null!=e&&!dC(e)||null!=t&&!dC(t))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,j.hu)(n.getIndex()instanceof B1||n.getIndex()===H1,"unknown index type."),null!=e&&"object"==typeof e||null!=t&&"object"==typeof t)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function _S(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class sc extends ja{constructor(e,t){super(e,t,new qI,!1)}get parent(){const e=BL(this._path);return null===e?null:new sc(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}class Mg{constructor(e,t,i){this._node=e,this.ref=t,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const t=new Ei(e),i=xg(this.ref,e);return new Mg(this._node.getChild(t),i,zi)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(i,r)=>e(new Mg(r,xg(this.ref,i),zi)))}hasChild(e){const t=new Ei(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function X2(n,e){return(n=(0,j.m9)(n))._checkNotDeleted("ref"),void 0!==e?xg(n._root,e):n._root}function eV(n,e){(n=(0,j.m9)(n))._checkNotDeleted("refFromURL");const t=AR(e,n._repo.repoInfo_.nodeAdmin);V2("refFromURL",t);const i=t.repoInfo;return!n._repo.repoInfo_.isCustomHost()&&i.host!==n._repo.repoInfo_.host&&Xu("refFromURL: Host name does not match the current database: (found "+i.host+" but expected "+n._repo.repoInfo_.host+")"),X2(n,t.path.toString())}function xg(n,e){return null===On((n=(0,j.m9)(n))._path)?(t=e,t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),pC("child","path",t,!1)):pC("child","path",e,!1),new sc(n._repo,hr(n._path,e));var t}function MR(n,e){n=(0,j.m9)(n),ic("set",n._path),nd("set",e,n._path,!1);const t=new j.BH;return ER(n._repo,n._path,e,null,t.wrapCallback(()=>{})),t.promise}function n5(n,e){L2("update",e,n._path,!1);const t=new j.BH;return function U$(n,e,t,i){hv(n,"update",{path:e.toString(),value:t});let r=!0;const s=mC(n),c={};if(Ys(t,(h,p)=>{r=!1,c[h]=O2(hr(e,h),Dr(p),n.serverSyncTree_,s)}),r)Zs("update() called with empty data.  Don't do anything."),rp(0,i,"ok",void 0);else{const h=fS(n),p=function u$(n,e,t,i){!function Sz(n,e,t,i){(0,j.hu)(i>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:e,children:t,writeId:i,visible:!0}),n.visibleWrites=J1(n.visibleWrites,e,t),n.lastWriteId=i}(n.pendingWriteTree_,e,t,i);const r=$i.fromObject(t);return dv(n,new cv({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,r))}(n.serverSyncTree_,e,c,h);hS(n.eventQueue_,p),n.server_.merge(e.toString(),t,(_,E)=>{const S="ok"===_;S||_a("update at "+e+" failed: "+_);const P=ip(n.serverSyncTree_,h,!S),H=P.length>0?fv(n,e):e;rc(n.eventQueue_,H,P),rp(0,i,_,E)}),Ys(t,_=>{const E=IR(n,hr(e,_));fv(n,E)}),rc(n.eventQueue_,e,[])}}(n._repo,n._path,e,t.wrapCallback(()=>{})),t.promise}function r5(n){return function V$(n,e){const t=function g$(n,e){const t=e._path;let i=null;n.syncPointTree_.foreachOnPath(t,(_,E)=>{const S=ya(_,t);i=i||tp(E,S)});let r=n.syncPointTree_.get(t);r?i=i||tp(r,mi()):(r=new C2,n.syncPointTree_=n.syncPointTree_.set(t,r));const s=null!=i,c=s?new Xf(i,!0,!1):null;return function Jz(n){return JI(n.viewCache_)}(E2(r,e,XI(n.pendingWriteTree_,e._path),s?c.getNode():wn.EMPTY_NODE,s))}(n.serverSyncTree_,e);return null!=t?Promise.resolve(t):n.server_.get(e).then(i=>{const r=Dr(i).withIndex(e._queryParams.getIndex()),s=lC(n.serverSyncTree_,e._path,r);return wR(n.eventQueue_,e._path,s),Promise.resolve(r)},i=>(hv(n,"get for query "+(0,j.Pz)(e)+" failed: "+i),Promise.reject(new Error(i))))}((n=(0,j.m9)(n))._repo,n).then(e=>new Mg(e,new sc(n._repo,n._path),n._queryParams.getIndex()))}class yS{constructor(e){this.callbackContext=e}respondsTo(e){return"value"===e}createEvent(e,t){const i=t._queryParams.getIndex();return new Y2("value",this,new Mg(e.snapshotNode,new sc(t._repo,t._path),i))}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new K2(this,e,t):null}matches(e){return e instanceof yS&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class vS{constructor(e,t){this.eventType=e,this.callbackContext=t}respondsTo(e){let t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new K2(this,e,t):null}createEvent(e,t){(0,j.hu)(null!=e.childName,"Child events should have a childName.");const i=xg(new sc(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new Y2(e.type,this,new Mg(e.snapshotNode,i,r),e.prevName)}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof vS&&this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function gC(n,e,t,i,r){let s;if("object"==typeof i&&(s=void 0,r=i),"function"==typeof i&&(s=i),r&&r.onlyOnce){const p=t,_=(E,S)=>{TR(n._repo,n,h),p(E,S)};_.userCallback=t.userCallback,_.context=t.context,t=_}const c=new Q2(t,s||void 0),h="value"===e?new yS(c):new vS(e,c);return function z$(n,e,t){let i;i=".info"===On(e._path)?A2(n.infoSyncTree_,e,t):A2(n.serverSyncTree_,e,t),wR(n.eventQueue_,e._path,i)}(n._repo,n,h),()=>TR(n._repo,n,h)}function xR(n,e,t,i){return gC(n,"value",e,t,i)}function tV(n,e,t,i){return gC(n,"child_added",e,t,i)}function nV(n,e,t,i){return gC(n,"child_changed",e,t,i)}function iV(n,e,t,i){return gC(n,"child_moved",e,t,i)}function rV(n,e,t,i){return gC(n,"child_removed",e,t,i)}function sV(n,e,t){let i=null;const r=t?new Q2(t):null;"value"===e?i=new yS(r):e&&(i=new vS(e,r)),TR(n._repo,n,i)}class ru{}class oV extends ru{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){nd("endAt",this._value,e._path,!0);const t=$1(e._queryParams,this._value,this._key);if(_S(t),sp(t),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new ja(e._repo,e._path,t,e._orderByCalled)}}class o5 extends ru{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){nd("endBefore",this._value,e._path,!1);const t=function pz(n,e,t){let i,r;return n.index_===td?("string"==typeof e&&(e=XL(e)),r=$1(n,e,t)):(i=null==t?mh:XL(t),r=$1(n,e,i)),r.endBeforeSet_=!0,r}(e._queryParams,this._value,this._key);if(_S(t),sp(t),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new ja(e._repo,e._path,t,e._orderByCalled)}}class aV extends ru{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){nd("startAt",this._value,e._path,!0);const t=z1(e._queryParams,this._value,this._key);if(_S(t),sp(t),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new ja(e._repo,e._path,t,e._orderByCalled)}}class c5 extends ru{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){nd("startAfter",this._value,e._path,!1);const t=function fz(n,e,t){let i;if(n.index_===td)"string"==typeof e&&(e=JL(e)),i=z1(n,e,t);else{let r;r=null==t?ed:JL(t),i=z1(n,e,r)}return i.startAfterSet_=!0,i}(e._queryParams,this._value,this._key);if(_S(t),sp(t),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new ja(e._repo,e._path,t,e._orderByCalled)}}class d5 extends ru{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new ja(e._repo,e._path,function dz(n,e){const t=n.copy();return t.limitSet_=!0,t.limit_=e,t.viewFrom_="l",t}(e._queryParams,this._limit),e._orderByCalled)}}class f5 extends ru{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new ja(e._repo,e._path,function hz(n,e){const t=n.copy();return t.limitSet_=!0,t.limit_=e,t.viewFrom_="r",t}(e._queryParams,this._limit),e._orderByCalled)}}class m5 extends ru{constructor(e){super(),this._path=e}_apply(e){gS(e,"orderByChild");const t=new Ei(this._path);if(Nn(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const i=new B1(t),r=WI(e._queryParams,i);return sp(r),new ja(e._repo,e._path,r,!0)}}class _5 extends ru{_apply(e){gS(e,"orderByKey");const t=WI(e._queryParams,td);return sp(t),new ja(e._repo,e._path,t,!0)}}class v5 extends ru{_apply(e){gS(e,"orderByPriority");const t=WI(e._queryParams,zi);return sp(t),new ja(e._repo,e._path,t,!0)}}class w5 extends ru{_apply(e){gS(e,"orderByValue");const t=WI(e._queryParams,H1);return sp(t),new ja(e._repo,e._path,t,!0)}}class E5 extends ru{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){if(nd("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new oV(this._value,this._key)._apply(new aV(this._value,this._key)._apply(e))}}function su(n,...e){let t=(0,j.m9)(n);for(const i of e)t=i._apply(t);return t}(function n$(n){(0,j.hu)(!iS,"__referenceConstructor has already been defined"),iS=n})(sc),function a$(n){(0,j.hu)(!sS,"__referenceConstructor has already been defined"),sS=n}(sc);const kR={};function cV(n,e,t,i,r){let s=i||n.options.databaseURL;void 0===s&&(n.options.projectId||Xu("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Zs("Using default host for project ",n.options.projectId),s=`${n.options.projectId}-default-rtdb.firebaseio.com`);let p,_,c=AR(s,r),h=c.repoInfo;"undefined"!=typeof process&&process.env&&(_=process.env.FIREBASE_DATABASE_EMULATOR_HOST),_?(p=!0,s=`http://${_}?ns=${h.namespace}`,c=AR(s,r),h=c.repoInfo):p=!c.repoInfo.secure;const E=r&&p?new Zw(Zw.OWNER):new p4(n.name,n.options,e);V2("Invalid Firebase Database URL",c),Nn(c.path)||Xu("Database URL must point to the root of a Firebase Database (not including a child path).");const S=function A5(n,e,t,i){let r=kR[e.name];r||(r={},kR[e.name]=r);let s=r[n.toURLString()];return s&&Xu("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new P$(n,false,t,i),r[n.toURLString()]=s,s}(h,n,E,new f4(n.name,t));return new x5(S,n)}class x5{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function F$(n,e,t){if(n.stats_=x1(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new ZI(n.repoInfo_,(i,r,s,c)=>{j2(n,i,r,s,c)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>G2(n,!0),0);else{if(null!=t){if("object"!=typeof t)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,j.Pz)(t)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}n.persistentConnection_=new Tg(n.repoInfo_,e,(i,r,s,c)=>{j2(n,i,r,s,c)},i=>{G2(n,i)},i=>{!function L$(n,e){Ys(e,(t,i)=>{CR(n,t,i)})}(n,i)},n.authTokenProvider_,n.appCheckProvider_,t),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(i=>{n.server_.refreshAuthToken(i)}),n.appCheckProvider_.addTokenChangeListener(i=>{n.server_.refreshAppCheckToken(i.token)}),n.statsReporter_=function y4(n,e){const t=n.toString();return M1[t]||(M1[t]=e()),M1[t]}(n.repoInfo_,()=>new bz(n.stats_,n.server_)),n.infoData_=new mz,n.infoSyncTree_=new S2({startListening:(i,r,s,c)=>{let h=[];const p=n.infoData_.getNode(i._path);return p.isEmpty()||(h=lC(n.infoSyncTree_,i._path,p),setTimeout(()=>{c("ok")},0)),h},stopListening:()=>{}}),CR(n,"connected",!1),n.serverSyncTree_=new S2({startListening:(i,r,s,c)=>(n.server_.listen(i,s,r,(h,p)=>{const _=c(h,p);rc(n.eventQueue_,i._path,_)}),[]),stopListening:(i,r)=>{n.server_.unlisten(i,r)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new sc(this._repo,mi())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function S5(n,e){const t=kR[e];(!t||t[n.key]!==n)&&Xu(`Database ${e}(${n.repoInfo_}) has already been deleted.`),$2(n),delete t[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&Xu("Cannot call "+e+" on a deleted database.")}}function N5(n,e){uL(n,e)}const F5={".sv":"timestamp"};class U5{constructor(e,t){this.committed=e,this.snapshot=t}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}Tg.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)},Tg.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)},function P5(n){sL(Yi.SDK_VERSION),(0,Yi._registerComponent)(new Ni.wA("database",(e,{instanceIdentifier:t})=>cV(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),t),"PUBLIC").setMultipleInstances(!0)),(0,Yi.registerVersion)(iL,"0.12.8",n),(0,Yi.registerVersion)(iL,"0.12.8","esm2017")}();const G5=new Nr.Yd("@firebase/database-compat"),uV=function(n){G5.warn("FIREBASE WARNING: "+n)};class q5{constructor(e){this._delegate=e}cancel(e){(0,j.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,j.Wj)("OnDisconnect.cancel","onComplete",e,!0);const t=this._delegate.cancel();return e&&t.then(()=>e(null),i=>e(i)),t}remove(e){(0,j.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,j.Wj)("OnDisconnect.remove","onComplete",e,!0);const t=this._delegate.remove();return e&&t.then(()=>e(null),i=>e(i)),t}set(e,t){(0,j.Dv)("OnDisconnect.set",1,2,arguments.length),(0,j.Wj)("OnDisconnect.set","onComplete",t,!0);const i=this._delegate.set(e);return t&&i.then(()=>t(null),r=>t(r)),i}setWithPriority(e,t,i){(0,j.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,j.Wj)("OnDisconnect.setWithPriority","onComplete",i,!0);const r=this._delegate.setWithPriority(e,t);return i&&r.then(()=>i(null),s=>i(s)),r}update(e,t){if((0,j.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){const r={};for(let s=0;s<e.length;++s)r[""+s]=e[s];e=r,uV("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,j.Wj)("OnDisconnect.update","onComplete",t,!0);const i=this._delegate.update(e);return t&&i.then(()=>t(null),r=>t(r)),i}}class W5{constructor(e,t){this.committed=e,this.snapshot=t}toJSON(){return(0,j.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class op{constructor(e,t){this._database=e,this._delegate=t}val(){return(0,j.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,j.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,j.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,j.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(e){return(0,j.Dv)("DataSnapshot.child",0,1,arguments.length),e=String(e),pC("DataSnapshot.child","path",e,!1),new op(this._database,this._delegate.child(e))}hasChild(e){return(0,j.Dv)("DataSnapshot.hasChild",1,1,arguments.length),pC("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)}getPriority(){return(0,j.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(e){return(0,j.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,j.Wj)("DataSnapshot.forEach","action",e,!1),this._delegate.forEach(t=>e(new op(this._database,t)))}hasChildren(){return(0,j.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,j.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,j.Dv)("DataSnapshot.ref",0,0,arguments.length),new fl(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class fo{constructor(e,t){this.database=e,this._delegate=t}on(e,t,i,r){var s;(0,j.Dv)("Query.on",2,4,arguments.length),(0,j.Wj)("Query.on","callback",t,!1);const c=fo.getCancelAndContextArgs_("Query.on",i,r),h=(_,E)=>{t.call(c.context,new op(this.database,_),E)};h.userCallback=t,h.context=c.context;const p=null===(s=c.cancel)||void 0===s?void 0:s.bind(c.context);switch(e){case"value":return xR(this._delegate,h,p),t;case"child_added":return tV(this._delegate,h,p),t;case"child_removed":return rV(this._delegate,h,p),t;case"child_changed":return nV(this._delegate,h,p),t;case"child_moved":return iV(this._delegate,h,p),t;default:throw new Error((0,j.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(e,t,i){if((0,j.Dv)("Query.off",0,3,arguments.length),function(n,e,t){if(void 0!==e)switch(e){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,j.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,e),(0,j.Wj)("Query.off","callback",t,!0),(0,j.lb)("Query.off","context",i,!0),t){const r=()=>{};r.userCallback=t,r.context=i,sV(this._delegate,e,r)}else sV(this._delegate,e)}get(){return r5(this._delegate).then(e=>new op(this.database,e))}once(e,t,i,r){(0,j.Dv)("Query.once",1,4,arguments.length),(0,j.Wj)("Query.once","callback",t,!0);const s=fo.getCancelAndContextArgs_("Query.once",i,r),c=new j.BH,h=(_,E)=>{const S=new op(this.database,_);t&&t.call(s.context,S,E),c.resolve(S)};h.userCallback=t,h.context=s.context;const p=_=>{s.cancel&&s.cancel.call(s.context,_),c.reject(_)};switch(e){case"value":xR(this._delegate,h,p,{onlyOnce:!0});break;case"child_added":tV(this._delegate,h,p,{onlyOnce:!0});break;case"child_removed":rV(this._delegate,h,p,{onlyOnce:!0});break;case"child_changed":nV(this._delegate,h,p,{onlyOnce:!0});break;case"child_moved":iV(this._delegate,h,p,{onlyOnce:!0});break;default:throw new Error((0,j.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return c.promise}limitToFirst(e){return(0,j.Dv)("Query.limitToFirst",1,1,arguments.length),new fo(this.database,su(this._delegate,function h5(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new d5(n)}(e)))}limitToLast(e){return(0,j.Dv)("Query.limitToLast",1,1,arguments.length),new fo(this.database,su(this._delegate,function p5(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new f5(n)}(e)))}orderByChild(e){return(0,j.Dv)("Query.orderByChild",1,1,arguments.length),new fo(this.database,su(this._delegate,function g5(n){if("$key"===n)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===n)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===n)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return pC("orderByChild","path",n,!1),new m5(n)}(e)))}orderByKey(){return(0,j.Dv)("Query.orderByKey",0,0,arguments.length),new fo(this.database,su(this._delegate,function y5(){return new _5}()))}orderByPriority(){return(0,j.Dv)("Query.orderByPriority",0,0,arguments.length),new fo(this.database,su(this._delegate,function b5(){return new v5}()))}orderByValue(){return(0,j.Dv)("Query.orderByValue",0,0,arguments.length),new fo(this.database,su(this._delegate,function C5(){return new w5}()))}startAt(e=null,t){return(0,j.Dv)("Query.startAt",0,2,arguments.length),new fo(this.database,su(this._delegate,function l5(n=null,e){return fC("startAt","key",e,!0),new aV(n,e)}(e,t)))}startAfter(e=null,t){return(0,j.Dv)("Query.startAfter",0,2,arguments.length),new fo(this.database,su(this._delegate,function u5(n,e){return fC("startAfter","key",e,!0),new c5(n,e)}(e,t)))}endAt(e=null,t){return(0,j.Dv)("Query.endAt",0,2,arguments.length),new fo(this.database,su(this._delegate,function s5(n,e){return fC("endAt","key",e,!0),new oV(n,e)}(e,t)))}endBefore(e=null,t){return(0,j.Dv)("Query.endBefore",0,2,arguments.length),new fo(this.database,su(this._delegate,function a5(n,e){return fC("endBefore","key",e,!0),new o5(n,e)}(e,t)))}equalTo(e,t){return(0,j.Dv)("Query.equalTo",1,2,arguments.length),new fo(this.database,su(this._delegate,function T5(n,e){return fC("equalTo","key",e,!0),new E5(n,e)}(e,t)))}toString(){return(0,j.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,j.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(e){if((0,j.Dv)("Query.isEqual",1,1,arguments.length),!(e instanceof fo))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(e._delegate)}static getCancelAndContextArgs_(e,t,i){const r={cancel:void 0,context:void 0};if(t&&i)r.cancel=t,(0,j.Wj)(e,"cancel",r.cancel,!0),r.context=i,(0,j.lb)(e,"context",r.context,!0);else if(t)if("object"==typeof t&&null!==t)r.context=t;else{if("function"!=typeof t)throw new Error((0,j.gK)(e,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=t}return r}get ref(){return new fl(this.database,new sc(this._delegate._repo,this._delegate._path))}}class fl extends fo{constructor(e,t){super(e,new ja(t._repo,t._path,new qI,!1)),this.database=e,this._delegate=t}getKey(){return(0,j.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(e){return(0,j.Dv)("Reference.child",1,1,arguments.length),"number"==typeof e&&(e=String(e)),new fl(this.database,xg(this._delegate,e))}getParent(){(0,j.Dv)("Reference.parent",0,0,arguments.length);const e=this._delegate.parent;return e?new fl(this.database,e):null}getRoot(){return(0,j.Dv)("Reference.root",0,0,arguments.length),new fl(this.database,this._delegate.root)}set(e,t){(0,j.Dv)("Reference.set",1,2,arguments.length),(0,j.Wj)("Reference.set","onComplete",t,!0);const i=MR(this._delegate,e);return t&&i.then(()=>t(null),r=>t(r)),i}update(e,t){if((0,j.Dv)("Reference.update",1,2,arguments.length),Array.isArray(e)){const r={};for(let s=0;s<e.length;++s)r[""+s]=e[s];e=r,uV("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}ic("Reference.update",this._delegate._path),(0,j.Wj)("Reference.update","onComplete",t,!0);const i=n5(this._delegate,e);return t&&i.then(()=>t(null),r=>t(r)),i}setWithPriority(e,t,i){(0,j.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,j.Wj)("Reference.setWithPriority","onComplete",i,!0);const r=function t5(n,e,t){if(ic("setWithPriority",n._path),nd("setWithPriority",e,n._path,!1),bR("setWithPriority",t,!1),".length"===n.key||".keys"===n.key)throw"setWithPriority failed: "+n.key+" is a read-only object.";const i=new j.BH;return ER(n._repo,n._path,e,t,i.wrapCallback(()=>{})),i.promise}(this._delegate,e,t);return i&&r.then(()=>i(null),s=>i(s)),r}remove(e){(0,j.Dv)("Reference.remove",0,1,arguments.length),(0,j.Wj)("Reference.remove","onComplete",e,!0);const t=function X$(n){return ic("remove",n._path),MR(n,null)}(this._delegate);return e&&t.then(()=>e(null),i=>e(i)),t}transaction(e,t,i){(0,j.Dv)("Reference.transaction",1,3,arguments.length),(0,j.Wj)("Reference.transaction","transactionUpdate",e,!1),(0,j.Wj)("Reference.transaction","onComplete",t,!0),function(n,e,t,i){if(void 0!==t&&"boolean"!=typeof t)throw new Error((0,j.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,i);const r=function B5(n,e,t){var i;if(n=(0,j.m9)(n),ic("Reference.transaction",n._path),".length"===n.key||".keys"===n.key)throw"Reference.transaction failed: "+n.key+" is a read-only object.";const r=null===(i=null==t?void 0:t.applyLocally)||void 0===i||i,s=new j.BH,h=xR(n,()=>{});return function q$(n,e,t,i,r,s){hv(n,"transaction on "+e);const c={path:e,update:t,onComplete:i,status:null,order:aL(),applyLocally:s,retryCount:0,unwatcher:r,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},h=DR(n,e,void 0);c.currentInputSnapshot=h;const p=c.update(h.val());if(void 0===p)c.unwatcher(),c.currentOutputSnapshotRaw=null,c.currentOutputSnapshotResolved=null,c.onComplete&&c.onComplete(null,!1,c.currentInputSnapshot);else{hC("transaction failed: Data returned ",p,c.path),c.status=0;const _=cS(n.transactionQueueTree_,e),E=Ag(_)||[];let S;E.push(c),_R(_,E),"object"==typeof p&&null!==p&&(0,j.r3)(p,".priority")?(S=(0,j.DV)(p,".priority"),(0,j.hu)(dC(S),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):S=(oS(n.serverSyncTree_,e)||wn.EMPTY_NODE).getPriority().val();const P=mC(n),H=Dr(p,S),$=pR(H,h,P);c.currentOutputSnapshotRaw=H,c.currentOutputSnapshotResolved=$,c.currentWriteId=fS(n);const ae=aR(n.serverSyncTree_,e,$,c.currentWriteId,c.applyLocally);rc(n.eventQueue_,e,ae),pS(n,n.transactionQueueTree_)}}(n._repo,n._path,e,(p,_,E)=>{let S=null;p?s.reject(p):(S=new Mg(E,new sc(n._repo,n._path),zi),s.resolve(new U5(_,S)))},h,r),s.promise}(this._delegate,e,{applyLocally:i}).then(s=>new W5(s.committed,new op(this.database,s.snapshot)));return t&&r.then(s=>t(null,s.committed,s.snapshot),s=>t(s,!1,null)),r}setPriority(e,t){(0,j.Dv)("Reference.setPriority",1,2,arguments.length),(0,j.Wj)("Reference.setPriority","onComplete",t,!0);const i=function e5(n,e){n=(0,j.m9)(n),ic("setPriority",n._path),bR("setPriority",e,!1);const t=new j.BH;return ER(n._repo,hr(n._path,".priority"),e,null,t.wrapCallback(()=>{})),t.promise}(this._delegate,e);return t&&i.then(()=>t(null),r=>t(r)),i}push(e,t){(0,j.Dv)("Reference.push",0,2,arguments.length),(0,j.Wj)("Reference.push","onComplete",t,!0);const i=function J$(n,e){n=(0,j.m9)(n),ic("push",n._path),nd("push",e,n._path,!0);const t=H2(n._repo),i=az(t),r=xg(n,i),s=xg(n,i);let c;return c=null!=e?MR(s,e).then(()=>s):Promise.resolve(s),r.then=c.then.bind(c),r.catch=c.then.bind(c,void 0),r}(this._delegate,e),r=i.then(c=>new fl(this.database,c));t&&r.then(()=>t(null),c=>t(c));const s=new fl(this.database,i);return s.then=r.then.bind(r),s.catch=r.catch.bind(r,void 0),s}onDisconnect(){return ic("Reference.onDisconnect",this._delegate._path),new q5(new J2(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class _C{constructor(e,t){this._delegate=e,this.app=t,this.INTERNAL={delete:()=>this._delegate._delete()}}useEmulator(e,t,i={}){!function k5(n,e,t,i={}){(n=(0,j.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&Xu("Cannot call useEmulator() after instance has already been initialized.");const r=n._repoInternal;let s;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&Xu('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new Zw(Zw.OWNER);else if(i.mockUserToken){const c="string"==typeof i.mockUserToken?i.mockUserToken:(0,j.Sg)(i.mockUserToken,n.app.options.projectId);s=new Zw(c)}!function I5(n,e,t,i){n.repoInfo_=new S1(`${e}:${t}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams),i&&(n.authTokenProvider_=i)}(r,e,t,s)}(this._delegate,e,t,i)}ref(e){if((0,j.Dv)("database.ref",0,1,arguments.length),e instanceof fl){const t=eV(this._delegate,e.toString());return new fl(this,t)}{const t=X2(this._delegate,e);return new fl(this,t)}}refFromURL(e){(0,j.Dv)("database.refFromURL",1,1,arguments.length);const i=eV(this._delegate,e);return new fl(this,i)}goOffline(){return(0,j.Dv)("database.goOffline",0,0,arguments.length),function R5(n){(n=(0,j.m9)(n))._checkNotDeleted("goOffline"),$2(n._repo)}(this._delegate)}goOnline(){return(0,j.Dv)("database.goOnline",0,0,arguments.length),function O5(n){(n=(0,j.m9)(n))._checkNotDeleted("goOnline"),function $$(n){n.persistentConnection_&&n.persistentConnection_.resume(B2)}(n._repo)}(this._delegate)}}_C.ServerValue={TIMESTAMP:function L5(){return F5}(),increment:n=>function V5(n){return{".sv":{increment:n}}}(n)};var Y5=Object.freeze({__proto__:null,initStandalone:function Z5({app:n,url:e,version:t,customAuthImpl:i,namespace:r,nodeAdmin:s=!1}){sL(t);const c=new Ni.zt("auth-internal",new Ni.H0("database-standalone"));return c.setComponent(new Ni.wA("auth-internal",()=>i,"PRIVATE")),{instance:new _C(cV(n,c,void 0,e,s),n),namespace:r}}});const K5=_C.ServerValue;function dV(n){return null==n}function hV(n){return"function"==typeof n.set}function fV(n,e){return hV(e)?e:n.ref(e)}function pV(n,e){if(function J5(n){return"string"==typeof n}(n))return e.stringCase();if(hV(n))return e.firebaseCase();if(function X5(n){return"function"==typeof n.exportVal}(n))return e.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof n)}function yC(n,e,t="on",i=Oo.z){return new G.y(r=>{let s=null;return s=n[t](e,(c,h)=>{i.schedule(()=>{r.next({snapshot:c,prevKey:h})}),"once"===t&&i.schedule(()=>r.complete())},c=>{i.schedule(()=>r.error(c))}),"on"===t?{unsubscribe(){null!=s&&n.off(e,s)}}:{unsubscribe(){}}}).pipe((0,ye.U)(r=>{const{snapshot:s,prevKey:c}=r;let h=null;return s.exists()&&(h=s.key),{type:e,payload:s,prevKey:c,key:h}}),(0,vn.B)())}function mV(n,e){const t=n.length;for(let i=0;i<t;i++)if(n[i].payload.key===e)return i;return-1}function nq(n,e){const{payload:t,prevKey:i,key:r}=e,s=mV(n,r),c=function tq(n,e){if(dV(e))return 0;{const t=mV(n,e);return-1===t?n.length:t+1}}(n,i);switch(e.type){case"value":if(e.payload&&e.payload.exists()){let h=null;e.payload.forEach(p=>{const _={payload:p,type:"value",prevKey:h,key:p.key};return h=p.key,n=[...n,_],!1})}return n;case"child_added":if(s>-1){const h=n[s-1];(h&&h.key||null)!==i&&(n=n.filter(p=>p.payload.key!==t.key)).splice(c,0,e)}else{if(null==i)return[e,...n];(n=n.slice()).splice(c,0,e)}return n;case"child_removed":return n.filter(h=>h.payload.key!==t.key);case"child_changed":return n.map(h=>h.payload.key===r?e:h);case"child_moved":if(s>-1){const h=n.splice(s,1)[0];return(n=n.slice()).splice(c,0,h),n}return n;default:return n}}function gV(n){return(dV(n)||0===n.length)&&(n=["child_added","child_removed","child_changed","child_moved"]),n}function _V(n,e,t){return function eq(n,e,t){return yC(n,"value","once",t).pipe(qe(i=>{const r=[N(i)];return e.forEach(s=>r.push(yC(n,s,"on",t))),(0,Q.T)(...r).pipe(sr(nq,[]))}),C_())}(n,e=gV(e),t)}function yV(n,e,t){const i=(e=gV(e)).map(r=>yC(n,r,"on",t));return(0,Q.T)(...i)}function vV(n,e){return function(i,r){return pV(i,{stringCase:()=>n.child(i)[e](r),firebaseCase:()=>i[e](r),snapshotCase:()=>i.ref[e](r)})}}function oq(n){return function(t){return t?pV(t,{stringCase:()=>n.child(t).remove(),firebaseCase:()=>t.remove(),snapshotCase:()=>t.ref.remove()}):n.remove()}}function bV(n,e){return function(){return yC(n,"value","on",e)}}!function Q5(n){n.INTERNAL.registerComponent(new Ni.wA("database-compat",(e,{instanceIdentifier:t})=>{const i=e.getProvider("app-compat").getImmediate(),r=e.getProvider("database").getImmediate({identifier:t});return new _C(r,i)},"PUBLIC").setServiceProps({Reference:fl,Query:fo,Database:_C,DataSnapshot:op,enableLogging:N5,INTERNAL:Y5,ServerValue:K5}).setMultipleInstances(!0)),n.registerVersion("@firebase/database-compat","0.1.8")}(Xh.Z);const cq=new o.OlP("angularfire2.realtimeDatabaseURL"),uq=new o.OlP("angularfire2.database.use-emulator");let dq=(()=>{class n{constructor(t,i,r,s,c,h,p,_,E,S,P,H,$,ae,Ce){this.schedulers=h;const st=p,mt=(0,Bn.on)(t,c,i);_&&Ip(mt,c,E,P,H,$,S,ae),this.database=(0,Bn.cc)(`${mt.name}.database.${r}`,"AngularFireDatabase",mt.name,()=>{const _t=c.runOutsideAngular(()=>mt.database(r||void 0));return st&&_t.useEmulator(...st),_t},[st])}list(t,i){const r=this.schedulers.ngZone.runOutsideAngular(()=>fV(this.database,t));let s=r;return i&&(s=i(r)),function aq(n,e){const t=e.schedulers.outsideAngular,i=e.schedulers.ngZone.run(()=>n.ref);return{query:n,update:vV(i,"update"),set:vV(i,"set"),push:r=>i.push(r),remove:oq(i),snapshotChanges:r=>_V(n,r,t).pipe(fn.iC),stateChanges:r=>yV(n,r,t).pipe(fn.iC),auditTrail:r=>function iq(n,e,t){return function sq(n,e,t){return function rq(n,e){return yC(n,"value","on",e).pipe((0,ye.U)(t=>{let i;return t.payload.forEach(r=>(i=r.key,!1)),{data:t,lastKeyToLoad:i}}))}(n,t).pipe(function t4(...n){const e=(0,b.jO)(n);return(0,Qn.e)((t,i)=>{const r=n.length,s=new Array(r);let c=n.map(()=>!1),h=!1;for(let p=0;p<r;p++)(0,ke.Xf)(n[p]).subscribe((0,pi.x)(i,_=>{s[p]=_,!h&&!c[p]&&(c[p]=!0,(h=c.every(C.y))&&(c=null))},LI.Z));t.subscribe((0,pi.x)(i,p=>{if(h){const _=[p,...s];i.next(e?e(..._):_)}}))})}(e),(0,ye.U)(([r,s])=>{const c=r.lastKeyToLoad,h=s.map(p=>p.key);return{actions:s,lastKeyToLoad:c,loadedKeys:h}}),function n4(n){return(0,Qn.e)((e,t)=>{let i=!1,r=0;e.subscribe((0,pi.x)(t,s=>(i||(i=!n(s,r++)))&&t.next(s)))})}(r=>-1===r.loadedKeys.indexOf(r.lastKeyToLoad)),(0,ye.U)(r=>r.actions))}(n,yV(n,e).pipe(sr((r,s)=>[...r,s],[])),t)}(n,r,t).pipe(fn.iC),valueChanges:(r,s)=>_V(n,r,t).pipe((0,ye.U)(h=>h.map(p=>s&&s.idField?Object.assign(Object.assign({},p.payload.val()),{[s.idField]:p.key}):p.payload.val())),fn.iC)}}(s,this)}object(t){return function lq(n,e){return{query:n,snapshotChanges:()=>bV(n,e.schedulers.outsideAngular)().pipe(fn.iC),update:t=>n.ref.update(t),set:t=>n.ref.set(t),remove:()=>n.ref.remove(),valueChanges:()=>bV(n,e.schedulers.outsideAngular)().pipe(fn.iC,(0,ye.U)(i=>i.payload.exists()?i.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>fV(this.database,t)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(Bn.Dh),o.LFG(Bn.xv,8),o.LFG(cq,8),o.LFG(o.Lbi),o.LFG(o.R0b),o.LFG(fn.HU),o.LFG(uq,8),o.LFG(Sd,8),o.LFG(Di,8),o.LFG(sa,8),o.LFG(el,8),o.LFG(Hl,8),o.LFG(Au,8),o.LFG(Rc,8),o.LFG(Id,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),hq=(()=>{class n{constructor(){Lt.Z.registerVersion("angularfire",fn.q4.full,"rtdb-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[dq]}),n})();const RR_firebase={apiKey:"AIzaSyBd1yWUyondc9STVTQz6bn-W7anRXvtNiw",authDomain:"prayer-time-bbc83.firebaseapp.com",projectId:"prayer-time-bbc83",storageBucket:"prayer-time-bbc83.appspot.com",messagingSenderId:"268257063983",appId:"1:268257063983:web:0d800d964033d52cbac2da",measurementId:"G-35CFR8CH5W"},fq=new o.OlP("cdk-dir-doc",{providedIn:"root",factory:function pq(){return(0,o.f3M)(fe)}}),mq=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let OR,vC=(()=>{class n{constructor(t){if(this.value="ltr",this.change=new o.vpe,t){const r=t.documentElement?t.documentElement.dir:null;this.value=function gq(n){const e=(null==n?void 0:n.toLowerCase())||"";return"auto"===e&&"undefined"!=typeof navigator&&(null==navigator?void 0:navigator.language)?mq.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||r||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(fq,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),bC=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();try{OR="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){OR=!1}let pv,va=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?ri(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!OR)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(o.Lbi))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const CV=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function EV(){if(pv)return pv;if("object"!=typeof document||!document)return pv=new Set(CV),pv;let n=document.createElement("input");return pv=new Set(CV.filter(e=>(n.setAttribute("type",e),n.type===e))),pv}let wC,kg,NR;function bS(n){return function _q(){if(null==wC&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>wC=!0}))}finally{wC=wC||!1}return wC}()?n:!!n.capture}function yq(){if(null==kg){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return kg=!1,kg;if("scrollBehavior"in document.documentElement.style)kg=!0;else{const n=Element.prototype.scrollTo;kg=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return kg}function TV(n){if(function vq(){if(null==NR){const n="undefined"!=typeof document?document.head:null;NR=!(!n||!n.createShadowRoot&&!n.attachShadow)}return NR}()){const e=n.getRootNode?n.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}function PR(){let n="undefined"!=typeof document&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const e=n.shadowRoot.activeElement;if(e===n)break;n=e}return n}function Rg(n){return n.composedPath?n.composedPath()[0]:n.target}function FR(){return"undefined"!=typeof __karma__&&!!__karma__||"undefined"!=typeof jasmine&&!!jasmine||"undefined"!=typeof jest&&!!jest||"undefined"!=typeof Mocha&&!!Mocha}function pl(n){return(0,Qn.e)((e,t)=>{(0,ke.Xf)(n).subscribe((0,pi.x)(t,()=>t.complete(),LI.Z)),!t.closed&&e.subscribe(t)})}function ou(n){return null!=n&&"false"!=`${n}`}function CS(n,e=0){return function Aq(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}function DV(n){return Array.isArray(n)?n:[n]}function fs(n){return null==n?"":"string"==typeof n?n:`${n}px`}function _h(n){return n instanceof o.SBq?n.nativeElement:n}let AV=(()=>{class n{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function Rq(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const i=function kq(n){try{return n.frameElement}catch(e){return null}}(function Bq(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(t));if(i&&(-1===xV(i)||!this.isVisible(i)))return!1;let r=t.nodeName.toLowerCase(),s=xV(t);return t.hasAttribute("contenteditable")?-1!==s:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function Vq(n){let e=n.nodeName.toLowerCase(),t="input"===e&&n.type;return"text"===t||"password"===t||"select"===e||"textarea"===e}(t))&&("audio"===r?!!t.hasAttribute("controls")&&-1!==s:"video"===r?-1!==s&&(null!==s||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,i){return function Uq(n){return!function Nq(n){return function Fq(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function Oq(n){let e=n.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(n)||function Pq(n){return function Lq(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||MV(n))}(t)&&!this.isDisabled(t)&&((null==i?void 0:i.ignoreVisibility)||this.isVisible(t))}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(va))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function MV(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let e=n.getAttribute("tabindex");return!(!e||isNaN(parseInt(e,10)))}function xV(n){if(!MV(n))return null;const e=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class Hq{constructor(e,t,i,r,s=!1){this._element=e,this._checker=t,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,s||this.attachAnchors()}get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}destroy(){const e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.remove()),t&&(t.removeEventListener("focus",this.endAnchorListener),t.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){const t=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);return"start"==e?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(!this._checker.isFocusable(t)){const i=this._getFirstTabbableElement(t);return null==i||i.focus(e),!!i}return t.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){const t=this._getRegionBoundary("start");return t&&t.focus(e),!!t}focusLastTabbableElement(e){const t=this._getRegionBoundary("end");return t&&t.focus(e),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let i=0;i<t.length;i++){const r=t[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[i]):null;if(r)return r}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let i=t.length-1;i>=0;i--){const r=t[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[i]):null;if(r)return r}return null}_createAnchor(){const e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._ngZone.isStable?e():this._ngZone.onStable.pipe((0,si.q)(1)).subscribe(e)}}let jq=(()=>{class n{constructor(t,i,r){this._checker=t,this._ngZone=i,this._document=r}create(t,i=!1){return new Hq(t,this._checker,this._ngZone,this._document,i)}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(AV),o.LFG(o.R0b),o.LFG(fe))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function kV(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function RV(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const Gq=new o.OlP("cdk-input-modality-detector-options"),zq={ignoreKeys:[18,17,224,91,16]},mv=bS({passive:!0,capture:!0});let $q=(()=>{class n{constructor(t,i,r,s){this._platform=t,this._mostRecentTarget=null,this._modality=new Zr(null),this._lastTouchMs=0,this._onKeydown=c=>{var h,p;(null===(p=null===(h=this._options)||void 0===h?void 0:h.ignoreKeys)||void 0===p?void 0:p.some(_=>_===c.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=Rg(c))},this._onMousedown=c=>{Date.now()-this._lastTouchMs<650||(this._modality.next(kV(c)?"keyboard":"mouse"),this._mostRecentTarget=Rg(c))},this._onTouchstart=c=>{RV(c)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Rg(c))},this._options=Object.assign(Object.assign({},zq),s),this.modalityDetected=this._modality.pipe(function Sq(n){return kn((e,t)=>n<=t)}(1)),this.modalityChanged=this.modalityDetected.pipe(C_()),t.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,mv),r.addEventListener("mousedown",this._onMousedown,mv),r.addEventListener("touchstart",this._onTouchstart,mv)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,mv),document.removeEventListener("mousedown",this._onMousedown,mv),document.removeEventListener("touchstart",this._onTouchstart,mv))}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(va),o.LFG(o.R0b),o.LFG(fe),o.LFG(Gq,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Wq=new o.OlP("cdk-focus-monitor-default-options"),ES=bS({passive:!0,capture:!0});let NV=(()=>{class n{constructor(t,i,r,s,c){this._ngZone=t,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new D.x,this._rootNodeFocusAndBlurListener=h=>{const p=Rg(h),_="focus"===h.type?this._onFocus:this._onBlur;for(let E=p;E;E=E.parentElement)_.call(this,h,E)},this._document=s,this._detectionMode=(null==c?void 0:c.detectionMode)||0}monitor(t,i=!1){const r=_h(t);if(!this._platform.isBrowser||1!==r.nodeType)return N(null);const s=TV(r)||this._getDocument(),c=this._elementInfo.get(r);if(c)return i&&(c.checkChildren=!0),c.subject;const h={checkChildren:i,subject:new D.x,rootNode:s};return this._elementInfo.set(r,h),this._registerGlobalListeners(h),h.subject}stopMonitoring(t){const i=_h(t),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(t,i,r){const s=_h(t);s===this._getDocument().activeElement?this._getClosestElementsInfo(s).forEach(([h,p])=>this._originChanged(h,i,p)):(this._setOrigin(i),"function"==typeof s.focus&&s.focus(r))}ngOnDestroy(){this._elementInfo.forEach((t,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!(null==t?void 0:t.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(t,i){t.classList.toggle("cdk-focused",!!i),t.classList.toggle("cdk-touch-focused","touch"===i),t.classList.toggle("cdk-keyboard-focused","keyboard"===i),t.classList.toggle("cdk-mouse-focused","mouse"===i),t.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(t,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,i){const r=this._elementInfo.get(i),s=Rg(t);!r||!r.checkChildren&&i!==s||this._originChanged(i,this._getFocusOrigin(s),r)}_onBlur(t,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&t.relatedTarget instanceof Node&&i.contains(t.relatedTarget)||(this._setClasses(i),this._emitOrigin(r.subject,null))}_emitOrigin(t,i){this._ngZone.run(()=>t.next(i))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const i=t.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,ES),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,ES)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(pl(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(t){const i=t.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,ES),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,ES),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,i,r){this._setClasses(t,i),this._emitOrigin(r.subject,i),this._lastFocusOrigin=i}_getClosestElementsInfo(t){const i=[];return this._elementInfo.forEach((r,s)=>{(s===t||r.checkChildren&&s.contains(t))&&i.push([s,r])}),i}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(o.R0b),o.LFG(va),o.LFG($q),o.LFG(fe,8),o.LFG(Wq,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const PV="cdk-high-contrast-black-on-white",FV="cdk-high-contrast-white-on-black",LR="cdk-high-contrast-active";let Zq=(()=>{class n{constructor(t,i){this._platform=t,this._document=i}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(t):null,s=(r&&r.backgroundColor||"").replace(/ /g,"");switch(t.remove(),s){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(LR),t.remove(PV),t.remove(FV),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?(t.add(LR),t.add(PV)):2===i&&(t.add(LR),t.add(FV))}}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(va),o.LFG(fe))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class LV{}const yh="*";function CC(n,e){return{type:7,name:n,definitions:e,options:{}}}function id(n,e=null){return{type:4,styles:e,timings:n}}function VV(n,e=null){return{type:3,steps:n,options:e}}function VR(n,e=null){return{type:2,steps:n,options:e}}function xs(n){return{type:6,styles:n,offset:null}}function UR(n,e,t){return{type:0,name:n,styles:e,options:t}}function ap(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function UV(n=null){return{type:9,options:n}}function BV(n,e,t=null){return{type:11,selector:n,animation:e,options:t}}function HV(n){Promise.resolve(null).then(n)}class EC{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){HV(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class jV{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,i=0,r=0;const s=this.players.length;0==s?HV(()=>this._onFinish()):this.players.forEach(c=>{c.onDone(()=>{++t==s&&this._onFinish()}),c.onDestroy(()=>{++i==s&&this._onDestroy()}),c.onStart(()=>{++r==s&&this._onStart()})}),this.totalTime=this.players.reduce((c,h)=>Math.max(c,h.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,t/i.totalTime):1;i.setPosition(r)})}getPosition(){const e=this.players.reduce((t,i)=>null===t||i.totalTime>t.totalTime?i:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}const zn=!1;function GV(n){return new o.vHH(3e3,zn)}function M8(){return"undefined"!=typeof window&&void 0!==window.document}function HR(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function lp(n){switch(n.length){case 0:return new EC;case 1:return n[0];default:return new jV(n)}}function zV(n,e,t,i,r={},s={}){const c=[],h=[];let p=-1,_=null;if(i.forEach(E=>{const S=E.offset,P=S==p,H=P&&_||{};Object.keys(E).forEach($=>{let ae=$,Ce=E[$];if("offset"!==$)switch(ae=e.normalizePropertyName(ae,c),Ce){case"!":Ce=r[$];break;case yh:Ce=s[$];break;default:Ce=e.normalizeStyleValue($,ae,Ce,c)}H[ae]=Ce}),P||h.push(H),_=H,p=S}),c.length)throw function y8(n){return new o.vHH(3502,zn)}();return h}function jR(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&GR(t,"start",n)));break;case"done":n.onDone(()=>i(t&&GR(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&GR(t,"destroy",n)))}}function GR(n,e,t){const i=t.totalTime,s=zR(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,null==i?n.totalTime:i,!!t.disabled),c=n._data;return null!=c&&(s._data=c),s}function zR(n,e,t,i,r="",s=0,c){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:r,totalTime:s,disabled:!!c}}function ml(n,e,t){let i;return n instanceof Map?(i=n.get(e),i||n.set(e,i=t)):(i=n[e],i||(i=n[e]=t)),i}function $V(n){const e=n.indexOf(":");return[n.substring(1,e),n.substr(e+1)]}let $R=(n,e)=>!1,qV=(n,e,t)=>[],WV=null;function qR(n){const e=n.parentNode||n.host;return e===WV?null:e}(HR()||"undefined"!=typeof Element)&&(M8()?(WV=(()=>document.documentElement)(),$R=(n,e)=>{for(;e;){if(e===n)return!0;e=qR(e)}return!1}):$R=(n,e)=>n.contains(e),qV=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const i=n.querySelector(e);return i?[i]:[]});let Og=null,ZV=!1;function YV(n){Og||(Og=function k8(){return"undefined"!=typeof document?document.body:null}()||{},ZV=!!Og.style&&"WebkitAppearance"in Og.style);let e=!0;return Og.style&&!function x8(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in Og.style,!e&&ZV&&(e="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in Og.style)),e}const KV=$R,QV=qV;let JV=(()=>{class n{validateStyleProperty(t){return YV(t)}matchesElement(t,i){return!1}containsElement(t,i){return KV(t,i)}getParentElement(t){return qR(t)}query(t,i,r){return QV(t,i,r)}computeStyle(t,i,r){return r||""}animate(t,i,r,s,c,h=[],p){return new EC(r,s)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),WR=(()=>{class n{}return n.NOOP=new JV,n})();const ZR="ng-enter",DS="ng-leave",IS="ng-trigger",SS=".ng-trigger",eU="ng-animating",YR=".ng-animating";function Ng(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:KR(parseFloat(e[1]),e[2])}function KR(n,e){return"s"===e?1e3*n:n}function AS(n,e,t){return n.hasOwnProperty("duration")?n:function N8(n,e,t){let r,s=0,c="";if("string"==typeof n){const h=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===h)return e.push(GV()),{duration:0,delay:0,easing:""};r=KR(parseFloat(h[1]),h[2]);const p=h[3];null!=p&&(s=KR(parseFloat(p),h[4]));const _=h[5];_&&(c=_)}else r=n;if(!t){let h=!1,p=e.length;r<0&&(e.push(function Kq(){return new o.vHH(3100,zn)}()),h=!0),s<0&&(e.push(function Qq(){return new o.vHH(3101,zn)}()),h=!0),h&&e.splice(p,0,GV())}return{duration:r,delay:s,easing:c}}(n,e,t)}function gv(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function cp(n,e,t={}){if(e)for(let i in n)t[i]=n[i];else gv(n,t);return t}function nU(n,e,t){return t?e+":"+t+";":""}function iU(n){let e="";for(let t=0;t<n.style.length;t++){const i=n.style.item(t);e+=nU(0,i,n.style.getPropertyValue(i))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=nU(0,L8(t),n.style[t]));n.setAttribute("style",e)}function rd(n,e,t){n.style&&(Object.keys(e).forEach(i=>{const r=JR(i);t&&!t.hasOwnProperty(i)&&(t[i]=n.style[r]),n.style[r]=e[i]}),HR()&&iU(n))}function Pg(n,e){n.style&&(Object.keys(e).forEach(t=>{const i=JR(t);n.style[i]=""}),HR()&&iU(n))}function TC(n){return Array.isArray(n)?1==n.length?n[0]:VR(n):n}const QR=new RegExp("{{\\s*(.+?)\\s*}}","g");function rU(n){let e=[];if("string"==typeof n){let t;for(;t=QR.exec(n);)e.push(t[1]);QR.lastIndex=0}return e}function MS(n,e,t){const i=n.toString(),r=i.replace(QR,(s,c)=>{let h=e[c];return e.hasOwnProperty(c)||(t.push(function Xq(n){return new o.vHH(3003,zn)}()),h=""),h.toString()});return r==i?n:r}function xS(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const F8=/-+([a-z0-9])/g;function JR(n){return n.replace(F8,(...e)=>e[1].toUpperCase())}function L8(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function gl(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function e8(n){return new o.vHH(3004,zn)}()}}function sU(n,e){return window.getComputedStyle(n)[e]}function G8(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function z8(n,e,t){if(":"==n[0]){const p=function $8(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(function p8(n){return new o.vHH(3016,zn)}()),"* => *"}}(n,t);if("function"==typeof p)return void e.push(p);n=p}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return t.push(function f8(n){return new o.vHH(3015,zn)}()),e;const r=i[1],s=i[2],c=i[3];e.push(oU(r,c));"<"==s[0]&&!("*"==r&&"*"==c)&&e.push(oU(c,r))}(i,t,e)):t.push(n),t}const NS=new Set(["true","1"]),PS=new Set(["false","0"]);function oU(n,e){const t=NS.has(n)||PS.has(n),i=NS.has(e)||PS.has(e);return(r,s)=>{let c="*"==n||n==r,h="*"==e||e==s;return!c&&t&&"boolean"==typeof r&&(c=r?NS.has(n):PS.has(n)),!h&&i&&"boolean"==typeof s&&(h=s?NS.has(e):PS.has(e)),c&&h}}const q8=new RegExp("s*:selfs*,?","g");function XR(n,e,t,i){return new W8(n).build(e,t,i)}class W8{constructor(e){this._driver=e}build(e,t,i){const r=new K8(t);this._resetContextStyleTimingState(r);const s=gl(this,TC(e),r);return r.unsupportedCSSPropertiesFound.size&&r.unsupportedCSSPropertiesFound.keys(),s}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,r=t.depCount=0;const s=[],c=[];return"@"==e.name.charAt(0)&&t.errors.push(function n8(){return new o.vHH(3006,zn)}()),e.definitions.forEach(h=>{if(this._resetContextStyleTimingState(t),0==h.type){const p=h,_=p.name;_.toString().split(/\s*,\s*/).forEach(E=>{p.name=E,s.push(this.visitState(p,t))}),p.name=_}else if(1==h.type){const p=this.visitTransition(h,t);i+=p.queryCount,r+=p.depCount,c.push(p)}else t.errors.push(function i8(){return new o.vHH(3007,zn)}())}),{type:7,name:e.name,states:s,transitions:c,queryCount:i,depCount:r,options:null}}visitState(e,t){const i=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){const s=new Set,c=r||{};i.styles.forEach(h=>{if(FS(h)){const p=h;Object.keys(p).forEach(_=>{rU(p[_]).forEach(E=>{c.hasOwnProperty(E)||s.add(E)})})}}),s.size&&(xS(s.values()),t.errors.push(function r8(n,e){return new o.vHH(3008,zn)}()))}return{type:0,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const i=gl(this,TC(e.animation),t);return{type:1,matchers:G8(e.expr,t.errors),animation:i,queryCount:t.queryCount,depCount:t.depCount,options:Fg(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(i=>gl(this,i,t)),options:Fg(e.options)}}visitGroup(e,t){const i=t.currentTime;let r=0;const s=e.steps.map(c=>{t.currentTime=i;const h=gl(this,c,t);return r=Math.max(r,t.currentTime),h});return t.currentTime=r,{type:3,steps:s,options:Fg(e.options)}}visitAnimate(e,t){const i=function J8(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return eO(AS(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=eO(0,0,"");return s.dynamic=!0,s.strValue=t,s}const r=AS(t,e);return eO(r.duration,r.delay,r.easing)}(e.timings,t.errors);t.currentAnimateTimings=i;let r,s=e.styles?e.styles:xs({});if(5==s.type)r=this.visitKeyframes(s,t);else{let c=e.styles,h=!1;if(!c){h=!0;const _={};i.easing&&(_.easing=i.easing),c=xs(_)}t.currentTime+=i.duration+i.delay;const p=this.visitStyle(c,t);p.isEmptyStep=h,r=p}return t.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(e,t){const i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){const i=[];Array.isArray(e.styles)?e.styles.forEach(c=>{"string"==typeof c?c==yh?i.push(c):t.errors.push(function s8(n){return new o.vHH(3002,zn)}()):i.push(c)}):i.push(e.styles);let r=!1,s=null;return i.forEach(c=>{if(FS(c)){const h=c,p=h.easing;if(p&&(s=p,delete h.easing),!r)for(let _ in h)if(h[_].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:i,easing:s,offset:e.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(e,t){const i=t.currentAnimateTimings;let r=t.currentTime,s=t.currentTime;i&&s>0&&(s-=i.duration+i.delay),e.styles.forEach(c=>{"string"!=typeof c&&Object.keys(c).forEach(h=>{if(!this._driver.validateStyleProperty(h))return delete c[h],void t.unsupportedCSSPropertiesFound.add(h);const p=t.collectedStyles[t.currentQuerySelector],_=p[h];let E=!0;_&&(s!=r&&s>=_.startTime&&r<=_.endTime&&(t.errors.push(function o8(n,e,t,i,r){return new o.vHH(3010,zn)}()),E=!1),s=_.startTime),E&&(p[h]={startTime:s,endTime:r}),t.options&&function P8(n,e,t){const i=e.params||{},r=rU(n);r.length&&r.forEach(s=>{i.hasOwnProperty(s)||t.push(function Jq(n){return new o.vHH(3001,zn)}())})}(c[h],t.options,t.errors)})})}visitKeyframes(e,t){const i={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function a8(){return new o.vHH(3011,zn)}()),i;let s=0;const c=[];let h=!1,p=!1,_=0;const E=e.steps.map(st=>{const mt=this._makeStyleAst(st,t);let _t=null!=mt.offset?mt.offset:function Q8(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(FS(t)&&t.hasOwnProperty("offset")){const i=t;e=parseFloat(i.offset),delete i.offset}});else if(FS(n)&&n.hasOwnProperty("offset")){const t=n;e=parseFloat(t.offset),delete t.offset}return e}(mt.styles),ht=0;return null!=_t&&(s++,ht=mt.offset=_t),p=p||ht<0||ht>1,h=h||ht<_,_=ht,c.push(ht),mt});p&&t.errors.push(function l8(){return new o.vHH(3012,zn)}()),h&&t.errors.push(function c8(){return new o.vHH(3200,zn)}());const S=e.steps.length;let P=0;s>0&&s<S?t.errors.push(function u8(){return new o.vHH(3202,zn)}()):0==s&&(P=1/(S-1));const H=S-1,$=t.currentTime,ae=t.currentAnimateTimings,Ce=ae.duration;return E.forEach((st,mt)=>{const _t=P>0?mt==H?1:P*mt:c[mt],ht=_t*Ce;t.currentTime=$+ae.delay+ht,ae.duration=ht,this._validateStyleAst(st,t),st.offset=_t,i.styles.push(st)}),i}visitReference(e,t){return{type:8,animation:gl(this,TC(e.animation),t),options:Fg(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Fg(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Fg(e.options)}}visitQuery(e,t){const i=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;const[s,c]=function Z8(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(q8,"")),n=n.replace(/@\*/g,SS).replace(/@\w+/g,t=>SS+"-"+t.substr(1)).replace(/:animating/g,YR),[n,e]}(e.selector);t.currentQuerySelector=i.length?i+" "+s:s,ml(t.collectedStyles,t.currentQuerySelector,{});const h=gl(this,TC(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:11,selector:s,limit:r.limit||0,optional:!!r.optional,includeSelf:c,animation:h,originalSelector:e.selector,options:Fg(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function d8(){return new o.vHH(3013,zn)}());const i="full"===e.timings?{duration:0,delay:0,easing:"full"}:AS(e.timings,t.errors,!0);return{type:12,animation:gl(this,TC(e.animation),t),timings:i,options:null}}}class K8{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function FS(n){return!Array.isArray(n)&&"object"==typeof n}function Fg(n){return n?(n=gv(n)).params&&(n.params=function Y8(n){return n?gv(n):null}(n.params)):n={},n}function eO(n,e,t){return{duration:n,delay:e,easing:t}}function tO(n,e,t,i,r,s,c=null,h=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:r,delay:s,totalTime:r+s,easing:c,subTimeline:h}}class LS{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const tW=new RegExp(":enter","g"),iW=new RegExp(":leave","g");function nO(n,e,t,i,r,s={},c={},h,p,_=[]){return(new rW).buildKeyframes(n,e,t,i,r,s,c,h,p,_)}class rW{buildKeyframes(e,t,i,r,s,c,h,p,_,E=[]){_=_||new LS;const S=new iO(e,t,_,r,s,E,[]);S.options=p,S.currentTimeline.setStyles([c],null,S.errors,p),gl(this,i,S);const P=S.timelines.filter(H=>H.containsAnimation());if(Object.keys(h).length){let H;for(let $=P.length-1;$>=0;$--){const ae=P[$];if(ae.element===t){H=ae;break}}H&&!H.allowOnlyTimelineStyles()&&H.setStyles([h],null,S.errors,p)}return P.length?P.map(H=>H.buildKeyframes()):[tO(t,[],[],[],0,0,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const i=t.subInstructions.get(t.element);if(i){const r=t.createSubContext(e.options),s=t.currentTimeline.currentTime,c=this._visitSubInstructions(i,r,r.options);s!=c&&t.transformIntoNewTimeline(c)}t.previousNode=e}visitAnimateRef(e,t){const i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,i){let s=t.currentTimeline.currentTime;const c=null!=i.duration?Ng(i.duration):null,h=null!=i.delay?Ng(i.delay):null;return 0!==c&&e.forEach(p=>{const _=t.appendInstructionToTimeline(p,c,h);s=Math.max(s,_.duration+_.delay)}),s}visitReference(e,t){t.updateOptions(e.options,!0),gl(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const i=t.subContextCount;let r=t;const s=e.options;if(s&&(s.params||s.delay)&&(r=t.createSubContext(s),r.transformIntoNewTimeline(),null!=s.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=VS);const c=Ng(s.delay);r.delayNextStep(c)}e.steps.length&&(e.steps.forEach(c=>gl(this,c,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const i=[];let r=t.currentTimeline.currentTime;const s=e.options&&e.options.delay?Ng(e.options.delay):0;e.steps.forEach(c=>{const h=t.createSubContext(e.options);s&&h.delayNextStep(s),gl(this,c,h),r=Math.max(r,h.currentTimeline.currentTime),i.push(h.currentTimeline)}),i.forEach(c=>t.currentTimeline.mergeTimelineCollectedStyles(c)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const i=e.strValue;return AS(t.params?MS(i,t.params,t.errors):i,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const i=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),r.snapshotCurrentStyles());const s=e.style;5==s.type?this.visitKeyframes(s,t):(t.incrementTime(i.duration),this.visitStyle(s,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const i=t.currentTimeline,r=t.currentAnimateTimings;!r&&i.getCurrentStyleProperties().length&&i.forwardFrame();const s=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(s):i.setStyles(e.styles,s,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const i=t.currentAnimateTimings,r=t.currentTimeline.duration,s=i.duration,h=t.createSubContext().currentTimeline;h.easing=i.easing,e.styles.forEach(p=>{h.forwardTime((p.offset||0)*s),h.setStyles(p.styles,p.easing,t.errors,t.options),h.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(h),t.transformIntoNewTimeline(r+s),t.previousNode=e}visitQuery(e,t){const i=t.currentTimeline.currentTime,r=e.options||{},s=r.delay?Ng(r.delay):0;s&&(6===t.previousNode.type||0==i&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=VS);let c=i;const h=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=h.length;let p=null;h.forEach((_,E)=>{t.currentQueryIndex=E;const S=t.createSubContext(e.options,_);s&&S.delayNextStep(s),_===t.element&&(p=S.currentTimeline),gl(this,e.animation,S),S.currentTimeline.applyStylesToKeyframe(),c=Math.max(c,S.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(c),p&&(t.currentTimeline.mergeTimelineCollectedStyles(p),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const i=t.parentContext,r=t.currentTimeline,s=e.timings,c=Math.abs(s.duration),h=c*(t.currentQueryTotal-1);let p=c*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":p=h-p;break;case"full":p=i.currentStaggerTime}const E=t.currentTimeline;p&&E.delayNextStep(p);const S=E.currentTime;gl(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=r.currentTime-S+(r.startTime-i.currentTimeline.startTime)}}const VS={};class iO{constructor(e,t,i,r,s,c,h,p){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=s,this.errors=c,this.timelines=h,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=VS,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=p||new US(this._driver,t,0),h.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const i=e;let r=this.options;null!=i.duration&&(r.duration=Ng(i.duration)),null!=i.delay&&(r.delay=Ng(i.delay));const s=i.params;if(s){let c=r.params;c||(c=this.options.params={}),Object.keys(s).forEach(h=>{(!t||!c.hasOwnProperty(h))&&(c[h]=MS(s[h],c,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const i=e.params={};Object.keys(t).forEach(r=>{i[r]=t[r]})}}return e}createSubContext(e=null,t,i){const r=t||this.element,s=new iO(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=VS,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){const r={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=i?i:0)+e.delay,easing:""},s=new sW(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(s),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,r,s,c){let h=[];if(r&&h.push(this.element),e.length>0){e=(e=e.replace(tW,"."+this._enterClassName)).replace(iW,"."+this._leaveClassName);let _=this._driver.query(this.element,e,1!=i);0!==i&&(_=i<0?_.slice(_.length+i,_.length):_.slice(0,i)),h.push(..._)}return!s&&0==h.length&&c.push(function h8(n){return new o.vHH(3014,zn)}()),h}}class US{constructor(e,t,i,r){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new US(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||yh,this._currentKeyframe[t]=yh}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,r){t&&(this._previousKeyframe.easing=t);const s=r&&r.params||{},c=function oW(n,e){const t={};let i;return n.forEach(r=>{"*"===r?(i=i||Object.keys(e),i.forEach(s=>{t[s]=yh})):cp(r,!1,t)}),t}(e,this._globalTimelineStyles);Object.keys(c).forEach(h=>{const p=MS(c[h],s,i);this._pendingStyles[h]=p,this._localTimelineStyles.hasOwnProperty(h)||(this._backFill[h]=this._globalTimelineStyles.hasOwnProperty(h)?this._globalTimelineStyles[h]:yh),this._updateStyle(h,p)})}applyStylesToKeyframe(){const e=this._pendingStyles,t=Object.keys(e);0!=t.length&&(this._pendingStyles={},t.forEach(i=>{this._currentKeyframe[i]=e[i]}),Object.keys(this._localTimelineStyles).forEach(i=>{this._currentKeyframe.hasOwnProperty(i)||(this._currentKeyframe[i]=this._localTimelineStyles[i])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(e=>{const t=this._localTimelineStyles[e];this._pendingStyles[e]=t,this._updateStyle(e,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){Object.keys(e._styleSummary).forEach(t=>{const i=this._styleSummary[t],r=e._styleSummary[t];(!i||r.time>i.time)&&this._updateStyle(t,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((h,p)=>{const _=cp(h,!0);Object.keys(_).forEach(E=>{const S=_[E];"!"==S?e.add(E):S==yh&&t.add(E)}),i||(_.offset=p/this.duration),r.push(_)});const s=e.size?xS(e.values()):[],c=t.size?xS(t.values()):[];if(i){const h=r[0],p=gv(h);h.offset=0,p.offset=1,r=[h,p]}return tO(this.element,r,s,c,this.duration,this.startTime,this.easing,!1)}}class sW extends US{constructor(e,t,i,r,s,c,h=!1){super(e,t,c.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=s,this._stretchStartingKeyframe=h,this.timings={duration:c.duration,delay:c.delay,easing:c.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){const s=[],c=i+t,h=t/c,p=cp(e[0],!1);p.offset=0,s.push(p);const _=cp(e[0],!1);_.offset=cU(h),s.push(_);const E=e.length-1;for(let S=1;S<=E;S++){let P=cp(e[S],!1);P.offset=cU((t+P.offset*i)/c),s.push(P)}i=c,t=0,r="",e=s}return tO(this.element,e,this.preStyleProps,this.postStyleProps,i,t,r,!0)}}function cU(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class rO{}class aW extends rO{normalizePropertyName(e,t){return JR(e)}normalizeStyleValue(e,t,i,r){let s="";const c=i.toString().trim();if(lW[t]&&0!==i&&"0"!==i)if("number"==typeof i)s="px";else{const h=i.match(/^[+-]?[\d\.]+([a-z]*)$/);h&&0==h[1].length&&r.push(function t8(n,e){return new o.vHH(3005,zn)}())}return c+s}}const lW=(()=>function cW(n){const e={};return n.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function uU(n,e,t,i,r,s,c,h,p,_,E,S,P){return{type:0,element:n,triggerName:e,isRemovalTransition:r,fromState:t,fromStyles:s,toState:i,toStyles:c,timelines:h,queriedElements:p,preStyleProps:_,postStyleProps:E,totalTime:S,errors:P}}const sO={};class dU{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,r){return function uW(n,e,t,i,r){return n.some(s=>s(e,t,i,r))}(this.ast.matchers,e,t,i,r)}buildStyles(e,t,i){const r=this._stateStyles["*"],s=this._stateStyles[e],c=r?r.buildStyles(t,i):{};return s?s.buildStyles(t,i):c}build(e,t,i,r,s,c,h,p,_,E){const S=[],P=this.ast.options&&this.ast.options.params||sO,$=this.buildStyles(i,h&&h.params||sO,S),ae=p&&p.params||sO,Ce=this.buildStyles(r,ae,S),st=new Set,mt=new Map,_t=new Map,ht="void"===r,Kt={params:Object.assign(Object.assign({},P),ae)},rn=E?[]:nO(e,t,this.ast.animation,s,c,$,Ce,Kt,_,S);let $n=0;if(rn.forEach(yl=>{$n=Math.max(yl.duration+yl.delay,$n)}),S.length)return uU(t,this._triggerName,i,r,ht,$,Ce,[],[],mt,_t,$n,S);rn.forEach(yl=>{const Th=yl.element,a3=ml(mt,Th,{});yl.preStyleProps.forEach(jg=>a3[jg]=!0);const BC=ml(_t,Th,{});yl.postStyleProps.forEach(jg=>BC[jg]=!0),Th!==t&&st.add(Th)});const Sr=xS(st.values());return uU(t,this._triggerName,i,r,ht,$,Ce,rn,Sr,mt,_t,$n)}}class dW{constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){const i={},r=gv(this.defaultParams);return Object.keys(e).forEach(s=>{const c=e[s];null!=c&&(r[s]=c)}),this.styles.styles.forEach(s=>{if("string"!=typeof s){const c=s;Object.keys(c).forEach(h=>{let p=c[h];p.length>1&&(p=MS(p,r,t));const _=this.normalizer.normalizePropertyName(h,t);p=this.normalizer.normalizeStyleValue(h,_,p,t),i[_]=p})}}),i}}class fW{constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states={},t.states.forEach(r=>{this.states[r.name]=new dW(r.style,r.options&&r.options.params||{},i)}),hU(this.states,"true","1"),hU(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new dU(e,r,this.states))}),this.fallbackTransition=function pW(n,e,t){return new dU(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(c,h)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,r){return this.transitionFactories.find(c=>c.match(e,t,i,r))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}}function hU(n,e,t){n.hasOwnProperty(e)?n.hasOwnProperty(t)||(n[t]=n[e]):n.hasOwnProperty(t)&&(n[e]=n[t])}const mW=new LS;class gW{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations={},this._playersById={},this.players=[]}register(e,t){const i=[],s=XR(this._driver,t,i,[]);if(i.length)throw function v8(n){return new o.vHH(3503,zn)}();this._animations[e]=s}_buildPlayer(e,t,i){const r=e.element,s=zV(0,this._normalizer,0,e.keyframes,t,i);return this._driver.animate(r,s,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){const r=[],s=this._animations[e];let c;const h=new Map;if(s?(c=nO(this._driver,t,s,ZR,DS,{},{},i,mW,r),c.forEach(E=>{const S=ml(h,E.element,{});E.postStyleProps.forEach(P=>S[P]=null)})):(r.push(function b8(){return new o.vHH(3300,zn)}()),c=[]),r.length)throw function w8(n){return new o.vHH(3504,zn)}();h.forEach((E,S)=>{Object.keys(E).forEach(P=>{E[P]=this._driver.computeStyle(S,P,yh)})});const _=lp(c.map(E=>{const S=h.get(E.element);return this._buildPlayer(E,{},S)}));return this._playersById[e]=_,_.onDestroy(()=>this.destroy(e)),this.players.push(_),_}destroy(e){const t=this._getPlayer(e);t.destroy(),delete this._playersById[e];const i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){const t=this._playersById[e];if(!t)throw function C8(n){return new o.vHH(3301,zn)}();return t}listen(e,t,i,r){const s=zR(t,"","","");return jR(this._getPlayer(e),i,s,r),()=>{}}command(e,t,i,r){if("register"==i)return void this.register(e,r[0]);if("create"==i)return void this.create(e,t,r[0]||{});const s=this._getPlayer(e);switch(i){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}}const fU="ng-animate-queued",oO="ng-animate-disabled",wW=[],pU={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},CW={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},oc="__ng_removed";class aO{constructor(e,t=""){this.namespaceId=t;const i=e&&e.hasOwnProperty("value");if(this.value=function IW(n){return null!=n?n:null}(i?e.value:e),i){const s=gv(e);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const i=this.options.params;Object.keys(t).forEach(r=>{null==i[r]&&(i[r]=t[r])})}}}const DC="void",lO=new aO(DC);class EW{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,ac(t,this._hostClassName)}listen(e,t,i,r){if(!this._triggers.hasOwnProperty(t))throw function E8(n,e){return new o.vHH(3302,zn)}();if(null==i||0==i.length)throw function T8(n){return new o.vHH(3303,zn)}();if(!function SW(n){return"start"==n||"done"==n}(i))throw function D8(n,e){return new o.vHH(3400,zn)}();const s=ml(this._elementListeners,e,[]),c={name:t,phase:i,callback:r};s.push(c);const h=ml(this._engine.statesByElement,e,{});return h.hasOwnProperty(t)||(ac(e,IS),ac(e,IS+"-"+t),h[t]=lO),()=>{this._engine.afterFlush(()=>{const p=s.indexOf(c);p>=0&&s.splice(p,1),this._triggers[t]||delete h[t]})}}register(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}_getTrigger(e){const t=this._triggers[e];if(!t)throw function I8(n){return new o.vHH(3401,zn)}();return t}trigger(e,t,i,r=!0){const s=this._getTrigger(t),c=new cO(this.id,t,e);let h=this._engine.statesByElement.get(e);h||(ac(e,IS),ac(e,IS+"-"+t),this._engine.statesByElement.set(e,h={}));let p=h[t];const _=new aO(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&p&&_.absorbOptions(p.options),h[t]=_,p||(p=lO),_.value!==DC&&p.value===_.value){if(!function xW(n,e){const t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let r=0;r<t.length;r++){const s=t[r];if(!e.hasOwnProperty(s)||n[s]!==e[s])return!1}return!0}(p.params,_.params)){const ae=[],Ce=s.matchStyles(p.value,p.params,ae),st=s.matchStyles(_.value,_.params,ae);ae.length?this._engine.reportError(ae):this._engine.afterFlush(()=>{Pg(e,Ce),rd(e,st)})}return}const P=ml(this._engine.playersByElement,e,[]);P.forEach(ae=>{ae.namespaceId==this.id&&ae.triggerName==t&&ae.queued&&ae.destroy()});let H=s.matchTransition(p.value,_.value,e,_.params),$=!1;if(!H){if(!r)return;H=s.fallbackTransition,$=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:H,fromState:p,toState:_,player:c,isFallbackTransition:$}),$||(ac(e,fU),c.onStart(()=>{_v(e,fU)})),c.onDone(()=>{let ae=this.players.indexOf(c);ae>=0&&this.players.splice(ae,1);const Ce=this._engine.playersByElement.get(e);if(Ce){let st=Ce.indexOf(c);st>=0&&Ce.splice(st,1)}}),this.players.push(c),P.push(c),c}deregister(e){delete this._triggers[e],this._engine.statesByElement.forEach((t,i)=>{delete t[e]}),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const i=this._engine.driver.query(e,SS,!0);i.forEach(r=>{if(r[oc])return;const s=this._engine.fetchNamespacesByElement(r);s.size?s.forEach(c=>c.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,t,i,r){const s=this._engine.statesByElement.get(e),c=new Map;if(s){const h=[];if(Object.keys(s).forEach(p=>{if(c.set(p,s[p].value),this._triggers[p]){const _=this.trigger(e,p,DC,r);_&&h.push(_)}}),h.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,c),i&&lp(h).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){const r=new Set;t.forEach(s=>{const c=s.name;if(r.has(c))return;r.add(c);const p=this._triggers[c].fallbackTransition,_=i[c]||lO,E=new aO(DC),S=new cO(this.id,c,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:c,transition:p,fromState:_,toState:E,player:S,isFallbackTransition:!0})})}}removeNode(e,t){const i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(i.totalAnimations){const s=i.players.length?i.playersByQueriedElement.get(e):[];if(s&&s.length)r=!0;else{let c=e;for(;c=c.parentNode;)if(i.statesByElement.get(c)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,t);else{const s=e[oc];(!s||s===pU)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){ac(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const s=i.element,c=this._elementListeners.get(s);c&&c.forEach(h=>{if(h.name==i.triggerName){const p=zR(s,i.triggerName,i.fromState.value,i.toState.value);p._data=e,jR(i.player,h.phase,p,h.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(i)}),this._queue=[],t.sort((i,r)=>{const s=i.transition.ast.depCount,c=r.transition.ast.depCount;return 0==s||0==c?s-c:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(i=>i.element===e)||t,t}}class TW{constructor(e,t,i){this.bodyNode=e,this.driver=t,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,s)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){const i=new EW(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){const i=this._namespaceList,r=this.namespacesByHostElement,s=i.length-1;if(s>=0){let c=!1;if(void 0!==this.driver.getParentElement){let h=this.driver.getParentElement(t);for(;h;){const p=r.get(h);if(p){const _=i.indexOf(p);i.splice(_+1,0,e),c=!0;break}h=this.driver.getParentElement(h)}}else for(let h=s;h>=0;h--)if(this.driver.containsElement(i[h].hostElement,t)){i.splice(h+1,0,e),c=!0;break}c||i.unshift(e)}else i.push(e);return r.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let r=this._namespaceLookup[e];r&&r.register(t,i)&&this.totalAnimations++}destroy(e,t){if(!e)return;const i=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[e];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,i=this.statesByElement.get(e);if(i){const r=Object.keys(i);for(let s=0;s<r.length;s++){const c=i[r[s]].namespaceId;if(c){const h=this._fetchNamespace(c);h&&t.add(h)}}}return t}trigger(e,t,i,r){if(BS(t)){const s=this._fetchNamespace(e);if(s)return s.trigger(t,i,r),!0}return!1}insertNode(e,t,i,r){if(!BS(t))return;const s=t[oc];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const c=this.collectedLeaveElements.indexOf(t);c>=0&&this.collectedLeaveElements.splice(c,1)}if(e){const c=this._fetchNamespace(e);c&&c.insertNode(t,i)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),ac(e,oO)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),_v(e,oO))}removeNode(e,t,i,r){if(BS(t)){const s=e?this._fetchNamespace(e):null;if(s?s.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r),i){const c=this.namespacesByHostElement.get(t);c&&c.id!==e&&c.removeNode(t,r)}}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,i,r,s){this.collectedLeaveElements.push(t),t[oc]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,t,i,r,s){return BS(t)?this._fetchNamespace(e).listen(t,i,r,s):()=>{}}_buildInstruction(e,t,i,r,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,t,s)}destroyInnerAnimations(e){let t=this.driver.query(e,SS,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,YR,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return lp(this.players).onDone(()=>e());e()})}processLeaveNode(e){var t;const i=e[oc];if(i&&i.setForRemoval){if(e[oc]=pU,i.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(i.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,i.setForRemoval)}(null===(t=e.classList)||void 0===t?void 0:t.contains(oO))&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)ac(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{t=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],t.length?lp(t).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw function S8(n){return new o.vHH(3402,zn)}()}_flushAnimations(e,t){const i=new LS,r=[],s=new Map,c=[],h=new Map,p=new Map,_=new Map,E=new Set;this.disabledNodes.forEach(Pt=>{E.add(Pt);const Wt=this.driver.query(Pt,".ng-animate-queued",!0);for(let un=0;un<Wt.length;un++)E.add(Wt[un])});const S=this.bodyNode,P=Array.from(this.statesByElement.keys()),H=_U(P,this.collectedEnterElements),$=new Map;let ae=0;H.forEach((Pt,Wt)=>{const un=ZR+ae++;$.set(Wt,un),Pt.forEach(li=>ac(li,un))});const Ce=[],st=new Set,mt=new Set;for(let Pt=0;Pt<this.collectedLeaveElements.length;Pt++){const Wt=this.collectedLeaveElements[Pt],un=Wt[oc];un&&un.setForRemoval&&(Ce.push(Wt),st.add(Wt),un.hasAnimation?this.driver.query(Wt,".ng-star-inserted",!0).forEach(li=>st.add(li)):mt.add(Wt))}const _t=new Map,ht=_U(P,Array.from(st));ht.forEach((Pt,Wt)=>{const un=DS+ae++;_t.set(Wt,un),Pt.forEach(li=>ac(li,un))}),e.push(()=>{H.forEach((Pt,Wt)=>{const un=$.get(Wt);Pt.forEach(li=>_v(li,un))}),ht.forEach((Pt,Wt)=>{const un=_t.get(Wt);Pt.forEach(li=>_v(li,un))}),Ce.forEach(Pt=>{this.processLeaveNode(Pt)})});const Kt=[],rn=[];for(let Pt=this._namespaceList.length-1;Pt>=0;Pt--)this._namespaceList[Pt].drainQueuedTransitions(t).forEach(un=>{const li=un.player,Qs=un.element;if(Kt.push(li),this.collectedEnterElements.length){const Ca=Qs[oc];if(Ca&&Ca.setForMove){if(Ca.previousTriggersValues&&Ca.previousTriggersValues.has(un.triggerName)){const Gg=Ca.previousTriggersValues.get(un.triggerName),_p=this.statesByElement.get(un.element);_p&&_p[un.triggerName]&&(_p[un.triggerName].value=Gg)}return void li.destroy()}}const sd=!S||!this.driver.containsElement(S,Qs),vl=_t.get(Qs),gp=$.get(Qs),Ar=this._buildInstruction(un,i,gp,vl,sd);if(Ar.errors&&Ar.errors.length)return void rn.push(Ar);if(sd)return li.onStart(()=>Pg(Qs,Ar.fromStyles)),li.onDestroy(()=>rd(Qs,Ar.toStyles)),void r.push(li);if(un.isFallbackTransition)return li.onStart(()=>Pg(Qs,Ar.fromStyles)),li.onDestroy(()=>rd(Qs,Ar.toStyles)),void r.push(li);const u3=[];Ar.timelines.forEach(Ca=>{Ca.stretchStartingKeyframe=!0,this.disabledNodes.has(Ca.element)||u3.push(Ca)}),Ar.timelines=u3,i.append(Qs,Ar.timelines),c.push({instruction:Ar,player:li,element:Qs}),Ar.queriedElements.forEach(Ca=>ml(h,Ca,[]).push(li)),Ar.preStyleProps.forEach((Ca,Gg)=>{const _p=Object.keys(Ca);if(_p.length){let zg=p.get(Gg);zg||p.set(Gg,zg=new Set),_p.forEach(IN=>zg.add(IN))}}),Ar.postStyleProps.forEach((Ca,Gg)=>{const _p=Object.keys(Ca);let zg=_.get(Gg);zg||_.set(Gg,zg=new Set),_p.forEach(IN=>zg.add(IN))})});if(rn.length){const Pt=[];rn.forEach(Wt=>{Pt.push(function A8(n,e){return new o.vHH(3505,zn)}())}),Kt.forEach(Wt=>Wt.destroy()),this.reportError(Pt)}const $n=new Map,Sr=new Map;c.forEach(Pt=>{const Wt=Pt.element;i.has(Wt)&&(Sr.set(Wt,Wt),this._beforeAnimationBuild(Pt.player.namespaceId,Pt.instruction,$n))}),r.forEach(Pt=>{const Wt=Pt.element;this._getPreviousPlayers(Wt,!1,Pt.namespaceId,Pt.triggerName,null).forEach(li=>{ml($n,Wt,[]).push(li),li.destroy()})});const yl=Ce.filter(Pt=>vU(Pt,p,_)),Th=new Map;gU(Th,this.driver,mt,_,yh).forEach(Pt=>{vU(Pt,p,_)&&yl.push(Pt)});const BC=new Map;H.forEach((Pt,Wt)=>{gU(BC,this.driver,new Set(Pt),p,"!")}),yl.forEach(Pt=>{const Wt=Th.get(Pt),un=BC.get(Pt);Th.set(Pt,Object.assign(Object.assign({},Wt),un))});const jg=[],l3=[],c3={};c.forEach(Pt=>{const{element:Wt,player:un,instruction:li}=Pt;if(i.has(Wt)){if(E.has(Wt))return un.onDestroy(()=>rd(Wt,li.toStyles)),un.disabled=!0,un.overrideTotalTime(li.totalTime),void r.push(un);let Qs=c3;if(Sr.size>1){let vl=Wt;const gp=[];for(;vl=vl.parentNode;){const Ar=Sr.get(vl);if(Ar){Qs=Ar;break}gp.push(vl)}gp.forEach(Ar=>Sr.set(Ar,Qs))}const sd=this._buildAnimation(un.namespaceId,li,$n,s,BC,Th);if(un.setRealPlayer(sd),Qs===c3)jg.push(un);else{const vl=this.playersByElement.get(Qs);vl&&vl.length&&(un.parentPlayer=lp(vl)),r.push(un)}}else Pg(Wt,li.fromStyles),un.onDestroy(()=>rd(Wt,li.toStyles)),l3.push(un),E.has(Wt)&&r.push(un)}),l3.forEach(Pt=>{const Wt=s.get(Pt.element);if(Wt&&Wt.length){const un=lp(Wt);Pt.setRealPlayer(un)}}),r.forEach(Pt=>{Pt.parentPlayer?Pt.syncPlayerEvents(Pt.parentPlayer):Pt.destroy()});for(let Pt=0;Pt<Ce.length;Pt++){const Wt=Ce[Pt],un=Wt[oc];if(_v(Wt,DS),un&&un.hasAnimation)continue;let li=[];if(h.size){let sd=h.get(Wt);sd&&sd.length&&li.push(...sd);let vl=this.driver.query(Wt,YR,!0);for(let gp=0;gp<vl.length;gp++){let Ar=h.get(vl[gp]);Ar&&Ar.length&&li.push(...Ar)}}const Qs=li.filter(sd=>!sd.destroyed);Qs.length?AW(this,Wt,Qs):this.processLeaveNode(Wt)}return Ce.length=0,jg.forEach(Pt=>{this.players.push(Pt),Pt.onDone(()=>{Pt.destroy();const Wt=this.players.indexOf(Pt);this.players.splice(Wt,1)}),Pt.play()}),jg}elementContainsData(e,t){let i=!1;const r=t[oc];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(t)&&(i=!0),this.playersByQueriedElement.has(t)&&(i=!0),this.statesByElement.has(t)&&(i=!0),this._fetchNamespace(e).elementContainsData(t)||i}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,r,s){let c=[];if(t){const h=this.playersByQueriedElement.get(e);h&&(c=h)}else{const h=this.playersByElement.get(e);if(h){const p=!s||s==DC;h.forEach(_=>{_.queued||!p&&_.triggerName!=r||c.push(_)})}}return(i||r)&&(c=c.filter(h=>!(i&&i!=h.namespaceId||r&&r!=h.triggerName))),c}_beforeAnimationBuild(e,t,i){const s=t.element,c=t.isRemovalTransition?void 0:e,h=t.isRemovalTransition?void 0:t.triggerName;for(const p of t.timelines){const _=p.element,E=_!==s,S=ml(i,_,[]);this._getPreviousPlayers(_,E,c,h,t.toState).forEach(H=>{const $=H.getRealPlayer();$.beforeDestroy&&$.beforeDestroy(),H.destroy(),S.push(H)})}Pg(s,t.fromStyles)}_buildAnimation(e,t,i,r,s,c){const h=t.triggerName,p=t.element,_=[],E=new Set,S=new Set,P=t.timelines.map($=>{const ae=$.element;E.add(ae);const Ce=ae[oc];if(Ce&&Ce.removedBeforeQueried)return new EC($.duration,$.delay);const st=ae!==p,mt=function MW(n){const e=[];return yU(n,e),e}((i.get(ae)||wW).map($n=>$n.getRealPlayer())).filter($n=>!!$n.element&&$n.element===ae),_t=s.get(ae),ht=c.get(ae),Kt=zV(0,this._normalizer,0,$.keyframes,_t,ht),rn=this._buildPlayer($,Kt,mt);if($.subTimeline&&r&&S.add(ae),st){const $n=new cO(e,h,ae);$n.setRealPlayer(rn),_.push($n)}return rn});_.forEach($=>{ml(this.playersByQueriedElement,$.element,[]).push($),$.onDone(()=>function DW(n,e,t){let i;if(n instanceof Map){if(i=n.get(e),i){if(i.length){const r=i.indexOf(t);i.splice(r,1)}0==i.length&&n.delete(e)}}else if(i=n[e],i){if(i.length){const r=i.indexOf(t);i.splice(r,1)}0==i.length&&delete n[e]}return i}(this.playersByQueriedElement,$.element,$))}),E.forEach($=>ac($,eU));const H=lp(P);return H.onDestroy(()=>{E.forEach($=>_v($,eU)),rd(p,t.toStyles)}),S.forEach($=>{ml(r,$,[]).push(H)}),H}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new EC(e.duration,e.delay)}}class cO{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new EC,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(i=>jR(e,t,void 0,i))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){ml(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function BS(n){return n&&1===n.nodeType}function mU(n,e){const t=n.style.display;return n.style.display=null!=e?e:"none",t}function gU(n,e,t,i,r){const s=[];t.forEach(p=>s.push(mU(p)));const c=[];i.forEach((p,_)=>{const E={};p.forEach(S=>{const P=E[S]=e.computeStyle(_,S,r);(!P||0==P.length)&&(_[oc]=CW,c.push(_))}),n.set(_,E)});let h=0;return t.forEach(p=>mU(p,s[h++])),c}function _U(n,e){const t=new Map;if(n.forEach(h=>t.set(h,[])),0==e.length)return t;const r=new Set(e),s=new Map;function c(h){if(!h)return 1;let p=s.get(h);if(p)return p;const _=h.parentNode;return p=t.has(_)?_:r.has(_)?1:c(_),s.set(h,p),p}return e.forEach(h=>{const p=c(h);1!==p&&t.get(p).push(h)}),t}function ac(n,e){var t;null===(t=n.classList)||void 0===t||t.add(e)}function _v(n,e){var t;null===(t=n.classList)||void 0===t||t.remove(e)}function AW(n,e,t){lp(t).onDone(()=>n.processLeaveNode(e))}function yU(n,e){for(let t=0;t<n.length;t++){const i=n[t];i instanceof jV?yU(i.players,e):e.push(i)}}function vU(n,e,t){const i=t.get(n);if(!i)return!1;let r=e.get(n);return r?i.forEach(s=>r.add(s)):e.set(n,i),t.delete(n),!0}class HS{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,s)=>{},this._transitionEngine=new TW(e,t,i),this._timelineEngine=new gW(e,t,i),this._transitionEngine.onRemovalComplete=(r,s)=>this.onRemovalComplete(r,s)}registerTrigger(e,t,i,r,s){const c=e+"-"+r;let h=this._triggerCache[c];if(!h){const p=[],E=XR(this._driver,s,p,[]);if(p.length)throw function _8(n,e){return new o.vHH(3404,zn)}();h=function hW(n,e,t){return new fW(n,e,t)}(r,E,this._normalizer),this._triggerCache[c]=h}this._transitionEngine.registerTrigger(t,r,h)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,r){this._transitionEngine.insertNode(e,t,i,r)}onRemove(e,t,i,r){this._transitionEngine.removeNode(e,t,r||!1,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,r){if("@"==i.charAt(0)){const[s,c]=$V(i);this._timelineEngine.command(s,t,c,r)}else this._transitionEngine.trigger(e,t,i,r)}listen(e,t,i,r,s){if("@"==i.charAt(0)){const[c,h]=$V(i);return this._timelineEngine.listen(c,t,h,s)}return this._transitionEngine.listen(e,t,i,r,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let RW=(()=>{class n{constructor(t,i,r){this._element=t,this._startStyles=i,this._endStyles=r,this._state=0;let s=n.initialStylesByElement.get(t);s||n.initialStylesByElement.set(t,s={}),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&rd(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(rd(this._element,this._initialStyles),this._endStyles&&(rd(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Pg(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Pg(this._element,this._endStyles),this._endStyles=null),rd(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function uO(n){let e=null;const t=Object.keys(n);for(let i=0;i<t.length;i++){const r=t[i];OW(r)&&(e=e||{},e[r]=n[r])}return e}function OW(n){return"display"===n||"position"===n}class bU{constructor(e,t,i,r){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(e,t,i){return e.animate(t,i)}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e={};if(this.hasStarted()){const t=this._finalKeyframe;Object.keys(t).forEach(i=>{"offset"!=i&&(e[i]=this._finished?t[i]:sU(this.element,i))})}this.currentSnapshot=e}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class NW{validateStyleProperty(e){return YV(e)}matchesElement(e,t){return!1}containsElement(e,t){return KV(e,t)}getParentElement(e){return qR(e)}query(e,t,i){return QV(e,t,i)}computeStyle(e,t,i){return window.getComputedStyle(e)[t]}animate(e,t,i,r,s,c=[]){const p={duration:i,delay:r,fill:0==r?"both":"forwards"};s&&(p.easing=s);const _={},E=c.filter(P=>P instanceof bU);(function V8(n,e){return 0===n||0===e})(i,r)&&E.forEach(P=>{let H=P.currentSnapshot;Object.keys(H).forEach($=>_[$]=H[$])}),t=function U8(n,e,t){const i=Object.keys(t);if(i.length&&e.length){let s=e[0],c=[];if(i.forEach(h=>{s.hasOwnProperty(h)||c.push(h),s[h]=t[h]}),c.length)for(var r=1;r<e.length;r++){let h=e[r];c.forEach(function(p){h[p]=sU(n,p)})}}return e}(e,t=t.map(P=>cp(P,!1)),_);const S=function kW(n,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=uO(e[0]),e.length>1&&(i=uO(e[e.length-1]))):e&&(t=uO(e)),t||i?new RW(n,t,i):null}(e,t);return new bU(e,t,p,S)}}let PW=(()=>{class n extends LV{constructor(t,i){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(i.body,{id:"0",encapsulation:o.ifc.None,styles:[],data:{animation:[]}})}build(t){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(t)?VR(t):t;return wU(this._renderer,null,i,"register",[r]),new FW(i,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(o.FYo),o.LFG(fe))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();class FW extends class Yq{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new LW(this._id,e,t||{},this._renderer)}}class LW{constructor(e,t,i,r){this.id=e,this.element=t,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return wU(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){var e,t;return null!==(t=null===(e=this._renderer.engine.players[+this.id])||void 0===e?void 0:e.getPosition())&&void 0!==t?t:0}}function wU(n,e,t,i,r){return n.setProperty(e,`@@${t}:${i}`,r)}const CU="@.disabled";let VW=(()=>{class n{constructor(t,i,r){this.delegate=t,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(s,c)=>{const h=null==c?void 0:c.parentNode(s);h&&c.removeChild(h,s)}}createRenderer(t,i){const s=this.delegate.createRenderer(t,i);if(!(t&&i&&i.data&&i.data.animation)){let E=this._rendererCache.get(s);return E||(E=new EU("",s,this.engine),this._rendererCache.set(s,E)),E}const c=i.id,h=i.id+"-"+this._currentId;this._currentId++,this.engine.register(h,t);const p=E=>{Array.isArray(E)?E.forEach(p):this.engine.registerTrigger(c,h,t,E.name,E)};return i.data.animation.forEach(p),new UW(this,h,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,i,r){t>=0&&t<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[c,h]=s;c(h)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(o.FYo),o.LFG(HS),o.LFG(o.R0b))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();class EU{constructor(e,t,i){this.namespaceId=e,this.delegate=t,this.engine=i,this.destroyNode=this.delegate.destroyNode?r=>t.destroyNode(r):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,r=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,i){this.engine.onRemove(this.namespaceId,t,this.delegate,i)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,r){this.delegate.setAttribute(e,t,i,r)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,r){this.delegate.setStyle(e,t,i,r)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){"@"==t.charAt(0)&&t==CU?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class UW extends EU{constructor(e,t,i,r){super(t,i,r),this.factory=e,this.namespaceId=t}setProperty(e,t,i){"@"==t.charAt(0)?"."==t.charAt(1)&&t==CU?this.disableAnimations(e,i=void 0===i||!!i):this.engine.process(this.namespaceId,e,t.substr(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if("@"==t.charAt(0)){const r=function BW(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let s=t.substr(1),c="";return"@"!=s.charAt(0)&&([s,c]=function HW(n){const e=n.indexOf(".");return[n.substring(0,e),n.substr(e+1)]}(s)),this.engine.listen(this.namespaceId,r,s,c,h=>{this.factory.scheduleListenerCallback(h._data||-1,i,h)})}return this.delegate.listen(e,t,i)}}let jW=(()=>{class n extends HS{constructor(t,i,r){super(t.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(fe),o.LFG(WR),o.LFG(rO))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const up=new o.OlP("AnimationModuleType"),TU=[{provide:LV,useClass:PW},{provide:rO,useFactory:function GW(){return new aW}},{provide:HS,useClass:jW},{provide:o.FYo,useFactory:function zW(n,e,t){return new VW(n,e,t)},deps:[ln,HS,o.R0b]}],DU=[{provide:WR,useFactory:()=>new NW},{provide:up,useValue:"BrowserAnimations"},...TU],$W=[{provide:WR,useClass:JV},{provide:up,useValue:"NoopAnimations"},...TU];let qW=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?$W:DU}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:DU,imports:[oo]}),n})();const ZW=new o.OlP("mat-sanity-checks",{providedIn:"root",factory:function WW(){return!0}});let Xr=(()=>{class n{constructor(t,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!FR()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(Zq),o.LFG(ZW,8),o.LFG(fe))},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[bC],bC]}),n})();function YW(n){return class extends n{constructor(...e){super(...e),this._disabled=!1}get disabled(){return this._disabled}set disabled(e){this._disabled=ou(e)}}}function dO(n,e){return class extends n{constructor(...t){super(...t),this.defaultColor=e,this.color=e}get color(){return this._color}set color(t){const i=t||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}}}function KW(n){return class extends n{constructor(...e){super(...e),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=ou(e)}}}function QW(n){return class extends n{constructor(...e){super(...e),this.stateChanges=new D.x,this.errorState=!1}updateErrorState(){const e=this.errorState,s=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);s!==e&&(this.errorState=s,this.stateChanges.next())}}}let SU=(()=>{class n{isErrorState(t,i){return!!(t&&t.invalid&&(t.touched||i&&i.submitted))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),AU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[Xr],Xr]}),n})();class XW{constructor(e,t,i){this._renderer=e,this.element=t,this.config=i,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const MU={enterDuration:225,exitDuration:150},hO=bS({passive:!0}),xU=["mousedown","touchstart"],kU=["mouseup","mouseleave","touchend","touchcancel"];class tZ{constructor(e,t,i,r){this._target=e,this._ngZone=t,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=_h(i))}fadeInRipple(e,t,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s=Object.assign(Object.assign({},MU),i.animation);i.centered&&(e=r.left+r.width/2,t=r.top+r.height/2);const c=i.radius||function iZ(n,e,t){const i=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),r=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(i*i+r*r)}(e,t,r),h=e-r.left,p=t-r.top,_=s.enterDuration,E=document.createElement("div");E.classList.add("mat-ripple-element"),E.style.left=h-c+"px",E.style.top=p-c+"px",E.style.height=2*c+"px",E.style.width=2*c+"px",null!=i.color&&(E.style.backgroundColor=i.color),E.style.transitionDuration=`${_}ms`,this._containerElement.appendChild(E),function nZ(n){window.getComputedStyle(n).getPropertyValue("opacity")}(E),E.style.transform="scale(1)";const S=new XW(this,E,i);return S.state=0,this._activeRipples.add(S),i.persistent||(this._mostRecentTransientRipple=S),this._runTimeoutOutsideZone(()=>{const P=S===this._mostRecentTransientRipple;S.state=1,!i.persistent&&(!P||!this._isPointerDown)&&S.fadeOut()},_),S}fadeOutRipple(e){const t=this._activeRipples.delete(e);if(e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!t)return;const i=e.element,r=Object.assign(Object.assign({},MU),e.config.animation);i.style.transitionDuration=`${r.exitDuration}ms`,i.style.opacity="0",e.state=2,this._runTimeoutOutsideZone(()=>{e.state=3,i.remove()},r.exitDuration)}fadeOutAll(){this._activeRipples.forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=_h(e);!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,this._registerEvents(xU))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(kU),this._pointerUpEventsRegistered=!0)}_onMousedown(e){const t=kV(e),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!i&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!RV(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;for(let i=0;i<t.length;i++)this.fadeInRipple(t[i].clientX,t[i].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_runTimeoutOutsideZone(e,t=0){this._ngZone.runOutsideAngular(()=>setTimeout(e,t))}_registerEvents(e){this._ngZone.runOutsideAngular(()=>{e.forEach(t=>{this._triggerElement.addEventListener(t,this,hO)})})}_removeTriggerEvents(){this._triggerElement&&(xU.forEach(e=>{this._triggerElement.removeEventListener(e,this,hO)}),this._pointerUpEventsRegistered&&kU.forEach(e=>{this._triggerElement.removeEventListener(e,this,hO)}))}}const rZ=new o.OlP("mat-ripple-global-options");let RU=(()=>{class n{constructor(t,i,r,s,c){this._elementRef=t,this._animationMode=c,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=s||{},this._rippleRenderer=new tZ(this,i,t,r)}get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,i=0,r){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,i,Object.assign(Object.assign({},this.rippleConfig),r)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),t))}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.SBq),o.Y36(o.R0b),o.Y36(va),o.Y36(rZ,8),o.Y36(up,8))},n.\u0275dir=o.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,i){2&t&&o.ekj("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),sZ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[Xr],Xr]}),n})();const oZ=["mat-button",""],aZ=["*"],cZ=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],uZ=dO(YW(KW(class{constructor(n){this._elementRef=n}})));let OU=(()=>{class n extends uZ{constructor(t,i,r){super(t),this._focusMonitor=i,this._animationMode=r,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const s of cZ)this._hasHostAttributes(s)&&this._getHostElement().classList.add(s);t.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t,i){t?this._focusMonitor.focusVia(this._getHostElement(),t,i):this._getHostElement().focus(i)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...t){return t.some(i=>this._getHostElement().hasAttribute(i))}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.SBq),o.Y36(NV),o.Y36(up,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(t,i){if(1&t&&o.Gf(RU,5),2&t){let r;o.iGM(r=o.CRH())&&(i.ripple=r.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(t,i){2&t&&(o.uIk("disabled",i.disabled||null),o.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-button-disabled",i.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[o.qOj],attrs:oZ,ngContentSelectors:aZ,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,i){1&t&&(o.F$t(),o.TgZ(0,"span",0),o.Hsn(1),o.qZA(),o._UZ(2,"span",1)(3,"span",2)),2&t&&(o.xp6(2),o.ekj("mat-button-ripple-round",i.isRoundButton||i.isIconButton),o.Q6J("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",i.isIconButton)("matRippleTrigger",i._getHostElement()))},directives:[RU],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),n})(),dZ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[sZ,Xr],Xr]}),n})();const hZ=["*",[["mat-card-footer"]]],fZ=["*","mat-card-footer"];let pZ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=o.lG2({type:n,selectors:[["mat-card-content"],["","mat-card-content",""],["","matCardContent",""]],hostAttrs:[1,"mat-card-content"]}),n})(),mZ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=o.lG2({type:n,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-card-title"]}),n})(),gZ=(()=>{class n{constructor(t){this._animationMode=t}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(up,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(t,i){2&t&&o.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)},exportAs:["matCard"],ngContentSelectors:fZ,decls:2,vars:0,template:function(t,i){1&t&&(o.F$t(hZ),o.Hsn(0),o.Hsn(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}._mat-animation-noopable.mat-card{transition:none;animation:none}.mat-card .mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card .mat-divider-horizontal{left:auto;right:0}.mat-card .mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card .mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px;display:block;overflow:hidden}.mat-card-image img{width:100%}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}\n"],encapsulation:2,changeDetection:0}),n})(),_Z=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[Xr],Xr]}),n})(),bZ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[AU,Xr],AU,Xr]}),n})();let FU=(()=>{class n{constructor(t,i){this._renderer=t,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.Qsj),o.Y36(o.SBq))},n.\u0275dir=o.lG2({type:n}),n})(),Vg=(()=>{class n extends FU{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,features:[o.qOj]}),n})();const lc=new o.OlP("NgValueAccessor"),CZ={provide:lc,useExisting:(0,o.Gpc)(()=>yv),multi:!0},TZ=new o.OlP("CompositionEventMode");let yv=(()=>{class n extends FU{constructor(t,i,r){super(t,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function EZ(){const n=B()?B().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.Qsj),o.Y36(o.SBq),o.Y36(TZ,8))},n.\u0275dir=o.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,i){1&t&&o.NdJ("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[o._Bn([CZ]),o.qOj]}),n})();function dp(n){return null==n||0===n.length}function VU(n){return null!=n&&"number"==typeof n.length}const jo=new o.OlP("NgValidators"),hp=new o.OlP("NgAsyncValidators"),DZ=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class au{static min(e){return function UU(n){return e=>{if(dp(e.value)||dp(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function BU(n){return e=>{if(dp(e.value)||dp(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function HU(n){return dp(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function jU(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function GU(n){return dp(n.value)||DZ.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function zU(n){return e=>dp(e.value)||!VU(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return $U(e)}static pattern(e){return function qU(n){if(!n)return GS;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),i=>{if(dp(i.value))return null;const r=i.value;return e.test(r)?null:{pattern:{requiredPattern:t,actualValue:r}}}}(e)}static nullValidator(e){return null}static compose(e){return JU(e)}static composeAsync(e){return XU(e)}}function $U(n){return e=>VU(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}function GS(n){return null}function WU(n){return null!=n}function ZU(n){const e=(0,o.QGY)(n)?(0,x.D)(n):n;return(0,o.CqO)(e),e}function YU(n){let e={};return n.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function KU(n,e){return e.map(t=>t(n))}function QU(n){return n.map(e=>function IZ(n){return!n.validate}(e)?e:t=>e.validate(t))}function JU(n){if(!n)return null;const e=n.filter(WU);return 0==e.length?null:function(t){return YU(KU(t,e))}}function fO(n){return null!=n?JU(QU(n)):null}function XU(n){if(!n)return null;const e=n.filter(WU);return 0==e.length?null:function(t){return function PU(...n){const e=(0,b.jO)(n),{args:t,keys:i}=Oc(n),r=new G.y(s=>{const{length:c}=t;if(!c)return void s.complete();const h=new Array(c);let p=c,_=c;for(let E=0;E<c;E++){let S=!1;(0,ke.Xf)(t[E]).subscribe((0,pi.x)(s,P=>{S||(S=!0,_--),h[E]=P},()=>p--,void 0,()=>{(!p||!S)&&(_||s.next(i?KC(i,h):h),s.complete())}))}});return e?r.pipe(Ji(e)):r}(KU(t,e).map(ZU)).pipe((0,ye.U)(YU))}}function pO(n){return null!=n?XU(QU(n)):null}function eB(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function tB(n){return n._rawValidators}function nB(n){return n._rawAsyncValidators}function mO(n){return n?Array.isArray(n)?n:[n]:[]}function zS(n,e){return Array.isArray(n)?n.includes(e):n===e}function iB(n,e){const t=mO(e);return mO(n).forEach(r=>{zS(t,r)||t.push(r)}),t}function rB(n,e){return mO(e).filter(t=>!zS(n,t))}class sB{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=fO(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=pO(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class vh extends sB{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class ba extends sB{get formDirective(){return null}get path(){return null}}class oB{constructor(e){this._cd=e}is(e){var t,i,r;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(r=null===(i=this._cd)||void 0===i?void 0:i.control)||void 0===r?void 0:r[e])}}let $S=(()=>{class n extends oB{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(vh,2))},n.\u0275dir=o.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,i){2&t&&o.ekj("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))},features:[o.qOj]}),n})(),aB=(()=>{class n extends oB{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(ba,10))},n.\u0275dir=o.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,i){2&t&&o.ekj("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))("ng-submitted",i.is("submitted"))},features:[o.qOj]}),n})();function WS(n,e){return[...e.path,n]}function SC(n,e){yO(n,e),e.valueAccessor.writeValue(n.value),function NZ(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&cB(n,e)})}(n,e),function FZ(n,e){const t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function PZ(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&cB(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function OZ(n,e){if(e.valueAccessor.setDisabledState){const t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function ZS(n,e,t=!0){const i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),KS(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function YS(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function yO(n,e){const t=tB(n);null!==e.validator?n.setValidators(eB(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const i=nB(n);null!==e.asyncValidator?n.setAsyncValidators(eB(i,e.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();YS(e._rawValidators,r),YS(e._rawAsyncValidators,r)}function KS(n,e){let t=!1;if(null!==n){if(null!==e.validator){const r=tB(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(c=>c!==e.validator);s.length!==r.length&&(t=!0,n.setValidators(s))}}if(null!==e.asyncValidator){const r=nB(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(c=>c!==e.asyncValidator);s.length!==r.length&&(t=!0,n.setAsyncValidators(s))}}}const i=()=>{};return YS(e._rawValidators,i),YS(e._rawAsyncValidators,i),t}function cB(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function uB(n,e){yO(n,e)}function vO(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}function hB(n,e){n._syncPendingControls(),e.forEach(t=>{const i=t.control;"submit"===i.updateOn&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function bO(n,e){if(!e)return null;let t,i,r;return Array.isArray(e),e.forEach(s=>{s.constructor===yv?t=s:function UZ(n){return Object.getPrototypeOf(n.constructor)===Vg}(s)?i=s:r=s}),r||i||t||null}function wO(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const AC="VALID",QS="INVALID",vv="PENDING",MC="DISABLED";function EO(n){return(JS(n)?n.validators:n)||null}function fB(n){return Array.isArray(n)?fO(n):n||null}function TO(n,e){return(JS(e)?e.asyncValidators:n)||null}function pB(n){return Array.isArray(n)?pO(n):n||null}function JS(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const DO=n=>n instanceof SO,XS=n=>n instanceof xC,mB=n=>n instanceof vB;function gB(n){return DO(n)?n.value:n.getRawValue()}function _B(n,e){const t=XS(n),i=n.controls;if(!(t?Object.keys(i):i).length)throw new o.vHH(1e3,"");if(!i[e])throw new o.vHH(1001,"")}function yB(n,e){XS(n),n._forEachChild((i,r)=>{if(void 0===e[r])throw new o.vHH(1002,"")})}class IO{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=fB(this._rawValidators),this._composedAsyncValidatorFn=pB(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===AC}get invalid(){return this.status===QS}get pending(){return this.status==vv}get disabled(){return this.status===MC}get enabled(){return this.status!==MC}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=fB(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=pB(e)}addValidators(e){this.setValidators(iB(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(iB(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(rB(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(rB(e,this._rawAsyncValidators))}hasValidator(e){return zS(this._rawValidators,e)}hasAsyncValidator(e){return zS(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=vv,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=MC,this.errors=null,this._forEachChild(i=>{i.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=AC,this._forEachChild(i=>{i.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===AC||this.status===vv)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?MC:AC}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=vv,this._hasOwnPendingAsyncValidator=!0;const t=ZU(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function BZ(n,e,t){if(null==e||(Array.isArray(e)||(e=e.split(t)),Array.isArray(e)&&0===e.length))return null;let i=n;return e.forEach(r=>{i=XS(i)?i.controls.hasOwnProperty(r)?i.controls[r]:null:mB(i)&&i.at(r)||null}),i}(this,e,".")}getError(e,t){const i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new o.vpe,this.statusChanges=new o.vpe}_calculateStatus(){return this._allControlsDisabled()?MC:this.errors?QS:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(vv)?vv:this._anyControlsHaveStatus(QS)?QS:AC}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){JS(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class SO extends IO{constructor(e=null,t,i){super(EO(t),TO(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),JS(t)&&t.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){wO(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){wO(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class xC extends IO{constructor(e,t,i){super(EO(t),TO(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){yB(this,e),Object.keys(e).forEach(i=>{_B(this,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(i=>{this.controls[i]&&this.controls[i].patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=gB(t),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,i)=>!!i._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const i=this.controls[t];i&&e(i,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const i=this.controls[t];if(this.contains(t)&&e(i))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,i)=>((t.enabled||this.disabled)&&(e[i]=t.value),e))}_reduceChildren(e,t){let i=e;return this._forEachChild((r,s)=>{i=t(i,r,s)}),i}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class vB extends IO{constructor(e,t,i){super(EO(t),TO(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,i={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){yB(this,e),e.forEach((i,r)=>{_B(this,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>gB(e))}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,i)=>!!i._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,i)=>{e(t,i)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const HZ={provide:ba,useExisting:(0,o.Gpc)(()=>eA)},kC=(()=>Promise.resolve(null))();let eA=(()=>{class n extends ba{constructor(t,i){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new o.vpe,this.form=new xC({},fO(t),pO(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){kC.then(()=>{const i=this._findContainer(t.path);t.control=i.registerControl(t.name,t.control),SC(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){kC.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){kC.then(()=>{const i=this._findContainer(t.path),r=new xC({});uB(r,t),i.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){kC.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,i){kC.then(()=>{this.form.get(t.path).setValue(i)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,hB(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(jo,10),o.Y36(hp,10))},n.\u0275dir=o.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,i){1&t&&o.NdJ("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[o._Bn([HZ]),o.qOj]}),n})();const GZ={provide:vh,useExisting:(0,o.Gpc)(()=>tA)},CB=(()=>Promise.resolve(null))();let tA=(()=>{class n extends vh{constructor(t,i,r,s,c){super(),this._changeDetectorRef=c,this.control=new SO,this._registered=!1,this.update=new o.vpe,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=bO(0,s)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const i=t.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),vO(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){SC(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){CB.then(()=>{var i;this.control.setValue(t,{emitViewToModelChange:!1}),null===(i=this._changeDetectorRef)||void 0===i||i.markForCheck()})}_updateDisabled(t){const i=t.isDisabled.currentValue,r=""===i||i&&"false"!==i;CB.then(()=>{var s;r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),null===(s=this._changeDetectorRef)||void 0===s||s.markForCheck()})}_getPath(t){return this._parent?WS(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(ba,9),o.Y36(jo,10),o.Y36(hp,10),o.Y36(lc,10),o.Y36(o.sBO,8))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[o._Bn([GZ]),o.qOj,o.TTD]}),n})(),EB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=o.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),DB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();const AO=new o.OlP("NgModelWithFormControlWarning"),YZ={provide:ba,useExisting:(0,o.Gpc)(()=>RC)};let RC=(()=>{class n extends ba{constructor(t,i){super(),this.validators=t,this.asyncValidators=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new o.vpe,this._setValidators(t),this._setAsyncValidators(i)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(KS(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const i=this.form.get(t.path);return SC(i,t),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),i}getControl(t){return this.form.get(t.path)}removeControl(t){ZS(t.control||null,t,!1),wO(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,i){this.form.get(t.path).setValue(i)}onSubmit(t){return this.submitted=!0,hB(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const i=t.control,r=this.form.get(t.path);i!==r&&(ZS(i||null,t),DO(r)&&(SC(r,t),t.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const i=this.form.get(t.path);uB(i,t),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const i=this.form.get(t.path);i&&function LZ(n,e){return KS(n,e)}(i,t)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){yO(this.form,this),this._oldForm&&KS(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(jo,10),o.Y36(hp,10))},n.\u0275dir=o.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,i){1&t&&o.NdJ("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[o._Bn([YZ]),o.qOj,o.TTD]}),n})();const JZ={provide:vh,useExisting:(0,o.Gpc)(()=>kO)};let kO=(()=>{class n extends vh{constructor(t,i,r,s,c){super(),this._ngModelWarningConfig=c,this._added=!1,this.update=new o.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=bO(0,s)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),vO(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return WS(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(o.Y36(ba,13),o.Y36(jo,10),o.Y36(hp,10),o.Y36(lc,10),o.Y36(AO,8))},n.\u0275dir=o.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[o._Bn([JZ]),o.qOj,o.TTD]}),n})();let Ug=(()=>{class n{constructor(){this._validator=GS}ngOnChanges(t){if(this.inputName in t){const i=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):GS,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=o.lG2({type:n,features:[o.TTD]}),n})();const h7={provide:jo,useExisting:(0,o.Gpc)(()=>PO),multi:!0};let PO=(()=>{class n extends Ug{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=t=>function RB(n){return"number"==typeof n?n:parseInt(n,10)}(t),this.createValidator=t=>$U(t)}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(t,i){2&t&&o.uIk("maxlength",i._enabled?i.maxlength:null)},inputs:{maxlength:"maxlength"},features:[o._Bn([h7]),o.qOj]}),n})(),BB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[DB]]}),n})(),p7=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[BB]}),n})(),HB=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:AO,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[BB]}),n})(),g7=(()=>{class n{group(t,i=null){const r=this._reduceControls(t);let h,s=null,c=null;return null!=i&&(function m7(n){return void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn}(i)?(s=null!=i.validators?i.validators:null,c=null!=i.asyncValidators?i.asyncValidators:null,h=null!=i.updateOn?i.updateOn:void 0):(s=null!=i.validator?i.validator:null,c=null!=i.asyncValidator?i.asyncValidator:null)),new xC(r,{asyncValidators:c,updateOn:h,validators:s})}control(t,i,r){return new SO(t,i,r)}array(t,i,r){const s=t.map(c=>this._createControl(c));return new vB(s,i,r)}_reduceControls(t){const i={};return Object.keys(t).forEach(r=>{i[r]=this._createControl(t[r])}),i}_createControl(t){return DO(t)||XS(t)||mB(t)?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:HB}),n})(),jB=(()=>{class n{create(t){return"undefined"==typeof MutationObserver?null:new MutationObserver(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),_7=(()=>{class n{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,i)=>this._cleanupObserver(i))}observe(t){const i=_h(t);return new G.y(r=>{const c=this._observeElement(i).subscribe(r);return()=>{c.unsubscribe(),this._unobserveElement(i)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const i=new D.x,r=this._mutationObserverFactory.create(s=>i.next(s));r&&r.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:r,stream:i,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:i,stream:r}=this._observedElements.get(t);i&&i.disconnect(),r.complete(),this._observedElements.delete(t)}}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(jB))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),y7=(()=>{class n{constructor(t,i,r){this._contentObserver=t,this._elementRef=i,this._ngZone=r,this.event=new o.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(t){this._disabled=ou(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=CS(t),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe(vF(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){var t;null===(t=this._currentSubscription)||void 0===t||t.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(_7),o.Y36(o.SBq),o.Y36(o.R0b))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),v7=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[jB]}),n})();var b7=z(1144);const w7=["addListener","removeListener"],C7=["addEventListener","removeEventListener"],E7=["on","off"];function bv(n,e,t,i){if((0,Bt.m)(t)&&(i=t,t=void 0),i)return bv(n,e,t).pipe(Ji(i));const[r,s]=function I7(n){return(0,Bt.m)(n.addEventListener)&&(0,Bt.m)(n.removeEventListener)}(n)?C7.map(c=>h=>n[c](e,h,t)):function T7(n){return(0,Bt.m)(n.addListener)&&(0,Bt.m)(n.removeListener)}(n)?w7.map(GB(n,e)):function D7(n){return(0,Bt.m)(n.on)&&(0,Bt.m)(n.off)}(n)?E7.map(GB(n,e)):[];if(!r&&(0,b7.z)(n))return(0,Pr.z)(c=>bv(c,e,t))((0,ke.Xf)(n));if(!r)throw new TypeError("Invalid event target");return new G.y(c=>{const h=(...p)=>c.next(1<p.length?p:p[0]);return r(h),()=>s(h)})}function GB(n,e){return t=>i=>n[t](e,i)}const S7=["connectionContainer"],A7=["inputContainer"],M7=["label"];function x7(n,e){1&n&&(o.ynx(0),o.TgZ(1,"div",14),o._UZ(2,"div",15)(3,"div",16)(4,"div",17),o.qZA(),o.TgZ(5,"div",18),o._UZ(6,"div",15)(7,"div",16)(8,"div",17),o.qZA(),o.BQk())}function k7(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"div",19),o.NdJ("cdkObserveContent",function(){return o.CHM(t),o.oxw().updateOutlineGap()}),o.Hsn(1,1),o.qZA()}if(2&n){const t=o.oxw();o.Q6J("cdkObserveContentDisabled","outline"!=t.appearance)}}function R7(n,e){if(1&n&&(o.ynx(0),o.Hsn(1,2),o.TgZ(2,"span"),o._uU(3),o.qZA(),o.BQk()),2&n){const t=o.oxw(2);o.xp6(3),o.Oqu(t._control.placeholder)}}function O7(n,e){1&n&&o.Hsn(0,3,["*ngSwitchCase","true"])}function N7(n,e){1&n&&(o.TgZ(0,"span",23),o._uU(1," *"),o.qZA())}function P7(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"label",20,21),o.NdJ("cdkObserveContent",function(){return o.CHM(t),o.oxw().updateOutlineGap()}),o.YNc(2,R7,4,1,"ng-container",12),o.YNc(3,O7,1,0,"ng-content",12),o.YNc(4,N7,2,0,"span",22),o.qZA()}if(2&n){const t=o.oxw();o.ekj("mat-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-form-field-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-accent","accent"==t.color)("mat-warn","warn"==t.color),o.Q6J("cdkObserveContentDisabled","outline"!=t.appearance)("id",t._labelId)("ngSwitch",t._hasLabel()),o.uIk("for",t._control.id)("aria-owns",t._control.id),o.xp6(2),o.Q6J("ngSwitchCase",!1),o.xp6(1),o.Q6J("ngSwitchCase",!0),o.xp6(1),o.Q6J("ngIf",!t.hideRequiredMarker&&t._control.required&&!t._control.disabled)}}function F7(n,e){1&n&&(o.TgZ(0,"div",24),o.Hsn(1,4),o.qZA())}function L7(n,e){if(1&n&&(o.TgZ(0,"div",25),o._UZ(1,"span",26),o.qZA()),2&n){const t=o.oxw();o.xp6(1),o.ekj("mat-accent","accent"==t.color)("mat-warn","warn"==t.color)}}function V7(n,e){if(1&n&&(o.TgZ(0,"div"),o.Hsn(1,5),o.qZA()),2&n){const t=o.oxw();o.Q6J("@transitionMessages",t._subscriptAnimationState)}}function U7(n,e){if(1&n&&(o.TgZ(0,"div",30),o._uU(1),o.qZA()),2&n){const t=o.oxw(2);o.Q6J("id",t._hintLabelId),o.xp6(1),o.Oqu(t.hintLabel)}}function B7(n,e){if(1&n&&(o.TgZ(0,"div",27),o.YNc(1,U7,2,2,"div",28),o.Hsn(2,6),o._UZ(3,"div",29),o.Hsn(4,7),o.qZA()),2&n){const t=o.oxw();o.Q6J("@transitionMessages",t._subscriptAnimationState),o.xp6(1),o.Q6J("ngIf",t.hintLabel)}}const H7=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],j7=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"];let G7=0;const zB=new o.OlP("MatError");let z7=(()=>{class n{constructor(t,i){this.id="mat-error-"+G7++,t||i.nativeElement.setAttribute("aria-live","polite")}}return n.\u0275fac=function(t){return new(t||n)(o.$8M("aria-live"),o.Y36(o.SBq))},n.\u0275dir=o.lG2({type:n,selectors:[["mat-error"]],hostAttrs:["aria-atomic","true",1,"mat-error"],hostVars:1,hostBindings:function(t,i){2&t&&o.uIk("id",i.id)},inputs:{id:"id"},features:[o._Bn([{provide:zB,useExisting:n}])]}),n})();const $7={transitionMessages:CC("transitionMessages",[UR("enter",xs({opacity:1,transform:"translateY(0%)"})),ap("void => enter",[xs({opacity:0,transform:"translateY(-5px)"}),id("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let FO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=o.lG2({type:n}),n})();const q7=new o.OlP("MatHint");let LO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=o.lG2({type:n,selectors:[["mat-label"]]}),n})(),W7=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=o.lG2({type:n,selectors:[["mat-placeholder"]]}),n})();const Z7=new o.OlP("MatPrefix"),Y7=new o.OlP("MatSuffix");let $B=0;const Q7=dO(class{constructor(n){this._elementRef=n}},"primary"),J7=new o.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),WB=new o.OlP("MatFormField");let X7=(()=>{class n extends Q7{constructor(t,i,r,s,c,h,p){super(t),this._changeDetectorRef=i,this._dir=r,this._defaults=s,this._platform=c,this._ngZone=h,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new D.x,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+$B++,this._labelId="mat-form-field-label-"+$B++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==p,this.appearance=s&&s.appearance?s.appearance:"legacy",this._hideRequiredMarker=!(!s||null==s.hideRequiredMarker)&&s.hideRequiredMarker}get appearance(){return this._appearance}set appearance(t){const i=this._appearance;this._appearance=t||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&i!==t&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=ou(t)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(t){this._explicitFormFieldControl=t}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${t.controlType}`),t.stateChanges.pipe(Nc(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe(pl(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(pl(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,Q.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(Nc(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(Nc(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(pl(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(t){const i=this._control?this._control.ngControl:null;return i&&i[t]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,bv(this._label.nativeElement,"transitionend").pipe((0,si.q)(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&t.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(s=>"start"===s.align):null,r=this._hintChildren?this._hintChildren.find(s=>"end"===s.align):null;i?t.push(i.id):this._hintLabel&&t.push(this._hintLabelId),r&&t.push(r.id)}else this._errorChildren&&t.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(t)}}_validateControlChild(){}updateOutlineGap(){const t=this._label?this._label.nativeElement:null,i=this._connectionContainerRef.nativeElement,r=".mat-form-field-outline-start",s=".mat-form-field-outline-gap";if("outline"!==this.appearance||!this._platform.isBrowser)return;if(!t||!t.children.length||!t.textContent.trim()){const E=i.querySelectorAll(`${r}, ${s}`);for(let S=0;S<E.length;S++)E[S].style.width="0";return}if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let c=0,h=0;const p=i.querySelectorAll(r),_=i.querySelectorAll(s);if(this._label&&this._label.nativeElement.children.length){const E=i.getBoundingClientRect();if(0===E.width&&0===E.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const S=this._getStartEnd(E),P=t.children,H=this._getStartEnd(P[0].getBoundingClientRect());let $=0;for(let ae=0;ae<P.length;ae++)$+=P[ae].offsetWidth;c=Math.abs(H-S)-5,h=$>0?.75*$+10:0}for(let E=0;E<p.length;E++)p[E].style.width=`${c}px`;for(let E=0;E<_.length;E++)_[E].style.width=`${h}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(t){return this._dir&&"rtl"===this._dir.value?t.right:t.left}_isAttachedToDOM(){const t=this._elementRef.nativeElement;if(t.getRootNode){const i=t.getRootNode();return i&&i!==t}return document.documentElement.contains(t)}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.SBq),o.Y36(o.sBO),o.Y36(vC,8),o.Y36(J7,8),o.Y36(va),o.Y36(o.R0b),o.Y36(up,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-form-field"]],contentQueries:function(t,i,r){if(1&t&&(o.Suo(r,FO,5),o.Suo(r,FO,7),o.Suo(r,LO,5),o.Suo(r,LO,7),o.Suo(r,W7,5),o.Suo(r,zB,5),o.Suo(r,q7,5),o.Suo(r,Z7,5),o.Suo(r,Y7,5)),2&t){let s;o.iGM(s=o.CRH())&&(i._controlNonStatic=s.first),o.iGM(s=o.CRH())&&(i._controlStatic=s.first),o.iGM(s=o.CRH())&&(i._labelChildNonStatic=s.first),o.iGM(s=o.CRH())&&(i._labelChildStatic=s.first),o.iGM(s=o.CRH())&&(i._placeholderChild=s.first),o.iGM(s=o.CRH())&&(i._errorChildren=s),o.iGM(s=o.CRH())&&(i._hintChildren=s),o.iGM(s=o.CRH())&&(i._prefixChildren=s),o.iGM(s=o.CRH())&&(i._suffixChildren=s)}},viewQuery:function(t,i){if(1&t&&(o.Gf(S7,7),o.Gf(A7,5),o.Gf(M7,5)),2&t){let r;o.iGM(r=o.CRH())&&(i._connectionContainerRef=r.first),o.iGM(r=o.CRH())&&(i._inputContainerRef=r.first),o.iGM(r=o.CRH())&&(i._label=r.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(t,i){2&t&&o.ekj("mat-form-field-appearance-standard","standard"==i.appearance)("mat-form-field-appearance-fill","fill"==i.appearance)("mat-form-field-appearance-outline","outline"==i.appearance)("mat-form-field-appearance-legacy","legacy"==i.appearance)("mat-form-field-invalid",i._control.errorState)("mat-form-field-can-float",i._canLabelFloat())("mat-form-field-should-float",i._shouldLabelFloat())("mat-form-field-has-label",i._hasFloatingLabel())("mat-form-field-hide-placeholder",i._hideControlPlaceholder())("mat-form-field-disabled",i._control.disabled)("mat-form-field-autofilled",i._control.autofilled)("mat-focused",i._control.focused)("ng-untouched",i._shouldForward("untouched"))("ng-touched",i._shouldForward("touched"))("ng-pristine",i._shouldForward("pristine"))("ng-dirty",i._shouldForward("dirty"))("ng-valid",i._shouldForward("valid"))("ng-invalid",i._shouldForward("invalid"))("ng-pending",i._shouldForward("pending"))("_mat-animation-noopable",!i._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[o._Bn([{provide:WB,useExisting:n}]),o.qOj],ngContentSelectors:j7,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(t,i){1&t&&(o.F$t(H7),o.TgZ(0,"div",0)(1,"div",1,2),o.NdJ("click",function(s){return i._control.onContainerClick&&i._control.onContainerClick(s)}),o.YNc(3,x7,9,0,"ng-container",3),o.YNc(4,k7,2,1,"div",4),o.TgZ(5,"div",5,6),o.Hsn(7),o.TgZ(8,"span",7),o.YNc(9,P7,5,16,"label",8),o.qZA()(),o.YNc(10,F7,2,0,"div",9),o.qZA(),o.YNc(11,L7,2,4,"div",10),o.TgZ(12,"div",11),o.YNc(13,V7,2,1,"div",12),o.YNc(14,B7,5,2,"div",13),o.qZA()()),2&t&&(o.xp6(3),o.Q6J("ngIf","outline"==i.appearance),o.xp6(1),o.Q6J("ngIf",i._prefixChildren.length),o.xp6(5),o.Q6J("ngIf",i._hasFloatingLabel()),o.xp6(1),o.Q6J("ngIf",i._suffixChildren.length),o.xp6(1),o.Q6J("ngIf","outline"!=i.appearance),o.xp6(1),o.Q6J("ngSwitch",i._getDisplayedMessages()),o.xp6(1),o.Q6J("ngSwitchCase","error"),o.xp6(1),o.Q6J("ngSwitchCase","hint"))},directives:[Gn,y7,Gi,gr],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.cdk-high-contrast-active .mat-form-field-disabled .mat-form-field-label{color:GrayText}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-form-field-flex{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px;border-top-color:GrayText}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-outline{color:GrayText}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[$7.transitionMessages]},changeDetection:0}),n})(),ZB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[no,Xr,v7],Xr]}),n})();const YB=bS({passive:!0});let e9=(()=>{class n{constructor(t,i){this._platform=t,this._ngZone=i,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return Gh.E;const i=_h(t),r=this._monitoredElements.get(i);if(r)return r.subject;const s=new D.x,c="cdk-text-field-autofilled",h=p=>{"cdk-text-field-autofill-start"!==p.animationName||i.classList.contains(c)?"cdk-text-field-autofill-end"===p.animationName&&i.classList.contains(c)&&(i.classList.remove(c),this._ngZone.run(()=>s.next({target:p.target,isAutofilled:!1}))):(i.classList.add(c),this._ngZone.run(()=>s.next({target:p.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",h,YB),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:s,unlisten:()=>{i.removeEventListener("animationstart",h,YB)}}),s}stopMonitoring(t){const i=_h(t),r=this._monitoredElements.get(i);r&&(r.unlisten(),r.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((t,i)=>this.stopMonitoring(i))}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(va),o.LFG(o.R0b))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),KB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();const t9=new o.OlP("MAT_INPUT_VALUE_ACCESSOR"),n9=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let i9=0;const r9=QW(class{constructor(n,e,t,i){this._defaultErrorStateMatcher=n,this._parentForm=e,this._parentFormGroup=t,this.ngControl=i}});let s9=(()=>{class n extends r9{constructor(t,i,r,s,c,h,p,_,E,S){super(h,s,c,r),this._elementRef=t,this._platform=i,this._autofillMonitor=_,this._formField=S,this._uid="mat-input-"+i9++,this.focused=!1,this.stateChanges=new D.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter($=>EV().has($)),this._iOSKeyupListener=$=>{const ae=$.target;!ae.value&&0===ae.selectionStart&&0===ae.selectionEnd&&(ae.setSelectionRange(1,1),ae.setSelectionRange(0,0))};const P=this._elementRef.nativeElement,H=P.nodeName.toLowerCase();this._inputValueAccessor=p||P,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&E.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===H,this._isTextarea="textarea"===H,this._isInFormField=!!S,this._isNativeSelect&&(this.controlType=P.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(t){this._disabled=ou(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){var t,i,r,s;return null!==(s=null!==(t=this._required)&&void 0!==t?t:null===(r=null===(i=this.ngControl)||void 0===i?void 0:i.control)||void 0===r?void 0:r.hasValidator(au.required))&&void 0!==s&&s}set required(t){this._required=ou(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea&&EV().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=ou(t)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(t){this._elementRef.nativeElement.focus(t)}_focusChanged(t){t!==this.focused&&(this.focused=t,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){var t,i;const r=(null===(i=null===(t=this._formField)||void 0===t?void 0:t._hideControlPlaceholder)||void 0===i?void 0:i.call(t))?null:this.placeholder;if(r!==this._previousPlaceholder){const s=this._elementRef.nativeElement;this._previousPlaceholder=r,r?s.setAttribute("placeholder",r):s.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_validateType(){n9.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const t=this._elementRef.nativeElement,i=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const t=this._elementRef.nativeElement;return this._isNativeSelect&&(t.multiple||t.size>1)}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.SBq),o.Y36(va),o.Y36(vh,10),o.Y36(eA,8),o.Y36(RC,8),o.Y36(SU),o.Y36(t9,10),o.Y36(e9),o.Y36(o.R0b),o.Y36(WB,8))},n.\u0275dir=o.lG2({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:12,hostBindings:function(t,i){1&t&&o.NdJ("focus",function(){return i._focusChanged(!0)})("blur",function(){return i._focusChanged(!1)})("input",function(){return i._onInput()}),2&t&&(o.Ikx("disabled",i.disabled)("required",i.required),o.uIk("id",i.id)("data-placeholder",i.placeholder)("name",i.name||null)("readonly",i.readonly&&!i._isNativeSelect||null)("aria-invalid",i.empty&&i.required?null:i.errorState)("aria-required",i.required),o.ekj("mat-input-server",i._isServer)("mat-native-select-inline",i._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[o._Bn([{provide:FO,useExisting:n}]),o.qOj,o.TTD]}),n})(),o9=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[SU],imports:[[KB,ZB,Xr],KB,ZB]}),n})();class QB{}class JB{}class bh{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const i=t.indexOf(":");if(i>0){const r=t.slice(0,i),s=r.toLowerCase(),c=t.slice(i+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(c):this.headers.set(s,[c])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let i=e[t];const r=t.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(r,i),this.maybeSetNormalizedName(t,r))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof bh?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new bh;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof bh?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(e.name,t);const r=("a"===e.op?this.headers.get(t):void 0)||[];r.push(...i),this.headers.set(t,r);break;case"d":const s=e.value;if(s){let c=this.headers.get(t);if(!c)return;c=c.filter(h=>-1===s.indexOf(h)),0===c.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,c)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class a9{encodeKey(e){return XB(e)}encodeValue(e){return XB(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const c9=/%(\d[a-f0-9])/gi,u9={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function XB(n){return encodeURIComponent(n).replace(c9,(e,t)=>{var i;return null!==(i=u9[t])&&void 0!==i?i:e})}function eH(n){return`${n}`}class fp{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new a9,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function l9(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const s=r.indexOf("="),[c,h]=-1==s?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,s)),e.decodeValue(r.slice(s+1))],p=t.get(c)||[];p.push(h),t.set(c,p)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const i=e.fromObject[t];this.map.set(t,Array.isArray(i)?i:[i])})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(i=>{const r=e[i];Array.isArray(r)?r.forEach(s=>{t.push({param:i,value:s,op:"a"})}):t.push({param:i,value:r,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new fp({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(eH(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let i=this.map.get(e.param)||[];const r=i.indexOf(eH(e.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class d9{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function tH(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function nH(n){return"undefined"!=typeof Blob&&n instanceof Blob}function iH(n){return"undefined"!=typeof FormData&&n instanceof FormData}class OC{constructor(e,t,i,r){let s;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function h9(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,s=r):s=i,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new bh),this.context||(this.context=new d9),this.params){const c=this.params.toString();if(0===c.length)this.urlWithParams=t;else{const h=t.indexOf("?");this.urlWithParams=t+(-1===h?"?":h<t.length-1?"&":"")+c}}else this.params=new fp,this.urlWithParams=t}serializeBody(){return null===this.body?null:tH(this.body)||nH(this.body)||iH(this.body)||function f9(n){return"undefined"!=typeof URLSearchParams&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof fp?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||iH(this.body)?null:nH(this.body)?this.body.type||null:tH(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof fp?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){var t;const i=e.method||this.method,r=e.url||this.url,s=e.responseType||this.responseType,c=void 0!==e.body?e.body:this.body,h=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,p=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let _=e.headers||this.headers,E=e.params||this.params;const S=null!==(t=e.context)&&void 0!==t?t:this.context;return void 0!==e.setHeaders&&(_=Object.keys(e.setHeaders).reduce((P,H)=>P.set(H,e.setHeaders[H]),_)),e.setParams&&(E=Object.keys(e.setParams).reduce((P,H)=>P.set(H,e.setParams[H]),E)),new OC(i,r,c,{params:E,headers:_,context:S,reportProgress:p,responseType:s,withCredentials:h})}}var ps=(()=>((ps=ps||{})[ps.Sent=0]="Sent",ps[ps.UploadProgress=1]="UploadProgress",ps[ps.ResponseHeader=2]="ResponseHeader",ps[ps.DownloadProgress=3]="DownloadProgress",ps[ps.Response=4]="Response",ps[ps.User=5]="User",ps))();class VO{constructor(e,t=200,i="OK"){this.headers=e.headers||new bh,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class UO extends VO{constructor(e={}){super(e),this.type=ps.ResponseHeader}clone(e={}){return new UO({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class nA extends VO{constructor(e={}){super(e),this.type=ps.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new nA({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class rH extends VO{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function BO(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let iA=(()=>{class n{constructor(t){this.handler=t}request(t,i,r={}){let s;if(t instanceof OC)s=t;else{let p,_;p=r.headers instanceof bh?r.headers:new bh(r.headers),r.params&&(_=r.params instanceof fp?r.params:new fp({fromObject:r.params})),s=new OC(t,i,void 0!==r.body?r.body:null,{headers:p,context:r.context,params:_,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const c=N(s).pipe(zh(p=>this.handler.handle(p)));if(t instanceof OC||"events"===r.observe)return c;const h=c.pipe(kn(p=>p instanceof nA));switch(r.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return h.pipe((0,ye.U)(p=>{if(null!==p.body&&!(p.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return p.body}));case"blob":return h.pipe((0,ye.U)(p=>{if(null!==p.body&&!(p.body instanceof Blob))throw new Error("Response is not a Blob.");return p.body}));case"text":return h.pipe((0,ye.U)(p=>{if(null!==p.body&&"string"!=typeof p.body)throw new Error("Response is not a string.");return p.body}));default:return h.pipe((0,ye.U)(p=>p.body))}case"response":return h;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(t,i={}){return this.request("DELETE",t,i)}get(t,i={}){return this.request("GET",t,i)}head(t,i={}){return this.request("HEAD",t,i)}jsonp(t,i){return this.request("JSONP",t,{params:(new fp).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,i={}){return this.request("OPTIONS",t,i)}patch(t,i,r={}){return this.request("PATCH",t,BO(r,i))}post(t,i,r={}){return this.request("POST",t,BO(r,i))}put(t,i,r={}){return this.request("PUT",t,BO(r,i))}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(QB))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();class sH{constructor(e,t){this.next=e,this.interceptor=t}handle(e){return this.interceptor.intercept(e,this.next)}}const oH=new o.OlP("HTTP_INTERCEPTORS");let p9=(()=>{class n{intercept(t,i){return i.handle(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const m9=/^\)\]\}',?\n/;let aH=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new G.y(i=>{const r=this.xhrFactory.build();if(r.open(t.method,t.urlWithParams),t.withCredentials&&(r.withCredentials=!0),t.headers.forEach((H,$)=>r.setRequestHeader(H,$.join(","))),t.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const H=t.detectContentTypeHeader();null!==H&&r.setRequestHeader("Content-Type",H)}if(t.responseType){const H=t.responseType.toLowerCase();r.responseType="json"!==H?H:"text"}const s=t.serializeBody();let c=null;const h=()=>{if(null!==c)return c;const H=r.statusText||"OK",$=new bh(r.getAllResponseHeaders()),ae=function g9(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(r)||t.url;return c=new UO({headers:$,status:r.status,statusText:H,url:ae}),c},p=()=>{let{headers:H,status:$,statusText:ae,url:Ce}=h(),st=null;204!==$&&(st=void 0===r.response?r.responseText:r.response),0===$&&($=st?200:0);let mt=$>=200&&$<300;if("json"===t.responseType&&"string"==typeof st){const _t=st;st=st.replace(m9,"");try{st=""!==st?JSON.parse(st):null}catch(ht){st=_t,mt&&(mt=!1,st={error:ht,text:st})}}mt?(i.next(new nA({body:st,headers:H,status:$,statusText:ae,url:Ce||void 0})),i.complete()):i.error(new rH({error:st,headers:H,status:$,statusText:ae,url:Ce||void 0}))},_=H=>{const{url:$}=h(),ae=new rH({error:H,status:r.status||0,statusText:r.statusText||"Unknown Error",url:$||void 0});i.error(ae)};let E=!1;const S=H=>{E||(i.next(h()),E=!0);let $={type:ps.DownloadProgress,loaded:H.loaded};H.lengthComputable&&($.total=H.total),"text"===t.responseType&&!!r.responseText&&($.partialText=r.responseText),i.next($)},P=H=>{let $={type:ps.UploadProgress,loaded:H.loaded};H.lengthComputable&&($.total=H.total),i.next($)};return r.addEventListener("load",p),r.addEventListener("error",_),r.addEventListener("timeout",_),r.addEventListener("abort",_),t.reportProgress&&(r.addEventListener("progress",S),null!==s&&r.upload&&r.upload.addEventListener("progress",P)),r.send(s),i.next({type:ps.Sent}),()=>{r.removeEventListener("error",_),r.removeEventListener("abort",_),r.removeEventListener("load",p),r.removeEventListener("timeout",_),t.reportProgress&&(r.removeEventListener("progress",S),null!==s&&r.upload&&r.upload.removeEventListener("progress",P)),r.readyState!==r.DONE&&r.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(ei))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const HO=new o.OlP("XSRF_COOKIE_NAME"),jO=new o.OlP("XSRF_HEADER_NAME");class lH{}let _9=(()=>{class n{constructor(t,i,r){this.doc=t,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Wi(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(fe),o.LFG(o.Lbi),o.LFG(HO))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),GO=(()=>{class n{constructor(t,i){this.tokenService=t,this.headerName=i}intercept(t,i){const r=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||r.startsWith("http://")||r.startsWith("https://"))return i.handle(t);const s=this.tokenService.getToken();return null!==s&&!t.headers.has(this.headerName)&&(t=t.clone({headers:t.headers.set(this.headerName,s)})),i.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(lH),o.LFG(jO))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),y9=(()=>{class n{constructor(t,i){this.backend=t,this.injector=i,this.chain=null}handle(t){if(null===this.chain){const i=this.injector.get(oH,[]);this.chain=i.reduceRight((r,s)=>new sH(r,s),this.backend)}return this.chain.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(JB),o.LFG(o.zs3))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),v9=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:GO,useClass:p9}]}}static withOptions(t={}){return{ngModule:n,providers:[t.cookieName?{provide:HO,useValue:t.cookieName}:[],t.headerName?{provide:jO,useValue:t.headerName}:[]]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[GO,{provide:oH,useExisting:GO,multi:!0},{provide:lH,useClass:_9},{provide:HO,useValue:"XSRF-TOKEN"},{provide:jO,useValue:"X-XSRF-TOKEN"}]}),n})(),b9=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[iA,{provide:QB,useClass:y9},aH,{provide:JB,useExisting:aH}],imports:[[v9.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),n})(),I9=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[Xr],Xr]}),n})();var fH=z(4408);const PC={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:i}=PC;i&&(e=i.requestAnimationFrame,t=i.cancelAnimationFrame);const r=e(s=>{t=void 0,n(s)});return new jl.w0(()=>null==t?void 0:t(r))},requestAnimationFrame(...n){const{delegate:e}=PC;return((null==e?void 0:e.requestAnimationFrame)||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=PC;return((null==e?void 0:e.cancelAnimationFrame)||cancelAnimationFrame)(...n)},delegate:void 0};var pH=z(7565);new class A9 extends pH.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class S9 extends fH.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=PC.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(e,t,i);e.actions.some(r=>r.id===t)||(PC.cancelAnimationFrame(t),e._scheduled=void 0)}});let $O,x9=1;const oA={};function mH(n){return n in oA&&(delete oA[n],!0)}const k9={setImmediate(n){const e=x9++;return oA[e]=!0,$O||($O=Promise.resolve()),$O.then(()=>mH(e)&&n()),e},clearImmediate(n){mH(n)}},{setImmediate:R9,clearImmediate:O9}=k9,aA={setImmediate(...n){const{delegate:e}=aA;return((null==e?void 0:e.setImmediate)||R9)(...n)},clearImmediate(n){const{delegate:e}=aA;return((null==e?void 0:e.clearImmediate)||O9)(n)},delegate:void 0};new class P9 extends pH.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class N9 extends fH.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=aA.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(e,t,i);e.actions.some(r=>r.id===t)||(aA.clearImmediate(t),e._scheduled=void 0)}});var V9=z(3532);function gH(n=0,e,t=Oo.P){let i=-1;return null!=e&&((0,V9.K)(e)?t=e:i=e),new G.y(r=>{let s=function U9(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;s<0&&(s=0);let c=0;return t.schedule(function(){r.closed||(r.next(c++),0<=i?this.schedule(void 0,i):r.complete())},s)})}function _H(n,e=Oo.z){return function L9(n){return(0,Qn.e)((e,t)=>{let i=!1,r=null,s=null,c=!1;const h=()=>{if(null==s||s.unsubscribe(),s=null,i){i=!1;const _=r;r=null,t.next(_)}c&&t.complete()},p=()=>{s=null,c&&t.complete()};e.subscribe((0,pi.x)(t,_=>{i=!0,r=_,s||(0,ke.Xf)(n(_)).subscribe(s=(0,pi.x)(t,h,p))},()=>{c=!0,(!i||!s||s.closed)&&t.complete()}))})}(()=>gH(n,e))}let H9=(()=>{class n{constructor(t,i,r){this._ngZone=t,this._platform=i,this._scrolled=new D.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const i=this.scrollContainers.get(t);i&&(i.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new G.y(i=>{this._globalSubscription||this._addGlobalListener();const r=t>0?this._scrolled.pipe(_H(t)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):N()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(t,i){const r=this.getAncestorScrollContainers(t);return this.scrolled(i).pipe(kn(s=>!s||r.indexOf(s)>-1))}getAncestorScrollContainers(t){const i=[];return this.scrollContainers.forEach((r,s)=>{this._scrollableContainsElement(s,t)&&i.push(s)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,i){let r=_h(i),s=t.getElementRef().nativeElement;do{if(r==s)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>bv(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(o.R0b),o.LFG(va),o.LFG(fe,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),lA=(()=>{class n{constructor(t,i,r){this._platform=t,this._change=new D.x,this._changeListener=s=>{this._change.next(s)},this._document=r,i.runOutsideAngular(()=>{if(t.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+r,right:t.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,i=this._getWindow(),r=t.documentElement,s=r.getBoundingClientRect();return{top:-s.top||t.body.scrollTop||i.scrollY||r.scrollTop||0,left:-s.left||t.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(_H(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(va),o.LFG(o.R0b),o.LFG(fe,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),yH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})(),qO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[bC,yH],bC,yH]}),n})();class WO{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class ZO extends WO{constructor(e,t,i,r){super(),this.component=e,this.viewContainerRef=t,this.injector=i,this.componentFactoryResolver=r}}class vH extends WO{constructor(e,t,i){super(),this.templateRef=e,this.viewContainerRef=t,this.context=i}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class G9 extends WO{constructor(e){super(),this.element=e instanceof o.SBq?e.nativeElement:e}}class YO{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof ZO?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof vH?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof G9?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class z9 extends YO{constructor(e,t,i,r,s){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=c=>{const h=c.element,p=this._document.createComment("dom-portal");h.parentNode.insertBefore(p,h),this.outletElement.appendChild(h),this._attachedPortal=c,super.setDisposeFn(()=>{p.parentNode&&p.parentNode.replaceChild(h,p)})},this._document=s}attachComponentPortal(e){const i=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let r;return e.viewContainerRef?(r=e.viewContainerRef.createComponent(i,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector),this.setDisposeFn(()=>r.destroy())):(r=i.create(e.injector||this._defaultInjector||o.zs3.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=e,r}attachTemplatePortal(e){let t=e.viewContainerRef,i=t.createEmbeddedView(e.templateRef,e.context);return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=t.indexOf(i);-1!==r&&t.remove(r)}),this._attachedPortal=e,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let bH=(()=>{class n extends YO{constructor(t,i,r){super(),this._componentFactoryResolver=t,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new o.vpe,this.attachDomPortal=s=>{const c=s.element,h=this._document.createComment("dom-portal");s.setAttachedHost(this),c.parentNode.insertBefore(h,c),this._getRootNode().appendChild(c),this._attachedPortal=s,super.setDisposeFn(()=>{h.parentNode&&h.parentNode.replaceChild(c,h)})},this._document=r}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(t){t.setAttachedHost(this);const i=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,s=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),c=i.createComponent(s,i.length,t.injector||i.injector);return i!==this._viewContainerRef&&this._getRootNode().appendChild(c.hostView.rootNodes[0]),super.setDisposeFn(()=>c.destroy()),this._attachedPortal=t,this._attachedRef=c,this.attached.emit(c),c}attachTemplatePortal(t){t.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o._Vd),o.Y36(o.s_b),o.Y36(fe))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[o.qOj]}),n})(),wH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();const CH=yq();class $9{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=fs(-this._previousScrollPosition.left),e.style.top=fs(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,i=e.style,r=this._document.body.style,s=i.scrollBehavior||"",c=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),CH&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),CH&&(i.scrollBehavior=s,r.scrollBehavior=c)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,i=this._viewportRuler.getViewportSize();return t.scrollHeight>i.height||t.scrollWidth>i.width}}class q9{constructor(e,t,i,r){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class EH{enable(){}disable(){}attach(){}}function KO(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function TH(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class W9{constructor(e,t,i,r){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();KO(t,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let Z9=(()=>{class n{constructor(t,i,r,s){this._scrollDispatcher=t,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new EH,this.close=c=>new q9(this._scrollDispatcher,this._ngZone,this._viewportRuler,c),this.block=()=>new $9(this._viewportRuler,this._document),this.reposition=c=>new W9(this._scrollDispatcher,this._viewportRuler,this._ngZone,c),this._document=s}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(H9),o.LFG(lA),o.LFG(o.R0b),o.LFG(fe))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class DH{constructor(e){if(this.scrollStrategy=new EH,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const i of t)void 0!==e[i]&&(this[i]=e[i])}}}class Y9{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}class K9{constructor(e,t,i,r,s,c,h,p,_){this._portalOutlet=e,this._host=t,this._pane=i,this._config=r,this._ngZone=s,this._keyboardDispatcher=c,this._document=h,this._location=p,this._outsideClickDispatcher=_,this._backdropElement=null,this._backdropClick=new D.x,this._attachments=new D.x,this._detachments=new D.x,this._locationChanges=jl.w0.EMPTY,this._backdropClickHandler=E=>this._backdropClick.next(E),this._backdropTransitionendHandler=E=>{this._disposeBackdrop(E.target)},this._keydownEvents=new D.x,this._outsidePointerEvents=new D.x,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){let t=this._portalOutlet.attach(e);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,si.q)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){var e;const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),null===(e=this._host)||void 0===e||e.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config=Object.assign(Object.assign({},this._config),e),this._updateElementSize()}setDirection(e){this._config=Object.assign(Object.assign({},this._config),{direction:e}),this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=fs(this._config.width),e.height=fs(this._config.height),e.minWidth=fs(this._config.minWidth),e.minHeight=fs(this._config.minHeight),e.maxWidth=fs(this._config.maxWidth),e.maxHeight=fs(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;!e||(e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500)))}_toggleClasses(e,t,i){const r=DV(t||[]).filter(s=>!!s);r.length&&(i?e.classList.add(...r):e.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(pl((0,Q.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}let QO=(()=>{class n{constructor(t,i){this._platform=i,this._document=t}ngOnDestroy(){var t;null===(t=this._containerElement)||void 0===t||t.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||FR()){const r=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let s=0;s<r.length;s++)r[s].remove()}const i=this._document.createElement("div");i.classList.add(t),FR()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(fe),o.LFG(va))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const IH="cdk-overlay-connected-position-bounding-box",Q9=/([A-Za-z%]+)$/;class J9{constructor(e,t,i,r,s){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new D.x,this._resizeSubscription=jl.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}get positions(){return this._preferredPositions}attach(e){this._validatePositions(),e.hostElement.classList.add(IH),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,t=this._overlayRect,i=this._viewportRect,r=this._containerRect,s=[];let c;for(let h of this._preferredPositions){let p=this._getOriginPoint(e,r,h),_=this._getOverlayPoint(p,t,h),E=this._getOverlayFit(_,t,i,h);if(E.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(h,p);this._canFitWithFlexibleDimensions(E,_,i)?s.push({position:h,origin:p,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(p,h)}):(!c||c.overlayFit.visibleArea<E.visibleArea)&&(c={overlayFit:E,overlayPoint:_,originPoint:p,position:h,overlayRect:t})}if(s.length){let h=null,p=-1;for(const _ of s){const E=_.boundingBoxRect.width*_.boundingBoxRect.height*(_.position.weight||1);E>p&&(p=E,h=_)}return this._isPushed=!1,void this._applyPosition(h.position,h.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(c.position,c.originPoint);this._applyPosition(c.position,c.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Hg(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(IH),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,i){let r,s;if("center"==i.originX)r=e.left+e.width/2;else{const c=this._isRtl()?e.right:e.left,h=this._isRtl()?e.left:e.right;r="start"==i.originX?c:h}return t.left<0&&(r-=t.left),s="center"==i.originY?e.top+e.height/2:"top"==i.originY?e.top:e.bottom,t.top<0&&(s-=t.top),{x:r,y:s}}_getOverlayPoint(e,t,i){let r,s;return r="center"==i.overlayX?-t.width/2:"start"===i.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,s="center"==i.overlayY?-t.height/2:"top"==i.overlayY?0:-t.height,{x:e.x+r,y:e.y+s}}_getOverlayFit(e,t,i,r){const s=AH(t);let{x:c,y:h}=e,p=this._getOffset(r,"x"),_=this._getOffset(r,"y");p&&(c+=p),_&&(h+=_);let P=0-h,H=h+s.height-i.height,$=this._subtractOverflows(s.width,0-c,c+s.width-i.width),ae=this._subtractOverflows(s.height,P,H),Ce=$*ae;return{visibleArea:Ce,isCompletelyWithinViewport:s.width*s.height===Ce,fitsInViewportVertically:ae===s.height,fitsInViewportHorizontally:$==s.width}}_canFitWithFlexibleDimensions(e,t,i){if(this._hasFlexibleDimensions){const r=i.bottom-t.y,s=i.right-t.x,c=SH(this._overlayRef.getConfig().minHeight),h=SH(this._overlayRef.getConfig().minWidth),_=e.fitsInViewportHorizontally||null!=h&&h<=s;return(e.fitsInViewportVertically||null!=c&&c<=r)&&_}return!1}_pushOverlayOnScreen(e,t,i){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const r=AH(t),s=this._viewportRect,c=Math.max(e.x+r.width-s.width,0),h=Math.max(e.y+r.height-s.height,0),p=Math.max(s.top-i.top-e.y,0),_=Math.max(s.left-i.left-e.x,0);let E=0,S=0;return E=r.width<=s.width?_||-c:e.x<this._viewportMargin?s.left-i.left-e.x:0,S=r.height<=s.height?p||-h:e.y<this._viewportMargin?s.top-i.top-e.y:0,this._previousPushAmount={x:E,y:S},{x:e.x+E,y:e.y+S}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new Y9(e,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=e.overlayY;i="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let s=0;s<t.length;s++)t[s].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(e,t){const i=this._viewportRect,r=this._isRtl();let s,c,h,E,S,P;if("top"===t.overlayY)c=e.y,s=i.height-c+this._viewportMargin;else if("bottom"===t.overlayY)h=i.height-e.y+2*this._viewportMargin,s=i.height-h+this._viewportMargin;else{const H=Math.min(i.bottom-e.y+i.top,e.y),$=this._lastBoundingBoxSize.height;s=2*H,c=e.y-H,s>$&&!this._isInitialRender&&!this._growAfterOpen&&(c=e.y-$/2)}if("end"===t.overlayX&&!r||"start"===t.overlayX&&r)P=i.width-e.x+this._viewportMargin,E=e.x-this._viewportMargin;else if("start"===t.overlayX&&!r||"end"===t.overlayX&&r)S=e.x,E=i.right-e.x;else{const H=Math.min(i.right-e.x+i.left,e.x),$=this._lastBoundingBoxSize.width;E=2*H,S=e.x-H,E>$&&!this._isInitialRender&&!this._growAfterOpen&&(S=e.x-$/2)}return{top:c,left:S,bottom:h,right:P,width:E,height:s}}_setBoundingBoxStyles(e,t){const i=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const s=this._overlayRef.getConfig().maxHeight,c=this._overlayRef.getConfig().maxWidth;r.height=fs(i.height),r.top=fs(i.top),r.bottom=fs(i.bottom),r.width=fs(i.width),r.left=fs(i.left),r.right=fs(i.right),r.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",r.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",s&&(r.maxHeight=fs(s)),c&&(r.maxWidth=fs(c))}this._lastBoundingBoxSize=i,Hg(this._boundingBox.style,r)}_resetBoundingBoxStyles(){Hg(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Hg(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const i={},r=this._hasExactPosition(),s=this._hasFlexibleDimensions,c=this._overlayRef.getConfig();if(r){const E=this._viewportRuler.getViewportScrollPosition();Hg(i,this._getExactOverlayY(t,e,E)),Hg(i,this._getExactOverlayX(t,e,E))}else i.position="static";let h="",p=this._getOffset(t,"x"),_=this._getOffset(t,"y");p&&(h+=`translateX(${p}px) `),_&&(h+=`translateY(${_}px)`),i.transform=h.trim(),c.maxHeight&&(r?i.maxHeight=fs(c.maxHeight):s&&(i.maxHeight="")),c.maxWidth&&(r?i.maxWidth=fs(c.maxWidth):s&&(i.maxWidth="")),Hg(this._pane.style,i)}_getExactOverlayY(e,t,i){let r={top:"",bottom:""},s=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),"bottom"===e.overlayY?r.bottom=this._document.documentElement.clientHeight-(s.y+this._overlayRect.height)+"px":r.top=fs(s.y),r}_getExactOverlayX(e,t,i){let c,r={left:"",right:""},s=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),c=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===c?r.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":r.left=fs(s.x),r}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:TH(e,i),isOriginOutsideView:KO(e,i),isOverlayClipped:TH(t,i),isOverlayOutsideView:KO(t,i)}}_subtractOverflows(e,...t){return t.reduce((i,r)=>i-Math.max(r,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+e-this._viewportMargin,bottom:i.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&DV(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof o.SBq)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,i=e.height||0;return{top:e.y,bottom:e.y+i,left:e.x,right:e.x+t,height:i,width:t}}}function Hg(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function SH(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(Q9);return t&&"px"!==t?null:parseFloat(e)}return n||null}function AH(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const MH="cdk-global-overlay-wrapper";class X9{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(MH),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._rightOffset="",this._leftOffset=e,this._justifyContent="flex-start",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._leftOffset="",this._rightOffset=e,this._justifyContent="flex-end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._justifyContent="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:s,maxWidth:c,maxHeight:h}=i,p=!("100%"!==r&&"100vw"!==r||c&&"100%"!==c&&"100vw"!==c),_=!("100%"!==s&&"100vh"!==s||h&&"100%"!==h&&"100vh"!==h);e.position=this._cssPosition,e.marginLeft=p?"0":this._leftOffset,e.marginTop=_?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=this._rightOffset,p?t.justifyContent="flex-start":"center"===this._justifyContent?t.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?t.justifyContent="flex-end":"flex-end"===this._justifyContent&&(t.justifyContent="flex-start"):t.justifyContent=this._justifyContent,t.alignItems=_?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,i=t.style;t.classList.remove(MH),i.justifyContent=i.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let eY=(()=>{class n{constructor(t,i,r,s){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=s}global(){return new X9}flexibleConnectedTo(t){return new J9(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(lA),o.LFG(fe),o.LFG(va),o.LFG(QO))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),xH=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const i=this._attachedOverlays.indexOf(t);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(fe))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),tY=(()=>{class n extends xH{constructor(t,i){super(t),this._ngZone=i,this._keydownListener=r=>{const s=this._attachedOverlays;for(let c=s.length-1;c>-1;c--)if(s[c]._keydownEvents.observers.length>0){const h=s[c]._keydownEvents;this._ngZone?this._ngZone.run(()=>h.next(r)):h.next(r);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(fe),o.LFG(o.R0b,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),nY=(()=>{class n extends xH{constructor(t,i,r){super(t),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=s=>{this._pointerDownEventTarget=Rg(s)},this._clickListener=s=>{const c=Rg(s),h="click"===s.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:c;this._pointerDownEventTarget=null;const p=this._attachedOverlays.slice();for(let _=p.length-1;_>-1;_--){const E=p[_];if(E._outsidePointerEvents.observers.length<1||!E.hasAttached())continue;if(E.overlayElement.contains(c)||E.overlayElement.contains(h))break;const S=E._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>S.next(s)):S.next(s)}}}add(t){if(super.add(t),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(fe),o.LFG(va),o.LFG(o.R0b,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),iY=0,cA=(()=>{class n{constructor(t,i,r,s,c,h,p,_,E,S,P){this.scrollStrategies=t,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=s,this._keyboardDispatcher=c,this._injector=h,this._ngZone=p,this._document=_,this._directionality=E,this._location=S,this._outsideClickDispatcher=P}create(t){const i=this._createHostElement(),r=this._createPaneElement(i),s=this._createPortalOutlet(r),c=new DH(t);return c.direction=c.direction||this._directionality.value,new K9(s,i,r,c,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(t){const i=this._document.createElement("div");return i.id="cdk-overlay-"+iY++,i.classList.add("cdk-overlay-pane"),t.appendChild(i),i}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(o.z2F)),new z9(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(Z9),o.LFG(QO),o.LFG(o._Vd),o.LFG(eY),o.LFG(tY),o.LFG(o.zs3),o.LFG(o.R0b),o.LFG(fe),o.LFG(vC),o.LFG(ce),o.LFG(nY))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const oY={provide:new o.OlP("cdk-connected-overlay-scroll-strategy"),deps:[cA],useFactory:function sY(n){return()=>n.scrollStrategies.reposition()}};let aY=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[cA,oY],imports:[[bC,wH,qO],qO]}),n})();function lY(n,e){}class JO{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const cY={dialogContainer:CC("dialogContainer",[UR("void, exit",xs({opacity:0,transform:"scale(0.7)"})),UR("enter",xs({transform:"none"})),ap("* => enter",VV([id("150ms cubic-bezier(0, 0, 0.2, 1)",xs({transform:"none",opacity:1})),BV("@*",UV(),{optional:!0})])),ap("* => void, * => exit",VV([id("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",xs({opacity:0})),BV("@*",UV(),{optional:!0})]))])};let uY=(()=>{class n extends YO{constructor(t,i,r,s,c,h,p,_){super(),this._elementRef=t,this._focusTrapFactory=i,this._changeDetectorRef=r,this._config=c,this._interactivityChecker=h,this._ngZone=p,this._focusMonitor=_,this._animationStateChanged=new o.vpe,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=E=>(this._portalOutlet.hasAttached(),this._portalOutlet.attachDomPortal(E)),this._ariaLabelledBy=c.ariaLabelledBy||null,this._document=s}_initializeWithAttachedContent(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=PR())}attachComponentPortal(t){return this._portalOutlet.hasAttached(),this._portalOutlet.attachComponentPortal(t)}attachTemplatePortal(t){return this._portalOutlet.hasAttached(),this._portalOutlet.attachTemplatePortal(t)}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(t,i){this._interactivityChecker.isFocusable(t)||(t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{t.removeEventListener("blur",r),t.removeEventListener("mousedown",r),t.removeAttribute("tabindex")};t.addEventListener("blur",r),t.addEventListener("mousedown",r)})),t.focus(i)}_focusByCssSelector(t,i){let r=this._elementRef.nativeElement.querySelector(t);r&&this._forceFocus(r,i)}_trapFocus(){const t=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||t.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{i||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const t=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&t&&"function"==typeof t.focus){const i=PR(),r=this._elementRef.nativeElement;(!i||i===this._document.body||i===r||r.contains(i))&&(this._focusMonitor?(this._focusMonitor.focusVia(t,this._closeInteractionType),this._closeInteractionType=null):t.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const t=this._elementRef.nativeElement,i=PR();return t===i||t.contains(i)}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.SBq),o.Y36(jq),o.Y36(o.sBO),o.Y36(fe,8),o.Y36(JO),o.Y36(AV),o.Y36(o.R0b),o.Y36(NV))},n.\u0275dir=o.lG2({type:n,viewQuery:function(t,i){if(1&t&&o.Gf(bH,7),2&t){let r;o.iGM(r=o.CRH())&&(i._portalOutlet=r.first)}},features:[o.qOj]}),n})(),dY=(()=>{class n extends uY{constructor(){super(...arguments),this._state="enter"}_onAnimationDone({toState:t,totalTime:i}){"enter"===t?(this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:i})):"exit"===t&&(this._restoreFocus(),this._animationStateChanged.next({state:"closed",totalTime:i}))}_onAnimationStart({toState:t,totalTime:i}){"enter"===t?this._animationStateChanged.next({state:"opening",totalTime:i}):("exit"===t||"void"===t)&&this._animationStateChanged.next({state:"closing",totalTime:i})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}_initializeWithAttachedContent(){super._initializeWithAttachedContent(),this._config.delayFocusTrap||this._trapFocus()}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=o.n5z(n)))(i||n)}}(),n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(t,i){1&t&&o.WFA("@dialogContainer.start",function(s){return i._onAnimationStart(s)})("@dialogContainer.done",function(s){return i._onAnimationDone(s)}),2&t&&(o.Ikx("id",i._id),o.uIk("role",i._config.role)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledBy)("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null),o.d8E("@dialogContainer",i._state))},features:[o.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,i){1&t&&o.YNc(0,lY,0,0,"ng-template",0)},directives:[bH],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[cY.dialogContainer]}}),n})(),hY=0;class fY{constructor(e,t,i="mat-dialog-"+hY++){this._overlayRef=e,this._containerInstance=t,this.id=i,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new D.x,this._afterClosed=new D.x,this._beforeClosed=new D.x,this._state=0,t._id=i,t._animationStateChanged.pipe(kn(r=>"opened"===r.state),(0,si.q)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),t._animationStateChanged.pipe(kn(r=>"closed"===r.state),(0,si.q)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),e.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),e.keydownEvents().pipe(kn(r=>27===r.keyCode&&!this.disableClose&&!function Iq(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}(r))).subscribe(r=>{r.preventDefault(),kH(this,"keyboard")}),e.backdropClick().subscribe(()=>{this.disableClose?this._containerInstance._recaptureFocus():kH(this,"mouse")})}close(e){this._result=e,this._containerInstance._animationStateChanged.pipe(kn(t=>"closing"===t.state),(0,si.q)(1)).subscribe(t=>{this._beforeClosed.next(e),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),t.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._afterClosed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(e){let t=this._getPositionStrategy();return e&&(e.left||e.right)?e.left?t.left(e.left):t.right(e.right):t.centerHorizontally(),e&&(e.top||e.bottom)?e.top?t.top(e.top):t.bottom(e.bottom):t.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(e="",t=""){return this._overlayRef.updateSize({width:e,height:t}),this._overlayRef.updatePosition(),this}addPanelClass(e){return this._overlayRef.addPanelClass(e),this}removePanelClass(e){return this._overlayRef.removePanelClass(e),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._overlayRef.dispose()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}function kH(n,e,t){return void 0!==n._containerInstance&&(n._containerInstance._closeInteractionType=e),n.close(t)}const pY=new o.OlP("MatDialogData"),mY=new o.OlP("mat-dialog-default-options"),RH=new o.OlP("mat-dialog-scroll-strategy"),_Y={provide:RH,deps:[cA],useFactory:function gY(n){return()=>n.scrollStrategies.block()}};let yY=(()=>{class n{constructor(t,i,r,s,c,h,p,_,E,S){this._overlay=t,this._injector=i,this._defaultOptions=r,this._parentDialog=s,this._overlayContainer=c,this._dialogRefConstructor=p,this._dialogContainerType=_,this._dialogDataToken=E,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new D.x,this._afterOpenedAtThisLevel=new D.x,this._ariaHiddenElements=new Map,this.afterAllClosed=e_(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Nc(void 0))),this._scrollStrategy=h}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(t,i){i=function bY(n,e){return Object.assign(Object.assign({},e),n)}(i,this._defaultOptions||new JO),i.id&&this.getDialogById(i.id);const r=this._createOverlay(i),s=this._attachDialogContainer(r,i),c=this._attachDialogContent(t,s,r,i);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(c),c.afterClosed().subscribe(()=>this._removeOpenDialog(c)),this.afterOpened.next(c),s._initializeWithAttachedContent(),c}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(t){return this.openDialogs.find(i=>i.id===t)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_createOverlay(t){const i=this._getOverlayConfig(t);return this._overlay.create(i)}_getOverlayConfig(t){const i=new DH({positionStrategy:this._overlay.position().global(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,disposeOnNavigation:t.closeOnNavigation});return t.backdropClass&&(i.backdropClass=t.backdropClass),i}_attachDialogContainer(t,i){const s=o.zs3.create({parent:i&&i.viewContainerRef&&i.viewContainerRef.injector||this._injector,providers:[{provide:JO,useValue:i}]}),c=new ZO(this._dialogContainerType,i.viewContainerRef,s,i.componentFactoryResolver);return t.attach(c).instance}_attachDialogContent(t,i,r,s){const c=new this._dialogRefConstructor(r,i,s.id);if(t instanceof o.Rgc)i.attachTemplatePortal(new vH(t,null,{$implicit:s.data,dialogRef:c}));else{const h=this._createInjector(s,c,i),p=i.attachComponentPortal(new ZO(t,s.viewContainerRef,h,s.componentFactoryResolver));c.componentInstance=p.instance}return c.updateSize(s.width,s.height).updatePosition(s.position),c}_createInjector(t,i,r){const s=t&&t.viewContainerRef&&t.viewContainerRef.injector,c=[{provide:this._dialogContainerType,useValue:r},{provide:this._dialogDataToken,useValue:t.data},{provide:this._dialogRefConstructor,useValue:i}];return t.direction&&(!s||!s.get(vC,null,o.XFs.Optional))&&c.push({provide:vC,useValue:{value:t.direction,change:N()}}),o.zs3.create({parent:s||this._injector,providers:c})}_removeOpenDialog(t){const i=this.openDialogs.indexOf(t);i>-1&&(this.openDialogs.splice(i,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((r,s)=>{r?s.setAttribute("aria-hidden",r):s.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const t=this._overlayContainer.getContainerElement();if(t.parentElement){const i=t.parentElement.children;for(let r=i.length-1;r>-1;r--){let s=i[r];s!==t&&"SCRIPT"!==s.nodeName&&"STYLE"!==s.nodeName&&!s.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(s,s.getAttribute("aria-hidden")),s.setAttribute("aria-hidden","true"))}}}_closeDialogs(t){let i=t.length;for(;i--;)t[i].close()}}return n.\u0275fac=function(t){o.$Z()},n.\u0275dir=o.lG2({type:n}),n})(),vY=(()=>{class n extends yY{constructor(t,i,r,s,c,h,p,_){super(t,i,s,h,p,c,fY,dY,pY,_)}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(cA),o.LFG(o.zs3),o.LFG(ce,8),o.LFG(mY,8),o.LFG(RH),o.LFG(n,12),o.LFG(QO),o.LFG(up,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),wY=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[vY,_Y],imports:[[aY,wH,Xr],Xr]}),n})();function CY(n,e){if(1&n&&(o.O4$(),o._UZ(0,"circle",4)),2&n){const t=o.oxw(),i=o.MAs(1);o.Udp("animation-name","mat-progress-spinner-stroke-rotate-"+t._spinnerAnimationLabel)("stroke-dashoffset",t._getStrokeDashOffset(),"px")("stroke-dasharray",t._getStrokeCircumference(),"px")("stroke-width",t._getCircleStrokeWidth(),"%")("transform-origin",t._getCircleTransformOrigin(i)),o.uIk("r",t._getCircleRadius())}}function EY(n,e){if(1&n&&(o.O4$(),o._UZ(0,"circle",4)),2&n){const t=o.oxw(),i=o.MAs(1);o.Udp("stroke-dashoffset",t._getStrokeDashOffset(),"px")("stroke-dasharray",t._getStrokeCircumference(),"px")("stroke-width",t._getCircleStrokeWidth(),"%")("transform-origin",t._getCircleTransformOrigin(i)),o.uIk("r",t._getCircleRadius())}}const DY=dO(class{constructor(n){this._elementRef=n}},"primary"),IY=new o.OlP("mat-progress-spinner-default-options",{providedIn:"root",factory:function SY(){return{diameter:100}}});class pp extends DY{constructor(e,t,i,r,s,c,h,p){super(e),this._document=i,this._diameter=100,this._value=0,this._resizeSubscription=jl.w0.EMPTY,this.mode="determinate";const _=pp._diameters;this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),_.has(i.head)||_.set(i.head,new Set([100])),this._noopAnimations="NoopAnimations"===r&&!!s&&!s._forceAnimations,"mat-spinner"===e.nativeElement.nodeName.toLowerCase()&&(this.mode="indeterminate"),s&&(s.diameter&&(this.diameter=s.diameter),s.strokeWidth&&(this.strokeWidth=s.strokeWidth)),t.isBrowser&&t.SAFARI&&h&&c&&p&&(this._resizeSubscription=h.change(150).subscribe(()=>{"indeterminate"===this.mode&&p.run(()=>c.markForCheck())}))}get diameter(){return this._diameter}set diameter(e){this._diameter=CS(e),this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),this._styleRoot&&this._attachStyleNode()}get strokeWidth(){return this._strokeWidth||this.diameter/10}set strokeWidth(e){this._strokeWidth=CS(e)}get value(){return"determinate"===this.mode?this._value:0}set value(e){this._value=Math.max(0,Math.min(100,CS(e)))}ngOnInit(){const e=this._elementRef.nativeElement;this._styleRoot=TV(e)||this._document.head,this._attachStyleNode(),e.classList.add("mat-progress-spinner-indeterminate-animation")}ngOnDestroy(){this._resizeSubscription.unsubscribe()}_getCircleRadius(){return(this.diameter-10)/2}_getViewBox(){const e=2*this._getCircleRadius()+this.strokeWidth;return`0 0 ${e} ${e}`}_getStrokeCircumference(){return 2*Math.PI*this._getCircleRadius()}_getStrokeDashOffset(){return"determinate"===this.mode?this._getStrokeCircumference()*(100-this._value)/100:null}_getCircleStrokeWidth(){return this.strokeWidth/this.diameter*100}_getCircleTransformOrigin(e){var t;const i=50*(null!==(t=e.currentScale)&&void 0!==t?t:1);return`${i}% ${i}%`}_attachStyleNode(){const e=this._styleRoot,t=this._diameter,i=pp._diameters;let r=i.get(e);if(!r||!r.has(t)){const s=this._document.createElement("style");s.setAttribute("mat-spinner-animation",this._spinnerAnimationLabel),s.textContent=this._getAnimationText(),e.appendChild(s),r||(r=new Set,i.set(e,r)),r.add(t)}}_getAnimationText(){const e=this._getStrokeCircumference();return"\n @keyframes mat-progress-spinner-stroke-rotate-DIAMETER {\n    0%      { stroke-dashoffset: START_VALUE;  transform: rotate(0); }\n    12.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(0); }\n    12.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(72.5deg); }\n    25%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(72.5deg); }\n\n    25.0001%   { stroke-dashoffset: START_VALUE;  transform: rotate(270deg); }\n    37.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(270deg); }\n    37.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(161.5deg); }\n    50%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(161.5deg); }\n\n    50.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(180deg); }\n    62.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(180deg); }\n    62.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(251.5deg); }\n    75%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(251.5deg); }\n\n    75.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(90deg); }\n    87.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(90deg); }\n    87.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(341.5deg); }\n    100%    { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(341.5deg); }\n  }\n".replace(/START_VALUE/g,""+.95*e).replace(/END_VALUE/g,""+.2*e).replace(/DIAMETER/g,`${this._spinnerAnimationLabel}`)}_getSpinnerAnimationLabel(){return this.diameter.toString().replace(".","_")}}pp._diameters=new WeakMap,pp.\u0275fac=function(e){return new(e||pp)(o.Y36(o.SBq),o.Y36(va),o.Y36(fe,8),o.Y36(up,8),o.Y36(IY),o.Y36(o.sBO),o.Y36(lA),o.Y36(o.R0b))},pp.\u0275cmp=o.Xpm({type:pp,selectors:[["mat-progress-spinner"],["mat-spinner"]],hostAttrs:["role","progressbar","tabindex","-1",1,"mat-progress-spinner","mat-spinner"],hostVars:10,hostBindings:function(e,t){2&e&&(o.uIk("aria-valuemin","determinate"===t.mode?0:null)("aria-valuemax","determinate"===t.mode?100:null)("aria-valuenow","determinate"===t.mode?t.value:null)("mode",t.mode),o.Udp("width",t.diameter,"px")("height",t.diameter,"px"),o.ekj("_mat-animation-noopable",t._noopAnimations))},inputs:{color:"color",diameter:"diameter",strokeWidth:"strokeWidth",mode:"mode",value:"value"},exportAs:["matProgressSpinner"],features:[o.qOj],decls:4,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false","aria-hidden","true",3,"ngSwitch"],["svg",""],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width","transform-origin",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width","transform-origin",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(e,t){1&e&&(o.O4$(),o.TgZ(0,"svg",0,1),o.YNc(2,CY,1,11,"circle",2),o.YNc(3,EY,1,9,"circle",3),o.qZA()),2&e&&(o.Udp("width",t.diameter,"px")("height",t.diameter,"px"),o.Q6J("ngSwitch","indeterminate"===t.mode),o.uIk("viewBox",t._getViewBox()),o.xp6(2),o.Q6J("ngSwitchCase",!0),o.xp6(1),o.Q6J("ngSwitchCase",!1))},directives:[Gi,gr],styles:[".mat-progress-spinner{display:block;position:relative;overflow:hidden}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:transparent;transition:stroke-dashoffset 225ms linear}._mat-animation-noopable.mat-progress-spinner circle{transition:none;animation:none}.cdk-high-contrast-active .mat-progress-spinner circle{stroke:CanvasText}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{animation:mat-progress-spinner-linear-rotate 2000ms linear infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition-property:stroke;animation-duration:4000ms;animation-timing-function:cubic-bezier(0.35, 0, 0.25, 1);animation-iteration-count:infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition:none;animation:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.606171575px;transform:rotate(0)}12.5%{stroke-dashoffset:56.5486677px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.606171575px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.5486677px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.606171575px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.5486677px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.606171575px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.5486677px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(341.5deg)}}\n"],encapsulation:2,changeDetection:0});let MY=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[Xr,no],Xr]}),n})();function eN(n){return n&&"function"==typeof n.connect}class OH{applyChanges(e,t,i,r,s){e.forEachOperation((c,h,p)=>{let _,E;if(null==c.previousIndex){const S=i(c,h,p);_=t.createEmbeddedView(S.templateRef,S.context,S.index),E=1}else null==p?(t.remove(h),E=3):(_=t.get(h),t.move(_,p),E=2);s&&s({context:null==_?void 0:_.context,operation:E,record:c})})}detach(){}}const FC=new o.OlP("_ViewRepeater"),kY=[[["caption"]],[["colgroup"],["col"]]],RY=["caption","colgroup, col"];function tN(n){return class extends n{constructor(...e){super(...e),this._sticky=!1,this._hasStickyChanged=!1}get sticky(){return this._sticky}set sticky(e){const t=this._sticky;this._sticky=ou(e),this._hasStickyChanged=t!==this._sticky}hasStickyChanged(){const e=this._hasStickyChanged;return this._hasStickyChanged=!1,e}resetStickyChanged(){this._hasStickyChanged=!1}}}const wv=new o.OlP("CDK_TABLE");let Cv=(()=>{class n{constructor(t){this.template=t}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.Rgc))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdkCellDef",""]]}),n})(),Ev=(()=>{class n{constructor(t){this.template=t}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.Rgc))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdkHeaderCellDef",""]]}),n})(),uA=(()=>{class n{constructor(t){this.template=t}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.Rgc))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdkFooterCellDef",""]]}),n})();class FY{}const LY=tN(FY);let wh=(()=>{class n extends LY{constructor(t){super(),this._table=t,this._stickyEnd=!1}get name(){return this._name}set name(t){this._setNameInput(t)}get stickyEnd(){return this._stickyEnd}set stickyEnd(t){const i=this._stickyEnd;this._stickyEnd=ou(t),this._hasStickyChanged=i!==this._stickyEnd}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(t){t&&(this._name=t,this.cssClassFriendlyName=t.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(wv,8))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdkColumnDef",""]],contentQueries:function(t,i,r){if(1&t&&(o.Suo(r,Cv,5),o.Suo(r,Ev,5),o.Suo(r,uA,5)),2&t){let s;o.iGM(s=o.CRH())&&(i.cell=s.first),o.iGM(s=o.CRH())&&(i.headerCell=s.first),o.iGM(s=o.CRH())&&(i.footerCell=s.first)}},inputs:{sticky:"sticky",name:["cdkColumnDef","name"],stickyEnd:"stickyEnd"},features:[o._Bn([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),o.qOj]}),n})();class nN{constructor(e,t){t.nativeElement.classList.add(...e._columnCssClassName)}}let iN=(()=>{class n extends nN{constructor(t,i){super(t,i)}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(wh),o.Y36(o.SBq))},n.\u0275dir=o.lG2({type:n,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],features:[o.qOj]}),n})(),rN=(()=>{class n extends nN{constructor(t,i){var r;if(super(t,i),1===(null===(r=t._table)||void 0===r?void 0:r._elementRef.nativeElement.nodeType)){const s=t._table._elementRef.nativeElement.getAttribute("role");i.nativeElement.setAttribute("role","grid"===s||"treegrid"===s?"gridcell":"cell")}}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(wh),o.Y36(o.SBq))},n.\u0275dir=o.lG2({type:n,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],features:[o.qOj]}),n})();class FH{constructor(){this.tasks=[],this.endTasks=[]}}const sN=new o.OlP("_COALESCED_STYLE_SCHEDULER");let LH=(()=>{class n{constructor(t){this._ngZone=t,this._currentSchedule=null,this._destroyed=new D.x}schedule(t){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(t)}scheduleEnd(t){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(t)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new FH,this._getScheduleObservable().pipe(pl(this._destroyed)).subscribe(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){const t=this._currentSchedule;this._currentSchedule=new FH;for(const i of t.tasks)i();for(const i of t.endTasks)i()}this._currentSchedule=null}))}_getScheduleObservable(){return this._ngZone.isStable?(0,x.D)(Promise.resolve(void 0)):this._ngZone.onStable.pipe((0,si.q)(1))}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(o.R0b))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),oN=(()=>{class n{constructor(t,i){this.template=t,this._differs=i}ngOnChanges(t){if(!this._columnsDiffer){const i=t.columns&&t.columns.currentValue||[];this._columnsDiffer=this._differs.find(i).create(),this._columnsDiffer.diff(i)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(t){return this instanceof LC?t.headerCell.template:this instanceof VC?t.footerCell.template:t.cell.template}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.Rgc),o.Y36(o.ZZ4))},n.\u0275dir=o.lG2({type:n,features:[o.TTD]}),n})();class VY extends oN{}const UY=tN(VY);let LC=(()=>{class n extends UY{constructor(t,i,r){super(t,i),this._table=r}ngOnChanges(t){super.ngOnChanges(t)}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.Rgc),o.Y36(o.ZZ4),o.Y36(wv,8))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:["cdkHeaderRowDef","columns"],sticky:["cdkHeaderRowDefSticky","sticky"]},features:[o.qOj,o.TTD]}),n})();class BY extends oN{}const HY=tN(BY);let VC=(()=>{class n extends HY{constructor(t,i,r){super(t,i),this._table=r}ngOnChanges(t){super.ngOnChanges(t)}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.Rgc),o.Y36(o.ZZ4),o.Y36(wv,8))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:["cdkFooterRowDef","columns"],sticky:["cdkFooterRowDefSticky","sticky"]},features:[o.qOj,o.TTD]}),n})(),dA=(()=>{class n extends oN{constructor(t,i,r){super(t,i),this._table=r}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.Rgc),o.Y36(o.ZZ4),o.Y36(wv,8))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdkRowDef",""]],inputs:{columns:["cdkRowDefColumns","columns"],when:["cdkRowDefWhen","when"]},features:[o.qOj]}),n})(),Ch=(()=>{class n{constructor(t){this._viewContainer=t,n.mostRecentCellOutlet=this}ngOnDestroy(){n.mostRecentCellOutlet===this&&(n.mostRecentCellOutlet=null)}}return n.mostRecentCellOutlet=null,n.\u0275fac=function(t){return new(t||n)(o.Y36(o.s_b))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdkCellOutlet",""]]}),n})(),aN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,i){1&t&&o.GkF(0,0)},directives:[Ch],encapsulation:2}),n})(),cN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,i){1&t&&o.GkF(0,0)},directives:[Ch],encapsulation:2}),n})(),hA=(()=>{class n{constructor(t){this.templateRef=t,this._contentClassName="cdk-no-data-row"}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.Rgc))},n.\u0275dir=o.lG2({type:n,selectors:[["ng-template","cdkNoDataRow",""]]}),n})();const VH=["top","bottom","left","right"];class jY{constructor(e,t,i,r,s=!0,c=!0,h){this._isNativeHtmlTable=e,this._stickCellCss=t,this.direction=i,this._coalescedStyleScheduler=r,this._isBrowser=s,this._needsPositionStickyOnElement=c,this._positionListener=h,this._cachedCellWidths=[],this._borderCellCss={top:`${t}-border-elem-top`,bottom:`${t}-border-elem-bottom`,left:`${t}-border-elem-left`,right:`${t}-border-elem-right`}}clearStickyPositioning(e,t){const i=[];for(const r of e)if(r.nodeType===r.ELEMENT_NODE){i.push(r);for(let s=0;s<r.children.length;s++)i.push(r.children[s])}this._coalescedStyleScheduler.schedule(()=>{for(const r of i)this._removeStickyStyle(r,t)})}updateStickyColumns(e,t,i,r=!0){if(!e.length||!this._isBrowser||!t.some(P=>P)&&!i.some(P=>P))return void(this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]})));const s=e[0],c=s.children.length,h=this._getCellWidths(s,r),p=this._getStickyStartColumnPositions(h,t),_=this._getStickyEndColumnPositions(h,i),E=t.lastIndexOf(!0),S=i.indexOf(!0);this._coalescedStyleScheduler.schedule(()=>{const P="rtl"===this.direction,H=P?"right":"left",$=P?"left":"right";for(const ae of e)for(let Ce=0;Ce<c;Ce++){const st=ae.children[Ce];t[Ce]&&this._addStickyStyle(st,H,p[Ce],Ce===E),i[Ce]&&this._addStickyStyle(st,$,_[Ce],Ce===S)}this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:-1===E?[]:h.slice(0,E+1).map((ae,Ce)=>t[Ce]?ae:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:-1===S?[]:h.slice(S).map((ae,Ce)=>i[Ce+S]?ae:null).reverse()}))})}stickRows(e,t,i){if(!this._isBrowser)return;const r="bottom"===i?e.slice().reverse():e,s="bottom"===i?t.slice().reverse():t,c=[],h=[],p=[];for(let E=0,S=0;E<r.length;E++){if(!s[E])continue;c[E]=S;const P=r[E];p[E]=this._isNativeHtmlTable?Array.from(P.children):[P];const H=P.getBoundingClientRect().height;S+=H,h[E]=H}const _=s.lastIndexOf(!0);this._coalescedStyleScheduler.schedule(()=>{var E,S;for(let P=0;P<r.length;P++){if(!s[P])continue;const H=c[P],$=P===_;for(const ae of p[P])this._addStickyStyle(ae,i,H,$)}"top"===i?null===(E=this._positionListener)||void 0===E||E.stickyHeaderRowsUpdated({sizes:h,offsets:c,elements:p}):null===(S=this._positionListener)||void 0===S||S.stickyFooterRowsUpdated({sizes:h,offsets:c,elements:p})})}updateStickyFooterContainer(e,t){if(!this._isNativeHtmlTable)return;const i=e.querySelector("tfoot");this._coalescedStyleScheduler.schedule(()=>{t.some(r=>!r)?this._removeStickyStyle(i,["bottom"]):this._addStickyStyle(i,"bottom",0,!1)})}_removeStickyStyle(e,t){for(const r of t)e.style[r]="",e.classList.remove(this._borderCellCss[r]);VH.some(r=>-1===t.indexOf(r)&&e.style[r])?e.style.zIndex=this._getCalculatedZIndex(e):(e.style.zIndex="",this._needsPositionStickyOnElement&&(e.style.position=""),e.classList.remove(this._stickCellCss))}_addStickyStyle(e,t,i,r){e.classList.add(this._stickCellCss),r&&e.classList.add(this._borderCellCss[t]),e.style[t]=`${i}px`,e.style.zIndex=this._getCalculatedZIndex(e),this._needsPositionStickyOnElement&&(e.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(e){const t={top:100,bottom:10,left:1,right:1};let i=0;for(const r of VH)e.style[r]&&(i+=t[r]);return i?`${i}`:""}_getCellWidths(e,t=!0){if(!t&&this._cachedCellWidths.length)return this._cachedCellWidths;const i=[],r=e.children;for(let s=0;s<r.length;s++)i.push(r[s].getBoundingClientRect().width);return this._cachedCellWidths=i,i}_getStickyStartColumnPositions(e,t){const i=[];let r=0;for(let s=0;s<e.length;s++)t[s]&&(i[s]=r,r+=e[s]);return i}_getStickyEndColumnPositions(e,t){const i=[];let r=0;for(let s=e.length;s>0;s--)t[s]&&(i[s]=r,r+=e[s]);return i}}const uN=new o.OlP("CDK_SPL");let fA=(()=>{class n{constructor(t,i){this.viewContainer=t,this.elementRef=i}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.s_b),o.Y36(o.SBq))},n.\u0275dir=o.lG2({type:n,selectors:[["","rowOutlet",""]]}),n})(),pA=(()=>{class n{constructor(t,i){this.viewContainer=t,this.elementRef=i}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.s_b),o.Y36(o.SBq))},n.\u0275dir=o.lG2({type:n,selectors:[["","headerRowOutlet",""]]}),n})(),mA=(()=>{class n{constructor(t,i){this.viewContainer=t,this.elementRef=i}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.s_b),o.Y36(o.SBq))},n.\u0275dir=o.lG2({type:n,selectors:[["","footerRowOutlet",""]]}),n})(),gA=(()=>{class n{constructor(t,i){this.viewContainer=t,this.elementRef=i}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.s_b),o.Y36(o.SBq))},n.\u0275dir=o.lG2({type:n,selectors:[["","noDataRowOutlet",""]]}),n})(),_A=(()=>{class n{constructor(t,i,r,s,c,h,p,_,E,S,P,H){this._differs=t,this._changeDetectorRef=i,this._elementRef=r,this._dir=c,this._platform=p,this._viewRepeater=_,this._coalescedStyleScheduler=E,this._viewportRuler=S,this._stickyPositioningListener=P,this._ngZone=H,this._onDestroy=new D.x,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.contentChanged=new o.vpe,this.viewChange=new Zr({start:0,end:Number.MAX_VALUE}),s||this._elementRef.nativeElement.setAttribute("role","table"),this._document=h,this._isNativeHtmlTable="TABLE"===this._elementRef.nativeElement.nodeName}get trackBy(){return this._trackByFn}set trackBy(t){this._trackByFn=t}get dataSource(){return this._dataSource}set dataSource(t){this._dataSource!==t&&this._switchDataSource(t)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(t){this._multiTemplateDataRows=ou(t),this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout(t){this._fixedLayout=ou(t),this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}ngOnInit(){this._setupStickyStyler(),this._isNativeHtmlTable&&this._applyNativeTableSections(),this._dataDiffer=this._differs.find([]).create((t,i)=>this.trackBy?this.trackBy(i.dataIndex,i.data):i),this._viewportRuler.change().pipe(pl(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentChecked(){this._cacheRowDefs(),this._cacheColumnDefs();const i=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||i,this._forceRecalculateCellWidths=i,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}ngOnDestroy(){[this._rowOutlet.viewContainer,this._headerRowOutlet.viewContainer,this._footerRowOutlet.viewContainer,this._cachedRenderRowsMap,this._customColumnDefs,this._customRowDefs,this._customHeaderRowDefs,this._customFooterRowDefs,this._columnDefsByName].forEach(t=>{t.clear()}),this._headerRowDefs=[],this._footerRowDefs=[],this._defaultRowDef=null,this._onDestroy.next(),this._onDestroy.complete(),eN(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();const t=this._dataDiffer.diff(this._renderRows);if(!t)return this._updateNoDataRow(),void this.contentChanged.next();const i=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(t,i,(r,s,c)=>this._getEmbeddedViewArgs(r.item,c),r=>r.item.data,r=>{1===r.operation&&r.context&&this._renderCellTemplateForItem(r.record.item.rowDef,r.context)}),this._updateRowIndexContext(),t.forEachIdentityChange(r=>{i.get(r.currentIndex).context.$implicit=r.item.data}),this._updateNoDataRow(),this._ngZone&&o.R0b.isInAngularZone()?this._ngZone.onStable.pipe((0,si.q)(1),pl(this._onDestroy)).subscribe(()=>{this.updateStickyColumnStyles()}):this.updateStickyColumnStyles(),this.contentChanged.next()}addColumnDef(t){this._customColumnDefs.add(t)}removeColumnDef(t){this._customColumnDefs.delete(t)}addRowDef(t){this._customRowDefs.add(t)}removeRowDef(t){this._customRowDefs.delete(t)}addHeaderRowDef(t){this._customHeaderRowDefs.add(t),this._headerRowDefChanged=!0}removeHeaderRowDef(t){this._customHeaderRowDefs.delete(t),this._headerRowDefChanged=!0}addFooterRowDef(t){this._customFooterRowDefs.add(t),this._footerRowDefChanged=!0}removeFooterRowDef(t){this._customFooterRowDefs.delete(t),this._footerRowDefChanged=!0}setNoDataRow(t){this._customNoDataRow=t}updateStickyHeaderRowStyles(){const t=this._getRenderedRows(this._headerRowOutlet),r=this._elementRef.nativeElement.querySelector("thead");r&&(r.style.display=t.length?"":"none");const s=this._headerRowDefs.map(c=>c.sticky);this._stickyStyler.clearStickyPositioning(t,["top"]),this._stickyStyler.stickRows(t,s,"top"),this._headerRowDefs.forEach(c=>c.resetStickyChanged())}updateStickyFooterRowStyles(){const t=this._getRenderedRows(this._footerRowOutlet),r=this._elementRef.nativeElement.querySelector("tfoot");r&&(r.style.display=t.length?"":"none");const s=this._footerRowDefs.map(c=>c.sticky);this._stickyStyler.clearStickyPositioning(t,["bottom"]),this._stickyStyler.stickRows(t,s,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,s),this._footerRowDefs.forEach(c=>c.resetStickyChanged())}updateStickyColumnStyles(){const t=this._getRenderedRows(this._headerRowOutlet),i=this._getRenderedRows(this._rowOutlet),r=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...t,...i,...r],["left","right"]),this._stickyColumnStylesNeedReset=!1),t.forEach((s,c)=>{this._addStickyColumnStyles([s],this._headerRowDefs[c])}),this._rowDefs.forEach(s=>{const c=[];for(let h=0;h<i.length;h++)this._renderRows[h].rowDef===s&&c.push(i[h]);this._addStickyColumnStyles(c,s)}),r.forEach((s,c)=>{this._addStickyColumnStyles([s],this._footerRowDefs[c])}),Array.from(this._columnDefsByName.values()).forEach(s=>s.resetStickyChanged())}_getAllRenderRows(){const t=[],i=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let r=0;r<this._data.length;r++){let s=this._data[r];const c=this._getRenderRowsForData(s,r,i.get(s));this._cachedRenderRowsMap.has(s)||this._cachedRenderRowsMap.set(s,new WeakMap);for(let h=0;h<c.length;h++){let p=c[h];const _=this._cachedRenderRowsMap.get(p.data);_.has(p.rowDef)?_.get(p.rowDef).push(p):_.set(p.rowDef,[p]),t.push(p)}}return t}_getRenderRowsForData(t,i,r){return this._getRowDefs(t,i).map(c=>{const h=r&&r.has(c)?r.get(c):[];if(h.length){const p=h.shift();return p.dataIndex=i,p}return{data:t,rowDef:c,dataIndex:i}})}_cacheColumnDefs(){this._columnDefsByName.clear(),yA(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(i=>{this._columnDefsByName.has(i.name),this._columnDefsByName.set(i.name,i)})}_cacheRowDefs(){this._headerRowDefs=yA(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=yA(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=yA(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);const t=this._rowDefs.filter(i=>!i.when);this._defaultRowDef=t[0]}_renderUpdatedColumns(){const t=(c,h)=>c||!!h.getColumnsDiff(),i=this._rowDefs.reduce(t,!1);i&&this._forceRenderDataRows();const r=this._headerRowDefs.reduce(t,!1);r&&this._forceRenderHeaderRows();const s=this._footerRowDefs.reduce(t,!1);return s&&this._forceRenderFooterRows(),i||r||s}_switchDataSource(t){this._data=[],eN(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),t||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear()),this._dataSource=t}_observeRenderChanges(){if(!this.dataSource)return;let t;eN(this.dataSource)?t=this.dataSource.connect(this):function xY(n){return!!n&&(n instanceof G.y||(0,Bt.m)(n.lift)&&(0,Bt.m)(n.subscribe))}(this.dataSource)?t=this.dataSource:Array.isArray(this.dataSource)&&(t=N(this.dataSource)),this._renderChangeSubscription=t.pipe(pl(this._onDestroy)).subscribe(i=>{this._data=i||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((t,i)=>this._renderRow(this._headerRowOutlet,t,i)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((t,i)=>this._renderRow(this._footerRowOutlet,t,i)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(t,i){const r=Array.from(i.columns||[]).map(h=>this._columnDefsByName.get(h)),s=r.map(h=>h.sticky),c=r.map(h=>h.stickyEnd);this._stickyStyler.updateStickyColumns(t,s,c,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(t){const i=[];for(let r=0;r<t.viewContainer.length;r++){const s=t.viewContainer.get(r);i.push(s.rootNodes[0])}return i}_getRowDefs(t,i){if(1==this._rowDefs.length)return[this._rowDefs[0]];let r=[];if(this.multiTemplateDataRows)r=this._rowDefs.filter(s=>!s.when||s.when(i,t));else{let s=this._rowDefs.find(c=>c.when&&c.when(i,t))||this._defaultRowDef;s&&r.push(s)}return r}_getEmbeddedViewArgs(t,i){return{templateRef:t.rowDef.template,context:{$implicit:t.data},index:i}}_renderRow(t,i,r,s={}){const c=t.viewContainer.createEmbeddedView(i.template,s,r);return this._renderCellTemplateForItem(i,s),c}_renderCellTemplateForItem(t,i){for(let r of this._getCellTemplates(t))Ch.mostRecentCellOutlet&&Ch.mostRecentCellOutlet._viewContainer.createEmbeddedView(r,i);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const t=this._rowOutlet.viewContainer;for(let i=0,r=t.length;i<r;i++){const c=t.get(i).context;c.count=r,c.first=0===i,c.last=i===r-1,c.even=i%2==0,c.odd=!c.even,this.multiTemplateDataRows?(c.dataIndex=this._renderRows[i].dataIndex,c.renderIndex=i):c.index=this._renderRows[i].dataIndex}}_getCellTemplates(t){return t&&t.columns?Array.from(t.columns,i=>{const r=this._columnDefsByName.get(i);return t.extractCellTemplate(r)}):[]}_applyNativeTableSections(){const t=this._document.createDocumentFragment(),i=[{tag:"thead",outlets:[this._headerRowOutlet]},{tag:"tbody",outlets:[this._rowOutlet,this._noDataRowOutlet]},{tag:"tfoot",outlets:[this._footerRowOutlet]}];for(const r of i){const s=this._document.createElement(r.tag);s.setAttribute("role","rowgroup");for(const c of r.outlets)s.appendChild(c.elementRef.nativeElement);t.appendChild(s)}this._elementRef.nativeElement.appendChild(t)}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){const t=(i,r)=>i||r.hasStickyChanged();this._headerRowDefs.reduce(t,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(t,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(t,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){this._stickyStyler=new jY(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:N()).pipe(pl(this._onDestroy)).subscribe(i=>{this._stickyStyler.direction=i,this.updateStickyColumnStyles()})}_getOwnDefs(t){return t.filter(i=>!i._table||i._table===this)}_updateNoDataRow(){const t=this._customNoDataRow||this._noDataRow;if(!t)return;const i=0===this._rowOutlet.viewContainer.length;if(i===this._isShowingNoDataRow)return;const r=this._noDataRowOutlet.viewContainer;if(i){const s=r.createEmbeddedView(t.templateRef),c=s.rootNodes[0];1===s.rootNodes.length&&(null==c?void 0:c.nodeType)===this._document.ELEMENT_NODE&&(c.setAttribute("role","row"),c.classList.add(t._contentClassName))}else r.clear();this._isShowingNoDataRow=i}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.ZZ4),o.Y36(o.sBO),o.Y36(o.SBq),o.$8M("role"),o.Y36(vC,8),o.Y36(fe),o.Y36(va),o.Y36(FC),o.Y36(sN),o.Y36(lA),o.Y36(uN,12),o.Y36(o.R0b,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(t,i,r){if(1&t&&(o.Suo(r,hA,5),o.Suo(r,wh,5),o.Suo(r,dA,5),o.Suo(r,LC,5),o.Suo(r,VC,5)),2&t){let s;o.iGM(s=o.CRH())&&(i._noDataRow=s.first),o.iGM(s=o.CRH())&&(i._contentColumnDefs=s),o.iGM(s=o.CRH())&&(i._contentRowDefs=s),o.iGM(s=o.CRH())&&(i._contentHeaderRowDefs=s),o.iGM(s=o.CRH())&&(i._contentFooterRowDefs=s)}},viewQuery:function(t,i){if(1&t&&(o.Gf(fA,7),o.Gf(pA,7),o.Gf(mA,7),o.Gf(gA,7)),2&t){let r;o.iGM(r=o.CRH())&&(i._rowOutlet=r.first),o.iGM(r=o.CRH())&&(i._headerRowOutlet=r.first),o.iGM(r=o.CRH())&&(i._footerRowOutlet=r.first),o.iGM(r=o.CRH())&&(i._noDataRowOutlet=r.first)}},hostAttrs:[1,"cdk-table"],hostVars:2,hostBindings:function(t,i){2&t&&o.ekj("cdk-table-fixed-layout",i.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:"multiTemplateDataRows",fixedLayout:"fixedLayout"},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],features:[o._Bn([{provide:wv,useExisting:n},{provide:FC,useClass:OH},{provide:sN,useClass:LH},{provide:uN,useValue:null}])],ngContentSelectors:RY,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(t,i){1&t&&(o.F$t(kY),o.Hsn(0),o.Hsn(1,1),o.GkF(2,0)(3,1)(4,2)(5,3))},directives:[pA,fA,gA,mA],styles:[".cdk-table-fixed-layout{table-layout:fixed}\n"],encapsulation:2}),n})();function yA(n,e){return n.concat(Array.from(e))}let zY=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[qO]]}),n})();const $Y=[[["caption"]],[["colgroup"],["col"]]],qY=["caption","colgroup, col"];let BH=(()=>{class n extends _A{constructor(){super(...arguments),this.stickyCssClass="mat-table-sticky",this.needsPositionStickyOnElement=!1}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=o.n5z(n)))(i||n)}}(),n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:[1,"mat-table"],hostVars:2,hostBindings:function(t,i){2&t&&o.ekj("mat-table-fixed-layout",i.fixedLayout)},exportAs:["matTable"],features:[o._Bn([{provide:FC,useClass:OH},{provide:_A,useExisting:n},{provide:wv,useExisting:n},{provide:sN,useClass:LH},{provide:uN,useValue:null}]),o.qOj],ngContentSelectors:qY,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(t,i){1&t&&(o.F$t($Y),o.Hsn(0),o.Hsn(1,1),o.GkF(2,0)(3,1)(4,2)(5,3))},directives:[pA,fA,gA,mA],styles:["mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}table.mat-table{border-spacing:0}tr.mat-header-row{height:56px}tr.mat-row,tr.mat-footer-row{height:48px}th.mat-header-cell{text-align:left}[dir=rtl] th.mat-header-cell{text-align:right}th.mat-header-cell,td.mat-cell,td.mat-footer-cell{padding:0;border-bottom-width:1px;border-bottom-style:solid}th.mat-header-cell:first-of-type,td.mat-cell:first-of-type,td.mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] th.mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}th.mat-header-cell:last-of-type,td.mat-cell:last-of-type,td.mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] th.mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}.mat-table-sticky{position:sticky !important}.mat-table-fixed-layout{table-layout:fixed}\n"],encapsulation:2}),n})(),dN=(()=>{class n extends Cv{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,selectors:[["","matCellDef",""]],features:[o._Bn([{provide:Cv,useExisting:n}]),o.qOj]}),n})(),hN=(()=>{class n extends Ev{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,selectors:[["","matHeaderCellDef",""]],features:[o._Bn([{provide:Ev,useExisting:n}]),o.qOj]}),n})(),fN=(()=>{class n extends wh{get name(){return this._name}set name(t){this._setNameInput(t)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,selectors:[["","matColumnDef",""]],inputs:{sticky:"sticky",name:["matColumnDef","name"]},features:[o._Bn([{provide:wh,useExisting:n},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),o.qOj]}),n})(),pN=(()=>{class n extends iN{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-header-cell"],features:[o.qOj]}),n})(),mN=(()=>{class n extends rN{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:["role","gridcell",1,"mat-cell"],features:[o.qOj]}),n})(),HH=(()=>{class n extends LC{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,selectors:[["","matHeaderRowDef",""]],inputs:{columns:["matHeaderRowDef","columns"],sticky:["matHeaderRowDefSticky","sticky"]},features:[o._Bn([{provide:LC,useExisting:n}]),o.qOj]}),n})(),jH=(()=>{class n extends dA{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,selectors:[["","matRowDef",""]],inputs:{columns:["matRowDefColumns","columns"],when:["matRowDefWhen","when"]},features:[o._Bn([{provide:dA,useExisting:n}]),o.qOj]}),n})(),GH=(()=>{class n extends aN{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=o.n5z(n)))(i||n)}}(),n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-header-row"],exportAs:["matHeaderRow"],features:[o._Bn([{provide:aN,useExisting:n}]),o.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,i){1&t&&o.GkF(0,0)},directives:[Ch],encapsulation:2}),n})(),zH=(()=>{class n extends cN{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=o.n5z(n)))(i||n)}}(),n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-row"],exportAs:["matRow"],features:[o._Bn([{provide:cN,useExisting:n}]),o.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,i){1&t&&o.GkF(0,0)},directives:[Ch],encapsulation:2}),n})(),nK=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[zY,Xr],Xr]}),n})(),rK=(()=>{class n{constructor(t){this.http=t}getTimeByMonth(t){return this.http.get(`./assets/data/${t}.json`)}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(iA))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),sK=(()=>{class n{constructor(t,i){this.dataService=t,this.datePipe=i,this.dayNum=1,this.date=new Date}ngOnInit(){this.monthDay=this.date.getDate(),this.getTimeByMonth()}getTimeByMonth(){let t=this.date.getMonth();this.dataService.getTimeByMonth(`timing-data-${t+1}`).subscribe(i=>{this.sahriTime=i.sahri,this.iftarTime=i.iftar,this.checkIsFastOver()})}checkIsFastOver(){let t=this.datePipe.transform(this.date,"yyyy-MM-dd"),i=new Date(`${t} ${this.iftarTime[this.monthDay-this.dayNum]} PM`),s=(new Date(`${t} ${this.sahriTime[this.monthDay-this.dayNum]} AM`),setInterval(()=>{if(this.date.getTime()+9e5>i.getTime()){console.log(this.monthDay,"this.monthDay"),this.monthDay=this.monthDay+1;let h=this.date.setDate(this.date.getDate()+1);this.date=new Date(h),clearInterval(s)}},1e3)),c=setInterval(()=>{var h=new Date;let p=i.getTime()-h.getTime();if(p>0){var _=new Date(p).toISOString().slice(11,19);this.iftarTimeLeft=_}else clearInterval(c)},1e3)}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(rK),o.Y36(Ta))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-fasting"]],decls:38,vars:7,consts:[[1,"fastingTiming"],[1,"app-wrapper"],["routerLink","../home",1,"topBackButton"],["width","9","height","16","viewBox","0 0 9 16","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M8 15L1 8L8 1","stroke","#1C1C1C","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],[1,"fastingTimingContent"],[1,"timingBlock"],[1,"sehriIftarHeading"],[1,"timeLeft"],[1,"footerLine"],[1,"heart"]],template:function(t,i){1&t&&(o.TgZ(0,"div",0)(1,"div",1)(2,"div")(3,"a",2),o.O4$(),o.TgZ(4,"svg",3),o._UZ(5,"path",4),o.qZA()(),o.kcU(),o.TgZ(6,"div",5)(7,"h1")(8,"span"),o._uU(9,"Today's"),o.qZA(),o._uU(10," Sehri & Iftar Time"),o.qZA(),o.TgZ(11,"div",6)(12,"div",7),o._uU(13,"Sehri"),o.qZA(),o.TgZ(14,"h4"),o._uU(15),o.TgZ(16,"span"),o._uU(17,"AM"),o.qZA()()(),o.TgZ(18,"div",6)(19,"div",7),o._uU(20,"Iftar"),o.qZA(),o.TgZ(21,"h4"),o._uU(22),o.TgZ(23,"span"),o._uU(24,"PM"),o.qZA()(),o.TgZ(25,"h6",8),o._uU(26),o.qZA()(),o.TgZ(27,"h5"),o._uU(28),o.ALo(29,"date"),o.qZA()()(),o.TgZ(30,"div",9)(31,"p"),o._uU(32,"Designed with "),o.TgZ(33,"span",10),o._uU(34,"\u2764"),o.qZA(),o._uU(35," By "),o.TgZ(36,"span"),o._uU(37,"Zulqarnain"),o.qZA()()()()()),2&t&&(o.xp6(15),o.hij("",null==i.sahriTime?null:i.sahriTime[i.monthDay-i.dayNum]," "),o.xp6(7),o.hij("",null==i.iftarTime?null:i.iftarTime[i.monthDay-i.dayNum]," "),o.xp6(4),o.Oqu(i.iftarTimeLeft),o.xp6(2),o.Oqu(o.xi3(29,4,i.date,"d-MM-yyyy")))},directives:[Ds],pipes:[Ta],styles:[".text-center[_ngcontent-%COMP%]{text-align:center}.app-wrapper[_ngcontent-%COMP%]{text-align:center;min-height:100vh;padding-bottom:53px;box-sizing:border-box;background:#001a2f;background:linear-gradient(135deg,#7463e4 0%,#462fb0 100%);display:flex;justify-content:center;align-items:center;position:relative}.bannerImage[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%}h1[_ngcontent-%COMP%]{color:#fff;line-height:43px;margin-bottom:23px}h1[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;color:#f9f871}.sehriIftarHeading[_ngcontent-%COMP%]{background:#F9F871;display:inline-block;padding:7px 22px;color:#001a2f;font-size:16px;text-transform:uppercase;font-weight:500}h4[_ngcontent-%COMP%]{margin:15px 0;color:#fff;font-weight:600;font-size:55px}h4[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:29px;vertical-align:middle}h5[_ngcontent-%COMP%]{color:#ffbc00;font-weight:400;font-size:21px;margin:0}.footerLine[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#fff}"]}),n})();function oK(n,e){if(1&n&&(o.ynx(0),o.TgZ(1,"div",2)(2,"h5"),o._uU(3,"Fajr"),o.qZA(),o.TgZ(4,"div",3)(5,"div",4)(6,"mat-card")(7,"mat-card-title"),o._uU(8,"Azan"),o.qZA(),o.TgZ(9,"mat-card-content")(10,"div",5),o._uU(11),o.qZA()()()(),o.TgZ(12,"div",4)(13,"mat-card")(14,"mat-card-title"),o._uU(15,"Jamah"),o.qZA(),o.TgZ(16,"mat-card-content")(17,"div",5),o._uU(18),o.qZA()()()()()(),o.TgZ(19,"div",2)(20,"h5"),o._uU(21,"Zuhr"),o.qZA(),o.TgZ(22,"div",3)(23,"div",4)(24,"mat-card")(25,"mat-card-title"),o._uU(26,"Azan"),o.qZA(),o.TgZ(27,"mat-card-content")(28,"div",5),o._uU(29),o.qZA()()()(),o.TgZ(30,"div",4)(31,"mat-card")(32,"mat-card-title"),o._uU(33,"Jamah"),o.qZA(),o.TgZ(34,"mat-card-content")(35,"div",5),o._uU(36),o.qZA()()()()()(),o.TgZ(37,"div",2)(38,"h5"),o._uU(39,"Asr"),o.qZA(),o.TgZ(40,"div",3)(41,"div",4)(42,"mat-card")(43,"mat-card-title"),o._uU(44,"Azan"),o.qZA(),o.TgZ(45,"mat-card-content")(46,"div",5),o._uU(47),o.qZA()()()(),o.TgZ(48,"div",4)(49,"mat-card")(50,"mat-card-title"),o._uU(51,"Jamah"),o.qZA(),o.TgZ(52,"mat-card-content")(53,"div",5),o._uU(54),o.qZA()()()()()(),o.TgZ(55,"div",2)(56,"h5"),o._uU(57,"Magrib"),o.qZA(),o.TgZ(58,"div",3)(59,"div",4)(60,"mat-card")(61,"mat-card-title"),o._uU(62,"Azan"),o.qZA(),o.TgZ(63,"mat-card-content")(64,"div",5),o._uU(65),o.qZA()()()(),o.TgZ(66,"div",4)(67,"mat-card")(68,"mat-card-title"),o._uU(69,"Jamah"),o.qZA(),o.TgZ(70,"mat-card-content")(71,"div",5),o._uU(72),o.qZA()()()()()(),o.TgZ(73,"div",2)(74,"h5"),o._uU(75,"Isha"),o.qZA(),o.TgZ(76,"div",3)(77,"div",4)(78,"mat-card")(79,"mat-card-title"),o._uU(80,"Azan"),o.qZA(),o.TgZ(81,"mat-card-content")(82,"div",5),o._uU(83),o.qZA()()()(),o.TgZ(84,"div",4)(85,"mat-card")(86,"mat-card-title"),o._uU(87,"Jamah"),o.qZA(),o.TgZ(88,"mat-card-content")(89,"div",5),o._uU(90),o.qZA()()()()()(),o.BQk()),2&n){const t=o.oxw();o.xp6(11),o.Oqu(t.timing.first_a),o.xp6(7),o.Oqu(t.timing.first_j),o.xp6(11),o.Oqu(t.timing.second_a),o.xp6(7),o.Oqu(t.timing.second_j),o.xp6(11),o.Oqu(t.timing.third_a),o.xp6(7),o.Oqu(t.timing.third_j),o.xp6(11),o.Oqu(t.timing.fourth_a),o.xp6(7),o.Oqu(t.timing.fourth_j),o.xp6(11),o.Oqu(t.timing.fifth_a),o.xp6(7),o.Oqu(t.timing.fifth_j)}}function aK(n,e){1&n&&(o.TgZ(0,"div",6),o._uU(1,"Loading..."),o.qZA())}let lK=(()=>{class n{constructor(t){this.userService=t}ngOnInit(){this.getTiming()}getTiming(){this.userService.getTiming().subscribe(t=>{this.timing=t.map(i=>Object.assign({id:i.payload.doc.id},i.payload.doc.data())),this.timing=this.timing[0]})}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(Qy))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-timing"]],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["elseBock",""],[1,"time"],[1,"row"],[1,"col-6","timeCard"],[1,"timeT"],[1,"loading"]],template:function(t,i){if(1&t&&(o.YNc(0,oK,91,10,"ng-container",0),o.YNc(1,aK,2,0,"ng-template",null,1,o.W1O)),2&t){const r=o.MAs(2);o.Q6J("ngIf",i.timing)("ngIfElse",r)}},directives:[Gn,gZ,mZ,pZ],styles:[""]}),n})();function cK(n,e){1&n&&(o.O4$(),o.TgZ(0,"svg",12),o._UZ(1,"path",13)(2,"path",14),o.qZA())}function uK(n,e){1&n&&(o.O4$(),o.TgZ(0,"svg",12),o._UZ(1,"path",15)(2,"path",16),o.qZA())}function dK(n,e){1&n&&(o.O4$(),o.TgZ(0,"svg",17),o._UZ(1,"path",18),o.qZA())}function hK(n,e){1&n&&(o.O4$(),o.TgZ(0,"svg",19),o._UZ(1,"path",18),o.qZA())}function fK(n,e){1&n&&(o.O4$(),o.TgZ(0,"svg",20),o._UZ(1,"path",21)(2,"path",22),o.qZA())}function pK(n,e){1&n&&(o.O4$(),o.TgZ(0,"svg",20),o._UZ(1,"path",23)(2,"path",24),o.qZA())}let mK=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-footer"]],decls:23,vars:6,consts:[[1,"site-footerBar"],["routerLinkActive","active"],["routerLink","../home","routerLinkActive",""],["home","routerLinkActive"],["width","19","height","21","viewBox","0 0 19 21","fill","none","xmlns","http://www.w3.org/2000/svg",4,"ngIf"],["routerLink","../fasting","routerLinkActive",""],["fasting","routerLinkActive"],["fill","#FFFFFF","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 64 64",4,"ngIf"],["fill","#AAAAAA","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 64 64",4,"ngIf"],["routerLink","../my-account","routerLinkActive",""],["myAccount","routerLinkActive"],["width","18","height","20","viewBox","0 0 18 20","fill","none","xmlns","http://www.w3.org/2000/svg",4,"ngIf"],["width","19","height","21","viewBox","0 0 19 21","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M1 7.61111L9.5 1L18 7.61111V18C18 18.501 17.801 18.9814 17.4468 19.3356C17.0925 19.6899 16.6121 19.8889 16.1111 19.8889H2.88889C2.38792 19.8889 1.90748 19.6899 1.55324 19.3356C1.19901 18.9814 1 18.501 1 18V7.61111Z","stroke-width","1.5","stroke-linecap","round","stroke-linejoin","round","stroke","#FFFFFF"],["d","M6.66699 19.8888V10.4443H12.3337V19.8888","stroke-width","1.5","stroke-linecap","round","stroke-linejoin","round","stroke","#FFFFFF"],["d","M1 7.61111L9.5 1L18 7.61111V18C18 18.501 17.801 18.9814 17.4468 19.3356C17.0925 19.6899 16.6121 19.8889 16.1111 19.8889H2.88889C2.38792 19.8889 1.90748 19.6899 1.55324 19.3356C1.19901 18.9814 1 18.501 1 18V7.61111Z","stroke-width","1.5","stroke-linecap","round","stroke-linejoin","round","stroke","#AAAAAA"],["d","M6.66699 19.8888V10.4443H12.3337V19.8888","stroke-width","1.5","stroke-linecap","round","stroke-linejoin","round","stroke","#AAAAAA"],["fill","#FFFFFF","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 64 64"],["d","M 32 6 C 17.641 6 6 17.641 6 32 C 6 46.359 17.641 58 32 58 C 46.359 58 58 46.359 58 32 C 58 17.641 46.359 6 32 6 z M 32 10 C 44.15 10 54 19.85 54 32 C 54 44.15 44.15 54 32 54 C 19.85 54 10 44.15 10 32 C 10 19.85 19.85 10 32 10 z M 30.5 14 L 31 18 L 33 18 L 33.5 14 L 30.5 14 z M 44.021484 18.564453 L 33.25 28.203125 A 4 4 0 0 0 32 28 A 4 4 0 0 0 32 36 A 4 4 0 0 0 32.722656 35.931641 L 40.816406 42.638672 L 42.640625 40.816406 L 35.931641 32.720703 A 4 4 0 0 0 35.796875 30.75 L 45.435547 19.978516 L 44.021484 18.564453 z M 14 30.5 L 14 33.5 L 18 33 L 18 31 L 14 30.5 z M 50 30.5 L 46 31 L 46 33 L 50 33.5 L 50 30.5 z M 31 46 L 30.5 50 L 33.5 50 L 33 46 L 31 46 z"],["fill","#AAAAAA","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 64 64"],["width","18","height","20","viewBox","0 0 18 20","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M17 19V17C17 15.9391 16.5786 14.9217 15.8284 14.1716C15.0783 13.4214 14.0609 13 13 13H5C3.93913 13 2.92172 13.4214 2.17157 14.1716C1.42143 14.9217 1 15.9391 1 17V19","stroke-width","1.5","stroke-linecap","round","stroke-linejoin","round","stroke","#FFFFFF"],["d","M9 9C11.2091 9 13 7.20914 13 5C13 2.79086 11.2091 1 9 1C6.79086 1 5 2.79086 5 5C5 7.20914 6.79086 9 9 9Z","stroke-width","1.5","stroke-linecap","round","stroke-linejoin","round","stroke","#FFFFFF"],["d","M17 19V17C17 15.9391 16.5786 14.9217 15.8284 14.1716C15.0783 13.4214 14.0609 13 13 13H5C3.93913 13 2.92172 13.4214 2.17157 14.1716C1.42143 14.9217 1 15.9391 1 17V19","stroke-width","1.5","stroke-linecap","round","stroke-linejoin","round","stroke","#AAAAAA"],["d","M9 9C11.2091 9 13 7.20914 13 5C13 2.79086 11.2091 1 9 1C6.79086 1 5 2.79086 5 5C5 7.20914 6.79086 9 9 9Z","stroke-width","1.5","stroke-linecap","round","stroke-linejoin","round","stroke","#AAAAAA"]],template:function(t,i){if(1&t&&(o.TgZ(0,"div",0)(1,"ul")(2,"li",1)(3,"a",2,3),o.YNc(5,cK,3,0,"svg",4),o.YNc(6,uK,3,0,"svg",4),o.TgZ(7,"span"),o._uU(8,"Home"),o.qZA()()(),o.TgZ(9,"li",1)(10,"a",5,6),o.YNc(12,dK,2,0,"svg",7),o.YNc(13,hK,2,0,"svg",8),o.TgZ(14,"span"),o._uU(15,"Fasting"),o.qZA()()(),o.TgZ(16,"li",1)(17,"a",9,10),o.YNc(19,fK,3,0,"svg",11),o.YNc(20,pK,3,0,"svg",11),o.TgZ(21,"span"),o._uU(22,"Account"),o.qZA()()()()()),2&t){const r=o.MAs(4),s=o.MAs(11),c=o.MAs(18);o.xp6(5),o.Q6J("ngIf",r.isActive),o.xp6(1),o.Q6J("ngIf",!r.isActive),o.xp6(6),o.Q6J("ngIf",s.isActive),o.xp6(1),o.Q6J("ngIf",!s.isActive),o.xp6(6),o.Q6J("ngIf",c.isActive),o.xp6(1),o.Q6J("ngIf",!c.isActive)}},directives:[jE,Ds,Gn],styles:[""]}),n})(),gK=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-home"]],decls:6,vars:0,consts:[[1,"homeComponent","pb-80","pt-30"],[1,"appContainer"],[1,"px-20"],[1,"site-footer"]],template:function(t,i){1&t&&(o.TgZ(0,"div",0)(1,"div",1)(2,"div",2),o._UZ(3,"app-timing"),o.qZA(),o.TgZ(4,"div",3),o._UZ(5,"app-footer"),o.qZA()()())},directives:[lK,mK],styles:[".homeComponent[_ngcontent-%COMP%]{min-height:100vh;background:linear-gradient(135deg,#7463e4 0%,#462fb0 100%);position:relative}"]}),n})();function Re(n,e,t,i){var c,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(n,e,t,i);else for(var h=n.length-1;h>=0;h--)(c=n[h])&&(s=(r<3?c(s):r>3?c(e,t,s):c(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s}function lu(n,e){return function(t,i){e(t,i,n)}}var wa=z(7122);function yK(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"ngx-material-timepicker-24-hours-face",17),o.NdJ("hourChange",function(r){return o.CHM(t),o.oxw(2).onHourChange(r)})("hourSelected",function(r){return o.CHM(t),o.oxw(2).onHourSelected(r)}),o.ALo(1,"async"),o.qZA()}if(2&n){const t=o.oxw(2);o.Q6J("selectedHour",o.lcZ(1,4,t.selectedHour))("minTime",t.minTime)("maxTime",t.maxTime)("format",t.format)}}function vK(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"ngx-material-timepicker-12-hours-face",18),o.NdJ("hourChange",function(r){return o.CHM(t),o.oxw(2).onHourChange(r)})("hourSelected",function(r){return o.CHM(t),o.oxw(2).onHourSelected(r)}),o.ALo(1,"async"),o.ALo(2,"async"),o.qZA()}if(2&n){const t=o.oxw(2);o.Q6J("selectedHour",o.lcZ(1,4,t.selectedHour))("period",o.lcZ(2,6,t.selectedPeriod))("minTime",t.minTime)("maxTime",t.maxTime)}}function bK(n,e){if(1&n&&(o.TgZ(0,"div"),o.YNc(1,yK,2,6,"ngx-material-timepicker-24-hours-face",15),o.YNc(2,vK,3,8,"ng-template",null,16,o.W1O),o.qZA()),2&n){const t=o.MAs(3),i=o.oxw();o.xp6(1),o.Q6J("ngIf",24===i.format)("ngIfElse",t)}}function wK(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"ngx-material-timepicker-minutes-face",19),o.NdJ("minuteChange",function(r){return o.CHM(t),o.oxw().onMinuteChange(r)}),o.ALo(1,"async"),o.ALo(2,"async"),o.ALo(3,"async"),o.qZA()}if(2&n){const t=o.oxw();let i;o.Q6J("selectedMinute",o.lcZ(1,7,t.selectedMinute))("selectedHour",null==(i=o.lcZ(2,9,t.selectedHour))?null:i.time)("minTime",t.minTime)("maxTime",t.maxTime)("format",t.format)("period",o.lcZ(3,11,t.selectedPeriod))("minutesGap",t.minutesGap)}}function CK(n,e){1&n&&o.GkF(0)}function EK(n,e){1&n&&o.GkF(0)}function TK(n,e){1&n&&(o.TgZ(0,"ngx-material-timepicker-button"),o._uU(1,"Cancel"),o.qZA())}function DK(n,e){1&n&&(o.TgZ(0,"ngx-material-timepicker-button"),o._uU(1,"Ok"),o.qZA())}const IK=function(n){return{"timepicker-backdrop-overlay--transparent":n}};function SK(n,e){1&n&&(o.O4$(),o.TgZ(0,"svg",2),o._UZ(1,"path",3),o.qZA())}const AK=[[["","ngxMaterialTimepickerToggleIcon",""]]],MK=["[ngxMaterialTimepickerToggleIcon]"],xK=["clockFace"],kK=["clockHand"],Tv=function(n){return{transform:n}},_N=function(n,e){return{active:n,disabled:e}};function RK(n,e){if(1&n&&(o.TgZ(0,"div",9)(1,"span",10),o.ALo(2,"activeHour"),o._uU(3),o.ALo(4,"timeLocalizer"),o.qZA()()),2&n){const t=e.$implicit,i=o.oxw(2);o.Q6J("ngStyle",o.VKq(11,Tv,"rotateZ("+t.angle+"deg) translateX(-50%)")),o.xp6(1),o.Q6J("ngStyle",o.VKq(13,Tv,"rotateZ(-"+t.angle+"deg)"))("ngClass",o.WLB(15,_N,o.Dn7(2,4,t.time,i.selectedTime.time,i.isClockFaceDisabled),t.disabled)),o.xp6(2),o.hij(" ",o.xi3(4,8,t.time,i.timeUnit.HOUR)," ")}}function OK(n,e){if(1&n&&(o.TgZ(0,"div",13)(1,"span",10),o.ALo(2,"activeHour"),o._uU(3),o.ALo(4,"timeLocalizer"),o.qZA()()),2&n){const t=e.$implicit,i=o.oxw(3);o.Udp("height",i.innerClockFaceSize,"px"),o.Q6J("ngStyle",o.VKq(13,Tv,"rotateZ("+t.angle+"deg) translateX(-50%)")),o.xp6(1),o.Q6J("ngStyle",o.VKq(15,Tv,"rotateZ(-"+t.angle+"deg)"))("ngClass",o.WLB(17,_N,o.Dn7(2,6,t.time,null==i.selectedTime?null:i.selectedTime.time,i.isClockFaceDisabled),t.disabled)),o.xp6(2),o.hij(" ",o.xi3(4,10,t.time,i.timeUnit.HOUR),"")}}function NK(n,e){if(1&n&&(o.TgZ(0,"div",11),o.YNc(1,OK,5,20,"div",12),o.ALo(2,"slice"),o.qZA()),2&n){const t=o.oxw(2);o.Udp("top","calc(50% - "+t.innerClockFaceSize+"px)"),o.xp6(1),o.Q6J("ngForOf",o.Dn7(2,4,t.faceTime,12,24))("ngForTrackBy",t.trackByTime)}}function PK(n,e){if(1&n&&(o.TgZ(0,"div",6),o.YNc(1,RK,5,18,"div",7),o.ALo(2,"slice"),o.YNc(3,NK,3,8,"div",8),o.qZA()),2&n){const t=o.oxw();o.xp6(1),o.Q6J("ngForOf",o.Dn7(2,3,t.faceTime,0,12))("ngForTrackBy",t.trackByTime),o.xp6(2),o.Q6J("ngIf",t.faceTime.length>12)}}function FK(n,e){if(1&n&&(o.TgZ(0,"div",9)(1,"span",10),o.ALo(2,"activeMinute"),o._uU(3),o.ALo(4,"timeLocalizer"),o.ALo(5,"minutesFormatter"),o.qZA()()),2&n){const t=e.$implicit,i=o.oxw(2);o.Q6J("ngStyle",o.VKq(15,Tv,"rotateZ("+t.angle+"deg) translateX(-50%)")),o.xp6(1),o.Q6J("ngStyle",o.VKq(17,Tv,"rotateZ(-"+t.angle+"deg)"))("ngClass",o.WLB(19,_N,o.gM2(2,4,t.time,null==i.selectedTime?null:i.selectedTime.time,i.minutesGap,i.isClockFaceDisabled),t.disabled)),o.xp6(2),o.hij(" ",o.xi3(4,9,o.xi3(5,12,t.time,i.minutesGap),i.timeUnit.MINUTE),"")}}function LK(n,e){if(1&n&&(o.TgZ(0,"div",6),o.YNc(1,FK,6,22,"div",7),o.qZA()),2&n){const t=o.oxw();o.xp6(1),o.Q6J("ngForOf",t.faceTime)("ngForTrackBy",t.trackByTime)}}const VK=function(n){return{"clock-face__clock-hand_minute":n}},WH=["*"];function UK(n,e){1&n&&o.GkF(0)}function BK(n,e){1&n&&(o.TgZ(0,"small",10),o._uU(1," * use arrows ("),o.TgZ(2,"span"),o._uU(3,"\u21c5"),o.qZA(),o._uU(4,") to change the time"),o.qZA())}const HK=function(n){return{"timepicker-dial__hint-container--hidden":n}};function jK(n,e){if(1&n&&(o.TgZ(0,"div",7),o.YNc(1,UK,1,0,"ng-container",8),o.YNc(2,BK,5,0,"ng-template",null,9,o.W1O),o.qZA()),2&n){const t=o.MAs(3),i=o.oxw();o.Q6J("ngClass",o.VKq(2,HK,!i.isHintVisible)),o.xp6(1),o.Q6J("ngTemplateOutlet",i.editableHintTmpl?i.editableHintTmpl:t)}}const GK=function(n){return{"timepicker-dial__period--hidden":n}},bA=function(n){return{"timepicker-dial__item_active":n}};function zK(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"input",2),o.NdJ("ngModelChange",function(r){return o.CHM(t),o.oxw().time=r})("input",function(){return o.CHM(t),o.oxw().updateTime()})("focus",function(r){o.CHM(t);const s=o.oxw();return s.saveTimeAndChangeTimeUnit(r,s.timeUnit)}),o.ALo(1,"timeLocalizer"),o.qZA()}if(2&n){const t=o.oxw();o.Q6J("ngClass",o.VKq(7,bA,t.isActive))("ngModel",o.xi3(1,4,t.time,t.timeUnit))("disabled",t.disabled)("timepickerAutofocus",t.isActive)}}function $K(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"input",3),o.NdJ("ngModelChange",function(r){return o.CHM(t),o.oxw().onModelChange(r)})("input",function(){return o.CHM(t),o.oxw().updateTime()})("focus",function(r){o.CHM(t);const s=o.oxw();return s.saveTimeAndChangeTimeUnit(r,s.timeUnit)})("keydown",function(r){return o.CHM(t),o.oxw().onKeydown(r)})("keypress",function(r){return o.CHM(t),o.oxw().changeTimeByKeyboard(r)}),o.ALo(1,"timeLocalizer"),o.ALo(2,"timeParser"),o.qZA()}if(2&n){const t=o.oxw();o.Q6J("ngClass",o.VKq(11,bA,t.isActive))("ngModel",o.Dn7(1,4,o.xi3(2,8,t.time,t.timeUnit),t.timeUnit,!0))("disabled",t.disabled)("timepickerAutofocus",t.isActive)}}function qK(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"div",3),o.NdJ("@scaleInOut.done",function(){return o.CHM(t),o.oxw().animationDone()}),o.TgZ(1,"p"),o._uU(2,"Current time would be invalid in this period."),o.qZA()()}2&n&&o.Q6J("@scaleInOut",void 0)}function WK(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"ngx-timepicker-period-selector",9),o.NdJ("periodSelected",function(r){return o.CHM(t),o.oxw().changePeriod(r)}),o.qZA()}if(2&n){const t=o.oxw();o.Q6J("selectedPeriod",t.period)("disabled",t.disabled||t.isChangePeriodDisabled)}}function ZK(n,e){1&n&&o.GkF(0)}const YK=function(n){return{"ngx-timepicker__toggle--left":n}};function KK(n,e){if(1&n&&(o.TgZ(0,"ngx-material-timepicker-toggle",10)(1,"span",11),o.YNc(2,ZK,1,0,"ng-container",12),o.qZA()()),2&n){const t=o.oxw(),i=o.MAs(10),r=o.MAs(12);o.Q6J("ngClass",o.VKq(4,YK,"left"===t.buttonAlign))("for",i)("disabled",t.disabled),o.xp6(2),o.Q6J("ngTemplateOutlet",t.toggleIcon||r)}}function QK(n,e){1&n&&(o.O4$(),o.TgZ(0,"svg",13),o._UZ(1,"path",14),o.qZA())}const JK=function(n){return{"ngx-timepicker--disabled":n}},XK=function(n){return{"ngx-timepicker-control--active":n}},ZH=function(n){return{"period-selector__button--active":n}};function eQ(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"ul",6)(1,"li")(2,"button",7),o.NdJ("click",function(){o.CHM(t);const r=o.oxw();return r.select(r.period.AM)}),o._uU(3),o.qZA()(),o.TgZ(4,"li")(5,"button",7),o.NdJ("click",function(){o.CHM(t);const r=o.oxw();return r.select(r.period.PM)}),o._uU(6),o.qZA()()()}if(2&n){const t=o.oxw();o.Q6J("@scaleInOut",void 0)("timepickerAutofocus",!0),o.xp6(2),o.Q6J("ngClass",o.VKq(6,ZH,t.localizedPeriod===t.meridiems[0])),o.xp6(1),o.Oqu(t.meridiems[0]),o.xp6(2),o.Q6J("ngClass",o.VKq(8,ZH,t.localizedPeriod===t.meridiems[1])),o.xp6(1),o.Oqu(t.meridiems[1])}}function tQ(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"div",8),o.NdJ("click",function(){return o.CHM(t),o.oxw().backdropClick()}),o.qZA()}}const nQ=function(n){return{"period-control__button--disabled":n}};function iQ(n,e){1&n&&o.GkF(0)}function rQ(n,e){if(1&n&&(o.TgZ(0,"div",3),o.YNc(1,iQ,1,0,"ng-container",4),o.qZA()),2&n){const t=o.oxw(),i=o.MAs(4);o.Q6J("ngxAppendToInput",t.inputElement),o.xp6(1),o.Q6J("ngTemplateOutlet",i)}}function sQ(n,e){1&n&&o.GkF(0)}function oQ(n,e){if(1&n&&o.YNc(0,sQ,1,0,"ng-container",4),2&n){o.oxw();const t=o.MAs(4);o.Q6J("ngTemplateOutlet",t)}}function aQ(n,e){1&n&&o.Hsn(0)}let cu=class{constructor(){this.backdropClickSubject=new D.x,this.keydownEventSubject=new D.x}get backdropClick(){return this.backdropClickSubject.asObservable().pipe(hn({bufferSize:1,refCount:!0}))}get keydownEvent(){return this.keydownEventSubject.asObservable().pipe(hn({bufferSize:1,refCount:!0}))}dispatchEvent(e){switch(e.type){case"click":this.backdropClickSubject.next(e);break;case"keydown":this.keydownEventSubject.next(e);break;default:throw new Error("no such event type")}}};cu.\u0275fac=function(e){return new(e||cu)},cu.\u0275prov=o.Yz7({token:cu,factory:function(n){return cu.\u0275fac(n)},providedIn:"root"}),cu.ngInjectableDef=(0,o.Yz7)({factory:function(){return new cu},token:cu,providedIn:"root"});let uu=class{constructor(e,t,i,r){this.cfr=e,this.appRef=t,this.injector=i,this.document=r}appendTimepickerToBody(e,t){this.componentRef=this.cfr.resolveComponentFactory(e).create(this.injector),Object.keys(t).forEach(r=>this.componentRef.instance[r]=t[r]),this.appRef.attachView(this.componentRef.hostView),this.document.body.appendChild(this.componentRef.hostView.rootNodes[0])}destroyTimepicker(){this.componentRef.destroy(),this.appRef.detachView(this.componentRef.hostView)}};uu.\u0275fac=function(e){return new(e||uu)(o.LFG(o._Vd),o.LFG(o.z2F),o.LFG(o.zs3),o.LFG(fe,8))},uu.\u0275prov=o.Yz7({token:uu,factory:function(n){return uu.\u0275fac(n)},providedIn:"root"}),uu.ngInjectableDef=(0,o.Yz7)({factory:function(){return new uu((0,o.LFG)(o._Vd),(0,o.LFG)(o.z2F),(0,o.LFG)(o.gxx),(0,o.LFG)(fe,8))},token:uu,providedIn:"root"}),uu=Re([lu(3,(0,o.FiY)()),lu(3,(0,o.tBr)(fe))],uu);var ks=(()=>(function(n){n[n.HOUR=0]="HOUR",n[n.MINUTE=1]="MINUTE"}(ks||(ks={})),ks))(),Rs=(()=>(function(n){n.AM="AM",n.PM="PM"}(Rs||(Rs={})),Rs))(),du=(()=>(function(n){n.TWELVE="hh:mm a",n.TWELVE_SHORT="h:m a",n.TWENTY_FOUR="HH:mm",n.TWENTY_FOUR_SHORT="H:m"}(du||(du={})),du))();function yN(n,e,t="minutes"){return"hours"===t?n.hour>=e.hour:"minutes"===t?n.hasSame(e,t)||n.valueOf()>e.valueOf():void 0}function vN(n,e,t="minutes"){return"hours"===t?n.hour<=e.hour:"minutes"===t?n.hasSame(e,t)||n.valueOf()<=e.valueOf():void 0}function YH(n){return!!([46,8,9,27,13].some(e=>e===n.keyCode)||65==n.keyCode&&(!0===n.ctrlKey||!0===n.metaKey)||67==n.keyCode&&(!0===n.ctrlKey||!0===n.metaKey)||88==n.keyCode&&(!0===n.ctrlKey||!0===n.metaKey)||n.keyCode>=35&&n.keyCode<=40)||!((n.keyCode<48||n.keyCode>57)&&(n.keyCode<96||n.keyCode>105))}let Ir=(()=>{class n{static parseTime(t,i){const{numberingSystem:r,locale:s}=n.getLocaleOptionsByTime(t,i),h=2===t.split(" ").length?du.TWELVE_SHORT:du.TWENTY_FOUR_SHORT;return wa.ou.fromFormat(t,h,{numberingSystem:r,locale:s})}static formatTime(t,i){if(!t)return"Invalid Time";const{format:r}=i,s=n.parseTime(t,i).setLocale(n.DEFAULT_LOCALE);return 24!==r?s.toLocaleString(Object.assign({},wa.ou.TIME_SIMPLE,{hour12:24!==r,numberingSystem:n.DEFAULT_NUMBERING_SYSTEM})).replace(/\u200E/g,""):s.toISOTime({includeOffset:!1,suppressMilliseconds:!0,suppressSeconds:!0}).replace(/\u200E/g,"")}static toLocaleTimeString(t,i={}){const{format:r=n.DEFAULT_FORMAT,locale:s=n.DEFAULT_LOCALE}=i,h=Object.assign({},wa.ou.TIME_SIMPLE,{hourCycle:24===r?"h23":"h12"});return wa.ou.fromFormat(t,24===r?du.TWENTY_FOUR_SHORT:du.TWELVE_SHORT).setLocale(s).toLocaleString(h)}static isTimeAvailable(t,i,r,s,c,h){if(!t)return;const p=this.parseTime(t,{format:h}),_=p.minute;if(c&&_==_&&_%c!=0)throw new Error(`Your minutes - ${_} doesn't match your minutesGap - ${c}`);const E=i&&!r&&yN(p,i,s),S=r&&!i&&vN(p,r,s),P=i&&r&&function lQ(n,e,t,i="minutes"){return"hours"===i?vN(n,t,i)&&yN(n,e,i):"minutes"===i?vN(n,t)&&yN(n,e):void 0}(p,i,r,s);return E||S||P||!i&&!r}static formatHour(t,i,r){if(24===i)return t;const s=r===Rs.AM?t:t+12;return r===Rs.AM&&12===s?0:r===Rs.PM&&24===s?12:s}static fromDateTimeToString(t,i){const r=24===i?du.TWENTY_FOUR:du.TWELVE;return t.reconfigure({numberingSystem:n.DEFAULT_NUMBERING_SYSTEM,locale:n.DEFAULT_LOCALE}).toFormat(r)}static getLocaleOptionsByTime(t,i){const{numberingSystem:r,locale:s}=wa.ou.local().setLocale(i.locale).resolvedLocaleOpts(),c={numberingSystem:r,locale:s},h={numberingSystem:n.DEFAULT_NUMBERING_SYSTEM,locale:n.DEFAULT_LOCALE};return isNaN(parseInt(t,10))?c:h}}return n.DEFAULT_FORMAT=12,n.DEFAULT_LOCALE="en-US",n.DEFAULT_NUMBERING_SYSTEM="latn",n})();const wA={time:12,angle:360},CA={time:0,angle:360};let _l=class{constructor(){this.hourSubject=new Zr(wA),this.minuteSubject=new Zr(CA),this.periodSubject=new Zr(Rs.AM)}set hour(e){this.hourSubject.next(e)}get selectedHour(){return this.hourSubject.asObservable()}set minute(e){this.minuteSubject.next(e)}get selectedMinute(){return this.minuteSubject.asObservable()}set period(e){(e===Rs.AM||e===Rs.PM)&&this.periodSubject.next(e)}get selectedPeriod(){return this.periodSubject.asObservable()}setDefaultTimeIfAvailable(e,t,i,r,s){try{Ir.isTimeAvailable(e,t,i,"minutes",s)&&this.setDefaultTime(e,r)}catch(c){console.error(c)}}getFullTime(e){const t=this.hourSubject.getValue().time,i=this.minuteSubject.getValue().time,h=`${null!=t?t:wA.time}:${null!=i?i:CA.time} ${12===e?this.periodSubject.getValue():""}`.trim();return Ir.formatTime(h,{format:e})}setDefaultTime(e,t){const i=Ir.parseTime(e,{format:t}).toJSDate();if(wa.ou.fromJSDate(i).isValid){const r=e.substr(e.length-2).toUpperCase(),s=i.getHours();this.hour=Object.assign({},wA,{time:cQ(s,r)}),this.minute=Object.assign({},CA,{time:i.getMinutes()}),this.period=r}else this.resetTime()}resetTime(){this.hour=Object.assign({},wA),this.minute=Object.assign({},CA),this.period=Rs.AM}};function cQ(n,e){switch(e){case Rs.AM:return 0===n?12:n;case Rs.PM:return 12===n?12:n-12;default:return n}}_l.\u0275fac=function(e){return new(e||_l)},_l.\u0275prov=o.Yz7({token:_l,factory:function(n){return _l.\u0275fac(n)},providedIn:"root"}),_l.ngInjectableDef=(0,o.Yz7)({factory:function(){return new _l},token:_l,providedIn:"root"});const po=new o.OlP("TimeLocale",{providedIn:"root",factory:()=>Ir.DEFAULT_LOCALE});var Eh=(()=>(function(n){n.ENTER="enter",n.LEAVE="leave"}(Eh||(Eh={})),Eh))();let uQ=(()=>{let n=class{constructor(t,i,r){this.timepickerService=t,this.eventService=i,this.locale=r,this.timeUnit=ks,this.activeTimeUnit=ks.HOUR,this.unsubscribe=new D.x}set defaultTime(t){this._defaultTime=t,this.setDefaultTime(t)}get defaultTime(){return this._defaultTime}onKeydown(t){this.eventService.dispatchEvent(t),t.stopPropagation()}ngOnInit(){this.animationState=!this.disableAnimation&&Eh.ENTER,this.defineTime(),this.selectedHour=this.timepickerService.selectedHour.pipe(hn({bufferSize:1,refCount:!0})),this.selectedMinute=this.timepickerService.selectedMinute.pipe(hn({bufferSize:1,refCount:!0})),this.selectedPeriod=this.timepickerService.selectedPeriod.pipe(hn({bufferSize:1,refCount:!0})),this.timepickerBaseRef.timeUpdated.pipe(pl(this.unsubscribe)).subscribe(this.setDefaultTime.bind(this))}onHourChange(t){this.timepickerService.hour=t,this.onTimeChange()}onHourSelected(t){this.hoursOnly||this.changeTimeUnit(ks.MINUTE),this.timepickerBaseRef.hourSelected.next(t)}onMinuteChange(t){this.timepickerService.minute=t,this.onTimeChange()}changePeriod(t){this.timepickerService.period=t,this.onTimeChange()}changeTimeUnit(t){this.activeTimeUnit=t}setTime(){this.timepickerBaseRef.timeSet.next(this.timepickerService.getFullTime(this.format)),this.close()}close(){this.disableAnimation?this.timepickerBaseRef.close():this.animationState=Eh.LEAVE}animationDone(t){"done"===t.phaseName&&t.toState===Eh.LEAVE&&this.timepickerBaseRef.close()}ngOnDestroy(){this.unsubscribe.next(),this.unsubscribe.complete()}setDefaultTime(t){this.timepickerService.setDefaultTimeIfAvailable(t,this.minTime,this.maxTime,this.format,this.minutesGap)}defineTime(){const t=this.minTime;if(t&&!this.time&&!this.defaultTime){const i=Ir.fromDateTimeToString(t,this.format);this.setDefaultTime(i)}}onTimeChange(){const t=Ir.toLocaleTimeString(this.timepickerService.getFullTime(this.format),{locale:this.locale,format:this.format});this.timepickerBaseRef.timeChanged.emit(t)}};return n.\u0275fac=function(t){return new(t||n)(o.Y36(_l),o.Y36(cu),o.Y36(po))},n.\u0275cmp=o.Xpm({type:n,selectors:[["ngx-material-timepicker-container"]],hostBindings:function(t,i){1&t&&o.NdJ("keydown",function(s){return i.onKeydown(s)})},inputs:{defaultTime:"defaultTime"},features:[o._Bn([_l])],decls:22,vars:31,consts:[[1,"timepicker-backdrop-overlay",3,"overlay","ngClass"],[1,"timepicker-overlay"],[3,"appendToInput","inputElement","ngxMaterialTimepickerTheme"],[1,"timepicker",3,"ngClass"],[1,"timepicker__header"],[3,"format","hour","minute","period","activeTimeUnit","minTime","maxTime","isEditable","editableHintTmpl","minutesGap","hoursOnly","periodChanged","timeUnitChanged","hourChanged","minuteChanged"],[1,"timepicker__main-content"],[1,"timepicker__body",3,"ngSwitch"],[4,"ngSwitchCase"],[3,"selectedMinute","selectedHour","minTime","maxTime","format","period","minutesGap","minuteChange",4,"ngSwitchCase"],[1,"timepicker__actions"],[3,"click"],[4,"ngTemplateOutlet"],["cancelBtnDefault",""],["confirmBtnDefault",""],[3,"selectedHour","minTime","maxTime","format","hourChange","hourSelected",4,"ngIf","ngIfElse"],["ampmHours",""],[3,"selectedHour","minTime","maxTime","format","hourChange","hourSelected"],[3,"selectedHour","period","minTime","maxTime","hourChange","hourSelected"],[3,"selectedMinute","selectedHour","minTime","maxTime","format","period","minutesGap","minuteChange"]],template:function(t,i){if(1&t&&(o._UZ(0,"div",0),o.TgZ(1,"div",1)(2,"ngx-material-timepicker-content",2)(3,"div",3),o.NdJ("@timepicker.done",function(s){return i.animationDone(s)}),o.TgZ(4,"header",4)(5,"ngx-material-timepicker-dial",5),o.NdJ("periodChanged",function(s){return i.changePeriod(s)})("timeUnitChanged",function(s){return i.changeTimeUnit(s)})("hourChanged",function(s){return i.onHourChange(s)})("minuteChanged",function(s){return i.onMinuteChange(s)}),o.ALo(6,"async"),o.ALo(7,"async"),o.ALo(8,"async"),o.qZA()(),o.TgZ(9,"div",6)(10,"div",7),o.YNc(11,bK,4,2,"div",8),o.YNc(12,wK,4,13,"ngx-material-timepicker-minutes-face",9),o.qZA(),o.TgZ(13,"div",10)(14,"div",11),o.NdJ("click",function(){return i.close()}),o.YNc(15,CK,1,0,"ng-container",12),o.qZA(),o.TgZ(16,"div",11),o.NdJ("click",function(){return i.setTime()}),o.YNc(17,EK,1,0,"ng-container",12),o.qZA()()()()()(),o.YNc(18,TK,2,0,"ng-template",null,13,o.W1O),o.YNc(20,DK,2,0,"ng-template",null,14,o.W1O)),2&t){const r=o.MAs(19),s=o.MAs(21);let c,h;o.Q6J("overlay",i.preventOverlayClick)("ngClass",o.VKq(29,IK,i.appendToInput)),o.xp6(2),o.Q6J("appendToInput",i.appendToInput)("inputElement",i.inputElement)("ngxMaterialTimepickerTheme",i.theme),o.xp6(1),o.Q6J("@timepicker",i.animationState)("ngClass",i.timepickerClass),o.xp6(2),o.Q6J("format",i.format)("hour",null==(c=o.lcZ(6,23,i.selectedHour))?null:c.time)("minute",null==(h=o.lcZ(7,25,i.selectedMinute))?null:h.time)("period",o.lcZ(8,27,i.selectedPeriod))("activeTimeUnit",i.activeTimeUnit)("minTime",i.minTime)("maxTime",i.maxTime)("isEditable",i.enableKeyboardInput)("editableHintTmpl",i.editableHintTmpl)("minutesGap",i.minutesGap)("hoursOnly",i.hoursOnly),o.xp6(5),o.Q6J("ngSwitch",i.activeTimeUnit),o.xp6(1),o.Q6J("ngSwitchCase",i.timeUnit.HOUR),o.xp6(1),o.Q6J("ngSwitchCase",i.timeUnit.MINUTE),o.xp6(3),o.Q6J("ngTemplateOutlet",i.cancelBtnTmpl?i.cancelBtnTmpl:r),o.xp6(2),o.Q6J("ngTemplateOutlet",i.confirmBtnTmpl?i.confirmBtnTmpl:s)}},directives:function(){return[DQ,Mi,RQ,fQ,wQ,Gi,gr,Gn,mQ,gQ,_Q,_o,bQ]},pipes:function(){return[fu]},styles:["[_nghost-%COMP%]{--body-background-color:#fff;--primary-font-family:'Roboto',sans-serif;--button-color:deepskyblue;--dial-active-color:#fff;--dial-inactive-color:rgba(255, 255, 255, .5);--dial-background-color:deepskyblue;--dial-editable-active-color:deepskyblue;--dial-editable-background-color:#fff;--clock-face-time-active-color:#fff;--clock-face-time-inactive-color:#6c6c6c;--clock-face-inner-time-inactive-color:#929292;--clock-face-time-disabled-color:#c5c5c5;--clock-face-background-color:#f0f0f0;--clock-hand-color:deepskyblue}.timepicker-backdrop-overlay[_ngcontent-%COMP%]{position:fixed;top:0;bottom:0;right:0;left:0;background-color:rgba(0,0,0,.3);z-index:999;pointer-events:auto}.timepicker-backdrop-overlay--transparent[_ngcontent-%COMP%]{background-color:transparent}.timepicker-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;z-index:999;pointer-events:none}.timepicker[_ngcontent-%COMP%]{width:300px;border-radius:2px;box-shadow:rgba(0,0,0,.25) 0 14px 45px,rgba(0,0,0,.22) 0 10px 18px;outline:0;position:static;z-index:999;pointer-events:auto}.timepicker__header[_ngcontent-%COMP%]{padding:15px 30px;background-color:#00bfff}@supports (background-color:var(--dial-background-color)){.timepicker__header[_ngcontent-%COMP%]{background-color:var(--dial-background-color)}}.timepicker__body[_ngcontent-%COMP%]{padding:15px 5px;display:flex;justify-content:center;align-items:center;background-color:#fff}@supports (background-color:var(--body-background-color)){.timepicker__body[_ngcontent-%COMP%]{background-color:var(--body-background-color)}}.timepicker__actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;padding:15px;background-color:#fff}@supports (background-color:var(--body-background-color)){.timepicker__actions[_ngcontent-%COMP%]{background-color:var(--body-background-color)}}@media (max-device-width:1023px) and (orientation:landscape){.timepicker[_ngcontent-%COMP%]{display:flex;width:515px}.timepicker__header[_ngcontent-%COMP%]{display:flex;align-items:center}.timepicker__main-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%}.timepicker__actions[_ngcontent-%COMP%]{padding:5px;margin-top:-1px}}"],data:{animation:[CC("timepicker",[ap(`* => ${Eh.ENTER}`,[xs({transform:"translateY(-30%)"}),id("0.2s ease-out",xs({transform:"translateY(0)"}))]),ap(`${Eh.ENTER} => ${Eh.LEAVE}`,[xs({transform:"translateY(0)",opacity:1}),id("0.2s ease-out",xs({transform:"translateY(-30%)",opacity:0}))])])]}}),Re([(0,o.IIB)()],n.prototype,"defaultTime",null),Re([(0,o.L6J)("keydown",["$event"])],n.prototype,"onKeydown",null),n=Re([lu(2,(0,o.tBr)(po))],n),n})(),KH=(()=>{let n=class{constructor(t,i){this.eventService=t,this.domService=i,this.timeUpdated=new D.x,this.isEsc=!0,this.hoursOnly=!1,this.timeSet=new o.vpe,this.opened=new o.vpe,this.closed=new o.vpe,this.hourSelected=new o.vpe,this.timeChanged=new o.vpe,this.unsubscribe=new D.x}set ngxMaterialTimepickerTheme(t){console.warn("'ngxMaterialTimepickerTheme' is deprecated. Use 'theme' instead"),this._ngxMaterialTimepickerTheme=t}set format(t){this._format=24===t?24:12}get format(){return this.timepickerInput?this.timepickerInput.format:this._format}set minutesGap(t){null!=t&&(t=Math.floor(t),this._minutesGap=t<=59?t:1)}get minutesGap(){return this._minutesGap}get minTime(){return this.timepickerInput?this.timepickerInput.min:this.min}get maxTime(){return this.timepickerInput?this.timepickerInput.max:this.max}get disabled(){return this.timepickerInput&&this.timepickerInput.disabled}get time(){return this.timepickerInput&&this.timepickerInput.value}get inputElement(){return this.timepickerInput&&this.timepickerInput.element}registerInput(t){if(this.timepickerInput)throw Error("A Timepicker can only be associated with a single input.");this.timepickerInput=t}open(){this.domService.appendTimepickerToBody(uQ,{timepickerBaseRef:this,time:this.time,defaultTime:this.defaultTime,maxTime:this.maxTime,minTime:this.minTime,format:this.format,minutesGap:this.minutesGap,disableAnimation:this.disableAnimation,cancelBtnTmpl:this.cancelBtnTmpl,confirmBtnTmpl:this.confirmBtnTmpl,editableHintTmpl:this.editableHintTmpl,disabled:this.disabled,enableKeyboardInput:this.enableKeyboardInput,preventOverlayClick:this.preventOverlayClick,appendToInput:this.appendToInput,hoursOnly:this.hoursOnly,theme:this.theme||this._ngxMaterialTimepickerTheme,timepickerClass:this.timepickerClass,inputElement:this.inputElement}),this.opened.next(),this.subscribeToEvents()}close(){this.domService.destroyTimepicker(),this.closed.next(),this.unsubscribeFromEvents()}updateTime(t){this.timeUpdated.next(t)}subscribeToEvents(){(0,Q.T)(this.eventService.backdropClick,this.eventService.keydownEvent.pipe(kn(t=>27===t.keyCode&&this.isEsc))).pipe(pl(this.unsubscribe)).subscribe(()=>this.close())}unsubscribeFromEvents(){this.unsubscribe.next(),this.unsubscribe.complete()}};return n.\u0275fac=function(t){return new(t||n)(o.Y36(cu),o.Y36(uu))},n.\u0275cmp=o.Xpm({type:n,selectors:[["ngx-material-timepicker"]],inputs:{isEsc:["ESC","isEsc"],hoursOnly:"hoursOnly",ngxMaterialTimepickerTheme:"ngxMaterialTimepickerTheme",format:"format",minutesGap:"minutesGap",cancelBtnTmpl:"cancelBtnTmpl",editableHintTmpl:"editableHintTmpl",confirmBtnTmpl:"confirmBtnTmpl",enableKeyboardInput:"enableKeyboardInput",preventOverlayClick:"preventOverlayClick",disableAnimation:"disableAnimation",appendToInput:"appendToInput",defaultTime:"defaultTime",timepickerClass:"timepickerClass",theme:"theme",min:"min",max:"max"},outputs:{timeSet:"timeSet",opened:"opened",closed:"closed",hourSelected:"hourSelected",timeChanged:"timeChanged"},decls:0,vars:0,template:function(t,i){},encapsulation:2}),Re([(0,o.IIB)()],n.prototype,"cancelBtnTmpl",void 0),Re([(0,o.IIB)()],n.prototype,"editableHintTmpl",void 0),Re([(0,o.IIB)()],n.prototype,"confirmBtnTmpl",void 0),Re([(0,o.IIB)("ESC")],n.prototype,"isEsc",void 0),Re([(0,o.IIB)()],n.prototype,"enableKeyboardInput",void 0),Re([(0,o.IIB)()],n.prototype,"preventOverlayClick",void 0),Re([(0,o.IIB)()],n.prototype,"disableAnimation",void 0),Re([(0,o.IIB)()],n.prototype,"appendToInput",void 0),Re([(0,o.IIB)()],n.prototype,"hoursOnly",void 0),Re([(0,o.IIB)()],n.prototype,"defaultTime",void 0),Re([(0,o.IIB)()],n.prototype,"timepickerClass",void 0),Re([(0,o.IIB)()],n.prototype,"theme",void 0),Re([(0,o.IIB)()],n.prototype,"min",void 0),Re([(0,o.IIB)()],n.prototype,"max",void 0),Re([(0,o.IIB)()],n.prototype,"ngxMaterialTimepickerTheme",null),Re([(0,o.IIB)()],n.prototype,"format",null),Re([(0,o.IIB)()],n.prototype,"minutesGap",null),Re([(0,o.r_U)()],n.prototype,"timeSet",void 0),Re([(0,o.r_U)()],n.prototype,"opened",void 0),Re([(0,o.r_U)()],n.prototype,"closed",void 0),Re([(0,o.r_U)()],n.prototype,"hourSelected",void 0),Re([(0,o.r_U)()],n.prototype,"timeChanged",void 0),n})(),bN=(()=>{let n=class{};return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=o.lG2({type:n,selectors:[["","ngxMaterialTimepickerToggleIcon",""]]}),n})(),hQ=(()=>{let n=class{get disabled(){return void 0===this._disabled?this.timepicker.disabled:this._disabled}set disabled(t){this._disabled=t}open(t){this.timepicker&&(this.timepicker.open(),t.stopPropagation())}};return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["ngx-material-timepicker-toggle"]],contentQueries:function(t,i,r){if(1&t&&o.Suo(r,bN,7),2&t){let s;o.iGM(s=o.CRH())&&(i.customIcon=s.first)}},inputs:{disabled:"disabled",timepicker:["for","timepicker"]},ngContentSelectors:MK,decls:3,vars:2,consts:[["type","button",1,"ngx-material-timepicker-toggle",3,"disabled","click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","width","24px","height","24px",4,"ngIf"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","width","24px","height","24px"],["d","M 12 2 C 6.4889971 2 2 6.4889971 2 12 C 2 17.511003                   6.4889971 22 12 22 C 17.511003 22 22 17.511003 22 12 C 22 6.4889971 17.511003 2 12 2 z M 12 4 C 16.430123 4 20 7.5698774 20 12 C 20 16.430123 16.430123 20 12 20 C 7.5698774 20 4 16.430123 4 12 C 4 7.5698774 7.5698774 4 12 4 z M 11 6 L 11 12.414062 L 15.292969 16.707031 L 16.707031 15.292969 L 13 11.585938 L 13 6 L 11 6 z"]],template:function(t,i){1&t&&(o.F$t(AK),o.TgZ(0,"button",0),o.NdJ("click",function(s){return i.open(s)}),o.YNc(1,SK,2,0,"svg",1),o.Hsn(2),o.qZA()),2&t&&(o.Q6J("disabled",i.disabled),o.xp6(1),o.Q6J("ngIf",!i.customIcon))},directives:[Gn],styles:[".ngx-material-timepicker-toggle[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;padding:4px;background-color:transparent;border-radius:50%;text-align:center;border:none;outline:0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:background-color .3s;cursor:pointer}.ngx-material-timepicker-toggle[_ngcontent-%COMP%]:focus{background-color:rgba(0,0,0,.07)}"]}),Re([(0,o.IIB)("for")],n.prototype,"timepicker",void 0),Re([(0,o.IIB)()],n.prototype,"disabled",null),Re([(0,o.aQ5)(bN,{static:!0})],n.prototype,"customIcon",void 0),n})();var wN;let Go=wN=class{constructor(e,t){this.elementRef=e,this.locale=t,this._format=12,this._value="",this.timepickerSubscriptions=[],this.onTouched=()=>{},this.onChange=()=>{}}set format(e){this._format=24===e?24:12,e&&this.previousFormat&&this.previousFormat!==this._format&&(this.value=this._value,this._timepicker.updateTime(this._value)),this.previousFormat=this._format}get format(){return this._format}set min(e){this._min="string"!=typeof e?e:Ir.parseTime(e,{locale:this.locale,format:this.format})}get min(){return this._min}set max(e){this._max="string"!=typeof e?e:Ir.parseTime(e,{locale:this.locale,format:this.format})}get max(){return this._max}set timepicker(e){this.registerTimepicker(e)}set value(e){if(!e)return this._value="",void this.updateInputValue();const t=Ir.formatTime(e,{locale:this.locale,format:this.format});if(Ir.isTimeAvailable(t,this._min,this._max,"minutes",this._timepicker.minutesGap,this._format))return this._value=t,void this.updateInputValue();console.warn("Selected time doesn't match min or max value")}get value(){return this._value?Ir.toLocaleTimeString(this._value,{format:this.format,locale:this.locale}):""}get element(){return this.elementRef&&this.elementRef.nativeElement}set defaultTime(e){this._timepicker.defaultTime=Ir.formatTime(e,{locale:this.locale,format:this.format})}updateValue(e){this.value=e,this.onChange(e)}ngOnChanges(e){e.value&&e.value.currentValue&&(this.defaultTime=e.value.currentValue)}onClick(e){this.disableClick||(this._timepicker.open(),e.stopPropagation())}writeValue(e){this.value=e,e&&(this.defaultTime=e)}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.disabled=e}ngOnDestroy(){this.timepickerSubscriptions.forEach(e=>e.unsubscribe())}registerTimepicker(e){if(!e)throw new Error("NgxMaterialTimepickerComponent is not defined. Please make sure you passed the timepicker to ngxTimepicker directive");this._timepicker=e,this._timepicker.registerInput(this),this.timepickerSubscriptions.push(this._timepicker.timeSet.subscribe(t=>{this.value=t,this.onChange(this.value),this.onTouched(),this.defaultTime=this._value}))}updateInputValue(){this.elementRef.nativeElement.value=this.value}};Go.\u0275fac=function(e){return new(e||Go)(o.Y36(o.SBq),o.Y36(po))},Go.\u0275dir=o.lG2({type:Go,selectors:[["","ngxTimepicker",""]],hostVars:1,hostBindings:function(e,t){1&e&&o.NdJ("change",function(r){return t.updateValue(r.target.value)})("blur",function(){return t.onTouched()})("click",function(r){return t.onClick(r)}),2&e&&o.Ikx("disabled",t.disabled)},inputs:{format:"format",value:"value",min:"min",max:"max",timepicker:["ngxTimepicker","timepicker"],disabled:"disabled",disableClick:"disableClick"},features:[o._Bn([{provide:lc,useExisting:wN,multi:!0}]),o.TTD]}),Go.ctorParameters=()=>[{type:o.SBq},{type:String,decorators:[{type:o.tBr,args:[po]}]}],Re([(0,o.IIB)()],Go.prototype,"format",null),Re([(0,o.IIB)()],Go.prototype,"min",null),Re([(0,o.IIB)()],Go.prototype,"max",null),Re([(0,o.IIB)("ngxTimepicker")],Go.prototype,"timepicker",null),Re([(0,o.IIB)()],Go.prototype,"value",null),Re([(0,o.IIB)()],Go.prototype,"disabled",void 0),Re([(0,o.IIB)()],Go.prototype,"disableClick",void 0),Re([(0,o.L6J)("click",["$event"])],Go.prototype,"onClick",null),Go=wN=Re([lu(1,(0,o.tBr)(po))],Go);let fQ=(()=>{let n=class{constructor(t){this.element=t.nativeElement}ngAfterViewInit(){this.theme&&this.setTheme(this.theme)}setTheme(t){for(const i in t)if(t.hasOwnProperty(i)){if("string"==typeof t[i]){for(const r in t)t.hasOwnProperty(r)&&this.element.style.setProperty(`--${pQ(r)}`,t[r]);return}this.setTheme(t[i])}}};return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.SBq))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngxMaterialTimepickerTheme",""]],inputs:{theme:["ngxMaterialTimepickerTheme","theme"]}}),Re([(0,o.IIB)("ngxMaterialTimepickerTheme")],n.prototype,"theme",void 0),n})();function pQ(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}class Ks{static getHours(e){return Array(e).fill(1).map((t,i)=>{const s=t+i;return{time:24===s?0:s,angle:30*s}})}static disableHours(e,t){return t.min||t.max?e.map(i=>{const r=24===t.format?i.time:Ir.formatHour(i.time,t.format,t.period),s=wa.ou.fromObject({hour:r}).toFormat(du.TWELVE);return Object.assign({},i,{disabled:!Ir.isTimeAvailable(s,t.min,t.max,"hours")})}):e}static getMinutes(e=1){const r=[];for(let s=0;s<60;s++){const c=6*s;s%e==0&&r.push({time:s,angle:0!==c?c:360})}return r}static disableMinutes(e,t,i){if(i.min||i.max){const r=Ir.formatHour(t,i.format,i.period);return e.map(s=>{const c=wa.ou.fromObject({hour:r,minute:s.time}).toFormat(du.TWELVE);return Object.assign({},s,{disabled:!Ir.isTimeAvailable(c,i.min,i.max,"minutes")})})}return e}}let QH=(()=>{class n{constructor(t){this.hourChange=new o.vpe,this.hourSelected=new o.vpe,this.hoursList=[],this.hoursList=Ks.getHours(t)}onTimeSelected(t){this.hourSelected.next(t)}}return n.\u0275fac=function(t){o.$Z()},n.\u0275dir=o.lG2({type:n,inputs:{selectedHour:"selectedHour",minTime:"minTime",maxTime:"maxTime",format:"format"},outputs:{hourChange:"hourChange",hourSelected:"hourSelected"}}),Re([(0,o.IIB)()],n.prototype,"selectedHour",void 0),Re([(0,o.IIB)()],n.prototype,"minTime",void 0),Re([(0,o.IIB)()],n.prototype,"maxTime",void 0),Re([(0,o.IIB)()],n.prototype,"format",void 0),Re([(0,o.r_U)()],n.prototype,"hourChange",void 0),Re([(0,o.r_U)()],n.prototype,"hourSelected",void 0),n})(),mQ=(()=>{let n=class extends QH{constructor(){super(24)}ngAfterContentInit(){this.hoursList=Ks.disableHours(this.hoursList,{min:this.minTime,max:this.maxTime,format:this.format})}};return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["ngx-material-timepicker-24-hours-face"]],features:[o.qOj],decls:1,vars:3,consts:[[3,"selectedTime","faceTime","format","timeChange","timeSelected"]],template:function(t,i){1&t&&(o.TgZ(0,"ngx-material-timepicker-face",0),o.NdJ("timeChange",function(s){return i.hourChange.next(s)})("timeSelected",function(s){return i.onTimeSelected(s)}),o.qZA()),2&t&&o.Q6J("selectedTime",i.selectedHour)("faceTime",i.hoursList)("format",i.format)},directives:function(){return[CN]},encapsulation:2,changeDetection:0}),n})(),gQ=(()=>{let n=class extends QH{constructor(){super(12)}ngOnChanges(t){t.period&&t.period.currentValue&&(this.hoursList=Ks.disableHours(this.hoursList,{min:this.minTime,max:this.maxTime,format:this.format,period:this.period}))}};return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["ngx-material-timepicker-12-hours-face"]],inputs:{period:"period"},features:[o.qOj,o.TTD],decls:1,vars:2,consts:[[3,"selectedTime","faceTime","timeChange","timeSelected"]],template:function(t,i){1&t&&(o.TgZ(0,"ngx-material-timepicker-face",0),o.NdJ("timeChange",function(s){return i.hourChange.next(s)})("timeSelected",function(s){return i.onTimeSelected(s)}),o.qZA()),2&t&&o.Q6J("selectedTime",i.selectedHour)("faceTime",i.hoursList)},directives:function(){return[CN]},encapsulation:2,changeDetection:0}),Re([(0,o.IIB)()],n.prototype,"period",void 0),n})(),_Q=(()=>{let n=class{constructor(){this.minutesList=[],this.timeUnit=ks,this.minuteChange=new o.vpe}ngOnChanges(t){if(t.period&&t.period.currentValue){const i=Ks.getMinutes(this.minutesGap);this.minutesList=Ks.disableMinutes(i,this.selectedHour,{min:this.minTime,max:this.maxTime,format:this.format,period:this.period})}}};return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["ngx-material-timepicker-minutes-face"]],inputs:{selectedMinute:"selectedMinute",selectedHour:"selectedHour",period:"period",minTime:"minTime",maxTime:"maxTime",format:"format",minutesGap:"minutesGap"},outputs:{minuteChange:"minuteChange"},features:[o.TTD],decls:1,vars:4,consts:[[3,"faceTime","selectedTime","minutesGap","unit","timeChange"]],template:function(t,i){1&t&&(o.TgZ(0,"ngx-material-timepicker-face",0),o.NdJ("timeChange",function(s){return i.minuteChange.next(s)}),o.qZA()),2&t&&o.Q6J("faceTime",i.minutesList)("selectedTime",i.selectedMinute)("minutesGap",i.minutesGap)("unit",i.timeUnit.MINUTE)},directives:function(){return[CN]},encapsulation:2}),Re([(0,o.IIB)()],n.prototype,"selectedMinute",void 0),Re([(0,o.IIB)()],n.prototype,"selectedHour",void 0),Re([(0,o.IIB)()],n.prototype,"period",void 0),Re([(0,o.IIB)()],n.prototype,"minTime",void 0),Re([(0,o.IIB)()],n.prototype,"maxTime",void 0),Re([(0,o.IIB)()],n.prototype,"format",void 0),Re([(0,o.IIB)()],n.prototype,"minutesGap",void 0),Re([(0,o.r_U)()],n.prototype,"minuteChange",void 0),n})();const EA_small_height="75px",EA_small_top="calc(50% - 75px)",EA_large_height="103px",EA_large_top="calc(50% - 103px)";let CN=(()=>{let n=class{constructor(){this.timeUnit=ks,this.innerClockFaceSize=85,this.timeChange=new o.vpe,this.timeSelected=new o.vpe}ngAfterViewInit(){this.setClockHandPosition(),this.addTouchEvents()}ngOnChanges(t){const i=t.faceTime,r=t.selectedTime;i&&i.currentValue&&r&&r.currentValue&&(this.selectedTime=this.faceTime.find(s=>s.time===this.selectedTime.time)),r&&r.currentValue&&this.setClockHandPosition(),i&&i.currentValue&&setTimeout(()=>this.selectAvailableTime())}trackByTime(t,i){return i.time}onMousedown(t){t.preventDefault(),this.isStarted=!0}selectTime(t){if(!this.isStarted&&t instanceof MouseEvent&&"click"!==t.type)return;const i=this.clockFace.nativeElement.getBoundingClientRect(),r=i.left+i.width/2,s=i.top+i.height/2,c=180*Math.atan(Math.abs(t.clientX-r)/Math.abs(t.clientY-s))/Math.PI,h=function vQ(n,e,t,i,r){return i>e&&t>=n?180-r:i>e&&t<n?180+r:i<e&&t<n?360-r:r}(r,s,t.clientX,t.clientY,c),p=this.format&&this.isInnerClockFace(r,s,t.clientX,t.clientY),S=(function yQ(n,e){return Math.round(n/e)*e}(h,this.unit===ks.MINUTE?6*(this.minutesGap||1):30)||360)+(p?360:0),P=this.faceTime.find(H=>H.angle===S);P&&!P.disabled&&(this.timeChange.next(P),this.isStarted||this.timeSelected.next(P.time))}onMouseup(t){t.preventDefault(),this.isStarted=!1}ngOnDestroy(){this.removeTouchEvents()}addTouchEvents(){this.touchStartHandler=this.onMousedown.bind(this),this.touchEndHandler=this.onMouseup.bind(this),this.clockFace.nativeElement.addEventListener("touchstart",this.touchStartHandler),this.clockFace.nativeElement.addEventListener("touchend",this.touchEndHandler)}removeTouchEvents(){this.clockFace.nativeElement.removeEventListener("touchstart",this.touchStartHandler),this.clockFace.nativeElement.removeEventListener("touchend",this.touchEndHandler)}setClockHandPosition(){24===this.format&&(this.selectedTime.time>12||0===this.selectedTime.time?this.decreaseClockHand():this.increaseClockHand()),this.clockHand.nativeElement.style.transform=`rotate(${this.selectedTime.angle}deg)`}selectAvailableTime(){const t=this.faceTime.find(i=>this.selectedTime.time===i.time);if(this.isClockFaceDisabled=this.faceTime.every(i=>i.disabled),t&&t.disabled&&!this.isClockFaceDisabled){const i=this.faceTime.find(r=>!r.disabled);this.timeChange.next(i)}}isInnerClockFace(t,i,r,s){return Math.sqrt(Math.pow(r-t,2)+Math.pow(s-i,2))<this.innerClockFaceSize}decreaseClockHand(){this.clockHand.nativeElement.style.height=EA_small_height,this.clockHand.nativeElement.style.top=EA_small_top}increaseClockHand(){this.clockHand.nativeElement.style.height=EA_large_height,this.clockHand.nativeElement.style.top=EA_large_top}};return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["ngx-material-timepicker-face"]],viewQuery:function(t,i){if(1&t&&(o.Gf(xK,7),o.Gf(kK,7)),2&t){let r;o.iGM(r=o.CRH())&&(i.clockFace=r.first),o.iGM(r=o.CRH())&&(i.clockHand=r.first)}},hostBindings:function(t,i){1&t&&o.NdJ("mousedown",function(s){return i.onMousedown(s)})("click",function(s){return i.selectTime(s)})("touchmove",function(s){return i.selectTime(s.changedTouches[0])})("touchend",function(s){return i.selectTime(s.changedTouches[0])})("mousemove",function(s){return i.selectTime(s)})("mouseup",function(s){return i.onMouseup(s)})},inputs:{selectedTime:"selectedTime",faceTime:"faceTime",unit:"unit",format:"format",minutesGap:"minutesGap"},outputs:{timeChange:"timeChange",timeSelected:"timeSelected"},features:[o.TTD],decls:7,vars:6,consts:[[1,"clock-face"],["clockFace",""],["class","clock-face__container",4,"ngIf","ngIfElse"],[1,"clock-face__clock-hand",3,"ngClass","hidden"],["clockHand",""],["minutesFace",""],[1,"clock-face__container"],["class","clock-face__number clock-face__number--outer",3,"ngStyle",4,"ngFor","ngForOf","ngForTrackBy"],["class","clock-face__inner",3,"top",4,"ngIf"],[1,"clock-face__number","clock-face__number--outer",3,"ngStyle"],[3,"ngStyle","ngClass"],[1,"clock-face__inner"],["class","clock-face__number clock-face__number--inner",3,"ngStyle","height",4,"ngFor","ngForOf","ngForTrackBy"],[1,"clock-face__number","clock-face__number--inner",3,"ngStyle"]],template:function(t,i){if(1&t&&(o.TgZ(0,"div",0,1),o.YNc(2,PK,4,7,"div",2),o._UZ(3,"span",3,4),o.qZA(),o.YNc(5,LK,2,2,"ng-template",null,5,o.W1O)),2&t){const r=o.MAs(6);o.xp6(2),o.Q6J("ngIf",i.unit!==i.timeUnit.MINUTE)("ngIfElse",r),o.xp6(1),o.Q6J("ngClass",o.VKq(4,VK,i.unit===i.timeUnit.MINUTE))("hidden",i.isClockFaceDisabled)}},directives:function(){return[Gn,xi,Cl,Mi]},pipes:function(){return[Wo,xQ,TN,kQ,IQ]},styles:[".clock-face[_ngcontent-%COMP%]{width:290px;height:290px;border-radius:50%;position:relative;display:flex;justify-content:center;padding:20px;box-sizing:border-box;background-color:#f0f0f0}@supports (background-color:var(--clock-face-background-color)){.clock-face[_ngcontent-%COMP%]{background-color:var(--clock-face-background-color)}}.clock-face__inner[_ngcontent-%COMP%]{position:absolute}.clock-face__container[_ngcontent-%COMP%]{margin-left:-2px}.clock-face__number[_ngcontent-%COMP%]{position:absolute;transform-origin:0 100%;width:50px;text-align:center;z-index:2}.clock-face__number--outer[_ngcontent-%COMP%]{height:calc(290px / 2 - 20px)}.clock-face__number--outer[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{font-size:16px;color:#6c6c6c}@supports (color:var(--clock-face-time-inactive-color)){.clock-face__number--outer[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{color:var(--clock-face-time-inactive-color)}}.clock-face__number--inner[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{font-size:14px;color:#929292}@supports (color:var(--clock-face-inner-time-inactive-color)){.clock-face__number--inner[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{color:var(--clock-face-inner-time-inactive-color)}}.clock-face__number[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;width:30px;height:30px;display:flex;justify-content:center;align-items:center;margin:auto;border-radius:50%;font-weight:500;font-family:Roboto,sans-serif}@supports (font-family:var(--primary-font-family)){.clock-face__number[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{font-family:var(--primary-font-family)}}.clock-face__number[_ngcontent-%COMP%] > span.active[_ngcontent-%COMP%]{background-color:#00bfff;color:#fff}@supports (background-color:var(--clock-hand-color)){.clock-face__number[_ngcontent-%COMP%] > span.active[_ngcontent-%COMP%]{background-color:var(--clock-hand-color);color:var(--clock-face-time-active-color)}}.clock-face__number[_ngcontent-%COMP%] > span.disabled[_ngcontent-%COMP%]{color:#c5c5c5}@supports (color:var(--clock-face-time-disabled-color)){.clock-face__number[_ngcontent-%COMP%] > span.disabled[_ngcontent-%COMP%]{color:var(--clock-face-time-disabled-color)}}.clock-face__clock-hand[_ngcontent-%COMP%]{height:103px;width:2px;transform-origin:0 100%;position:absolute;top:calc(50% - 103px);z-index:1;background-color:#00bfff}@supports (background-color:var(--clock-hand-color)){.clock-face__clock-hand[_ngcontent-%COMP%]{background-color:var(--clock-hand-color)}}.clock-face__clock-hand[_ngcontent-%COMP%]:after{content:'';width:7px;height:7px;border-radius:50%;background-color:inherit;position:absolute;bottom:-3px;left:-3.5px}.clock-face__clock-hand_minute[_ngcontent-%COMP%]:before{content:'';width:7px;height:7px;background-color:#fff;border-radius:50%;position:absolute;top:-8px;left:calc(50% - 8px);box-sizing:content-box;border:4px solid #00bfff}@supports (border-color:var(--clock-hand-color)){.clock-face__clock-hand_minute[_ngcontent-%COMP%]:before{border-color:var(--clock-hand-color)}}@media (max-device-width:1023px) and (orientation:landscape){.clock-face[_ngcontent-%COMP%]{width:225px;height:225px;padding:5px}.clock-face__number--outer[_ngcontent-%COMP%]{height:calc(225px / 2 - 5px)}.clock-face__clock-hand_minute[_ngcontent-%COMP%]:before{top:0}}"],changeDetection:0}),Re([(0,o.IIB)()],n.prototype,"faceTime",void 0),Re([(0,o.IIB)()],n.prototype,"selectedTime",void 0),Re([(0,o.IIB)()],n.prototype,"unit",void 0),Re([(0,o.IIB)()],n.prototype,"format",void 0),Re([(0,o.IIB)()],n.prototype,"minutesGap",void 0),Re([(0,o.r_U)()],n.prototype,"timeChange",void 0),Re([(0,o.r_U)()],n.prototype,"timeSelected",void 0),Re([(0,o.i9L)("clockFace",{static:!0})],n.prototype,"clockFace",void 0),Re([(0,o.i9L)("clockHand",{static:!0})],n.prototype,"clockHand",void 0),Re([(0,o.L6J)("mousedown",["$event"])],n.prototype,"onMousedown",null),Re([(0,o.L6J)("click",["$event"]),(0,o.L6J)("touchmove",["$event.changedTouches[0]"]),(0,o.L6J)("touchend",["$event.changedTouches[0]"]),(0,o.L6J)("mousemove",["$event"])],n.prototype,"selectTime",null),Re([(0,o.L6J)("mouseup",["$event"])],n.prototype,"onMouseup",null),n})(),bQ=(()=>{let n=class{};return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["ngx-material-timepicker-button"]],ngContentSelectors:WH,decls:3,vars:0,consts:[["type","button",1,"timepicker-button"]],template:function(t,i){1&t&&(o.F$t(),o.TgZ(0,"button",0)(1,"span"),o.Hsn(2),o.qZA()())},styles:[".timepicker-button[_ngcontent-%COMP%]{display:inline-block;height:36px;min-width:88px;line-height:36px;border:12px;border-radius:2px;background-color:transparent;text-align:center;transition:450ms cubic-bezier(.23,1,.32,1);overflow:hidden;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;position:relative;cursor:pointer;outline:0;color:#00bfff}@supports (color:var(--button-color)){.timepicker-button[_ngcontent-%COMP%]{color:var(--button-color)}}.timepicker-button[_ngcontent-%COMP%]:focus, .timepicker-button[_ngcontent-%COMP%]:hover{background-color:rgba(153,153,153,.2)}.timepicker-button[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{font-size:14px;text-transform:uppercase;font-weight:600;padding-left:16px;padding-right:16px;font-family:Roboto,sans-serif}@supports (font-family:var(--primary-font-family)){.timepicker-button[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{font-family:var(--primary-font-family)}}"]}),n})(),wQ=(()=>{let n=class{constructor(t){this.locale=t,this.timeUnit=ks,this.meridiems=wa.kI.meridiems({locale:this.locale}),this.periodChanged=new o.vpe,this.timeUnitChanged=new o.vpe,this.hourChanged=new o.vpe,this.minuteChanged=new o.vpe}ngOnChanges(t){if(t.period&&t.period.currentValue||t.format&&t.format.currentValue){const i=Ks.getHours(this.format);this.hours=Ks.disableHours(i,{min:this.minTime,max:this.maxTime,format:this.format,period:this.period})}if(t.period&&t.period.currentValue||t.hour&&t.hour.currentValue){const i=Ks.getMinutes(this.minutesGap);this.minutes=Ks.disableMinutes(i,+this.hour,{min:this.minTime,max:this.maxTime,format:this.format,period:this.period})}}changeTimeUnit(t){this.timeUnitChanged.next(t)}changePeriod(t){this.periodChanged.next(t)}changeHour(t){this.hourChanged.next(t)}changeMinute(t){this.minuteChanged.next(t)}showHint(){this.isHintVisible=!0}hideHint(){this.isHintVisible=!1}};return n.\u0275fac=function(t){return new(t||n)(o.Y36(po))},n.\u0275cmp=o.Xpm({type:n,selectors:[["ngx-material-timepicker-dial"]],inputs:{editableHintTmpl:"editableHintTmpl",hour:"hour",minute:"minute",format:"format",period:"period",activeTimeUnit:"activeTimeUnit",minTime:"minTime",maxTime:"maxTime",isEditable:"isEditable",minutesGap:"minutesGap",hoursOnly:"hoursOnly"},outputs:{periodChanged:"periodChanged",timeUnitChanged:"timeUnitChanged",hourChanged:"hourChanged",minuteChanged:"minuteChanged"},features:[o.TTD],decls:9,vars:25,consts:[[1,"timepicker-dial"],[1,"timepicker-dial__container"],[1,"timepicker-dial__time"],[3,"timeList","time","timeUnit","isActive","isEditable","timeUnitChanged","timeChanged","focused","unfocused"],[3,"timeList","time","timeUnit","isActive","isEditable","minutesGap","disabled","timeUnitChanged","timeChanged","focused","unfocused"],[1,"timepicker-dial__period",3,"ngClass","selectedPeriod","activeTimeUnit","maxTime","minTime","format","hours","minutes","selectedHour","meridiems","periodChanged"],[3,"ngClass",4,"ngIf"],[3,"ngClass"],[4,"ngTemplateOutlet"],["editableHintDefault",""],[1,"timepicker-dial__hint"]],template:function(t,i){1&t&&(o.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"ngx-material-timepicker-dial-control",3),o.NdJ("timeUnitChanged",function(s){return i.changeTimeUnit(s)})("timeChanged",function(s){return i.changeHour(s)})("focused",function(){return i.showHint()})("unfocused",function(){return i.hideHint()}),o.qZA(),o.TgZ(4,"span"),o._uU(5,":"),o.qZA(),o.TgZ(6,"ngx-material-timepicker-dial-control",4),o.NdJ("timeUnitChanged",function(s){return i.changeTimeUnit(s)})("timeChanged",function(s){return i.changeMinute(s)})("focused",function(){return i.showHint()})("unfocused",function(){return i.hideHint()}),o.qZA()(),o.TgZ(7,"ngx-material-timepicker-period",5),o.NdJ("periodChanged",function(s){return i.changePeriod(s)}),o.qZA()(),o.YNc(8,jK,4,4,"div",6),o.qZA()),2&t&&(o.xp6(3),o.Q6J("timeList",i.hours)("time",i.hour)("timeUnit",i.timeUnit.HOUR)("isActive",i.activeTimeUnit===i.timeUnit.HOUR)("isEditable",i.isEditable),o.xp6(3),o.Q6J("timeList",i.minutes)("time",i.minute)("timeUnit",i.timeUnit.MINUTE)("isActive",i.activeTimeUnit===i.timeUnit.MINUTE)("isEditable",i.isEditable)("minutesGap",i.minutesGap)("disabled",i.hoursOnly),o.xp6(1),o.Q6J("ngClass",o.VKq(23,GK,24===i.format))("selectedPeriod",i.period)("activeTimeUnit",i.activeTimeUnit)("maxTime",i.maxTime)("minTime",i.minTime)("format",i.format)("hours",i.hours)("minutes",i.minutes)("selectedHour",i.hour)("meridiems",i.meridiems),o.xp6(1),o.Q6J("ngIf",i.isEditable||i.editableHintTmpl))},directives:function(){return[CQ,TQ,Mi,Gn,_o]},styles:[".timepicker-dial[_ngcontent-%COMP%]{text-align:right}.timepicker-dial__container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-end;-webkit-tap-highlight-color:transparent}.timepicker-dial__time[_ngcontent-%COMP%]{display:flex;align-items:baseline;line-height:normal;font-size:50px;color:rgba(255,255,255,.5);font-family:Roboto,sans-serif}@supports (font-family:var(--primary-font-family)){.timepicker-dial__time[_ngcontent-%COMP%]{font-family:var(--primary-font-family);color:var(--dial-inactive-color)}}.timepicker-dial__period[_ngcontent-%COMP%]{display:block;margin-left:10px}.timepicker-dial__hint-container--hidden[_ngcontent-%COMP%], .timepicker-dial__period--hidden[_ngcontent-%COMP%]{visibility:hidden}.timepicker-dial__hint[_ngcontent-%COMP%]{display:inline-block;font-size:10px;color:#fff}@supports (color:var(--dial-active-color)){.timepicker-dial__hint[_ngcontent-%COMP%]{color:var(--dial-active-color)}}.timepicker-dial__hint[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px}@media (max-device-width:1023px) and (orientation:landscape){.timepicker-dial__container[_ngcontent-%COMP%]{flex-direction:column}.timepicker-dial__period[_ngcontent-%COMP%]{margin-left:0}}"],changeDetection:0}),Re([(0,o.IIB)()],n.prototype,"editableHintTmpl",void 0),Re([(0,o.IIB)()],n.prototype,"hour",void 0),Re([(0,o.IIB)()],n.prototype,"minute",void 0),Re([(0,o.IIB)()],n.prototype,"format",void 0),Re([(0,o.IIB)()],n.prototype,"period",void 0),Re([(0,o.IIB)()],n.prototype,"activeTimeUnit",void 0),Re([(0,o.IIB)()],n.prototype,"minTime",void 0),Re([(0,o.IIB)()],n.prototype,"maxTime",void 0),Re([(0,o.IIB)()],n.prototype,"isEditable",void 0),Re([(0,o.IIB)()],n.prototype,"minutesGap",void 0),Re([(0,o.IIB)()],n.prototype,"hoursOnly",void 0),Re([(0,o.r_U)()],n.prototype,"periodChanged",void 0),Re([(0,o.r_U)()],n.prototype,"timeUnitChanged",void 0),Re([(0,o.r_U)()],n.prototype,"hourChanged",void 0),Re([(0,o.r_U)()],n.prototype,"minuteChanged",void 0),n=Re([lu(0,(0,o.tBr)(po))],n),n})(),Dv=(()=>{let n=class{constructor(t){this.locale=t,this.numberingSystem=wa.ou.local().setLocale(this.locale).resolvedLocaleOpts().numberingSystem}transform(t,i=ks.HOUR){return null==t||""===t?"":isNaN(+t)?i===ks.MINUTE?this.parseTime(t,"m","minute"):this.parseTime(t,"H","hour"):t}parseTime(t,i,r){const s=wa.ou.fromFormat(String(t),i,{numberingSystem:this.numberingSystem})[r];if(!isNaN(s))return s;throw new Error(`Cannot parse time - ${t}`)}};return n.\u0275fac=function(t){return new(t||n)(o.Y36(po,16))},n.\u0275pipe=o.Yjl({name:"timeParser",type:n,pure:!0}),n.\u0275prov=o.Yz7({token:n,factory:function(e){return n.\u0275fac(e)}}),n=Re([lu(0,(0,o.tBr)(po))],n),n})(),CQ=(()=>{let n=class{constructor(t){this.timeParserPipe=t,this.timeUnitChanged=new o.vpe,this.timeChanged=new o.vpe,this.focused=new o.vpe,this.unfocused=new o.vpe}get selectedTime(){if(this.time)return this.timeList.find(t=>t.time===+this.time)}saveTimeAndChangeTimeUnit(t,i){t.preventDefault(),this.previousTime=this.time,this.timeUnitChanged.next(i),this.focused.next()}updateTime(){const t=this.selectedTime;t&&(this.timeChanged.next(t),this.previousTime=t.time)}changeTimeByKeyboard(t){const i=String.fromCharCode(t.keyCode);(function EQ(n,e,t){if(/\d/.test(e))return JH(n+e,t)})(this.time,i,this.timeList)&&t.preventDefault()}onKeydown(t){YH(t)?this.changeTimeByArrow(t.keyCode):t.preventDefault()}onModelChange(t){this.time=this.timeParserPipe.transform(t,this.timeUnit).toString()}changeTimeByArrow(t){let s;38===t?s=String(+this.time+(this.minutesGap||1)):40===t&&(s=String(+this.time-(this.minutesGap||1))),JH(s,this.timeList)||(this.time=s,this.updateTime())}};return n.\u0275fac=function(t){return new(t||n)(o.Y36(Dv))},n.\u0275cmp=o.Xpm({type:n,selectors:[["ngx-material-timepicker-dial-control"]],inputs:{time:"time",timeList:"timeList",timeUnit:"timeUnit",isActive:"isActive",isEditable:"isEditable",minutesGap:"minutesGap",disabled:"disabled"},outputs:{timeUnitChanged:"timeUnitChanged",timeChanged:"timeChanged",focused:"focused",unfocused:"unfocused"},features:[o._Bn([Dv])],decls:3,vars:2,consts:[["class","timepicker-dial__control timepicker-dial__item","readonly","",3,"ngClass","ngModel","disabled","timepickerAutofocus","ngModelChange","input","focus",4,"ngIf","ngIfElse"],["editableTemplate",""],["readonly","",1,"timepicker-dial__control","timepicker-dial__item",3,"ngClass","ngModel","disabled","timepickerAutofocus","ngModelChange","input","focus"],[1,"timepicker-dial__control","timepicker-dial__item","timepicker-dial__control_editable",3,"ngClass","ngModel","disabled","timepickerAutofocus","ngModelChange","input","focus","keydown","keypress"]],template:function(t,i){if(1&t&&(o.YNc(0,zK,2,9,"input",0),o.YNc(1,$K,3,13,"ng-template",null,1,o.W1O)),2&t){const r=o.MAs(2);o.Q6J("ngIf",!i.isEditable)("ngIfElse",r)}},directives:function(){return[Gn,yv,Mi,$S,tA,XH]},pipes:function(){return[TN,Dv]},styles:[".timepicker-dial__item[_ngcontent-%COMP%]{cursor:pointer;color:rgba(255,255,255,.5);font-family:Roboto,sans-serif}@supports (font-family:var(--primary-font-family)){.timepicker-dial__item[_ngcontent-%COMP%]{font-family:var(--primary-font-family);color:var(--dial-inactive-color)}}.timepicker-dial__item_active[_ngcontent-%COMP%]{color:#fff}@supports (color:var(--dial-active-color)){.timepicker-dial__item_active[_ngcontent-%COMP%]{color:var(--dial-active-color)}}.timepicker-dial__control[_ngcontent-%COMP%]{border:none;background-color:transparent;font-size:50px;width:60px;padding:0;border-radius:3px;text-align:right}.timepicker-dial__control_editable[_ngcontent-%COMP%]:focus{color:#00bfff;background-color:#fff;outline:#00bfff}@supports (color:var(--dial-editable-active-color)){.timepicker-dial__control_editable[_ngcontent-%COMP%]:focus{color:var(--dial-editable-active-color)}}@supports (background-color:var(--dial-editable-background-color)){.timepicker-dial__control_editable[_ngcontent-%COMP%]:focus{background-color:var(--dial-editable-background-color)}}@supports (outline:var(--dial-editable-active-color)){.timepicker-dial__control_editable[_ngcontent-%COMP%]:focus{outline:var(--dial-editable-active-color)}}.timepicker-dial__control[_ngcontent-%COMP%]:disabled{cursor:default}"]}),Re([(0,o.IIB)()],n.prototype,"timeList",void 0),Re([(0,o.IIB)()],n.prototype,"timeUnit",void 0),Re([(0,o.IIB)()],n.prototype,"time",void 0),Re([(0,o.IIB)()],n.prototype,"isActive",void 0),Re([(0,o.IIB)()],n.prototype,"isEditable",void 0),Re([(0,o.IIB)()],n.prototype,"minutesGap",void 0),Re([(0,o.IIB)()],n.prototype,"disabled",void 0),Re([(0,o.r_U)()],n.prototype,"timeUnitChanged",void 0),Re([(0,o.r_U)()],n.prototype,"timeChanged",void 0),Re([(0,o.r_U)()],n.prototype,"focused",void 0),Re([(0,o.r_U)()],n.prototype,"unfocused",void 0),n})();function JH(n,e){const t=e.find(i=>i.time===+n);return!t||t&&t.disabled}let TQ=(()=>{let n=class{constructor(){this.timePeriod=Rs,this.isPeriodAvailable=!0,this.periodChanged=new o.vpe}changePeriod(t){this.isPeriodAvailable=this.isSwitchPeriodAvailable(t),this.isPeriodAvailable&&this.periodChanged.next(t)}animationDone(){this.isPeriodAvailable=!0}isSwitchPeriodAvailable(t){return!this.getDisabledTimeByPeriod(t).every(r=>r.disabled)}getDisabledTimeByPeriod(t){switch(this.activeTimeUnit){case ks.HOUR:return Ks.disableHours(this.hours,{min:this.minTime,max:this.maxTime,format:this.format,period:t});case ks.MINUTE:return Ks.disableMinutes(this.minutes,+this.selectedHour,{min:this.minTime,max:this.maxTime,format:this.format,period:t});default:throw new Error("no such TimeUnit")}}};return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["ngx-material-timepicker-period"]],inputs:{selectedPeriod:"selectedPeriod",format:"format",activeTimeUnit:"activeTimeUnit",hours:"hours",minutes:"minutes",minTime:"minTime",maxTime:"maxTime",selectedHour:"selectedHour",meridiems:"meridiems"},outputs:{periodChanged:"periodChanged"},decls:6,vars:9,consts:[[1,"timepicker-period"],["type","button",1,"timepicker-dial__item","timepicker-period__btn",3,"ngClass","click"],["class","timepicker-period__warning",4,"ngIf"],[1,"timepicker-period__warning"]],template:function(t,i){1&t&&(o.TgZ(0,"div",0)(1,"button",1),o.NdJ("click",function(){return i.changePeriod(i.timePeriod.AM)}),o._uU(2),o.qZA(),o.TgZ(3,"button",1),o.NdJ("click",function(){return i.changePeriod(i.timePeriod.PM)}),o._uU(4),o.qZA(),o.YNc(5,qK,3,1,"div",2),o.qZA()),2&t&&(o.xp6(1),o.Q6J("ngClass",o.VKq(5,bA,i.selectedPeriod===i.timePeriod.AM)),o.xp6(1),o.Oqu(i.meridiems[0]),o.xp6(1),o.Q6J("ngClass",o.VKq(7,bA,i.selectedPeriod===i.timePeriod.PM)),o.xp6(1),o.Oqu(i.meridiems[1]),o.xp6(1),o.Q6J("ngIf",!i.isPeriodAvailable))},directives:[Mi,Gn],styles:[".timepicker-dial__item[_ngcontent-%COMP%]{cursor:pointer;color:rgba(255,255,255,.5);font-family:Roboto,sans-serif}@supports (font-family:var(--primary-font-family)){.timepicker-dial__item[_ngcontent-%COMP%]{font-family:var(--primary-font-family);color:var(--dial-inactive-color)}}.timepicker-dial__item_active[_ngcontent-%COMP%]{color:#fff}@supports (color:var(--dial-active-color)){.timepicker-dial__item_active[_ngcontent-%COMP%]{color:var(--dial-active-color)}}.timepicker-period[_ngcontent-%COMP%]{display:flex;flex-direction:column;position:relative}.timepicker-period__btn[_ngcontent-%COMP%]{padding:1px 3px;border:0;background-color:transparent;font-size:18px;font-weight:500;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;outline:0;border-radius:3px;transition:background-color .5s;font-family:Roboto,sans-serif}.timepicker-period__btn[_ngcontent-%COMP%]:focus{background-color:rgba(0,0,0,.07)}.timepicker-period__warning[_ngcontent-%COMP%]{padding:5px 10px;border-radius:3px;background-color:rgba(0,0,0,.55);color:#fff;position:absolute;width:200px;left:-20px;top:40px}.timepicker-period__warning[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{margin:0;font-size:12px;font-family:Roboto,sans-serif}@supports (font-family:var(--primary-font-family)){.timepicker-period__btn[_ngcontent-%COMP%], .timepicker-period__warning[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{font-family:var(--primary-font-family)}}"],data:{animation:[CC("scaleInOut",[ap(":enter",[xs({transform:"scale(0)"}),id(".2s",xs({transform:"scale(1)"})),VR([id("3s",xs({opacity:1})),id(".3s",xs({opacity:0}))])])])]}}),Re([(0,o.IIB)()],n.prototype,"selectedPeriod",void 0),Re([(0,o.IIB)()],n.prototype,"format",void 0),Re([(0,o.IIB)()],n.prototype,"activeTimeUnit",void 0),Re([(0,o.IIB)()],n.prototype,"hours",void 0),Re([(0,o.IIB)()],n.prototype,"minutes",void 0),Re([(0,o.IIB)()],n.prototype,"minTime",void 0),Re([(0,o.IIB)()],n.prototype,"maxTime",void 0),Re([(0,o.IIB)()],n.prototype,"selectedHour",void 0),Re([(0,o.IIB)()],n.prototype,"meridiems",void 0),Re([(0,o.r_U)()],n.prototype,"periodChanged",void 0),n})(),DQ=(()=>{let n=class{constructor(t){this.eventService=t}onClick(t){this.preventClick||this.eventService.dispatchEvent(t),t.preventDefault()}};return n.\u0275fac=function(t){return new(t||n)(o.Y36(cu))},n.\u0275dir=o.lG2({type:n,selectors:[["","overlay",""]],hostBindings:function(t,i){1&t&&o.NdJ("click",function(s){return i.onClick(s)})},inputs:{preventClick:["overlay","preventClick"]}}),Re([(0,o.IIB)("overlay")],n.prototype,"preventClick",void 0),Re([(0,o.L6J)("click",["$event"])],n.prototype,"onClick",null),n})(),IQ=(()=>{let n=class{transform(t,i=5){return t&&(t%i==0?t:"")}};return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=o.Yjl({name:"minutesFormatter",type:n,pure:!0}),n})(),XH=(()=>{let n=class{constructor(t,i){this.element=t,this.document=i,this.activeElement=this.document.activeElement}ngOnChanges(){this.isFocusActive&&setTimeout(()=>this.element.nativeElement.focus({preventScroll:!0}))}ngOnDestroy(){setTimeout(()=>this.activeElement.focus({preventScroll:!0}))}};return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.SBq),o.Y36(fe,8))},n.\u0275dir=o.lG2({type:n,selectors:[["","timepickerAutofocus",""]],inputs:{isFocusActive:["timepickerAutofocus","isFocusActive"]},features:[o.TTD]}),Re([(0,o.IIB)("timepickerAutofocus")],n.prototype,"isFocusActive",void 0),n=Re([lu(1,(0,o.FiY)()),lu(1,(0,o.tBr)(fe))],n),n})();var EN;let Os=EN=class{constructor(e,t){this.timepickerService=e,this.locale=t,this.minHour=1,this.maxHour=12,this.timeUnit=ks,this.buttonAlign="right",this.timeChanged=new o.vpe,this._format=12,this.unsubscribe$=new D.x,this.isFirstTimeChange=!0,this.onChange=()=>{}}set format(e){this._format=24===e?24:12,this.minHour=12===this._format?1:0,this.maxHour=12===this._format?12:23,this.hoursList=Ks.getHours(this._format),e&&this.previousFormat&&this.previousFormat!==this._format&&this.updateTime(this.timepickerTime),this.previousFormat=this._format}get format(){return this._format}set min(e){this._min="string"!=typeof e?e:Ir.parseTime(e,{locale:this.locale,format:this.format})}get min(){return this._min}set max(e){this._max="string"!=typeof e?e:Ir.parseTime(e,{locale:this.locale,format:this.format})}get max(){return this._max}set defaultTime(e){this._defaultTime=e,this.isDefaultTime=!!e}get defaultTime(){return this._defaultTime}ngOnInit(){this.initTime(this.defaultTime),this.hoursList=Ks.getHours(this._format),this.minutesList=Ks.getMinutes(),this.isTimeRangeSet=!(!this.min&&!this.max),this.hour$=this.timepickerService.selectedHour.pipe((0,or.b)(e=>this.selectedHour=e.time),(0,ye.U)(this.changeDefaultTimeValue.bind(this)),(0,or.b)(()=>this.isTimeRangeSet&&this.updateAvailableMinutes())),this.minute$=this.timepickerService.selectedMinute.pipe((0,ye.U)(this.changeDefaultTimeValue.bind(this)),(0,or.b)(()=>this.isFirstTimeChange=!1)),12===this.format&&this.timepickerService.selectedPeriod.pipe(C_(),(0,or.b)(e=>this.period=e),(0,or.b)(e=>this.isChangePeriodDisabled=this.isPeriodDisabled(e)),pl(this.unsubscribe$)).subscribe(()=>this.isTimeRangeSet&&this.updateAvailableTime())}writeValue(e){e?this.initTime(e):this.resetTime()}registerOnTouched(e){}registerOnChange(e){this.onChange=e}setDisabledState(e){this.disabled=e}changeHour(e){this.timepickerService.hour=this.hoursList.find(t=>t.time===e),this.changeTime()}changeMinute(e){this.timepickerService.minute=this.minutesList.find(t=>t.time===e),this.changeTime()}changePeriod(e){this.timepickerService.period=e,this.changeTime()}onTimeSet(e){this.updateTime(e),this.emitLocalTimeChange(e)}ngOnDestroy(){this.unsubscribe$.next(),this.unsubscribe$.complete()}changeTime(){const e=this.timepickerService.getFullTime(this.format);this.timepickerTime=e,this.emitLocalTimeChange(e)}resetTime(){this.timepickerService.hour={angle:0,time:null},this.timepickerService.minute={angle:0,time:null}}emitLocalTimeChange(e){const t=Ir.toLocaleTimeString(e,{format:this.format,locale:this.locale});this.onChange(t),this.timeChanged.emit(t)}changeDefaultTimeValue(e){return!this.isDefaultTime&&this.isFirstTimeChange?Object.assign({},e,{time:null}):e}updateAvailableHours(){this.hoursList=Ks.disableHours(this.hoursList,{min:this.min,max:this.max,format:this.format,period:this.period})}updateAvailableMinutes(){this.minutesList=Ks.disableMinutes(this.minutesList,this.selectedHour,{min:this.min,max:this.max,format:this.format,period:this.period})}updateAvailableTime(){this.updateAvailableHours(),this.selectedHour&&this.updateAvailableMinutes()}updateTime(e){if(e){const t=Ir.formatTime(e,{locale:this.locale,format:this.format});this.timepickerService.setDefaultTimeIfAvailable(t,this.min,this.max,this.format),this.timepickerTime=t}}initTime(e){if(!Ir.isTimeAvailable(e,this.min,this.max,"minutes",null,this.format)){if(this.min)return void this.updateTime(Ir.fromDateTimeToString(this.min,this.format));if(this.max)return void this.updateTime(Ir.fromDateTimeToString(this.max,this.format))}this.updateTime(e)}isPeriodDisabled(e){return Ks.disableHours(Ks.getHours(12),{min:this.min,max:this.max,format:12,period:e===Rs.AM?Rs.PM:Rs.AM}).every(t=>t.disabled)}};Os.\u0275fac=function(e){return new(e||Os)(o.Y36(_l),o.Y36(po))},Os.\u0275cmp=o.Xpm({type:Os,selectors:[["ngx-timepicker-field"]],inputs:{buttonAlign:"buttonAlign",format:"format",min:"min",max:"max",defaultTime:"defaultTime",disabled:"disabled",toggleIcon:"toggleIcon",clockTheme:"clockTheme",controlOnly:"controlOnly",cancelBtnTmpl:"cancelBtnTmpl",confirmBtnTmpl:"confirmBtnTmpl"},outputs:{timeChanged:"timeChanged"},features:[o._Bn([_l,{provide:lc,useExisting:EN,multi:!0}])],decls:13,vars:32,consts:[[1,"ngx-timepicker",3,"ngClass"],[1,"ngx-timepicker__control--first",3,"placeholder","time","min","max","timeUnit","disabled","timeList","preventTyping","timeChanged"],[1,"ngx-timepicker__time-colon","ngx-timepicker__control--second"],[1,"ngx-timepicker__control--third",3,"placeholder","time","min","max","timeUnit","disabled","timeList","preventTyping","timeChanged"],["class","ngx-timepicker__control--forth",3,"selectedPeriod","disabled","periodSelected",4,"ngIf"],["class","ngx-timepicker__toggle",3,"ngClass","for","disabled",4,"ngIf"],[3,"min","max","theme","defaultTime","format","cancelBtnTmpl","confirmBtnTmpl","timeSet"],["timepicker",""],["defaultIcon",""],[1,"ngx-timepicker__control--forth",3,"selectedPeriod","disabled","periodSelected"],[1,"ngx-timepicker__toggle",3,"ngClass","for","disabled"],["ngxMaterialTimepickerToggleIcon",""],[4,"ngTemplateOutlet"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","width","24px","height","24px"],["d","M 12 2 C 6.4889971 2 2 6.4889971 2 12 C 2 17.511003                   6.4889971 22 12 22 C 17.511003 22 22 17.511003 22 12 C 22 6.4889971 17.511003 2 12 2 z M 12 4 C 16.430123 4 20 7.5698774 20 12 C 20 16.430123 16.430123 20 12 20 C 7.5698774 20 4 16.430123 4 12 C 4 7.5698774 7.5698774 4 12 4 z M 11 6 L 11 12.414062 L 15.292969 16.707031 L 16.707031 15.292969 L 13 11.585938 L 13 6 L 11 6 z"]],template:function(e,t){if(1&e&&(o.TgZ(0,"div",0)(1,"ngx-timepicker-time-control",1),o.NdJ("timeChanged",function(r){return t.changeHour(r)}),o.ALo(2,"async"),o.qZA(),o.TgZ(3,"span",2),o._uU(4,":"),o.qZA(),o.TgZ(5,"ngx-timepicker-time-control",3),o.NdJ("timeChanged",function(r){return t.changeMinute(r)}),o.ALo(6,"async"),o.qZA(),o.YNc(7,WK,1,2,"ngx-timepicker-period-selector",4),o.YNc(8,KK,3,6,"ngx-material-timepicker-toggle",5),o.qZA(),o.TgZ(9,"ngx-material-timepicker",6,7),o.NdJ("timeSet",function(r){return t.onTimeSet(r)}),o.qZA(),o.YNc(11,QK,2,0,"ng-template",null,8,o.W1O)),2&e){let i,r;o.Q6J("ngClass",o.VKq(30,JK,t.disabled)),o.xp6(1),o.Q6J("placeholder","HH")("time",null==(i=o.lcZ(2,26,t.hour$))?null:i.time)("min",t.minHour)("max",t.maxHour)("timeUnit",t.timeUnit.HOUR)("disabled",t.disabled)("timeList",t.hoursList)("preventTyping",t.isTimeRangeSet),o.xp6(4),o.Q6J("placeholder","MM")("time",null==(r=o.lcZ(6,28,t.minute$))?null:r.time)("min",0)("max",59)("timeUnit",t.timeUnit.MINUTE)("disabled",t.disabled)("timeList",t.minutesList)("preventTyping",t.isTimeRangeSet),o.xp6(2),o.Q6J("ngIf",24!==t.format),o.xp6(1),o.Q6J("ngIf",!t.controlOnly),o.xp6(1),o.Q6J("min",t.min)("max",t.max)("theme",t.clockTheme)("defaultTime",t.timepickerTime)("format",t.format)("cancelBtnTmpl",t.cancelBtnTmpl)("confirmBtnTmpl",t.confirmBtnTmpl)}},directives:function(){return[Mi,SQ,Gn,MQ,hQ,bN,_o,KH]},pipes:function(){return[fu]},styles:[".ngx-timepicker[_ngcontent-%COMP%]{display:flex;align-items:center;height:100%;border-bottom:1px solid rgba(0,0,0,.12)}.ngx-timepicker--disabled[_ngcontent-%COMP%]{background:rgba(0,0,0,.07);pointer-events:none}.ngx-timepicker__time-colon[_ngcontent-%COMP%]{margin-left:10px}.ngx-timepicker__control--first[_ngcontent-%COMP%]{order:1}.ngx-timepicker__control--second[_ngcontent-%COMP%]{order:2}.ngx-timepicker__control--third[_ngcontent-%COMP%]{order:3}.ngx-timepicker__control--forth[_ngcontent-%COMP%], .ngx-timepicker__toggle[_ngcontent-%COMP%]{order:4}.ngx-timepicker__toggle--left[_ngcontent-%COMP%]{order:0}"],changeDetection:0}),Os.ctorParameters=()=>[{type:_l},{type:String,decorators:[{type:o.tBr,args:[po]}]}],Re([(0,o.IIB)()],Os.prototype,"disabled",void 0),Re([(0,o.IIB)()],Os.prototype,"toggleIcon",void 0),Re([(0,o.IIB)()],Os.prototype,"buttonAlign",void 0),Re([(0,o.IIB)()],Os.prototype,"clockTheme",void 0),Re([(0,o.IIB)()],Os.prototype,"controlOnly",void 0),Re([(0,o.IIB)()],Os.prototype,"cancelBtnTmpl",void 0),Re([(0,o.IIB)()],Os.prototype,"confirmBtnTmpl",void 0),Re([(0,o.IIB)()],Os.prototype,"format",null),Re([(0,o.IIB)()],Os.prototype,"min",null),Re([(0,o.IIB)()],Os.prototype,"max",null),Re([(0,o.IIB)()],Os.prototype,"defaultTime",null),Re([(0,o.r_U)()],Os.prototype,"timeChanged",void 0),Os=EN=Re([lu(1,(0,o.tBr)(po))],Os);let SQ=(()=>{let n=class{constructor(t){this.timeParser=t,this.timeChanged=new o.vpe}ngOnChanges(t){t.timeList&&null!=this.time&&this.isSelectedTimeDisabled(this.time)&&this.setAvailableTime()}changeTime(t){t.stopPropagation();const i=String.fromCharCode(t.keyCode),r=function AQ(n,e){if(/\d/.test(e))return+(n+e)}(String(this.time),i);this.changeTimeIfValid(r)}onKeydown(t){switch(t.stopPropagation(),YH(t)||t.preventDefault(),t.key){case"ArrowUp":this.increase();break;case"ArrowDown":this.decrease()}this.preventTyping&&"Tab"!==t.key&&t.preventDefault()}increase(){if(!this.disabled){let t=+this.time+1;t>this.max&&(t=this.min),this.isSelectedTimeDisabled(t)&&(t=this.getAvailableTime(t,this.getNextAvailableTime.bind(this))),t!==this.time&&this.timeChanged.emit(t)}}decrease(){if(!this.disabled){let t=+this.time-1;t<this.min&&(t=this.max),this.isSelectedTimeDisabled(t)&&(t=this.getAvailableTime(t,this.getPrevAvailableTime.bind(this))),t!==this.time&&this.timeChanged.emit(t)}}onFocus(){this.isFocused=!0,this.previousTime=this.time}onBlur(){this.isFocused=!1,this.previousTime!==this.time&&this.changeTimeIfValid(+this.time)}onModelChange(t){this.time=+this.timeParser.transform(t,this.timeUnit)}changeTimeIfValid(t){if(!isNaN(t)){if(this.time=t,this.time>this.max){const i=String(t);this.time=+i[i.length-1]}this.time<this.min&&(this.time=this.min),this.timeChanged.emit(this.time)}}isSelectedTimeDisabled(t){return this.timeList.find(i=>i.time===t).disabled}getNextAvailableTime(t){const i=this.timeList,r=i.length;for(let s=t+1;s<r;s++){const c=i[s];if(!c.disabled)return c.time}}getPrevAvailableTime(t){for(let i=t;i>=0;i--){const r=this.timeList[i];if(!r.disabled)return r.time}}getAvailableTime(t,i){const s=i(this.timeList.findIndex(c=>c.time===t));return null!=s?s:this.time}setAvailableTime(){this.time=this.timeList.find(t=>!t.disabled).time,this.timeChanged.emit(this.time)}};return n.\u0275fac=function(t){return new(t||n)(o.Y36(Dv))},n.\u0275cmp=o.Xpm({type:n,selectors:[["ngx-timepicker-time-control"]],inputs:{time:"time",min:"min",max:"max",placeholder:"placeholder",timeUnit:"timeUnit",disabled:"disabled",timeList:"timeList",preventTyping:"preventTyping"},outputs:{timeChanged:"timeChanged"},features:[o._Bn([Dv]),o.TTD],decls:9,vars:13,consts:[[1,"ngx-timepicker-control",3,"ngClass"],["maxlength","2",1,"ngx-timepicker-control__input",3,"ngModel","placeholder","disabled","ngModelChange","keydown","keypress","focus","blur"],[1,"ngx-timepicker-control__arrows"],["role","button",1,"ngx-timepicker-control__arrow",3,"click"]],template:function(t,i){1&t&&(o.TgZ(0,"div",0)(1,"input",1),o.NdJ("ngModelChange",function(s){return i.onModelChange(s)})("keydown",function(s){return i.onKeydown(s)})("keypress",function(s){return i.changeTime(s)})("focus",function(){return i.onFocus()})("blur",function(){return i.onBlur()}),o.ALo(2,"timeLocalizer"),o.ALo(3,"timeParser"),o.qZA(),o.TgZ(4,"div",2)(5,"span",3),o.NdJ("click",function(){return i.increase()}),o._uU(6," \u25b2 "),o.qZA(),o.TgZ(7,"span",3),o.NdJ("click",function(){return i.decrease()}),o._uU(8," \u25bc "),o.qZA()()()),2&t&&(o.Q6J("ngClass",o.VKq(11,XK,i.isFocused)),o.xp6(1),o.Q6J("ngModel",o.Dn7(2,4,o.xi3(3,8,i.time,i.timeUnit),i.timeUnit,!0))("placeholder",i.placeholder)("disabled",i.disabled))},directives:function(){return[Mi,yv,PO,$S,tA]},pipes:function(){return[TN,Dv]},styles:[".ngx-timepicker-control[_ngcontent-%COMP%]{position:relative;display:flex;width:60px;height:30px;padding:0 5px;box-sizing:border-box}.ngx-timepicker-control--active[_ngcontent-%COMP%]:after{content:'';position:absolute;bottom:-2px;left:0;width:100%;height:1px;background-color:#00bfff}.ngx-timepicker-control__input[_ngcontent-%COMP%]{width:100%;height:100%;padding:0 5px 0 0;border:0;font-size:1rem;color:inherit;outline:0;text-align:center}.ngx-timepicker-control__input[_ngcontent-%COMP%]:disabled{background-color:transparent}.ngx-timepicker-control__arrows[_ngcontent-%COMP%]{position:absolute;right:2px;top:0;display:flex;flex-direction:column}.ngx-timepicker-control__arrow[_ngcontent-%COMP%]{font-size:11px;color:rgba(0,0,0,.4);cursor:pointer;transition:color .2s;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.ngx-timepicker-control__arrow[_ngcontent-%COMP%]:hover{color:rgba(0,0,0,.9)}"],changeDetection:0}),Re([(0,o.IIB)()],n.prototype,"time",void 0),Re([(0,o.IIB)()],n.prototype,"min",void 0),Re([(0,o.IIB)()],n.prototype,"max",void 0),Re([(0,o.IIB)()],n.prototype,"placeholder",void 0),Re([(0,o.IIB)()],n.prototype,"timeUnit",void 0),Re([(0,o.IIB)()],n.prototype,"disabled",void 0),Re([(0,o.IIB)()],n.prototype,"timeList",void 0),Re([(0,o.IIB)()],n.prototype,"preventTyping",void 0),Re([(0,o.r_U)()],n.prototype,"timeChanged",void 0),n})(),MQ=(()=>{let n=class{constructor(t){this.locale=t,this.periodSelected=new o.vpe,this.period=Rs,this.meridiems=wa.kI.meridiems({locale:this.locale})}set selectedPeriod(t){t&&(this.localizedPeriod=this.meridiems[[Rs.AM,Rs.PM].indexOf(t)])}open(){this.disabled||(this.isOpened=!0)}select(t){this.periodSelected.next(t),this.isOpened=!1}backdropClick(){this.isOpened=!1}};return n.\u0275fac=function(t){return new(t||n)(o.Y36(po))},n.\u0275cmp=o.Xpm({type:n,selectors:[["ngx-timepicker-period-selector"]],inputs:{selectedPeriod:"selectedPeriod",isOpened:"isOpened",disabled:"disabled"},outputs:{periodSelected:"periodSelected"},decls:9,vars:6,consts:[[1,"period"],[1,"period-control"],["type","button",1,"period-control__button","period__btn--default",3,"ngClass","click"],[1,"period-control__arrow"],["class","period-selector",3,"timepickerAutofocus",4,"ngIf"],["class","overlay",3,"click",4,"ngIf"],[1,"period-selector",3,"timepickerAutofocus"],["type","button",1,"period-selector__button","period__btn--default",3,"ngClass","click"],[1,"overlay",3,"click"]],template:function(t,i){1&t&&(o.TgZ(0,"div",0)(1,"div",1)(2,"button",2),o.NdJ("click",function(){return i.open()}),o.TgZ(3,"span"),o._uU(4),o.qZA(),o.TgZ(5,"span",3),o._uU(6,"\u25bc"),o.qZA()()(),o.YNc(7,eQ,7,10,"ul",4),o.qZA(),o.YNc(8,tQ,1,0,"div",5)),2&t&&(o.xp6(2),o.Q6J("ngClass",o.VKq(4,nQ,i.disabled)),o.xp6(2),o.Oqu(i.localizedPeriod),o.xp6(3),o.Q6J("ngIf",i.isOpened),o.xp6(1),o.Q6J("ngIf",i.isOpened))},directives:[Mi,Gn,XH],styles:[".period[_ngcontent-%COMP%]{position:relative}.period__btn--default[_ngcontent-%COMP%]{padding:0;border:none;background-color:transparent;cursor:pointer;text-align:left;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-tap-highlight-color:transparent;outline:0}.period-control[_ngcontent-%COMP%]{position:relative}.period-control__button[_ngcontent-%COMP%]{position:relative;width:60px;font-size:1rem;color:inherit;text-align:center}.period-control__button[_ngcontent-%COMP%]:not(.period-control__button--disabled):focus:after{content:'';position:absolute;bottom:-8px;left:0;width:100%;height:1px;background-color:#00bfff}.period-control__arrow[_ngcontent-%COMP%]{margin-left:10px;font-size:12px;color:rgba(0,0,0,.4)}.period-selector[_ngcontent-%COMP%]{position:absolute;top:calc(50% - 50px);right:calc(-50% + -50px);max-width:135px;width:150px;padding:6px 0;margin:0;list-style:none;background-color:#f5f5f5;box-shadow:0 1px 3px 0 rgba(0,0,0,.2),0 1px 1px 0 rgba(0,0,0,.14),0 2px 1px -1px rgba(0,0,0,.12);z-index:201}.period-selector__button[_ngcontent-%COMP%]{width:100%;height:48px;padding:0 16px;line-height:48px}.period-selector__button--active[_ngcontent-%COMP%]{color:#00bfff}.period-selector__button[_ngcontent-%COMP%]:focus{background-color:#eee}.overlay[_ngcontent-%COMP%]{position:fixed;width:100%;height:100%;top:0;left:0;background-color:transparent;z-index:200}"],data:{animation:[CC("scaleInOut",[ap(":enter",[xs({transform:"scale(0)",opacity:0}),id(200,xs({transform:"scale(1)",opacity:1}))]),ap(":leave",[id(200,xs({transform:"scale(0)",opacity:0}))])])]},changeDetection:0}),Re([(0,o.IIB)()],n.prototype,"isOpened",void 0),Re([(0,o.IIB)()],n.prototype,"disabled",void 0),Re([(0,o.IIB)()],n.prototype,"selectedPeriod",null),Re([(0,o.r_U)()],n.prototype,"periodSelected",void 0),n=Re([lu(0,(0,o.tBr)(po))],n),n})(),TN=(()=>{let n=class{constructor(t){this.locale=t}transform(t,i,r=!1){if(null==t||""===t)return"";switch(i){case ks.HOUR:return this.formatTime("hour",t,0===t||r?"HH":"H");case ks.MINUTE:return this.formatTime("minute",t,"mm");default:throw new Error(`There is no Time Unit with type ${i}`)}}formatTime(t,i,r){try{return wa.ou.fromObject({[t]:+i}).setLocale(this.locale).toFormat(r)}catch(s){throw new Error(`Cannot format provided time - ${i} to locale - ${this.locale}`)}}};return n.\u0275fac=function(t){return new(t||n)(o.Y36(po,16))},n.\u0275pipe=o.Yjl({name:"timeLocalizer",type:n,pure:!0}),n=Re([lu(0,(0,o.tBr)(po))],n),n})(),xQ=(()=>{let n=class{transform(t,i,r){return null!=t&&!r&&t===i}};return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=o.Yjl({name:"activeHour",type:n,pure:!0}),n})(),kQ=(()=>{let n=class{transform(t,i,r,s){return null!=t&&!s&&i===t&&t%(r||5)==0}};return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=o.Yjl({name:"activeMinute",type:n,pure:!0}),n})(),RQ=(()=>{let n=class{};return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["ngx-material-timepicker-content"]],inputs:{appendToInput:"appendToInput",inputElement:"inputElement"},ngContentSelectors:WH,decls:5,vars:2,consts:[[3,"ngxAppendToInput",4,"ngIf","ngIfElse"],["timepickerModal",""],["timepickerOutlet",""],[3,"ngxAppendToInput"],[4,"ngTemplateOutlet"]],template:function(t,i){if(1&t&&(o.F$t(),o.YNc(0,rQ,2,2,"div",0),o.YNc(1,oQ,1,1,"ng-template",null,1,o.W1O),o.YNc(3,aQ,1,0,"ng-template",null,2,o.W1O)),2&t){const r=o.MAs(2);o.Q6J("ngIf",i.appendToInput)("ngIfElse",r)}},directives:function(){return[Gn,OQ,_o]},encapsulation:2}),Re([(0,o.IIB)()],n.prototype,"appendToInput",void 0),Re([(0,o.IIB)()],n.prototype,"inputElement",void 0),n})(),OQ=(()=>{let n=class{constructor(t,i){this.renderer=i,this.element=t.nativeElement}get inputCords(){return this.inputElement.getBoundingClientRect()}get direction(){const t=this.element.offsetHeight,{bottom:i,top:r}=this._inputCords,s=(window&&window.innerHeight)-i<t;return s&&r>t?"top":s&&r<t?"center":"bottom"}ngAfterViewInit(){this._inputCords=this.inputCords,this._direction=this.direction,this.append()}changePosition(){const{bottom:t,top:i}=this.inputCords,r=this.defineElementYByDirection(i,t);this.setStyle("top",`${r}px`)}append(){const{left:t,bottom:i,top:r}=this._inputCords,s=this.defineElementYByDirection(r,i);this.setStyle("position","fixed"),this.setStyle("left",`${t}px`),this.setStyle("top",`${s}px`)}setStyle(t,i){this.renderer.setStyle(this.element,t,i)}defineElementYByDirection(t,i){return"top"===this._direction?t-this.element.offsetHeight:"center"===this._direction?t-this.element.offsetHeight/2:i}};return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.SBq),o.Y36(o.Qsj))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngxAppendToInput",""]],hostBindings:function(t,i){1&t&&o.NdJ("scroll",function(){return i.changePosition()},!1,o.Jf7)},inputs:{inputElement:["ngxAppendToInput","inputElement"]}}),Re([(0,o.IIB)("ngxAppendToInput")],n.prototype,"inputElement",void 0),Re([(0,o.L6J)("window:scroll")],n.prototype,"changePosition",null),n})();var e3;let Iv=e3=class{static setLocale(e){return{ngModule:e3,providers:[{provide:po,useValue:e}]}}};function NQ(n,e){1&n&&(o.TgZ(0,"mat-error"),o._uU(1," Field is required "),o.qZA())}function PQ(n,e){1&n&&(o.TgZ(0,"mat-error"),o._uU(1," Field is required "),o.qZA())}function FQ(n,e){1&n&&(o.TgZ(0,"mat-error"),o._uU(1," Field is required "),o.qZA())}function LQ(n,e){1&n&&(o.TgZ(0,"mat-error"),o._uU(1," Field is required "),o.qZA())}function VQ(n,e){1&n&&(o.TgZ(0,"mat-error"),o._uU(1," Field is required "),o.qZA())}function UQ(n,e){1&n&&(o.TgZ(0,"mat-error"),o._uU(1," Field is required "),o.qZA())}function BQ(n,e){1&n&&(o.TgZ(0,"mat-error"),o._uU(1," Field is required "),o.qZA())}function HQ(n,e){1&n&&(o.TgZ(0,"mat-error"),o._uU(1," Field is required "),o.qZA())}function jQ(n,e){1&n&&(o.TgZ(0,"mat-error"),o._uU(1," Field is required "),o.qZA())}function GQ(n,e){1&n&&(o.TgZ(0,"mat-error"),o._uU(1," Field is required "),o.qZA())}function zQ(n,e){if(1&n){const t=o.EpF();o.ynx(0),o.TgZ(1,"form",11),o.NdJ("ngSubmit",function(){return o.CHM(t),o.oxw().submitTiming()}),o.TgZ(2,"div",12)(3,"h5"),o._uU(4,"Fajr"),o.qZA(),o.TgZ(5,"div",13)(6,"div",14)(7,"mat-form-field",15)(8,"mat-label"),o._uU(9,"Azan"),o.qZA(),o.TgZ(10,"input",16),o.NdJ("ngModelChange",function(r){return o.CHM(t),o.oxw().timing.first_a=r}),o.qZA(),o._UZ(11,"ngx-material-timepicker",null,17),o.YNc(13,NQ,2,0,"mat-error",18),o.qZA()(),o.TgZ(14,"div",14)(15,"mat-form-field",15)(16,"mat-label"),o._uU(17,"Jamah"),o.qZA(),o.TgZ(18,"input",19),o.NdJ("ngModelChange",function(r){return o.CHM(t),o.oxw().timing.first_j=r}),o.qZA(),o._UZ(19,"ngx-material-timepicker",null,20),o.YNc(21,PQ,2,0,"mat-error",18),o.qZA()()()(),o.TgZ(22,"div",12)(23,"h5"),o._uU(24,"Zuhr"),o.qZA(),o.TgZ(25,"div",13)(26,"div",14)(27,"mat-form-field",15)(28,"mat-label"),o._uU(29,"Azan"),o.qZA(),o.TgZ(30,"input",21),o.NdJ("ngModelChange",function(r){return o.CHM(t),o.oxw().timing.second_a=r}),o.qZA(),o._UZ(31,"ngx-material-timepicker",null,22),o.YNc(33,FQ,2,0,"mat-error",18),o.qZA()(),o.TgZ(34,"div",14)(35,"mat-form-field",15)(36,"mat-label"),o._uU(37,"Jamah"),o.qZA(),o.TgZ(38,"input",23),o.NdJ("ngModelChange",function(r){return o.CHM(t),o.oxw().timing.second_j=r}),o.qZA(),o._UZ(39,"ngx-material-timepicker",null,24),o.YNc(41,LQ,2,0,"mat-error",18),o.qZA()()()(),o.TgZ(42,"div",12)(43,"h5"),o._uU(44,"Asr"),o.qZA(),o.TgZ(45,"div",13)(46,"div",14)(47,"mat-form-field",15)(48,"mat-label"),o._uU(49,"Azan"),o.qZA(),o.TgZ(50,"input",25),o.NdJ("ngModelChange",function(r){return o.CHM(t),o.oxw().timing.third_a=r}),o.qZA(),o._UZ(51,"ngx-material-timepicker",null,26),o.YNc(53,VQ,2,0,"mat-error",18),o.qZA()(),o.TgZ(54,"div",14)(55,"mat-form-field",15)(56,"mat-label"),o._uU(57,"Jamah"),o.qZA(),o.TgZ(58,"input",27),o.NdJ("ngModelChange",function(r){return o.CHM(t),o.oxw().timing.third_j=r}),o.qZA(),o._UZ(59,"ngx-material-timepicker",null,28),o.YNc(61,UQ,2,0,"mat-error",18),o.qZA()()()(),o.TgZ(62,"div",12)(63,"h5"),o._uU(64,"Magrib"),o.qZA(),o.TgZ(65,"div",13)(66,"div",14)(67,"mat-form-field",15)(68,"mat-label"),o._uU(69,"Azan"),o.qZA(),o.TgZ(70,"input",29),o.NdJ("ngModelChange",function(r){return o.CHM(t),o.oxw().timing.fourth_a=r}),o.qZA(),o._UZ(71,"ngx-material-timepicker",null,30),o.YNc(73,BQ,2,0,"mat-error",18),o.qZA()(),o.TgZ(74,"div",14)(75,"mat-form-field",15)(76,"mat-label"),o._uU(77,"Jamah"),o.qZA(),o.TgZ(78,"input",31),o.NdJ("ngModelChange",function(r){return o.CHM(t),o.oxw().timing.fourth_j=r}),o.qZA(),o._UZ(79,"ngx-material-timepicker",null,32),o.YNc(81,HQ,2,0,"mat-error",18),o.qZA()()()(),o.TgZ(82,"div",12)(83,"h5"),o._uU(84,"Magrib"),o.qZA(),o.TgZ(85,"div",13)(86,"div",14)(87,"mat-form-field",15)(88,"mat-label"),o._uU(89,"Azan"),o.qZA(),o.TgZ(90,"input",33),o.NdJ("ngModelChange",function(r){return o.CHM(t),o.oxw().timing.fifth_a=r}),o.qZA(),o._UZ(91,"ngx-material-timepicker",null,34),o.YNc(93,jQ,2,0,"mat-error",18),o.qZA()(),o.TgZ(94,"div",14)(95,"mat-form-field",15)(96,"mat-label"),o._uU(97,"Jamah"),o.qZA(),o.TgZ(98,"input",35),o.NdJ("ngModelChange",function(r){return o.CHM(t),o.oxw().timing.fifth_j=r}),o.qZA(),o._UZ(99,"ngx-material-timepicker",null,36),o.YNc(101,GQ,2,0,"mat-error",18),o.qZA()()()(),o.TgZ(102,"button",37),o._uU(103,"Update Timing"),o.qZA()(),o.BQk()}if(2&n){const t=o.MAs(12),i=o.MAs(20),r=o.MAs(32),s=o.MAs(40),c=o.MAs(52),h=o.MAs(60),p=o.MAs(72),_=o.MAs(80),E=o.MAs(92),S=o.MAs(100),P=o.oxw();o.xp6(1),o.Q6J("formGroup",P.updateTimingForm),o.xp6(9),o.Q6J("ngxTimepicker",t)("ngModel",P.timing.first_a),o.xp6(3),o.Q6J("ngIf",P.updateTimingForm.get("first_a").invalid),o.xp6(5),o.Q6J("ngxTimepicker",i)("ngModel",P.timing.first_j),o.xp6(3),o.Q6J("ngIf",P.updateTimingForm.get("first_j").invalid),o.xp6(9),o.Q6J("ngxTimepicker",r)("ngModel",P.timing.second_a),o.xp6(3),o.Q6J("ngIf",P.updateTimingForm.get("second_a").invalid),o.xp6(5),o.Q6J("ngxTimepicker",s)("ngModel",P.timing.second_j),o.xp6(3),o.Q6J("ngIf",P.updateTimingForm.get("second_j").invalid),o.xp6(9),o.Q6J("ngxTimepicker",c)("ngModel",P.timing.third_a),o.xp6(3),o.Q6J("ngIf",P.updateTimingForm.get("third_a").invalid),o.xp6(5),o.Q6J("ngxTimepicker",h)("ngModel",P.timing.third_j),o.xp6(3),o.Q6J("ngIf",P.updateTimingForm.get("third_j").invalid),o.xp6(9),o.Q6J("ngxTimepicker",p)("ngModel",P.timing.fourth_a),o.xp6(3),o.Q6J("ngIf",P.updateTimingForm.get("fourth_a").invalid),o.xp6(5),o.Q6J("ngxTimepicker",_)("ngModel",P.timing.fourth_j),o.xp6(3),o.Q6J("ngIf",P.updateTimingForm.get("fourth_j").invalid),o.xp6(9),o.Q6J("ngxTimepicker",E)("ngModel",P.timing.fifth_a),o.xp6(3),o.Q6J("ngIf",P.updateTimingForm.get("fifth_a").invalid),o.xp6(5),o.Q6J("ngxTimepicker",S)("ngModel",P.timing.fifth_j),o.xp6(3),o.Q6J("ngIf",P.updateTimingForm.get("fifth_j").invalid)}}function $Q(n,e){1&n&&(o.TgZ(0,"div",38),o._uU(1,"Loading..."),o.qZA())}Iv.\u0275fac=function(e){return new(e||Iv)},Iv.\u0275mod=o.oAB({type:Iv}),Iv.\u0275inj=o.cJS({imports:[[no,p7]]});let qQ=(()=>{class n{constructor(t,i,r){this.fb=t,this.userService=i,this.router=r,this.updateTimingForm=xC}ngOnInit(){this.updateTimingForm=this.fb.group({first_a:["",au.required],first_j:["",au.required],second_a:["",au.required],second_j:["",au.required],third_a:["",au.required],third_j:["",au.required],fourth_a:["",au.required],fourth_j:["",au.required],fifth_a:["",au.required],fifth_j:["",au.required]}),this.getTiming()}getTiming(){this.userService.getTiming().subscribe(t=>{this.timing=t.map(i=>Object.assign({id:i.payload.doc.id},i.payload.doc.data())),this.timing=this.timing[0],console.log(this.timing)})}submitTiming(){this.updateTimingForm.value.id=this.timing.id,console.log(this.updateTimingForm.value),this.userService.updateTiming(this.updateTimingForm.value),this.router.navigate(["home"])}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(g7),o.Y36(Qy),o.Y36(Kr))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-update-timing"]],decls:14,vars:2,consts:[[1,"appWrapper"],[1,"appContainer"],[1,"pageHeader"],[1,"headerLeft"],["routerLink","../home"],["width","9","height","16","viewBox","0 0 9 16","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M8 15L1 8L8 1","stroke","#1C1C1C","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],[1,"pageTitle"],[1,"pb-30","px-25"],[4,"ngIf","ngIfElse"],["elseBock",""],[3,"formGroup","ngSubmit"],[1,"updateT"],[1,"row"],[1,"col-md-6"],["appearance","fill",1,"example-full-width"],["matInput","","formControlName","first_a",3,"ngxTimepicker","ngModel","ngModelChange"],["picker_first_a",""],[4,"ngIf"],["matInput","","formControlName","first_j",3,"ngxTimepicker","ngModel","ngModelChange"],["picker_first_j",""],["matInput","","formControlName","second_a",3,"ngxTimepicker","ngModel","ngModelChange"],["picker_second_a",""],["matInput","","formControlName","second_j",3,"ngxTimepicker","ngModel","ngModelChange"],["picker_second_j",""],["matInput","","formControlName","third_a",3,"ngxTimepicker","ngModel","ngModelChange"],["picker_third_a",""],["matInput","","formControlName","third_j",3,"ngxTimepicker","ngModel","ngModelChange"],["picker_third_j",""],["matInput","","formControlName","fourth_a",3,"ngxTimepicker","ngModel","ngModelChange"],["picker_fourth_a",""],["matInput","","formControlName","fourth_j",3,"ngxTimepicker","ngModel","ngModelChange"],["picker_fourth_j",""],["matInput","","formControlName","fifth_a",3,"ngxTimepicker","ngModel","ngModelChange"],["picker_fifth_a",""],["matInput","","formControlName","fifth_j",3,"ngxTimepicker","ngModel","ngModelChange"],["picker_fifth_j",""],["mat-raised-button","","color","primary"],[1,"loading"]],template:function(t,i){if(1&t&&(o.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"a",4),o.O4$(),o.TgZ(5,"svg",5),o._UZ(6,"path",6),o.qZA()()(),o.kcU(),o.TgZ(7,"div",7)(8,"h4"),o._uU(9,"Update Timing"),o.qZA()()(),o.TgZ(10,"div",8),o.YNc(11,zQ,104,31,"ng-container",9),o.qZA()()(),o.YNc(12,$Q,2,0,"ng-template",null,10,o.W1O)),2&t){const r=o.MAs(13);o.xp6(11),o.Q6J("ngIf",i.timing)("ngIfElse",r)}},directives:[Ds,Gn,EB,aB,RC,X7,LO,s9,yv,$S,kO,Go,KH,z7,OU],styles:[""]}),n})(),WQ=(()=>{class n{constructor(t,i,r){this.authService=t,this.router=i,this.userService=r}canActivate(t,i){return this.authService.isLoggedIn&&1!=this.userService.loggedInUser().isAdmin&&this.router.navigate(["user-notes"]),!0}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(MI),o.LFG(Kr),o.LFG(Qy))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function ZQ(n,e){1&n&&o._UZ(0,"th",19)}function YQ(n,e){if(1&n&&(o.TgZ(0,"td",20),o._UZ(1,"img",21),o.qZA()),2&n){const t=e.$implicit;o.xp6(1),o.Q6J("src",t.photoURL,o.LSH)}}function KQ(n,e){1&n&&(o.TgZ(0,"th",19),o._uU(1,"Name"),o.qZA())}function QQ(n,e){if(1&n&&(o.TgZ(0,"td",20),o._uU(1),o.qZA()),2&n){const t=e.$implicit;o.xp6(1),o.hij(" ",t.displayName," ")}}function JQ(n,e){1&n&&(o.TgZ(0,"th",19),o._uU(1,"Email"),o.qZA())}function XQ(n,e){if(1&n&&(o.TgZ(0,"td",20),o._uU(1),o.qZA()),2&n){const t=e.$implicit;o.xp6(1),o.hij(" ",t.email," ")}}function eJ(n,e){1&n&&(o.TgZ(0,"th",19),o._uU(1,"Is Verified"),o.qZA())}function tJ(n,e){if(1&n&&(o.TgZ(0,"td",20),o._uU(1),o.qZA()),2&n){const t=e.$implicit;o.xp6(1),o.hij(" ",t.isVerified," ")}}function nJ(n,e){1&n&&o._UZ(0,"th",19)}function iJ(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"td",20)(1,"button",22),o.NdJ("click",function(){const s=o.CHM(t).$implicit;return o.oxw().activeDeactiveUser(s.id,1)}),o._uU(2,"Activate"),o.qZA(),o.TgZ(3,"button",23),o.NdJ("click",function(){const s=o.CHM(t).$implicit;return o.oxw().activeDeactiveUser(s.id,0)}),o._uU(4,"Deactivate"),o.qZA()()}}function rJ(n,e){1&n&&o._UZ(0,"tr",24)}function sJ(n,e){1&n&&o._UZ(0,"tr",25)}let oJ=(()=>{class n{constructor(t){this.userService=t,this.users=[],this.displayedColumns=["photoURL","displayName","email","isVerified","Action"]}ngOnInit(){this.getAllUsers()}getAllUsers(){this.userService.getUsers().subscribe(t=>{this.users=t.map(i=>Object.assign({id:i.payload.doc.id},i.payload.doc.data())),console.log(this.users,"this.users")})}activeDeactiveUser(t,i){this.userService.activeDeactiveUser(t,i)}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(Qy))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-users"]],decls:29,vars:3,consts:[[1,"appWrapper"],[1,"appContainer"],[1,"pageHeader"],[1,"headerLeft"],["routerLink","../home"],["width","9","height","16","viewBox","0 0 9 16","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M8 15L1 8L8 1","stroke","#1C1C1C","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],[1,"pageTitle"],[1,"pb-30","px-25"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","photoURL"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","displayName"],["matColumnDef","email"],["matColumnDef","isVerified"],["matColumnDef","Action"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],[3,"src"],["mat-raised-button","","color","primary",1,"me-3",3,"click"],["mat-raised-button","","color","warn",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(t,i){1&t&&(o.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"a",4),o.O4$(),o.TgZ(5,"svg",5),o._UZ(6,"path",6),o.qZA()()(),o.kcU(),o.TgZ(7,"div",7)(8,"h4"),o._uU(9,"Users"),o.qZA()()(),o.TgZ(10,"div",8)(11,"table",9),o.ynx(12,10),o.YNc(13,ZQ,1,0,"th",11),o.YNc(14,YQ,2,1,"td",12),o.BQk(),o.ynx(15,13),o.YNc(16,KQ,2,0,"th",11),o.YNc(17,QQ,2,1,"td",12),o.BQk(),o.ynx(18,14),o.YNc(19,JQ,2,0,"th",11),o.YNc(20,XQ,2,1,"td",12),o.BQk(),o.ynx(21,15),o.YNc(22,eJ,2,0,"th",11),o.YNc(23,tJ,2,1,"td",12),o.BQk(),o.ynx(24,16),o.YNc(25,nJ,1,0,"th",11),o.YNc(26,iJ,5,0,"td",12),o.BQk(),o.YNc(27,rJ,1,0,"tr",17),o.YNc(28,sJ,1,0,"tr",18),o.qZA()()()()),2&t&&(o.xp6(11),o.Q6J("dataSource",i.users),o.xp6(16),o.Q6J("matHeaderRowDef",i.displayedColumns),o.xp6(1),o.Q6J("matRowDefColumns",i.displayedColumns))},directives:[Ds,BH,fN,hN,pN,dN,mN,OU,HH,GH,jH,zH],styles:["table[_ngcontent-%COMP%]{width:100%}td.mat-column-star[_ngcontent-%COMP%]{width:20px;padding-right:8px!important}.mat-row[_ngcontent-%COMP%]:hover{background-color:#e9f3ff}.mat-row[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#3e75ff;text-decoration:none}.mat-row[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.mat-form-field[_ngcontent-%COMP%]{font-size:14px;width:100%}.mat-icon[_ngcontent-%COMP%]{color:#3e75ff}@media screen and (max-width: 960px){.mat-elevation-z8[_ngcontent-%COMP%]{background:transparent;box-shadow:none}.mat-header-row[_ngcontent-%COMP%]{display:none}tbody[_ngcontent-%COMP%]{display:block;width:100%}.mat-table[_ngcontent-%COMP%]{background:transparent}.mat-table[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{box-sizing:border-box}.mat-table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]{display:block;overflow:hidden;height:auto;position:relative;clear:both;box-shadow:0 2px 1px -1px #0003,0 1px 1px #00000024,0 1px 3px #0000001f;background-color:#fff;border-radius:3px}.mat-table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%] + .mat-row[_ngcontent-%COMP%]{margin-top:24px}.mat-table[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]{display:block;width:100%;padding:0 16px;margin:16px 0;border:0 none}.mat-table[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]:first-child{padding:0 48px 0 16px}.mat-table[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]:first-child   a[_ngcontent-%COMP%]{font-size:20px;color:inherit}.mat-table[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]:first-child:before{display:none}.mat-table[_ngcontent-%COMP%]   .mat-cell.m-card-sub-title[_ngcontent-%COMP%]{margin-top:-8px;padding:0 48px 0 16px;color:#0000008a}.mat-table[_ngcontent-%COMP%]   .has_label_on_mobile[_ngcontent-%COMP%]:before{content:attr(data-label);display:inline;font-weight:400}.mat-table[_ngcontent-%COMP%]   .mat-column-star[_ngcontent-%COMP%]{width:auto;padding:8px 0 0!important;margin:0;position:absolute;top:0;right:0}.mat-table[_ngcontent-%COMP%]   .mat-column-star[_ngcontent-%COMP%]:before{display:none}.mat-paginator[_ngcontent-%COMP%]{margin-top:24px}}"]}),n})(),aJ=(()=>{class n{constructor(t){this.router=t}ngOnInit(){setTimeout(()=>{this.router.navigate(["home"])},3e3)}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(Kr))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-splash"]],decls:3,vars:0,consts:[[1,"splashScreen"],[1,"splashScreenInner"],["src","assets/images/logo-light.png"]],template:function(t,i){1&t&&(o.TgZ(0,"div",0)(1,"div",1),o._UZ(2,"img",2),o.qZA()())},styles:[""]}),n})();function lJ(n,e){1&n&&(o.TgZ(0,"li")(1,"a",16),o.O4$(),o.TgZ(2,"svg",17),o._UZ(3,"path",18),o.qZA(),o.kcU(),o.TgZ(4,"span"),o._uU(5,"Update Time"),o.qZA()()())}function cJ(n,e){1&n&&(o.TgZ(0,"li")(1,"a",19),o.O4$(),o.TgZ(2,"svg",20),o._UZ(3,"path",21)(4,"path",22),o.qZA(),o.kcU(),o.TgZ(5,"span"),o._uU(6,"Users"),o.qZA()()())}function uJ(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"ul")(1,"li")(2,"a",23),o.O4$(),o.TgZ(3,"svg",24)(4,"g",25),o._UZ(5,"path",26),o.qZA(),o.TgZ(6,"defs")(7,"clipPath",27),o._UZ(8,"rect",28),o.qZA()()(),o.kcU(),o.TgZ(9,"span",29),o.NdJ("click",function(){return o.CHM(t),o.oxw().logout()}),o._uU(10,"Logout"),o.qZA()()()()}}function dJ(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"div",30)(1,"button",31),o.NdJ("click",function(){return o.CHM(t),o.oxw().signIn()}),o.O4$(),o.TgZ(2,"svg",32),o._UZ(3,"path",33),o.qZA(),o.kcU(),o.TgZ(4,"span"),o._uU(5,"Login"),o.qZA()()()}}const hJ=[{path:"",component:aJ},{path:"home",component:gK},{path:"fasting",component:sK},{path:"my-account",component:(()=>{class n{constructor(t,i){this.authService=t,this.userService=i,this.userLogin=!1}ngOnInit(){this.loggedInUser(),this.isLoggedIn()}logout(){this.authService.SignOut(),this.isLoggedIn()}signIn(){this.authService.GoogleAuth()}isLoggedIn(){this.userLogin=this.authService.isLoggedIn,console.log(this.authService.isLoggedIn,"this.userLogin")}loggedInUser(){this.loginUserData=this.userService.loggedInUser()}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(MI),o.Y36(Qy))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-my-account"]],decls:30,vars:4,consts:[[1,"appWrapper"],[1,"appContainer"],[1,"page-with-footer"],[1,"pt-50"],[1,"myAccount","px-25"],[1,"myAccountMenulist"],["routerLink","../home"],["width","19","height","21","viewBox","0 0 19 21","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M1 7.61111L9.5 1L18 7.61111V18C18 18.501 17.801 18.9814 17.4468 19.3356C17.0925 19.6899 16.6121 19.8889 16.1111 19.8889H2.88889C2.38792 19.8889 1.90748 19.6899 1.55324 19.3356C1.19901 18.9814 1 18.501 1 18V7.61111Z","stroke-width","1.5","stroke-linecap","round","stroke-linejoin","round","stroke","#4F4F4F"],["d","M6.66699 19.8888V10.4443H12.3337V19.8888","stroke-width","1.5","stroke-linecap","round","stroke-linejoin","round","stroke","#4F4F4F"],[4,"ngIf"],[1,"myAccountMenulist","pl-30","pb-30"],[1,"mya_seprateMenu","pr-30"],["class","withoutLoginbtns",4,"ngIf"],[1,"footerLine"],[1,"heart"],["routerLink","../update-timing"],["fill","#4F4F4F","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 64 64"],["d","M 32 6 C 17.641 6 6 17.641 6 32 C 6 46.359 17.641 58 32 58 C 46.359 58 58 46.359 58 32 C 58 17.641 46.359 6 32 6 z M 32 10 C 44.15 10 54 19.85 54 32 C 54 44.15 44.15 54 32 54 C 19.85 54 10 44.15 10 32 C 10 19.85 19.85 10 32 10 z M 30.5 14 L 31 18 L 33 18 L 33.5 14 L 30.5 14 z M 44.021484 18.564453 L 33.25 28.203125 A 4 4 0 0 0 32 28 A 4 4 0 0 0 32 36 A 4 4 0 0 0 32.722656 35.931641 L 40.816406 42.638672 L 42.640625 40.816406 L 35.931641 32.720703 A 4 4 0 0 0 35.796875 30.75 L 45.435547 19.978516 L 44.021484 18.564453 z M 14 30.5 L 14 33.5 L 18 33 L 18 31 L 14 30.5 z M 50 30.5 L 46 31 L 46 33 L 50 33.5 L 50 30.5 z M 31 46 L 30.5 50 L 33.5 50 L 33 46 L 31 46 z"],["routerLink","../users"],["width","18","height","20","viewBox","0 0 18 20","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M17 19V17C17 15.9391 16.5786 14.9217 15.8284 14.1716C15.0783 13.4214 14.0609 13 13 13H5C3.93913 13 2.92172 13.4214 2.17157 14.1716C1.42143 14.9217 1 15.9391 1 17V19","stroke-width","1.5","stroke-linecap","round","stroke-linejoin","round","stroke","#4F4F4F"],["d","M9 9C11.2091 9 13 7.20914 13 5C13 2.79086 11.2091 1 9 1C6.79086 1 5 2.79086 5 5C5 7.20914 6.79086 9 9 9Z","stroke-width","1.5","stroke-linecap","round","stroke-linejoin","round","stroke","#4F4F4F"],[2,"cursor","pointer"],["width","24","height","24","viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg"],["clip-path","url(#clip0)"],["d","M16.9688 18.375V20.25C16.9688 22.3178 15.2866 24 13.2188 24H3.79688C1.72906 24 0.046875 22.3178 0.046875 20.25V3.75C0.046875 1.68219 1.72906 0 3.79688 0H13.2188C15.2866 0 16.9688 1.68219 16.9688 3.75V5.625C16.9688 6.14282 16.5491 6.5625 16.0312 6.5625C15.5134 6.5625 15.0938 6.14282 15.0938 5.625V3.75C15.0938 2.71619 14.2526 1.875 13.2188 1.875H3.79688C2.76306 1.875 1.92188 2.71619 1.92188 3.75V20.25C1.92188 21.2838 2.76306 22.125 3.79688 22.125H13.2188C14.2526 22.125 15.0938 21.2838 15.0938 20.25V18.375C15.0938 17.8572 15.5134 17.4375 16.0312 17.4375C16.5491 17.4375 16.9688 17.8572 16.9688 18.375ZM23.3604 10.3896L21.2611 8.29028C20.8949 7.92407 20.3013 7.92407 19.9352 8.29028C19.569 8.65631 19.569 9.24994 19.9352 9.61597L21.4285 11.1094H10.1719C9.65405 11.1094 9.23438 11.5291 9.23438 12.0469C9.23438 12.5647 9.65405 12.9844 10.1719 12.9844H21.4285L19.9352 14.4778C19.569 14.8438 19.569 15.4374 19.9352 15.8035C20.1183 15.9866 20.3582 16.0781 20.5981 16.0781C20.8381 16.0781 21.078 15.9866 21.2611 15.8035L23.3604 13.7042C24.2743 12.7903 24.2743 11.3035 23.3604 10.3896Z","fill","#4F4F4F"],["id","clip0"],["width","24","height","24","fill","white"],[3,"click"],[1,"withoutLoginbtns"],[1,"btn",3,"click"],["width","26","height","27","viewBox","0 0 26 27","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M13.0892 26.1782C20.6425 26.1782 25.66 20.8762 25.66 13.3928C25.66 12.5359 25.571 11.8744 25.4471 11.2147H13.0909V15.7139H20.5203C20.2167 17.6249 18.2707 21.3562 13.0909 21.3562C8.62838 21.3562 4.98435 17.6598 4.98435 13.0891C4.98435 8.51839 8.62663 4.82028 13.0909 4.82028C15.6442 4.82028 17.3405 5.90929 18.3056 6.83775L21.8589 3.4276C19.5709 1.28622 16.625 0 13.0892 0C5.85697 0 0 5.85694 0 13.0891C0 20.3213 5.85697 26.1782 13.0892 26.1782Z","fill","#DC4E43"]],template:function(t,i){1&t&&(o.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h3"),o._uU(6,"My Account"),o.qZA(),o.TgZ(7,"div",5)(8,"ul")(9,"li")(10,"a",6),o.O4$(),o.TgZ(11,"svg",7),o._UZ(12,"path",8)(13,"path",9),o.qZA(),o.kcU(),o.TgZ(14,"span"),o._uU(15,"Home"),o.qZA()()(),o.YNc(16,lJ,6,0,"li",10),o.YNc(17,cJ,7,0,"li",10),o.qZA()()()(),o.TgZ(18,"div",11)(19,"div",12),o.YNc(20,uJ,11,0,"ul",10),o.YNc(21,dJ,6,0,"div",13),o.qZA()()(),o.TgZ(22,"div",14)(23,"p"),o._uU(24,"Designed with "),o.TgZ(25,"span",15),o._uU(26,"\u2764"),o.qZA(),o._uU(27," By "),o.TgZ(28,"span"),o._uU(29,"Zulqarnain"),o.qZA()()()()()),2&t&&(o.xp6(16),o.Q6J("ngIf",i.userLogin&&((null==i.loginUserData?null:i.loginUserData.isVerified)||(null==i.loginUserData?null:i.loginUserData.isAdmin))),o.xp6(1),o.Q6J("ngIf",i.userLogin&&(null==i.loginUserData?null:i.loginUserData.isAdmin)),o.xp6(3),o.Q6J("ngIf",i.userLogin),o.xp6(1),o.Q6J("ngIf",!i.userLogin))},directives:[Ds,Gn],styles:[""]}),n})()},{path:"update-timing",component:qQ,canActivate:[yF]},{path:"users",component:oJ,canActivate:[WQ]}];let fJ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[ZE.forRoot(hJ)],ZE]}),n})(),pJ=(()=>{class n{constructor(){this.title="ng-firebase"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(t,i){1&t&&o._UZ(0,"router-outlet")},directives:[Hp],styles:[""]}),n})();const mp=new G.y(LI.Z),gJ={connector:()=>new D.x};function t3(n,e=gJ){const{connector:t}=e;return(0,Qn.e)((i,r)=>{const s=t();(0,x.D)(n(function mJ(n){return new G.y(e=>n.subscribe(e))}(s))).subscribe(r),r.add(i.subscribe(s))})}function n3(n,e){return e?t=>Ap(e.pipe((0,si.q)(1),function vJ(){return(0,Qn.e)((n,e)=>{n.subscribe((0,pi.x)(e,LI.Z))})}()),t.pipe(n3(n))):(0,Pr.z)((t,i)=>n(t,i).pipe((0,si.q)(1),function bJ(n){return(0,ye.U)(()=>n)}(t)))}const UC="Service workers are disabled or not supported by this browser";class TA{constructor(e){if(this.serviceWorker=e,e){const i=bv(e,"controllerchange").pipe((0,ye.U)(()=>e.controller)),s=Ap(e_(()=>N(e.controller)),i);this.worker=s.pipe(kn(E=>!!E)),this.registration=this.worker.pipe(qe(()=>e.getRegistration()));const _=bv(e,"message").pipe((0,ye.U)(E=>E.data)).pipe(kn(E=>E&&E.type)).pipe(function yJ(n){return n?e=>t3(n)(e):e=>function _J(n,e){const t=(0,Bt.m)(n)?n:()=>n;return(0,Bt.m)(e)?t3(e,{connector:t}):i=>new t_(i,t)}(new D.x)(e)}());_.connect(),this.events=_}else this.worker=this.events=this.registration=function CJ(n){return e_(()=>jh(new Error(n)))}(UC)}postMessage(e,t){return this.worker.pipe((0,si.q)(1),(0,or.b)(i=>{i.postMessage(Object.assign({action:e},t))})).toPromise().then(()=>{})}postMessageWithOperation(e,t,i){const r=this.waitForOperationCompleted(i),s=this.postMessage(e,t);return Promise.all([s,r]).then(([,c])=>c)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(e){let t;return t="string"==typeof e?i=>i.type===e:i=>e.includes(i.type),this.events.pipe(kn(t))}nextEventOfType(e){return this.eventsOfType(e).pipe((0,si.q)(1))}waitForOperationCompleted(e){return this.eventsOfType("OPERATION_COMPLETED").pipe(kn(t=>t.nonce===e),(0,si.q)(1),(0,ye.U)(t=>{if(void 0!==t.result)return t.result;throw new Error(t.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let EJ=(()=>{class n{constructor(t){if(this.sw=t,this.subscriptionChanges=new D.x,!t.isEnabled)return this.messages=mp,this.notificationClicks=mp,void(this.subscription=mp);this.messages=this.sw.eventsOfType("PUSH").pipe((0,ye.U)(r=>r.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe((0,ye.U)(r=>r.data)),this.pushManager=this.sw.registration.pipe((0,ye.U)(r=>r.pushManager));const i=this.pushManager.pipe(qe(r=>r.getSubscription()));this.subscription=(0,Q.T)(i,this.subscriptionChanges)}get isEnabled(){return this.sw.isEnabled}requestSubscription(t){if(!this.sw.isEnabled)return Promise.reject(new Error(UC));const i={userVisibleOnly:!0};let r=this.decodeBase64(t.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),s=new Uint8Array(new ArrayBuffer(r.length));for(let c=0;c<r.length;c++)s[c]=r.charCodeAt(c);return i.applicationServerKey=s,this.pushManager.pipe(qe(c=>c.subscribe(i)),(0,si.q)(1)).toPromise().then(c=>(this.subscriptionChanges.next(c),c))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe((0,si.q)(1),qe(i=>{if(null===i)throw new Error("Not subscribed to push notifications.");return i.unsubscribe().then(r=>{if(!r)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(UC))}decodeBase64(t){return atob(t)}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(TA))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),TJ=(()=>{class n{constructor(t){if(this.sw=t,!t.isEnabled)return this.versionUpdates=mp,this.available=mp,this.activated=mp,void(this.unrecoverable=mp);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY"]),this.available=this.versionUpdates.pipe(kn(i=>"VERSION_READY"===i.type),(0,ye.U)(i=>({type:"UPDATE_AVAILABLE",current:i.currentVersion,available:i.latestVersion}))),this.activated=this.sw.eventsOfType("UPDATE_ACTIVATED"),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}get isEnabled(){return this.sw.isEnabled}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(UC));const t=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:t},t)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(UC));const t=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:t},t)}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(TA))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();class DN{}const r3=new o.OlP("NGSW_REGISTER_SCRIPT");function DJ(n,e,t,i){return()=>{if(!ri(i)||!("serviceWorker"in navigator)||!1===t.enabled)return;let s;if(navigator.serviceWorker.addEventListener("controllerchange",()=>{null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})}),"function"==typeof t.registrationStrategy)s=t.registrationStrategy();else{const[h,...p]=(t.registrationStrategy||"registerWhenStable:30000").split(":");switch(h){case"registerImmediately":s=N(null);break;case"registerWithDelay":s=s3(+p[0]||0);break;case"registerWhenStable":s=p[0]?(0,Q.T)(o3(n),s3(+p[0])):o3(n);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${t.registrationStrategy}`)}}n.get(o.R0b).runOutsideAngular(()=>s.pipe((0,si.q)(1)).subscribe(()=>navigator.serviceWorker.register(e,{scope:t.scope}).catch(h=>console.error("Service worker registration failed with:",h))))}}function s3(n){return N(null).pipe(function wJ(n,e=Oo.z){const t=gH(n,e);return n3(()=>t)}(n))}function o3(n){return n.get(o.z2F).isStable.pipe(kn(t=>t))}function IJ(n,e){return new TA(ri(e)&&!1!==n.enabled?navigator.serviceWorker:void 0)}let SJ=(()=>{class n{static register(t,i={}){return{ngModule:n,providers:[{provide:r3,useValue:t},{provide:DN,useValue:i},{provide:TA,useFactory:IJ,deps:[DN,o.Lbi]},{provide:o.ip1,useFactory:DJ,deps:[o.zs3,r3,DN,o.Lbi],multi:!0}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[EJ,TJ]}),n})(),AJ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n,bootstrap:[pJ]}),n.\u0275inj=o.cJS({providers:[MI,yF,d6,Ta],imports:[[oo,b9,Bn.hO.initializeApp(RR_firebase),Hh,u6,e4,hq,fJ,qW,HB,Iv,dZ,_Z,bZ,o9,I9,wY,MY,nK,SJ.register("ngsw-worker.js",{enabled:true,registrationStrategy:"registerWhenStable:30000"})]]}),n})();(0,o.G48)(),yr().bootstrapModule(AJ).catch(n=>console.error(n))},5867:(Rt,He,z)=>{z.d(He,{C6:()=>o.getApps,Mq:()=>o.getApp});var o=z(9681);(0,o.registerVersion)("firebase","9.6.11","app")},127:(Rt,He,z)=>{z.d(He,{Z:()=>o.Z});var o=z(3942);o.Z.registerVersion("firebase","9.6.11","app-compat")},5881:(Rt,He,z)=>{z.r(He);var o=z(5861),J=z(3942),B=z(573),ve=z(2090),fe=(z(9681),z(1877),z(4859));function Te(){return window}function ne(){return(ne=(0,o.Z)(function*(q,K,te){var Ee;const{BuildInfo:tt}=Te();(0,B.ap)(K.sessionId,"AuthEvent did not contain a session ID");const ct=yield Ue(K.sessionId),Ut={};return(0,B.aq)()?Ut.ibi=tt.packageName:(0,B.ar)()?Ut.apn=tt.packageName:(0,B.as)(q,"operation-not-supported-in-this-environment"),tt.displayName&&(Ut.appDisplayName=tt.displayName),Ut.sessionId=ct,(0,B.at)(q,te,K.type,void 0,null!==(Ee=K.eventId)&&void 0!==Ee?Ee:void 0,Ut)})).apply(this,arguments)}function ot(){return(ot=(0,o.Z)(function*(q){const{BuildInfo:K}=Te(),te={};(0,B.aq)()?te.iosBundleId=K.packageName:(0,B.ar)()?te.androidPackageName=K.packageName:(0,B.as)(q,"operation-not-supported-in-this-environment"),yield(0,B.au)(q,te)})).apply(this,arguments)}function et(){return(et=(0,o.Z)(function*(q,K,te){const{cordova:Ee}=Te();let tt=()=>{};try{yield new Promise((ct,Ut)=>{let bt=null;function Gt(){var yn;ct();const nr=null===(yn=Ee.plugins.browsertab)||void 0===yn?void 0:yn.close;"function"==typeof nr&&nr(),"function"==typeof(null==te?void 0:te.close)&&te.close()}function ui(){bt||(bt=window.setTimeout(()=>{Ut((0,B.av)(q,"redirect-cancelled-by-user"))},2e3))}function Bi(){"visible"===(null==document?void 0:document.visibilityState)&&ui()}K.addPassiveListener(Gt),document.addEventListener("resume",ui,!1),(0,B.ar)()&&document.addEventListener("visibilitychange",Bi,!1),tt=()=>{K.removePassiveListener(Gt),document.removeEventListener("resume",ui,!1),document.removeEventListener("visibilitychange",Bi,!1),bt&&window.clearTimeout(bt)}})}finally{tt()}})).apply(this,arguments)}function Ue(q){return yt.apply(this,arguments)}function yt(){return(yt=(0,o.Z)(function*(q){const K=Je(q),te=yield crypto.subtle.digest("SHA-256",K);return Array.from(new Uint8Array(te)).map(tt=>tt.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Je(q){if((0,B.ap)(/[0-9a-zA-Z]+/.test(q),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(q);const K=new ArrayBuffer(q.length),te=new Uint8Array(K);for(let Ee=0;Ee<q.length;Ee++)te[Ee]=q.charCodeAt(Ee);return te}class ce extends B.az{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(K=>{this.resolveInialized=K})}addPassiveListener(K){this.passiveListeners.add(K)}removePassiveListener(K){this.passiveListeners.delete(K)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(K){return this.resolveInialized(),this.passiveListeners.forEach(te=>te(K)),super.onEvent(K)}initialized(){var K=this;return(0,o.Z)(function*(){yield K.initPromise})()}}function me(q){return pt.apply(this,arguments)}function pt(){return(pt=(0,o.Z)(function*(q){const K=yield De()._get(Ae(q));return K&&(yield De()._remove(Ae(q))),K})).apply(this,arguments)}function Se(){const q=[],K="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let te=0;te<20;te++){const Ee=Math.floor(Math.random()*K.length);q.push(K.charAt(Ee))}return q.join("")}function De(){return(0,B.ax)(B.b)}function Ae(q){return(0,B.ay)("authEvent",q.config.apiKey,q.name)}function Vt(q){if(!(null==q?void 0:q.includes("?")))return{};const[K,...te]=q.split("?");return(0,ve.zd)(te.join("?"))}function St(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,B.av)("no-auth-event")}}function _n(){var q;return(null===(q=null==self?void 0:self.location)||void 0===q?void 0:q.protocol)||null}function ti(q=(0,ve.z$)()){return!("file:"!==_n()&&"ionic:"!==_n()||!q.toLowerCase().match(/iphone|ipad|ipod|android/))}function es(){try{const q=self.localStorage,K=B.aG();if(q)return q.setItem(K,"1"),q.removeItem(K),!function Ur(q=(0,ve.z$)()){return function Zt(){return(0,ve.w1)()&&11===(null==document?void 0:document.documentMode)}()||function yi(q=(0,ve.z$)()){return/Edge\/\d+/.test(q)}(q)}()||(0,ve.hl)()}catch(q){return qi()&&(0,ve.hl)()}return!1}function qi(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function ni(){return(function Tn(){return"http:"===_n()||"https:"===_n()}()||(0,ve.ru)()||ti())&&!function Ai(){return(0,ve.b$)()||(0,ve.UG)()}()&&es()&&!qi()}function xr(){return ti()&&"undefined"!=typeof document}function fr(){return(fr=(0,o.Z)(function*(){return!!xr()&&new Promise(q=>{const K=setTimeout(()=>{q(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(K),q(!0)})})})).apply(this,arguments)}const xn={LOCAL:"local",NONE:"none",SESSION:"session"},ii=B.aw,Ti="persistence";function qn(q){return Un.apply(this,arguments)}function Un(){return(Un=(0,o.Z)(function*(q){yield q._initializationPromise;const K=en(),te=B.ay(Ti,q.config.apiKey,q.name);K&&K.setItem(te,q._getPersistence())})).apply(this,arguments)}function en(){var q;try{return(null===(q=function vi(){return"undefined"!=typeof window?window:null}())||void 0===q?void 0:q.sessionStorage)||null}catch(K){return null}}const Dt=B.aw;class vt{constructor(){this.browserResolver=B.ax(B.k),this.cordovaResolver=B.ax(class gi{constructor(){this._redirectPersistence=B.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=B.aA}_initialize(K){var te=this;return(0,o.Z)(function*(){const Ee=K._key();let tt=te.eventManagers.get(Ee);return tt||(tt=new ce(K),te.eventManagers.set(Ee,tt),te.attachCallbackListeners(K,tt)),tt})()}_openPopup(K){(0,B.as)(K,"operation-not-supported-in-this-environment")}_openRedirect(K,te,Ee,tt){var ct=this;return(0,o.Z)(function*(){!function Oe(q){var K,te,Ee,tt,ct,Ut,bt,Gt,ui,Bi;const yn=Te();(0,B.aw)("function"==typeof(null===(K=null==yn?void 0:yn.universalLinks)||void 0===K?void 0:K.subscribe),q,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,B.aw)(void 0!==(null===(te=null==yn?void 0:yn.BuildInfo)||void 0===te?void 0:te.packageName),q,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,B.aw)("function"==typeof(null===(ct=null===(tt=null===(Ee=null==yn?void 0:yn.cordova)||void 0===Ee?void 0:Ee.plugins)||void 0===tt?void 0:tt.browsertab)||void 0===ct?void 0:ct.openUrl),q,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,B.aw)("function"==typeof(null===(Gt=null===(bt=null===(Ut=null==yn?void 0:yn.cordova)||void 0===Ut?void 0:Ut.plugins)||void 0===bt?void 0:bt.browsertab)||void 0===Gt?void 0:Gt.isAvailable),q,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,B.aw)("function"==typeof(null===(Bi=null===(ui=null==yn?void 0:yn.cordova)||void 0===ui?void 0:ui.InAppBrowser)||void 0===Bi?void 0:Bi.open),q,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(K);const Ut=yield ct._initialize(K);yield Ut.initialized(),Ut.resetRedirect(),(0,B.aB)(),yield ct._originValidation(K);const bt=function Ne(q,K,te=null){return{type:K,eventId:te,urlResponse:null,sessionId:Se(),postBody:null,tenantId:q.tenantId,error:(0,B.av)(q,"no-auth-event")}}(K,Ee,tt);yield function rt(q,K){return De()._set(Ae(q),K)}(K,bt);const Gt=yield function re(q,K,te){return ne.apply(this,arguments)}(K,bt,te),ui=yield function Ge(q){const{cordova:K}=Te();return new Promise(te=>{K.plugins.browsertab.isAvailable(Ee=>{let tt=null;Ee?K.plugins.browsertab.openUrl(q):tt=K.InAppBrowser.open(q,(0,B.ao)()?"_blank":"_system","location=yes"),te(tt)})})}(Gt);return function Qe(q,K,te){return et.apply(this,arguments)}(K,Ut,ui)})()}_isIframeWebStorageSupported(K,te){throw new Error("Method not implemented.")}_originValidation(K){const te=K._key();return this.originValidationPromises[te]||(this.originValidationPromises[te]=function _e(q){return ot.apply(this,arguments)}(K)),this.originValidationPromises[te]}attachCallbackListeners(K,te){const{universalLinks:Ee,handleOpenURL:tt,BuildInfo:ct}=Te(),Ut=setTimeout((0,o.Z)(function*(){yield me(K),te.onEvent(St())}),500),bt=function(){var Bi=(0,o.Z)(function*(yn){clearTimeout(Ut);const nr=yield me(K);let ms=null;nr&&(null==yn?void 0:yn.url)&&(ms=function ue(q,K){var te,Ee;const tt=function we(q){const K=Vt(q),te=K.link?decodeURIComponent(K.link):void 0,Ee=Vt(te).link,tt=K.deep_link_id?decodeURIComponent(K.deep_link_id):void 0;return Vt(tt).link||tt||Ee||te||q}(K);if(tt.includes("/__/auth/callback")){const ct=Vt(tt),Ut=ct.firebaseError?function Ye(q){try{return JSON.parse(q)}catch(K){return null}}(decodeURIComponent(ct.firebaseError)):null,bt=null===(Ee=null===(te=null==Ut?void 0:Ut.code)||void 0===te?void 0:te.split("auth/"))||void 0===Ee?void 0:Ee[1],Gt=bt?(0,B.av)(bt):null;return Gt?{type:q.type,eventId:q.eventId,tenantId:q.tenantId,error:Gt,urlResponse:null,sessionId:null,postBody:null}:{type:q.type,eventId:q.eventId,tenantId:q.tenantId,sessionId:q.sessionId,urlResponse:tt,postBody:null}}return null}(nr,yn.url)),te.onEvent(ms||St())});return function(nr){return Bi.apply(this,arguments)}}();void 0!==Ee&&"function"==typeof Ee.subscribe&&Ee.subscribe(null,bt);const Gt=tt,ui=`${ct.packageName.toLowerCase()}://`;Te().handleOpenURL=function(){var Bi=(0,o.Z)(function*(yn){if(yn.toLowerCase().startsWith(ui)&&bt({url:yn}),"function"==typeof Gt)try{Gt(yn)}catch(nr){console.error(nr)}});return function(yn){return Bi.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=B.a,this._completeRedirectFn=B.aA}_initialize(K){var te=this;return(0,o.Z)(function*(){return yield te.selectUnderlyingResolver(),te.assertedUnderlyingResolver._initialize(K)})()}_openPopup(K,te,Ee,tt){var ct=this;return(0,o.Z)(function*(){return yield ct.selectUnderlyingResolver(),ct.assertedUnderlyingResolver._openPopup(K,te,Ee,tt)})()}_openRedirect(K,te,Ee,tt){var ct=this;return(0,o.Z)(function*(){return yield ct.selectUnderlyingResolver(),ct.assertedUnderlyingResolver._openRedirect(K,te,Ee,tt)})()}_isIframeWebStorageSupported(K,te){this.assertedUnderlyingResolver._isIframeWebStorageSupported(K,te)}_originValidation(K){return this.assertedUnderlyingResolver._originValidation(K)}get _shouldInitProactively(){return xr()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Dt(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var K=this;return(0,o.Z)(function*(){if(K.underlyingResolver)return;const te=yield function xt(){return fr.apply(this,arguments)}();K.underlyingResolver=te?K.cordovaResolver:K.browserResolver})()}}function tr(q){return q.unwrap()}function sn(q){return wi(q)}function wi(q){const{_tokenResponse:K}=q instanceof ve.ZR?q.customData:q;if(!K)return null;if(!(q instanceof ve.ZR)&&"temporaryProof"in K&&"phoneNumber"in K)return B.P.credentialFromResult(q);const te=K.providerId;if(!te||te===B.o.PASSWORD)return null;let Ee;switch(te){case B.o.GOOGLE:Ee=B.N;break;case B.o.FACEBOOK:Ee=B.M;break;case B.o.GITHUB:Ee=B.Q;break;case B.o.TWITTER:Ee=B.V;break;default:const{oauthIdToken:tt,oauthAccessToken:ct,oauthTokenSecret:Ut,pendingToken:bt,nonce:Gt}=K;return ct||Ut||tt||bt?bt?te.startsWith("saml.")?B.aJ._create(te,bt):B.I._fromParams({providerId:te,signInMethod:te,pendingToken:bt,idToken:tt,accessToken:ct}):new B.T(te).credential({idToken:tt,accessToken:ct,rawNonce:Gt}):null}return q instanceof ve.ZR?Ee.credentialFromError(q):Ee.credentialFromResult(q)}function Sn(q,K){return K.catch(te=>{throw te instanceof ve.ZR&&function ns(q,K){var te;const Ee=null===(te=K.customData)||void 0===te?void 0:te._tokenResponse;if("auth/multi-factor-auth-required"===K.code)K.resolver=new on(q,B.am(q,K));else if(Ee){const tt=wi(K),ct=K;tt&&(ct.credential=tt,ct.tenantId=Ee.tenantId||void 0,ct.email=Ee.email||void 0,ct.phoneNumber=Ee.phoneNumber||void 0)}}(q,te),te}).then(te=>{const tt=te.user;return{operationType:te.operationType,credential:sn(te),additionalUserInfo:B.ak(te),user:lt.getOrCreate(tt)}})}function Nt(q,K){return ci.apply(this,arguments)}function ci(){return(ci=(0,o.Z)(function*(q,K){const te=yield K;return{verificationId:te.verificationId,confirm:Ee=>Sn(q,te.confirm(Ee))}})).apply(this,arguments)}class on{constructor(K,te){this.resolver=te,this.auth=function ts(q){return q.wrapped()}(K)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(K){return Sn(tr(this.auth),this.resolver.resolveSignIn(K))}}class lt{constructor(K){this._delegate=K,this.multiFactor=B.an(K)}static getOrCreate(K){return lt.USER_MAP.has(K)||lt.USER_MAP.set(K,new lt(K)),lt.USER_MAP.get(K)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(K){return this._delegate.getIdTokenResult(K)}getIdToken(K){return this._delegate.getIdToken(K)}linkAndRetrieveDataWithCredential(K){return this.linkWithCredential(K)}linkWithCredential(K){var te=this;return(0,o.Z)(function*(){return Sn(te.auth,B.Y(te._delegate,K))})()}linkWithPhoneNumber(K,te){var Ee=this;return(0,o.Z)(function*(){return Nt(Ee.auth,B.l(Ee._delegate,K,te))})()}linkWithPopup(K){var te=this;return(0,o.Z)(function*(){return Sn(te.auth,B.d(te._delegate,K,vt))})()}linkWithRedirect(K){var te=this;return(0,o.Z)(function*(){return yield qn(B.aC(te.auth)),B.g(te._delegate,K,vt)})()}reauthenticateAndRetrieveDataWithCredential(K){return this.reauthenticateWithCredential(K)}reauthenticateWithCredential(K){var te=this;return(0,o.Z)(function*(){return Sn(te.auth,B.Z(te._delegate,K))})()}reauthenticateWithPhoneNumber(K,te){return Nt(this.auth,B.r(this._delegate,K,te))}reauthenticateWithPopup(K){return Sn(this.auth,B.e(this._delegate,K,vt))}reauthenticateWithRedirect(K){var te=this;return(0,o.Z)(function*(){return yield qn(B.aC(te.auth)),B.h(te._delegate,K,vt)})()}sendEmailVerification(K){return B.aa(this._delegate,K)}unlink(K){var te=this;return(0,o.Z)(function*(){return yield B.aj(te._delegate,K),te})()}updateEmail(K){return B.af(this._delegate,K)}updatePassword(K){return B.ag(this._delegate,K)}updatePhoneNumber(K){return B.u(this._delegate,K)}updateProfile(K){return B.ae(this._delegate,K)}verifyBeforeUpdateEmail(K,te){return B.ab(this._delegate,K,te)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}lt.USER_MAP=new WeakMap;const Be=B.aw;let Xe=(()=>{class q{constructor(te,Ee){if(this.app=te,Ee.isInitialized())return this._delegate=Ee.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:tt}=te.options;Be(tt,"invalid-api-key",{appName:te.name}),Be(tt,"invalid-api-key",{appName:te.name});const ct="undefined"!=typeof window?vt:void 0;this._delegate=Ee.initialize({options:{persistence:Jt(tt,te.name),popupRedirectResolver:ct}}),this._delegate._updateErrorMap(B.z),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?lt.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(te){this._delegate.languageCode=te}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(te){this._delegate.tenantId=te}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(te,Ee){B.E(this._delegate,te,Ee)}applyActionCode(te){return B.a1(this._delegate,te)}checkActionCode(te){return B.a2(this._delegate,te)}confirmPasswordReset(te,Ee){return B.a0(this._delegate,te,Ee)}createUserWithEmailAndPassword(te,Ee){var tt=this;return(0,o.Z)(function*(){return Sn(tt._delegate,B.a4(tt._delegate,te,Ee))})()}fetchProvidersForEmail(te){return this.fetchSignInMethodsForEmail(te)}fetchSignInMethodsForEmail(te){return B.a9(this._delegate,te)}isSignInWithEmailLink(te){return B.a7(this._delegate,te)}getRedirectResult(){var te=this;return(0,o.Z)(function*(){Be(ni(),te._delegate,"operation-not-supported-in-this-environment");const Ee=yield B.j(te._delegate,vt);return Ee?Sn(te._delegate,Promise.resolve(Ee)):{credential:null,user:null}})()}addFrameworkForLogging(te){!function Vn(q,K){(0,B.aC)(q)._logFramework(K)}(this._delegate,te)}onAuthStateChanged(te,Ee,tt){const{next:ct,error:Ut,complete:bt}=Ot(te,Ee,tt);return this._delegate.onAuthStateChanged(ct,Ut,bt)}onIdTokenChanged(te,Ee,tt){const{next:ct,error:Ut,complete:bt}=Ot(te,Ee,tt);return this._delegate.onIdTokenChanged(ct,Ut,bt)}sendSignInLinkToEmail(te,Ee){return B.a6(this._delegate,te,Ee)}sendPasswordResetEmail(te,Ee){return B.$(this._delegate,te,Ee||void 0)}setPersistence(te){var Ee=this;return(0,o.Z)(function*(){let tt;switch(function bi(q,K){ii(Object.values(xn).includes(K),q,"invalid-persistence-type"),(0,ve.b$)()?ii(K!==xn.SESSION,q,"unsupported-persistence-type"):(0,ve.UG)()?ii(K===xn.NONE,q,"unsupported-persistence-type"):qi()?ii(K===xn.NONE||K===xn.LOCAL&&(0,ve.hl)(),q,"unsupported-persistence-type"):ii(K===xn.NONE||es(),q,"unsupported-persistence-type")}(Ee._delegate,te),te){case xn.SESSION:tt=B.a;break;case xn.LOCAL:tt=(yield B.ax(B.i)._isAvailable())?B.i:B.b;break;case xn.NONE:tt=B.K;break;default:return B.as("argument-error",{appName:Ee._delegate.name})}return Ee._delegate.setPersistence(tt)})()}signInAndRetrieveDataWithCredential(te){return this.signInWithCredential(te)}signInAnonymously(){return Sn(this._delegate,B.W(this._delegate))}signInWithCredential(te){return Sn(this._delegate,B.X(this._delegate,te))}signInWithCustomToken(te){return Sn(this._delegate,B._(this._delegate,te))}signInWithEmailAndPassword(te,Ee){return Sn(this._delegate,B.a5(this._delegate,te,Ee))}signInWithEmailLink(te,Ee){return Sn(this._delegate,B.a8(this._delegate,te,Ee))}signInWithPhoneNumber(te,Ee){return Nt(this._delegate,B.s(this._delegate,te,Ee))}signInWithPopup(te){var Ee=this;return(0,o.Z)(function*(){return Be(ni(),Ee._delegate,"operation-not-supported-in-this-environment"),Sn(Ee._delegate,B.c(Ee._delegate,te,vt))})()}signInWithRedirect(te){var Ee=this;return(0,o.Z)(function*(){return Be(ni(),Ee._delegate,"operation-not-supported-in-this-environment"),yield qn(Ee._delegate),B.f(Ee._delegate,te,vt)})()}updateCurrentUser(te){return this._delegate.updateCurrentUser(te)}verifyPasswordResetCode(te){return B.a3(this._delegate,te)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return q.Persistence=xn,q})();function Ot(q,K,te){let Ee=q;"function"!=typeof q&&({next:Ee,error:K,complete:te}=q);const tt=Ee;return{next:Ut=>tt(Ut&&lt.getOrCreate(Ut)),error:K,complete:te}}function Jt(q,K){const te=function Ns(q,K){const te=en();if(!te)return[];const Ee=B.ay(Ti,q,K);switch(te.getItem(Ee)){case xn.NONE:return[B.K];case xn.LOCAL:return[B.i,B.a];case xn.SESSION:return[B.a];default:return[]}}(q,K);if("undefined"!=typeof self&&!te.includes(B.i)&&te.push(B.i),"undefined"!=typeof window)for(const Ee of[B.b,B.a])te.includes(Ee)||te.push(Ee);return te.includes(B.K)||te.push(B.K),te}class tn{constructor(){this.providerId="phone",this._delegate=new B.P(tr(J.Z.auth()))}static credential(K,te){return B.P.credential(K,te)}verifyPhoneNumber(K,te){return this._delegate.verifyPhoneNumber(K,te)}unwrap(){return this._delegate}}tn.PHONE_SIGN_IN_METHOD=B.P.PHONE_SIGN_IN_METHOD,tn.PROVIDER_ID=B.P.PROVIDER_ID;const se=B.aw;class ee{constructor(K,te,Ee=J.Z.app()){var tt;se(null===(tt=Ee.options)||void 0===tt?void 0:tt.apiKey,"invalid-api-key",{appName:Ee.name}),this._delegate=new B.R(K,te,Ee.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Me(q){q.INTERNAL.registerComponent(new fe.wA("auth-compat",K=>{const te=K.getProvider("app-compat").getImmediate(),Ee=K.getProvider("auth");return new Xe(te,Ee)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:B.A.EMAIL_SIGNIN,PASSWORD_RESET:B.A.PASSWORD_RESET,RECOVER_EMAIL:B.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:B.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:B.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:B.A.VERIFY_EMAIL}},EmailAuthProvider:B.L,FacebookAuthProvider:B.M,GithubAuthProvider:B.Q,GoogleAuthProvider:B.N,OAuthProvider:B.T,SAMLAuthProvider:B.U,PhoneAuthProvider:tn,PhoneMultiFactorGenerator:B.m,RecaptchaVerifier:ee,TwitterAuthProvider:B.V,Auth:Xe,AuthCredential:B.G,Error:ve.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),q.registerVersion("@firebase/auth-compat","0.2.12")}(J.Z)},7122:(Rt,He)=>{function o(C,R){for(var D=0;D<R.length;D++){var b=R[D];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(C,b.key,b)}}function J(C,R,D){return R&&o(C.prototype,R),D&&o(C,D),C}function B(C,R){C.prototype=Object.create(R.prototype),C.prototype.constructor=C,C.__proto__=R}function ve(C){return(ve=Object.setPrototypeOf?Object.getPrototypeOf:function(D){return D.__proto__||Object.getPrototypeOf(D)})(C)}function ge(C,R){return(ge=Object.setPrototypeOf||function(b,x){return b.__proto__=x,b})(C,R)}function Le(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(C){return!1}}function fe(C,R,D){return(fe=Le()?Reflect.construct:function(x,N,G){var Q=[null];Q.push.apply(Q,N);var ke=new(Function.bind.apply(x,Q));return G&&ge(ke,G.prototype),ke}).apply(null,arguments)}function xe(C){var R="function"==typeof Map?new Map:void 0;return xe=function(b){if(null===b||!function Te(C){return-1!==Function.toString.call(C).indexOf("[native code]")}(b))return b;if("function"!=typeof b)throw new TypeError("Super expression must either be null or a function");if(void 0!==R){if(R.has(b))return R.get(b);R.set(b,x)}function x(){return fe(b,arguments,ve(this).constructor)}return x.prototype=Object.create(b.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),ge(x,b)},xe(C)}function _e(C,R){(null==R||R>C.length)&&(R=C.length);for(var D=0,b=new Array(R);D<R;D++)b[D]=C[D];return b}function ot(C){var R=0;if("undefined"==typeof Symbol||null==C[Symbol.iterator]){if(Array.isArray(C)||(C=function ne(C,R){if(C){if("string"==typeof C)return _e(C,R);var D=Object.prototype.toString.call(C).slice(8,-1);if("Object"===D&&C.constructor&&(D=C.constructor.name),"Map"===D||"Set"===D)return Array.from(D);if("Arguments"===D||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(D))return _e(C,R)}}(C)))return function(){return R>=C.length?{done:!0}:{done:!1,value:C[R++]}};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(R=C[Symbol.iterator]()).next.bind(R)}var Ge=function(C){function R(){return C.apply(this,arguments)||this}return B(R,C),R}(xe(Error)),Qe=function(C){function R(D){return C.call(this,"Invalid DateTime: "+D.toMessage())||this}return B(R,C),R}(Ge),et=function(C){function R(D){return C.call(this,"Invalid Interval: "+D.toMessage())||this}return B(R,C),R}(Ge),Oe=function(C){function R(D){return C.call(this,"Invalid Duration: "+D.toMessage())||this}return B(R,C),R}(Ge),Ue=function(C){function R(){return C.apply(this,arguments)||this}return B(R,C),R}(Ge),yt=function(C){function R(D){return C.call(this,"Invalid unit "+D)||this}return B(R,C),R}(Ge),Je=function(C){function R(){return C.apply(this,arguments)||this}return B(R,C),R}(Ge),je=function(C){function R(){return C.call(this,"Zone is an abstract class")||this}return B(R,C),R}(Ge),ce="numeric",Ne="short",rt="long",me={year:ce,month:ce,day:ce},pt={year:ce,month:Ne,day:ce},ue={year:ce,month:rt,day:ce},Se={year:ce,month:rt,day:ce,weekday:rt},De={hour:ce,minute:ce},Ae={hour:ce,minute:ce,second:ce},Ye={hour:ce,minute:ce,second:ce,timeZoneName:Ne},we={hour:ce,minute:ce,second:ce,timeZoneName:rt},Vt={hour:ce,minute:ce,hour12:!1},En={hour:ce,minute:ce,second:ce,hour12:!1},gi={hour:ce,minute:ce,second:ce,hour12:!1,timeZoneName:Ne},It={hour:ce,minute:ce,second:ce,hour12:!1,timeZoneName:rt},St={year:ce,month:ce,day:ce,hour:ce,minute:ce},Vn={year:ce,month:ce,day:ce,hour:ce,minute:ce,second:ce},Pn={year:ce,month:Ne,day:ce,hour:ce,minute:ce},Mr={year:ce,month:Ne,day:ce,hour:ce,minute:ce,second:ce},In={year:ce,month:Ne,day:ce,weekday:Ne,hour:ce,minute:ce},_n={year:ce,month:rt,day:ce,hour:ce,minute:ce,timeZoneName:Ne},Tn={year:ce,month:rt,day:ce,hour:ce,minute:ce,second:ce,timeZoneName:Ne},ti={year:ce,month:rt,day:ce,weekday:rt,hour:ce,minute:ce,timeZoneName:rt},Ai={year:ce,month:rt,day:ce,weekday:rt,hour:ce,minute:ce,second:ce,timeZoneName:rt};function Zt(C){return void 0===C}function yi(C){return"number"==typeof C}function Ur(C){return"number"==typeof C&&C%1==0}function ni(){try{return"undefined"!=typeof Intl&&Intl.DateTimeFormat}catch(C){return!1}}function xr(){return!Zt(Intl.DateTimeFormat.prototype.formatToParts)}function xt(){try{return"undefined"!=typeof Intl&&!!Intl.RelativeTimeFormat}catch(C){return!1}}function vi(C,R,D){if(0!==C.length)return C.reduce(function(b,x){var N=[R(x),x];return b&&D(b[0],N[0])===b[0]?b:N},null)[1]}function xn(C,R){return R.reduce(function(D,b){return D[b]=C[b],D},{})}function ii(C,R){return Object.prototype.hasOwnProperty.call(C,R)}function Ti(C,R,D){return Ur(C)&&C>=R&&C<=D}function qn(C,R){return void 0===R&&(R=2),C.toString().length<R?("0".repeat(R)+C).slice(-R):C.toString()}function Un(C){if(!Zt(C)&&null!==C&&""!==C)return parseInt(C,10)}function Ns(C){if(!Zt(C)&&null!==C&&""!==C){var R=1e3*parseFloat("0."+C);return Math.floor(R)}}function en(C,R,D){void 0===D&&(D=!1);var b=Math.pow(10,R);return(D?Math.trunc:Math.round)(C*b)/b}function Dt(C){return C%4==0&&(C%100!=0||C%400==0)}function vt(C){return Dt(C)?366:365}function tr(C,R){var D=function bi(C,R){return C-R*Math.floor(C/R)}(R-1,12)+1;return 2===D?Dt(C+(R-D)/12)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][D-1]}function ts(C){var R=Date.UTC(C.year,C.month-1,C.day,C.hour,C.minute,C.second,C.millisecond);return C.year<100&&C.year>=0&&(R=new Date(R)).setUTCFullYear(R.getUTCFullYear()-1900),+R}function sn(C){var R=(C+Math.floor(C/4)-Math.floor(C/100)+Math.floor(C/400))%7,D=C-1,b=(D+Math.floor(D/4)-Math.floor(D/100)+Math.floor(D/400))%7;return 4===R||3===b?53:52}function ns(C){return C>99?C:C>60?1900+C:2e3+C}function wi(C,R,D,b){void 0===b&&(b=null);var x=new Date(C),N={hour12:!1,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};b&&(N.timeZone=b);var G=Object.assign({timeZoneName:R},N),Q=ni();if(Q&&xr()){var le=new Intl.DateTimeFormat(D,G).formatToParts(x).find(function(Tt){return"timezonename"===Tt.type.toLowerCase()});return le?le.value:null}if(Q){var ke=new Intl.DateTimeFormat(D,N).format(x);return new Intl.DateTimeFormat(D,G).format(x).substring(ke.length).replace(/^[, \u200e]+/,"")}return null}function Sn(C,R){var D=parseInt(C,10);Number.isNaN(D)&&(D=0);var b=parseInt(R,10)||0;return 60*D+(D<0||Object.is(D,-0)?-b:b)}function Nt(C){var R=Number(C);if("boolean"==typeof C||""===C||Number.isNaN(R))throw new Je("Invalid unit value "+C);return R}function ci(C,R,D){var b={};for(var x in C)if(ii(C,x)){if(D.indexOf(x)>=0)continue;var N=C[x];if(null==N)continue;b[R(x)]=Nt(N)}return b}function on(C,R){var D=Math.trunc(C/60),b=Math.abs(C%60),x=D>=0&&!Object.is(D,-0)?"+":"-",N=""+x+Math.abs(D);switch(R){case"short":return""+x+qn(Math.abs(D),2)+":"+qn(b,2);case"narrow":return b>0?N+":"+b:N;case"techie":return""+x+qn(Math.abs(D),2)+qn(b,2);default:throw new RangeError("Value format "+R+" is out of range for property format")}}function lt(C){return xn(C,["hour","minute","second","millisecond"])}var Be=/[A-Za-z_+-]{1,256}(:?\/[A-Za-z_+-]{1,256}(\/[A-Za-z_+-]{1,256})?)?/;function Xe(C){return JSON.stringify(C,Object.keys(C).sort())}var Ot=["January","February","March","April","May","June","July","August","September","October","November","December"],Jt=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],tn=["J","F","M","A","M","J","J","A","S","O","N","D"];function se(C){switch(C){case"narrow":return tn;case"short":return Jt;case"long":return Ot;case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}var ee=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],oe=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],Me=["M","T","W","T","F","S","S"];function q(C){switch(C){case"narrow":return Me;case"short":return oe;case"long":return ee;case"numeric":return["1","2","3","4","5","6","7"];default:return null}}var K=["AM","PM"],te=["Before Christ","Anno Domini"],Ee=["BC","AD"],tt=["B","A"];function ct(C){switch(C){case"narrow":return tt;case"short":return Ee;case"long":return te;default:return null}}function nr(C,R){for(var x,D="",b=ot(C);!(x=b()).done;){var N=x.value;D+=N.literal?N.val:R(N.val)}return D}var ms={D:me,DD:pt,DDD:ue,DDDD:Se,t:De,tt:Ae,ttt:Ye,tttt:we,T:Vt,TT:En,TTT:gi,TTTT:It,f:St,ff:Pn,fff:_n,ffff:ti,F:Vn,FF:Mr,FFF:Tn,FFFF:Ai},jn=function(){function C(D,b){this.opts=b,this.loc=D,this.systemLoc=null}C.create=function(b,x){return void 0===x&&(x={}),new C(b,x)},C.parseFormat=function(b){for(var x=null,N="",G=!1,Q=[],le=0;le<b.length;le++){var ke=b.charAt(le);"'"===ke?(N.length>0&&Q.push({literal:G,val:N}),x=null,N="",G=!G):G||ke===x?N+=ke:(N.length>0&&Q.push({literal:!1,val:N}),N=ke,x=ke)}return N.length>0&&Q.push({literal:G,val:N}),Q},C.macroTokenToFormatOpts=function(b){return ms[b]};var R=C.prototype;return R.formatWithSystemDefault=function(b,x){return null===this.systemLoc&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(b,Object.assign({},this.opts,x)).format()},R.formatDateTime=function(b,x){return void 0===x&&(x={}),this.loc.dtFormatter(b,Object.assign({},this.opts,x)).format()},R.formatDateTimeParts=function(b,x){return void 0===x&&(x={}),this.loc.dtFormatter(b,Object.assign({},this.opts,x)).formatToParts()},R.resolvedOptions=function(b,x){return void 0===x&&(x={}),this.loc.dtFormatter(b,Object.assign({},this.opts,x)).resolvedOptions()},R.num=function(b,x){if(void 0===x&&(x=0),this.opts.forceSimple)return qn(b,x);var N=Object.assign({},this.opts);return x>0&&(N.padTo=x),this.loc.numberFormatter(N).format(b)},R.formatDateTimeFromString=function(b,x){var N=this,G="en"===this.loc.listingMode(),Q=this.loc.outputCalendar&&"gregory"!==this.loc.outputCalendar&&xr(),le=function(jt,Pi){return N.loc.extract(b,jt,Pi)},ke=function(jt){return b.isOffsetFixed&&0===b.offset&&jt.allowZ?"Z":b.isValid?b.zone.formatOffset(b.ts,jt.format):""},ye=function(jt,Pi){return G?function Gt(C,R){return se(R)[C.month-1]}(b,jt):le(Pi?{month:jt}:{month:jt,day:"numeric"},"month")},at=function(jt,Pi){return G?function bt(C,R){return q(R)[C.weekday-1]}(b,jt):le(Pi?{weekday:jt}:{weekday:jt,month:"long",day:"numeric"},"weekday")},vn=function(jt){return G?function ui(C,R){return ct(R)[C.year<0?0:1]}(b,jt):le({era:jt},"era")};return nr(C.parseFormat(x),function(jt){switch(jt){case"S":return N.num(b.millisecond);case"u":case"SSS":return N.num(b.millisecond,3);case"s":return N.num(b.second);case"ss":return N.num(b.second,2);case"m":return N.num(b.minute);case"mm":return N.num(b.minute,2);case"h":return N.num(b.hour%12==0?12:b.hour%12);case"hh":return N.num(b.hour%12==0?12:b.hour%12,2);case"H":return N.num(b.hour);case"HH":return N.num(b.hour,2);case"Z":return ke({format:"narrow",allowZ:N.opts.allowZ});case"ZZ":return ke({format:"short",allowZ:N.opts.allowZ});case"ZZZ":return ke({format:"techie",allowZ:N.opts.allowZ});case"ZZZZ":return console.log(b.zone),b.zone.offsetName(b.ts,{format:"short",locale:N.loc.locale});case"ZZZZZ":return b.zone.offsetName(b.ts,{format:"long",locale:N.loc.locale});case"z":return b.zoneName;case"a":return G?function Ut(C){return K[C.hour<12?0:1]}(b):le({hour:"numeric",hour12:!0},"dayperiod");case"d":return Q?le({day:"numeric"},"day"):N.num(b.day);case"dd":return Q?le({day:"2-digit"},"day"):N.num(b.day,2);case"c":case"E":return N.num(b.weekday);case"ccc":return at("short",!0);case"cccc":return at("long",!0);case"ccccc":return at("narrow",!0);case"EEE":return at("short",!1);case"EEEE":return at("long",!1);case"EEEEE":return at("narrow",!1);case"L":return Q?le({month:"numeric",day:"numeric"},"month"):N.num(b.month);case"LL":return Q?le({month:"2-digit",day:"numeric"},"month"):N.num(b.month,2);case"LLL":return ye("short",!0);case"LLLL":return ye("long",!0);case"LLLLL":return ye("narrow",!0);case"M":return Q?le({month:"numeric"},"month"):N.num(b.month);case"MM":return Q?le({month:"2-digit"},"month"):N.num(b.month,2);case"MMM":return ye("short",!1);case"MMMM":return ye("long",!1);case"MMMMM":return ye("narrow",!1);case"y":return Q?le({year:"numeric"},"year"):N.num(b.year);case"yy":return Q?le({year:"2-digit"},"year"):N.num(b.year.toString().slice(-2),2);case"yyyy":return Q?le({year:"numeric"},"year"):N.num(b.year,4);case"yyyyyy":return Q?le({year:"numeric"},"year"):N.num(b.year,6);case"G":return vn("short");case"GG":return vn("long");case"GGGGG":return vn("narrow");case"kk":return N.num(b.weekYear.toString().slice(-2),2);case"kkkk":return N.num(b.weekYear,4);case"W":return N.num(b.weekNumber);case"WW":return N.num(b.weekNumber,2);case"o":return N.num(b.ordinal);case"ooo":return N.num(b.ordinal,3);case"q":return N.num(b.quarter);case"qq":return N.num(b.quarter,2);case"X":return N.num(Math.floor(b.ts/1e3));case"x":return N.num(b.ts);default:return function(jt){var Pi=C.macroTokenToFormatOpts(jt);return Pi?N.formatWithSystemDefault(b,Pi):jt}(jt)}})},R.formatDurationFromString=function(b,x){var at,N=this,G=function(at){switch(at[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"M":return"month";case"y":return"year";default:return null}},le=C.parseFormat(x),ke=le.reduce(function(ye,at){return at.literal?ye:ye.concat(at.val)},[]),qe=b.shiftTo.apply(b,ke.map(G).filter(function(ye){return ye}));return nr(le,(at=qe,function(Tt){var vn=G(Tt);return vn?N.num(at.get(vn),Tt.length):Tt}))},C}(),kr=function(){function C(D,b){this.reason=D,this.explanation=b}return C.prototype.toMessage=function(){return this.explanation?this.reason+": "+this.explanation:this.reason},C}(),An=function(){function C(){}var R=C.prototype;return R.offsetName=function(b,x){throw new je},R.formatOffset=function(b,x){throw new je},R.offset=function(b){throw new je},R.equals=function(b){throw new je},J(C,[{key:"type",get:function(){throw new je}},{key:"name",get:function(){throw new je}},{key:"universal",get:function(){throw new je}},{key:"isValid",get:function(){throw new je}}]),C}(),ut=null,dn=function(C){function R(){return C.apply(this,arguments)||this}B(R,C);var D=R.prototype;return D.offsetName=function(x,N){return wi(x,N.format,N.locale)},D.formatOffset=function(x,N){return on(this.offset(x),N)},D.offset=function(x){return-new Date(x).getTimezoneOffset()},D.equals=function(x){return"local"===x.type},J(R,[{key:"type",get:function(){return"local"}},{key:"name",get:function(){return ni()?(new Intl.DateTimeFormat).resolvedOptions().timeZone:"local"}},{key:"universal",get:function(){return!1}},{key:"isValid",get:function(){return!0}}],[{key:"instance",get:function(){return null===ut&&(ut=new R),ut}}]),R}(An),Wn=RegExp("^"+Be.source+"$"),Hi={},ji={year:0,month:1,day:2,hour:3,minute:4,second:5},hi={},mr=function(C){function R(b){var x;return(x=C.call(this)||this).zoneName=b,x.valid=R.isValidZone(b),x}B(R,C),R.create=function(x){return hi[x]||(hi[x]=new R(x)),hi[x]},R.resetCache=function(){hi={},Hi={}},R.isValidSpecifier=function(x){return!(!x||!x.match(Wn))},R.isValidZone=function(x){try{return new Intl.DateTimeFormat("en-US",{timeZone:x}).format(),!0}catch(N){return!1}},R.parseGMTOffset=function(x){if(x){var N=x.match(/^Etc\/GMT([+-]\d{1,2})$/i);if(N)return-60*parseInt(N[1])}return null};var D=R.prototype;return D.offsetName=function(x,N){return wi(x,N.format,N.locale,this.name)},D.formatOffset=function(x,N){return on(this.offset(x),N)},D.offset=function(x){var N=new Date(x),G=function Js(C){return Hi[C]||(Hi[C]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:C,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})),Hi[C]}(this.name),Q=G.formatToParts?function di(C,R){for(var D=C.formatToParts(R),b=[],x=0;x<D.length;x++){var N=D[x],Q=N.value,le=ji[N.type];Zt(le)||(b[le]=parseInt(Q,10))}return b}(G,N):function pr(C,R){var D=C.format(R).replace(/\u200E/g,""),b=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(D);return[b[3],b[1],b[2],b[4],b[5],b[6]]}(G,N),ye=Q[3],Bt=+N,jt=Bt%1e3;return(ts({year:Q[0],month:Q[1],day:Q[2],hour:24===ye?0:ye,minute:Q[4],second:Q[5],millisecond:0})-(Bt-=jt>=0?jt:1e3+jt))/6e4},D.equals=function(x){return"iana"===x.type&&x.name===this.name},J(R,[{key:"type",get:function(){return"iana"}},{key:"name",get:function(){return this.zoneName}},{key:"universal",get:function(){return!1}},{key:"isValid",get:function(){return this.valid}}]),R}(An),Yt=null,Wi=function(C){function R(b){var x;return(x=C.call(this)||this).fixed=b,x}B(R,C),R.instance=function(x){return 0===x?R.utcInstance:new R(x)},R.parseSpecifier=function(x){if(x){var N=x.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(N)return new R(Sn(N[1],N[2]))}return null},J(R,null,[{key:"utcInstance",get:function(){return null===Yt&&(Yt=new R(0)),Yt}}]);var D=R.prototype;return D.offsetName=function(){return this.name},D.formatOffset=function(x,N){return on(this.fixed,N)},D.offset=function(){return this.fixed},D.equals=function(x){return"fixed"===x.type&&x.fixed===this.fixed},J(R,[{key:"type",get:function(){return"fixed"}},{key:"name",get:function(){return 0===this.fixed?"UTC":"UTC"+on(this.fixed,"narrow")}},{key:"universal",get:function(){return!0}},{key:"isValid",get:function(){return!0}}]),R}(An),Mi=function(C){function R(b){var x;return(x=C.call(this)||this).zoneName=b,x}B(R,C);var D=R.prototype;return D.offsetName=function(){return null},D.formatOffset=function(){return""},D.offset=function(){return NaN},D.equals=function(){return!1},J(R,[{key:"type",get:function(){return"invalid"}},{key:"name",get:function(){return this.zoneName}},{key:"universal",get:function(){return!1}},{key:"isValid",get:function(){return!1}}]),R}(An);function Xs(C,R){var D;if(Zt(C)||null===C)return R;if(C instanceof An)return C;if(function es(C){return"string"==typeof C}(C)){var b=C.toLowerCase();return"local"===b?R:"utc"===b||"gmt"===b?Wi.utcInstance:null!=(D=mr.parseGMTOffset(C))?Wi.instance(D):mr.isValidSpecifier(b)?mr.create(C):Wi.parseSpecifier(b)||new Mi(C)}return yi(C)?Wi.instance(C):"object"==typeof C&&C.offset&&"number"==typeof C.offset?C:new Mi(C)}var gs=function(){return Date.now()},xi=null,eo=null,mo=null,Gn=null,Zn=!1,Yn=function(){function C(){}return C.resetCaches=function(){_i.resetCache(),mr.resetCache()},J(C,null,[{key:"now",get:function(){return gs},set:function(D){gs=D}},{key:"defaultZoneName",get:function(){return C.defaultZone.name},set:function(D){xi=D?Xs(D):null}},{key:"defaultZone",get:function(){return xi||dn.instance}},{key:"defaultLocale",get:function(){return eo},set:function(D){eo=D}},{key:"defaultNumberingSystem",get:function(){return mo},set:function(D){mo=D}},{key:"defaultOutputCalendar",get:function(){return Gn},set:function(D){Gn=D}},{key:"throwOnInvalid",get:function(){return Zn},set:function(D){Zn=D}}]),C}(),bl={};function Gi(C,R){void 0===R&&(R={});var D=JSON.stringify([C,R]),b=bl[D];return b||(b=new Intl.DateTimeFormat(C,R),bl[D]=b),b}var gr={},go={};var Zi=null;function is(C,R,D,b,x){var N=C.listingMode(D);return"error"===N?null:"en"===N?b(R):x(R)}var hu=function(){function C(D,b,x){if(this.padTo=x.padTo||0,this.floor=x.floor||!1,!b&&ni()){var N={useGrouping:!1};x.padTo>0&&(N.minimumIntegerDigits=x.padTo),this.inf=function wl(C,R){void 0===R&&(R={});var D=JSON.stringify([C,R]),b=gr[D];return b||(b=new Intl.NumberFormat(C,R),gr[D]=b),b}(D,N)}}return C.prototype.format=function(b){if(this.inf){var x=this.floor?Math.floor(b):b;return this.inf.format(x)}return qn(this.floor?Math.floor(b):en(b,3),this.padTo)},C}(),fu=function(){function C(D,b,x){var N;if(this.opts=x,this.hasIntl=ni(),D.zone.universal&&this.hasIntl?(N="UTC",this.dt=x.timeZoneName||0===D.offset?D:Ii.fromMillis(D.ts+60*D.offset*1e3)):"local"===D.zone.type?this.dt=D:(this.dt=D,N=D.zone.name),this.hasIntl){var G=Object.assign({},this.opts);N&&(G.timeZone=N),this.dtf=Gi(b,G)}}var R=C.prototype;return R.format=function(){if(this.hasIntl)return this.dtf.format(this.dt.toJSDate());var b=function yn(C){var b="EEEE, LLLL d, yyyy, h:mm a";switch(Xe(xn(C,["weekday","era","year","month","day","hour","minute","second","timeZoneName","hour12"]))){case Xe(me):return"M/d/yyyy";case Xe(pt):return"LLL d, yyyy";case Xe(ue):return"LLLL d, yyyy";case Xe(Se):return"EEEE, LLLL d, yyyy";case Xe(De):return"h:mm a";case Xe(Ae):return"h:mm:ss a";case Xe(Ye):case Xe(we):return"h:mm a";case Xe(Vt):return"HH:mm";case Xe(En):return"HH:mm:ss";case Xe(gi):case Xe(It):return"HH:mm";case Xe(St):return"M/d/yyyy, h:mm a";case Xe(Pn):return"LLL d, yyyy, h:mm a";case Xe(_n):return"LLLL d, yyyy, h:mm a";case Xe(ti):return b;case Xe(Vn):return"M/d/yyyy, h:mm:ss a";case Xe(Mr):return"LLL d, yyyy, h:mm:ss a";case Xe(In):return"EEE, d LLL yyyy, h:mm a";case Xe(Tn):return"LLLL d, yyyy, h:mm:ss a";case Xe(Ai):return"EEEE, LLLL d, yyyy, h:mm:ss a";default:return b}}(this.opts),x=_i.create("en-US");return jn.create(x).formatDateTimeFromString(this.dt,b)},R.formatToParts=function(){return this.hasIntl&&xr()?this.dtf.formatToParts(this.dt.toJSDate()):[]},R.resolvedOptions=function(){return this.hasIntl?this.dtf.resolvedOptions():{locale:"en-US",numberingSystem:"latn",outputCalendar:"gregory"}},C}(),Ga=function(){function C(D,b,x){this.opts=Object.assign({style:"long"},x),!b&&xt()&&(this.rtf=function Ea(C,R){void 0===R&&(R={});var x=function re(C,R){if(null==C)return{};var x,N,D={},b=Object.keys(C);for(N=0;N<b.length;N++)!(R.indexOf(x=b[N])>=0)&&(D[x]=C[x]);return D}(R,["base"]),N=JSON.stringify([C,x]),G=go[N];return G||(G=new Intl.RelativeTimeFormat(C,R),go[N]=G),G}(D,x))}var R=C.prototype;return R.format=function(b,x){return this.rtf?this.rtf.format(b,x):function Bi(C,R,D,b){void 0===D&&(D="always"),void 0===b&&(b=!1);var x={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},N=-1===["hours","minutes","seconds"].indexOf(C);if("auto"===D&&N){var G="days"===C;switch(R){case 1:return G?"tomorrow":"next "+x[C][0];case-1:return G?"yesterday":"last "+x[C][0];case 0:return G?"today":"this "+x[C][0]}}var Q=Object.is(R,-0)||R<0,le=Math.abs(R),ke=1===le,qe=x[C],ye=b?ke?qe[1]:qe[2]||qe[1]:ke?x[C][0]:C;return Q?le+" "+ye+" ago":"in "+le+" "+ye}(x,b,this.opts.numeric,"long"!==this.opts.style)},R.formatToParts=function(b,x){return this.rtf?this.rtf.formatToParts(b,x):[]},C}(),_i=function(){function C(D,b,x,N){var G=function _o(C){var R=C.indexOf("-u-");if(-1===R)return[C];var D,b=C.substring(0,R);try{D=Gi(C).resolvedOptions()}catch(Q){D=Gi(b).resolvedOptions()}return[b,D.numberingSystem,D.calendar]}(D),le=G[1],ke=G[2];this.locale=G[0],this.numberingSystem=b||le||null,this.outputCalendar=x||ke||null,this.intl=function yo(C,R,D){return ni()?((D||R)&&(C+="-u",D&&(C+="-ca-"+D),R&&(C+="-nu-"+R)),C):[]}(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=N,this.fastNumbersCached=null}C.fromOpts=function(b){return C.create(b.locale,b.numberingSystem,b.outputCalendar,b.defaultToEN)},C.create=function(b,x,N,G){void 0===G&&(G=!1);var Q=b||Yn.defaultLocale,le=Q||(G?"en-US":function Cl(){if(Zi)return Zi;if(ni()){var C=(new Intl.DateTimeFormat).resolvedOptions().locale;return Zi=C&&"und"!==C?C:"en-US"}return Zi="en-US"}());return new C(le,x||Yn.defaultNumberingSystem,N||Yn.defaultOutputCalendar,Q)},C.resetCache=function(){Zi=null,bl={},gr={},go={}},C.fromObject=function(b){var x=void 0===b?{}:b;return C.create(x.locale,x.numberingSystem,x.outputCalendar)};var R=C.prototype;return R.listingMode=function(b){void 0===b&&(b=!0);var N=ni()&&xr(),G=this.isEnglish(),Q=!(null!==this.numberingSystem&&"latn"!==this.numberingSystem||null!==this.outputCalendar&&"gregory"!==this.outputCalendar);return N||G&&Q||b?!N||G&&Q?"en":"intl":"error"},R.clone=function(b){return b&&0!==Object.getOwnPropertyNames(b).length?C.create(b.locale||this.specifiedLocale,b.numberingSystem||this.numberingSystem,b.outputCalendar||this.outputCalendar,b.defaultToEN||!1):this},R.redefaultToEN=function(b){return void 0===b&&(b={}),this.clone(Object.assign({},b,{defaultToEN:!0}))},R.redefaultToSystem=function(b){return void 0===b&&(b={}),this.clone(Object.assign({},b,{defaultToEN:!1}))},R.months=function(b,x,N){var G=this;return void 0===x&&(x=!1),void 0===N&&(N=!0),is(this,b,N,se,function(){var Q=x?{month:b,day:"numeric"}:{month:b},le=x?"format":"standalone";return G.monthsCache[le][b]||(G.monthsCache[le][b]=function Br(C){for(var R=[],D=1;D<=12;D++){var b=Ii.utc(2016,D,1);R.push(C(b))}return R}(function(ke){return G.extract(ke,Q,"month")})),G.monthsCache[le][b]})},R.weekdays=function(b,x,N){var G=this;return void 0===x&&(x=!1),void 0===N&&(N=!0),is(this,b,N,q,function(){var Q=x?{weekday:b,year:"numeric",month:"long",day:"numeric"}:{weekday:b},le=x?"format":"standalone";return G.weekdaysCache[le][b]||(G.weekdaysCache[le][b]=function Dh(C){for(var R=[],D=1;D<=7;D++){var b=Ii.utc(2016,11,13+D);R.push(C(b))}return R}(function(ke){return G.extract(ke,Q,"weekday")})),G.weekdaysCache[le][b]})},R.meridiems=function(b){var x=this;return void 0===b&&(b=!0),is(this,void 0,b,function(){return K},function(){if(!x.meridiemCache){var N={hour:"numeric",hour12:!0};x.meridiemCache=[Ii.utc(2016,11,13,9),Ii.utc(2016,11,13,19)].map(function(G){return x.extract(G,N,"dayperiod")})}return x.meridiemCache})},R.eras=function(b,x){var N=this;return void 0===x&&(x=!0),is(this,b,x,ct,function(){var G={era:b};return N.eraCache[b]||(N.eraCache[b]=[Ii.utc(-40,1,1),Ii.utc(2017,1,1)].map(function(Q){return N.extract(Q,G,"era")})),N.eraCache[b]})},R.extract=function(b,x,N){var le=this.dtFormatter(b,x).formatToParts().find(function(ke){return ke.type.toLowerCase()===N});return le?le.value:null},R.numberFormatter=function(b){return void 0===b&&(b={}),new hu(this.intl,b.forceSimple||this.fastNumbers,b)},R.dtFormatter=function(b,x){return void 0===x&&(x={}),new fu(b,this.intl,x)},R.relFormatter=function(b){return void 0===b&&(b={}),new Ga(this.intl,this.isEnglish(),b)},R.isEnglish=function(){return"en"===this.locale||"en-us"===this.locale.toLowerCase()||ni()&&new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")},R.equals=function(b){return this.locale===b.locale&&this.numberingSystem===b.numberingSystem&&this.outputCalendar===b.outputCalendar},J(C,[{key:"fastNumbers",get:function(){return null==this.fastNumbersCached&&(this.fastNumbersCached=function Ih(C){return(!C.numberingSystem||"latn"===C.numberingSystem)&&("latn"===C.numberingSystem||!C.locale||C.locale.startsWith("en")||ni()&&"latn"===new Intl.DateTimeFormat(C.intl).resolvedOptions().numberingSystem)}(this)),this.fastNumbersCached}}]),C}();function zo(){for(var C=arguments.length,R=new Array(C),D=0;D<C;D++)R[D]=arguments[D];var b=R.reduce(function(x,N){return x+N.source},"");return RegExp("^"+b+"$")}function za(){for(var C=arguments.length,R=new Array(C),D=0;D<C;D++)R[D]=arguments[D];return function(b){return R.reduce(function(x,N){var G=x[0],Q=x[1],ke=N(b,x[2]),ye=ke[1],at=ke[2];return[Object.assign(G,ke[0]),Q||ye,at]},[{},null,1]).slice(0,2)}}function El(C){if(null==C)return[null,null];for(var R=arguments.length,D=new Array(R>1?R-1:0),b=1;b<R;b++)D[b-1]=arguments[b];for(var x=0,N=D;x<N.length;x++){var G=N[x],Q=G[0],le=G[1],ke=Q.exec(C);if(ke)return le(ke)}return[null,null]}function Ta(){for(var C=arguments.length,R=new Array(C),D=0;D<C;D++)R[D]=arguments[D];return function(b,x){var G,N={};for(G=0;G<R.length;G++)N[R[G]]=Un(b[x+G]);return[N,null,x+G]}}var $o=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,od=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,9}))?)?)?/,Sh=RegExp(""+od.source+$o.source+"?"),Ps=RegExp("(?:T"+Sh.source+")?"),$a=Ta("weekYear","weekNumber","weekDay"),rs=Ta("year","ordinal"),qo=RegExp(od.source+" ?(?:"+$o.source+"|("+Be.source+"))?"),Dl=RegExp("(?: "+qo.source+")?");function Wo(C,R,D){var b=C[R];return Zt(b)?D:Un(b)}function Da(C,R){return[{year:Wo(C,R),month:Wo(C,R+1,1),day:Wo(C,R+2,1)},null,R+3]}function no(C,R){return[{hour:Wo(C,R,0),minute:Wo(C,R+1,0),second:Wo(C,R+2,0),millisecond:Ns(C[R+3])},null,R+4]}function _r(C,R){var D=!C[R]&&!C[R+1],b=Sn(C[R+1],C[R+2]);return[{},D?null:Wi.instance(b),R+3]}function Fs(C,R){return[{},C[R]?mr.create(C[R]):null,R+1]}var Il=/^-?P(?:(?:(-?\d{1,9})Y)?(?:(-?\d{1,9})M)?(?:(-?\d{1,9})W)?(?:(-?\d{1,9})D)?(?:T(?:(-?\d{1,9})H)?(?:(-?\d{1,9})M)?(?:(-?\d{1,9})(?:[.,](-?\d{1,9}))?S)?)?)$/;function qa(C){var b=C[2],x=C[3],N=C[4],G=C[5],Q=C[6],le=C[7],ke=C[8],qe="-"===C[0][0],ye=function(Tt){return Tt&&qe?-Tt:Tt};return[{years:ye(Un(C[1])),months:ye(Un(b)),weeks:ye(Un(x)),days:ye(Un(N)),hours:ye(Un(G)),minutes:ye(Un(Q)),seconds:ye(Un(le)),milliseconds:ye(Ns(ke))}]}var ri={GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function vo(C,R,D,b,x,N,G){var Q={year:2===R.length?ns(Un(R)):Un(R),month:Jt.indexOf(D)+1,day:Un(b),hour:Un(x),minute:Un(N)};return G&&(Q.second=Un(G)),C&&(Q.weekday=C.length>3?ee.indexOf(C)+1:oe.indexOf(C)+1),Q}var Ah=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function Ia(C){var Tt,le=C[8],ke=C[9],qe=C[10],ye=C[11],at=vo(C[1],C[4],C[3],C[2],C[5],C[6],C[7]);return Tt=le?ri[le]:ke?0:Sn(qe,ye),[at,new Wi(Tt)]}var mu=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,Sl=/^(Monday|Tuesday|Wedsday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,bo=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function wo(C){return[vo(C[1],C[4],C[3],C[2],C[5],C[6],C[7]),Wi.utcInstance]}function uc(C){return[vo(C[1],C[7],C[2],C[3],C[4],C[5],C[6]),Wi.utcInstance]}var ei=zo(/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,Ps),Zo=zo(/(\d{4})-?W(\d\d)(?:-?(\d))?/,Ps),Yo=zo(/(\d{4})-?(\d{3})/,Ps),Kn=zo(Sh),dc=za(Da,no,_r),Sa=za($a,no,_r),Co=za(rs,no),ir=za(no,_r),io=zo(/(\d{4})-(\d\d)-(\d\d)/,Dl),Ko=zo(qo),Aa=za(Da,no,_r,Fs),_s=za(no,_r,Fs),Ft={weeks:{days:7,hours:168,minutes:10080,seconds:604800,milliseconds:6048e5},days:{hours:24,minutes:1440,seconds:86400,milliseconds:864e5},hours:{minutes:60,seconds:3600,milliseconds:36e5},minutes:{seconds:60,milliseconds:6e4},seconds:{milliseconds:1e3}},Wa=Object.assign({years:{months:12,weeks:52,days:365,hours:8760,minutes:525600,seconds:31536e3,milliseconds:31536e6},quarters:{months:3,weeks:13,days:91,hours:2184,minutes:131040,milliseconds:78624e5},months:{weeks:4,days:30,hours:720,minutes:43200,seconds:2592e3,milliseconds:2592e6}},Ft),Hr=365.2425,ys=30.436875,gu=Object.assign({years:{months:12,weeks:Hr/7,days:Hr,hours:24*Hr,minutes:525949.2,seconds:525949.2*60,milliseconds:525949.2*60*1e3},quarters:{months:3,weeks:Hr/28,days:Hr/4,hours:24*Hr/4,minutes:131487.3,seconds:525949.2*60/4,milliseconds:7889237999.999999},months:{weeks:ys/7,days:ys,hours:24*ys,minutes:43829.1,seconds:2629746,milliseconds:2629746e3}},Ft),vs=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],ld=vs.slice(0).reverse();function bs(C,R,D){void 0===D&&(D=!1);var b={values:D?R.values:Object.assign({},C.values,R.values||{}),loc:C.loc.clone(R.loc),conversionAccuracy:R.conversionAccuracy||C.conversionAccuracy};return new ln(b)}function an(C,R,D,b,x){var N=C[x][D],G=R[D]/N,le=Math.sign(G)!==Math.sign(b[x])&&0!==b[x]&&Math.abs(G)<=1?function ze(C){return C<0?Math.floor(C):Math.ceil(C)}(G):Math.trunc(G);b[x]+=le,R[D]-=le*N}function _u(C,R){ld.reduce(function(D,b){return Zt(R[b])?D:(D&&an(C,R,D,R,b),b)},null)}var ln=function(){function C(D){var b="longterm"===D.conversionAccuracy||!1;this.values=D.values,this.loc=D.loc||_i.create(),this.conversionAccuracy=b?"longterm":"casual",this.invalid=D.invalid||null,this.matrix=b?gu:Wa,this.isLuxonDuration=!0}C.fromMillis=function(b,x){return C.fromObject(Object.assign({milliseconds:b},x))},C.fromObject=function(b){if(null==b||"object"!=typeof b)throw new Je("Duration.fromObject: argument expected to be an object, got "+(null===b?"null":typeof b));return new C({values:ci(b,C.normalizeUnit,["locale","numberingSystem","conversionAccuracy","zone"]),loc:_i.fromObject(b),conversionAccuracy:b.conversionAccuracy})},C.fromISO=function(b,x){var N=function Rr(C){return El(C,[Il,qa])}(b),G=N[0];if(G){var Q=Object.assign(G,x);return C.fromObject(Q)}return C.invalid("unparsable",'the input "'+b+"\" can't be parsed as ISO 8601")},C.invalid=function(b,x){if(void 0===x&&(x=null),!b)throw new Je("need to specify a reason the Duration is invalid");var N=b instanceof kr?b:new kr(b,x);if(Yn.throwOnInvalid)throw new Oe(N);return new C({invalid:N})},C.normalizeUnit=function(b){var x={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[b&&b.toLowerCase()];if(!x)throw new yt(b);return x},C.isDuration=function(b){return b&&b.isLuxonDuration||!1};var R=C.prototype;return R.toFormat=function(b,x){void 0===x&&(x={});var N=Object.assign({},x,{floor:!1!==x.round&&!1!==x.floor});return this.isValid?jn.create(this.loc,N).formatDurationFromString(this,b):"Invalid Duration"},R.toObject=function(b){if(void 0===b&&(b={}),!this.isValid)return{};var x=Object.assign({},this.values);return b.includeConfig&&(x.conversionAccuracy=this.conversionAccuracy,x.numberingSystem=this.loc.numberingSystem,x.locale=this.loc.locale),x},R.toISO=function(){if(!this.isValid)return null;var b="P";return 0!==this.years&&(b+=this.years+"Y"),(0!==this.months||0!==this.quarters)&&(b+=this.months+3*this.quarters+"M"),0!==this.weeks&&(b+=this.weeks+"W"),0!==this.days&&(b+=this.days+"D"),(0!==this.hours||0!==this.minutes||0!==this.seconds||0!==this.milliseconds)&&(b+="T"),0!==this.hours&&(b+=this.hours+"H"),0!==this.minutes&&(b+=this.minutes+"M"),(0!==this.seconds||0!==this.milliseconds)&&(b+=en(this.seconds+this.milliseconds/1e3,3)+"S"),"P"===b&&(b+="T0S"),b},R.toJSON=function(){return this.toISO()},R.toString=function(){return this.toISO()},R.valueOf=function(){return this.as("milliseconds")},R.plus=function(b){if(!this.isValid)return this;for(var Q,x=Vs(b),N={},G=ot(vs);!(Q=G()).done;){var le=Q.value;(ii(x.values,le)||ii(this.values,le))&&(N[le]=x.get(le)+this.get(le))}return bs(this,{values:N},!0)},R.minus=function(b){if(!this.isValid)return this;var x=Vs(b);return this.plus(x.negate())},R.mapUnits=function(b){if(!this.isValid)return this;for(var x={},N=0,G=Object.keys(this.values);N<G.length;N++){var Q=G[N];x[Q]=Nt(b(this.values[Q],Q))}return bs(this,{values:x},!0)},R.get=function(b){return this[C.normalizeUnit(b)]},R.set=function(b){return this.isValid?bs(this,{values:Object.assign(this.values,ci(b,C.normalizeUnit,[]))}):this},R.reconfigure=function(b){var x=void 0===b?{}:b,Q=x.conversionAccuracy,ke={loc:this.loc.clone({locale:x.locale,numberingSystem:x.numberingSystem})};return Q&&(ke.conversionAccuracy=Q),bs(this,ke)},R.as=function(b){return this.isValid?this.shiftTo(b).get(b):NaN},R.normalize=function(){if(!this.isValid)return this;var b=this.toObject();return _u(this.matrix,b),bs(this,{values:b},!0)},R.shiftTo=function(){for(var b=arguments.length,x=new Array(b),N=0;N<b;N++)x[N]=arguments[N];if(!this.isValid)return this;if(0===x.length)return this;x=x.map(function(Pi){return C.normalizeUnit(Pi)});var ke,G={},Q={},le=this.toObject();_u(this.matrix,le);for(var ye,qe=ot(vs);!(ye=qe()).done;){var at=ye.value;if(x.indexOf(at)>=0){ke=at;var Tt=0;for(var vn in Q)Tt+=this.matrix[vn][at]*Q[vn],Q[vn]=0;yi(le[at])&&(Tt+=le[at]);var hn=Math.trunc(Tt);for(var Bt in G[at]=hn,Q[at]=Tt-hn,le)vs.indexOf(Bt)>vs.indexOf(at)&&an(this.matrix,le,Bt,G,at)}else yi(le[at])&&(Q[at]=le[at])}for(var jt in Q)0!==Q[jt]&&(G[ke]+=jt===ke?Q[jt]:Q[jt]/this.matrix[ke][jt]);return bs(this,{values:G},!0).normalize()},R.negate=function(){if(!this.isValid)return this;for(var b={},x=0,N=Object.keys(this.values);x<N.length;x++){var G=N[x];b[G]=-this.values[G]}return bs(this,{values:b},!0)},R.equals=function(b){if(!this.isValid||!b.isValid||!this.loc.equals(b.loc))return!1;for(var N,x=ot(vs);!(N=x()).done;){var G=N.value;if(this.values[G]!==b.values[G])return!1}return!0},J(C,[{key:"locale",get:function(){return this.isValid?this.loc.locale:null}},{key:"numberingSystem",get:function(){return this.isValid?this.loc.numberingSystem:null}},{key:"years",get:function(){return this.isValid?this.values.years||0:NaN}},{key:"quarters",get:function(){return this.isValid?this.values.quarters||0:NaN}},{key:"months",get:function(){return this.isValid?this.values.months||0:NaN}},{key:"weeks",get:function(){return this.isValid?this.values.weeks||0:NaN}},{key:"days",get:function(){return this.isValid?this.values.days||0:NaN}},{key:"hours",get:function(){return this.isValid?this.values.hours||0:NaN}},{key:"minutes",get:function(){return this.isValid?this.values.minutes||0:NaN}},{key:"seconds",get:function(){return this.isValid?this.values.seconds||0:NaN}},{key:"milliseconds",get:function(){return this.isValid?this.values.milliseconds||0:NaN}},{key:"isValid",get:function(){return null===this.invalid}},{key:"invalidReason",get:function(){return this.invalid?this.invalid.reason:null}},{key:"invalidExplanation",get:function(){return this.invalid?this.invalid.explanation:null}}]),C}();function Vs(C){if(yi(C))return ln.fromMillis(C);if(ln.isDuration(C))return C;if("object"==typeof C)return ln.fromObject(C);throw new Je("Unknown duration argument "+C+" of type "+typeof C)}var os="Invalid Interval",Qo=function(){function C(D){this.s=D.start,this.e=D.end,this.invalid=D.invalid||null,this.isLuxonInterval=!0}C.invalid=function(b,x){if(void 0===x&&(x=null),!b)throw new Je("need to specify a reason the Interval is invalid");var N=b instanceof kr?b:new kr(b,x);if(Yn.throwOnInvalid)throw new et(N);return new C({invalid:N})},C.fromDateTimes=function(b,x){var N=ta(b),G=ta(x),Q=function ws(C,R){return C&&C.isValid?R&&R.isValid?R<C?Qo.invalid("end before start","The end of an interval must be after its start, but you had start="+C.toISO()+" and end="+R.toISO()):null:Qo.invalid("missing or invalid end"):Qo.invalid("missing or invalid start")}(N,G);return null==Q?new C({start:N,end:G}):Q},C.after=function(b,x){var N=Vs(x),G=ta(b);return C.fromDateTimes(G,G.plus(N))},C.before=function(b,x){var N=Vs(x),G=ta(b);return C.fromDateTimes(G.minus(N),G)},C.fromISO=function(b,x){var N=(b||"").split("/",2),G=N[0],Q=N[1];if(G&&Q){var le=Ii.fromISO(G,x),ke=Ii.fromISO(Q,x);if(le.isValid&&ke.isValid)return C.fromDateTimes(le,ke);if(le.isValid){var qe=ln.fromISO(Q,x);if(qe.isValid)return C.after(le,qe)}else if(ke.isValid){var ye=ln.fromISO(G,x);if(ye.isValid)return C.before(ke,ye)}}return C.invalid("unparsable",'the input "'+b+"\" can't be parsed as ISO 8601")},C.isInterval=function(b){return b&&b.isLuxonInterval||!1};var R=C.prototype;return R.length=function(b){return void 0===b&&(b="milliseconds"),this.isValid?this.toDuration.apply(this,[b]).get(b):NaN},R.count=function(b){if(void 0===b&&(b="milliseconds"),!this.isValid)return NaN;var x=this.start.startOf(b),N=this.end.startOf(b);return Math.floor(N.diff(x,b).get(b))+1},R.hasSame=function(b){return!!this.isValid&&this.e.minus(1).hasSame(this.s,b)},R.isEmpty=function(){return this.s.valueOf()===this.e.valueOf()},R.isAfter=function(b){return!!this.isValid&&this.s>b},R.isBefore=function(b){return!!this.isValid&&this.e<=b},R.contains=function(b){return!!this.isValid&&this.s<=b&&this.e>b},R.set=function(b){var x=void 0===b?{}:b;return this.isValid?C.fromDateTimes(x.start||this.s,x.end||this.e):this},R.splitAt=function(){var b=this;if(!this.isValid)return[];for(var x=arguments.length,N=new Array(x),G=0;G<x;G++)N[G]=arguments[G];for(var Q=N.map(ta).filter(function(Tt){return b.contains(Tt)}).sort(),le=[],ke=this.s,qe=0;ke<this.e;){var ye=Q[qe]||this.e,at=+ye>+this.e?this.e:ye;le.push(C.fromDateTimes(ke,at)),ke=at,qe+=1}return le},R.splitBy=function(b){var x=Vs(b);if(!this.isValid||!x.isValid||0===x.as("milliseconds"))return[];for(var G,Q,N=this.s,le=[];N<this.e;)G=N.plus(x),le.push(C.fromDateTimes(N,Q=+G>+this.e?this.e:G)),N=Q;return le},R.divideEqually=function(b){return this.isValid?this.splitBy(this.length()/b).slice(0,b):[]},R.overlaps=function(b){return this.e>b.s&&this.s<b.e},R.abutsStart=function(b){return!!this.isValid&&+this.e==+b.s},R.abutsEnd=function(b){return!!this.isValid&&+b.e==+this.s},R.engulfs=function(b){return!!this.isValid&&this.s<=b.s&&this.e>=b.e},R.equals=function(b){return!(!this.isValid||!b.isValid)&&this.s.equals(b.s)&&this.e.equals(b.e)},R.intersection=function(b){if(!this.isValid)return this;var x=this.s>b.s?this.s:b.s,N=this.e<b.e?this.e:b.e;return x>N?null:C.fromDateTimes(x,N)},R.union=function(b){return this.isValid?C.fromDateTimes(this.s<b.s?this.s:b.s,this.e>b.e?this.e:b.e):this},C.merge=function(b){var x=b.sort(function(Q,le){return Q.s-le.s}).reduce(function(Q,le){var ke=Q[0],qe=Q[1];return qe?qe.overlaps(le)||qe.abutsStart(le)?[ke,qe.union(le)]:[ke.concat([qe]),le]:[ke,le]},[[],null]),N=x[0],G=x[1];return G&&N.push(G),N},C.xor=function(b){for(var x,at,N=null,G=0,Q=[],le=b.map(function(vn){return[{time:vn.s,type:"s"},{time:vn.e,type:"e"}]}),ye=ot((x=Array.prototype).concat.apply(x,le).sort(function(vn,hn){return vn.time-hn.time}));!(at=ye()).done;){var Tt=at.value;1===(G+="s"===Tt.type?1:-1)?N=Tt.time:(N&&+N!=+Tt.time&&Q.push(C.fromDateTimes(N,Tt.time)),N=null)}return C.merge(Q)},R.difference=function(){for(var b=this,x=arguments.length,N=new Array(x),G=0;G<x;G++)N[G]=arguments[G];return C.xor([this].concat(N)).map(function(Q){return b.intersection(Q)}).filter(function(Q){return Q&&!Q.isEmpty()})},R.toString=function(){return this.isValid?"["+this.s.toISO()+" \u2013 "+this.e.toISO()+")":os},R.toISO=function(b){return this.isValid?this.s.toISO(b)+"/"+this.e.toISO(b):os},R.toISODate=function(){return this.isValid?this.s.toISODate()+"/"+this.e.toISODate():os},R.toISOTime=function(b){return this.isValid?this.s.toISOTime(b)+"/"+this.e.toISOTime(b):os},R.toFormat=function(b,x){var G=(void 0===x?{}:x).separator,Q=void 0===G?" \u2013 ":G;return this.isValid?""+this.s.toFormat(b)+Q+this.e.toFormat(b):os},R.toDuration=function(b,x){return this.isValid?this.e.diff(this.s,b,x):ln.invalid(this.invalidReason)},R.mapEndpoints=function(b){return C.fromDateTimes(b(this.s),b(this.e))},J(C,[{key:"start",get:function(){return this.isValid?this.s:null}},{key:"end",get:function(){return this.isValid?this.e:null}},{key:"isValid",get:function(){return null===this.invalidReason}},{key:"invalidReason",get:function(){return this.invalid?this.invalid.reason:null}},{key:"invalidExplanation",get:function(){return this.invalid?this.invalid.explanation:null}}]),C}(),so=function(){function C(){}return C.hasDST=function(D){void 0===D&&(D=Yn.defaultZone);var b=Ii.local().setZone(D).set({month:12});return!D.universal&&b.offset!==b.set({month:6}).offset},C.isValidIANAZone=function(D){return mr.isValidSpecifier(D)&&mr.isValidZone(D)},C.normalizeZone=function(D){return Xs(D,Yn.defaultZone)},C.months=function(D,b){void 0===D&&(D="long");var x=void 0===b?{}:b,N=x.locale,Q=x.numberingSystem,ke=x.outputCalendar;return _i.create(void 0===N?null:N,void 0===Q?null:Q,void 0===ke?"gregory":ke).months(D)},C.monthsFormat=function(D,b){void 0===D&&(D="long");var x=void 0===b?{}:b,N=x.locale,Q=x.numberingSystem,ke=x.outputCalendar;return _i.create(void 0===N?null:N,void 0===Q?null:Q,void 0===ke?"gregory":ke).months(D,!0)},C.weekdays=function(D,b){void 0===D&&(D="long");var x=void 0===b?{}:b,N=x.locale,Q=x.numberingSystem;return _i.create(void 0===N?null:N,void 0===Q?null:Q,null).weekdays(D)},C.weekdaysFormat=function(D,b){void 0===D&&(D="long");var x=void 0===b?{}:b,N=x.locale,Q=x.numberingSystem;return _i.create(void 0===N?null:N,void 0===Q?null:Q,null).weekdays(D,!0)},C.meridiems=function(D){var x=(void 0===D?{}:D).locale;return _i.create(void 0===x?null:x).meridiems()},C.eras=function(D,b){void 0===D&&(D="short");var N=(void 0===b?{}:b).locale;return _i.create(void 0===N?null:N,null,"gregory").eras(D)},C.features=function(){var D=!1,b=!1,x=!1,N=!1;if(ni()){D=!0,b=xr(),N=xt();try{x="America/New_York"===new Intl.DateTimeFormat("en",{timeZone:"America/New_York"}).resolvedOptions().timeZone}catch(G){x=!1}}return{intl:D,intlTokens:b,zones:x,relative:N}},C}();function cd(C,R){var D=function(N){return N.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf()},b=D(R)-D(C);return Math.floor(ln.fromMillis(b).as("days"))}var Eo={arab:"[\u0660-\u0669]",arabext:"[\u06f0-\u06f9]",bali:"[\u1b50-\u1b59]",beng:"[\u09e6-\u09ef]",deva:"[\u0966-\u096f]",fullwide:"[\uff10-\uff19]",gujr:"[\u0ae6-\u0aef]",hanidec:"[\u3007|\u4e00|\u4e8c|\u4e09|\u56db|\u4e94|\u516d|\u4e03|\u516b|\u4e5d]",khmr:"[\u17e0-\u17e9]",knda:"[\u0ce6-\u0cef]",laoo:"[\u0ed0-\u0ed9]",limb:"[\u1946-\u194f]",mlym:"[\u0d66-\u0d6f]",mong:"[\u1810-\u1819]",mymr:"[\u1040-\u1049]",orya:"[\u0b66-\u0b6f]",tamldec:"[\u0be6-\u0bef]",telu:"[\u0c66-\u0c6f]",thai:"[\u0e50-\u0e59]",tibt:"[\u0f20-\u0f29]",latn:"\\d"},Ri={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},Us=Eo.hanidec.replace(/[\[|\]]/g,"").split("");function rr(C,R){return void 0===R&&(R=""),new RegExp(""+Eo[C.numberingSystem||"latn"]+R)}function Fn(C,R){return void 0===R&&(R=function(b){return b}),{regex:C,deser:function(b){return R(function xa(C){var R=parseInt(C,10);if(isNaN(R)){R="";for(var D=0;D<C.length;D++){var b=C.charCodeAt(D);if(-1!==C[D].search(Eo.hanidec))R+=Us.indexOf(C[D]);else for(var x in Ri){var N=Ri[x],G=N[0];b>=G&&b<=N[1]&&(R+=b-G)}}return parseInt(R,10)}return R}(b[0]))}}}function ka(C){return C.replace(/\./,"\\.?")}function fc(C){return C.replace(/\./,"").toLowerCase()}function yr(C,R){return null===C?null:{regex:RegExp(C.map(ka).join("|")),deser:function(b){var x=b[0];return C.findIndex(function(N){return fc(x)===fc(N)})+R}}}function Ml(C,R){return{regex:C,deser:function(b){return Sn(b[1],b[2])},groups:R}}function oo(C){return{regex:C,deser:function(D){return D[0]}}}function ud(C){return C.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}var mc={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour:{numeric:"h","2-digit":"hh"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"}},_c=null;function kl(C,R,D){var b=function To(C,R){var D;return(D=Array.prototype).concat.apply(D,C.map(function(b){return function Xo(C,R){if(C.literal)return C;var D=jn.macroTokenToFormatOpts(C.val);if(!D)return C;var N=jn.create(R,D).formatDateTimeParts(function yu(){return _c||(_c=Ii.fromMillis(1555555555555)),_c}()).map(function(G){return function xl(C,R,D){var b=C.type;if("literal"===b)return{literal:!0,val:C.value};var G=mc[b];return"object"==typeof G&&(G=G[D[b]]),G?{literal:!1,val:G}:void 0}(G,0,D)});return N.includes(void 0)?C:N}(b,R)}))}(jn.parseFormat(D),C),x=b.map(function(Bt){return function pc(C,R){var D=rr(R),b=rr(R,"{2}"),x=rr(R,"{3}"),N=rr(R,"{4}"),G=rr(R,"{6}"),Q=rr(R,"{1,2}"),le=rr(R,"{1,3}"),ke=rr(R,"{1,6}"),qe=rr(R,"{1,9}"),ye=rr(R,"{2,4}"),at=rr(R,"{4,6}"),Tt=function(jt){return{regex:RegExp(ud(jt.val)),deser:function(fn){return fn[0]},literal:!0}},hn=function(jt){if(C.literal)return Tt(jt);switch(jt.val){case"G":return yr(R.eras("short",!1),0);case"GG":return yr(R.eras("long",!1),0);case"y":return Fn(ke);case"yy":case"kk":return Fn(ye,ns);case"yyyy":case"kkkk":return Fn(N);case"yyyyy":return Fn(at);case"yyyyyy":return Fn(G);case"M":case"L":case"d":case"H":case"h":case"m":case"q":case"s":case"W":return Fn(Q);case"MM":case"LL":case"dd":case"HH":case"hh":case"mm":case"qq":case"ss":case"WW":return Fn(b);case"MMM":return yr(R.months("short",!0,!1),1);case"MMMM":return yr(R.months("long",!0,!1),1);case"LLL":return yr(R.months("short",!1,!1),1);case"LLLL":return yr(R.months("long",!1,!1),1);case"o":case"S":return Fn(le);case"ooo":case"SSS":return Fn(x);case"u":return oo(qe);case"a":return yr(R.meridiems(),0);case"E":case"c":return Fn(D);case"EEE":return yr(R.weekdays("short",!1,!1),1);case"EEEE":return yr(R.weekdays("long",!1,!1),1);case"ccc":return yr(R.weekdays("short",!0,!1),1);case"cccc":return yr(R.weekdays("long",!0,!1),1);case"Z":case"ZZ":return Ml(new RegExp("([+-]"+Q.source+")(?::("+b.source+"))?"),2);case"ZZZ":return Ml(new RegExp("([+-]"+Q.source+")("+b.source+")?"),2);case"z":return oo(/[a-z_+-/]{1,256}?/i);default:return Tt(jt)}}(C)||{invalidReason:"missing Intl.DateTimeFormat.formatToParts support"};return hn.token=C,hn}(Bt,C)}),N=x.find(function(Bt){return Bt.invalidReason});if(N)return{input:R,tokens:b,invalidReason:N.invalidReason};var G=function Za(C){return["^"+C.map(function(D){return D.regex}).reduce(function(D,b){return D+"("+b.source+")"},"")+"$",C]}(x),le=G[1],ke=RegExp(G[0],"i"),qe=function Jo(C,R,D){var b=C.match(R);if(b){var x={},N=1;for(var G in D)if(ii(D,G)){var Q=D[G],le=Q.groups?Q.groups+1:1;!Q.literal&&Q.token&&(x[Q.token.val[0]]=Q.deser(b.slice(N,N+le))),N+=le}return[b,x]}return[b,{}]}(R,ke,le),ye=qe[0],at=qe[1],Tt=at?function gc(C){var D;return D=Zt(C.Z)?Zt(C.z)?null:mr.create(C.z):new Wi(C.Z),Zt(C.q)||(C.M=3*(C.q-1)+1),Zt(C.h)||(C.h<12&&1===C.a?C.h+=12:12===C.h&&0===C.a&&(C.h=0)),0===C.G&&C.y&&(C.y=-C.y),Zt(C.u)||(C.S=Ns(C.u)),[Object.keys(C).reduce(function(x,N){var G=function(N){switch(N){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}}(N);return G&&(x[G]=C[N]),x},{}),D]}(at):[null,null],vn=Tt[0],hn=Tt[1];if(ii(at,"a")&&ii(at,"H"))throw new Ue("Can't include meridiem when specifying 24-hour format");return{input:R,tokens:b,regex:ke,rawMatches:ye,matches:at,result:vn,zone:hn}}var ao=[0,31,59,90,120,151,181,212,243,273,304,334],Ci=[0,31,60,91,121,152,182,213,244,274,305,335];function Gr(C,R){return new kr("unit out of range","you specified "+R+" (of type "+typeof R+") as a "+C+", which is invalid")}function yp(C,R,D){var b=new Date(Date.UTC(C,R-1,D)).getUTCDay();return 0===b?7:b}function Mh(C,R,D){return D+(Dt(C)?Ci:ao)[R-1]}function Rl(C,R){var D=Dt(C)?Ci:ao,b=D.findIndex(function(N){return N<R});return{month:b+1,day:R-D[b]}}function Ol(C){var Q,R=C.year,D=C.month,b=C.day,x=Mh(R,D,b),N=yp(R,D,b),G=Math.floor((x-N+10)/7);return G<1?G=sn(Q=R-1):G>sn(R)?(Q=R+1,G=1):Q=R,Object.assign({weekYear:Q,weekNumber:G,weekday:N},lt(C))}function Do(C){var Q,R=C.weekYear,D=C.weekNumber,b=C.weekday,x=yp(R,1,4),N=vt(R),G=7*D+b-x-3;G<1?G+=vt(Q=R-1):G>N?(Q=R+1,G-=vt(R)):Q=R;var le=Rl(Q,G);return Object.assign({year:Q,month:le.month,day:le.day},lt(C))}function ea(C){var R=C.year,x=Mh(R,C.month,C.day);return Object.assign({year:R,ordinal:x},lt(C))}function Nl(C){var R=C.year,b=Rl(R,C.ordinal);return Object.assign({year:R,month:b.month,day:b.day},lt(C))}function yc(C){var R=Ur(C.year),D=Ti(C.month,1,12),b=Ti(C.day,1,tr(C.year,C.month));return R?D?!b&&Gr("day",C.day):Gr("month",C.month):Gr("year",C.year)}function vc(C){var R=C.hour,D=C.minute,b=C.second,x=C.millisecond,N=Ti(R,0,23)||24===R&&0===D&&0===b&&0===x,G=Ti(D,0,59),Q=Ti(b,0,59),le=Ti(x,0,999);return N?G?Q?!le&&Gr("millisecond",x):Gr("second",b):Gr("minute",D):Gr("hour",R)}var Cs="Invalid DateTime",Ya=864e13;function Io(C){return new kr("unsupported zone",'the zone "'+C.name+'" is not supported')}function bc(C){return null===C.weekData&&(C.weekData=Ol(C.c)),C.weekData}function zr(C,R){var D={ts:C.ts,zone:C.zone,c:C.c,o:C.o,loc:C.loc,invalid:C.invalid};return new Ii(Object.assign({},D,R,{old:D}))}function Fl(C,R,D){var b=C-60*R*1e3,x=D.offset(b);if(R===x)return[b,R];var N=D.offset(b-=60*(x-R)*1e3);return x===N?[b,x]:[C-60*Math.min(x,N)*1e3,Math.max(x,N)]}function wc(C,R){var D=new Date(C+=60*R*1e3);return{year:D.getUTCFullYear(),month:D.getUTCMonth()+1,day:D.getUTCDate(),hour:D.getUTCHours(),minute:D.getUTCMinutes(),second:D.getUTCSeconds(),millisecond:D.getUTCMilliseconds()}}function vu(C,R,D){return Fl(ts(C),R,D)}function Pe(C,R){var D,b=Object.keys(R.values);-1===b.indexOf("milliseconds")&&b.push("milliseconds"),R=(D=R).shiftTo.apply(D,b);var x=C.o,N=C.c.year+R.years,G=C.c.month+R.months+3*R.quarters,Q=Object.assign({},C.c,{year:N,month:G,day:Math.min(C.c.day,tr(N,G))+R.days+7*R.weeks}),le=ln.fromObject({hours:R.hours,minutes:R.minutes,seconds:R.seconds,milliseconds:R.milliseconds}).as("milliseconds"),qe=Fl(ts(Q),x,C.zone),ye=qe[0],at=qe[1];return 0!==le&&(at=C.zone.offset(ye+=le)),{ts:ye,o:at}}function vr(C,R,D,b,x){var N=D.setZone,G=D.zone;if(C&&0!==Object.keys(C).length){var le=Ii.fromObject(Object.assign(C,D,{zone:R||G,setZone:void 0}));return N?le:le.setZone(G)}return Ii.invalid(new kr("unparsable",'the input "'+x+"\" can't be parsed as "+b))}function j(C,R,D){return void 0===D&&(D=!0),C.isValid?jn.create(_i.create("en-US"),{allowZ:D,forceSimple:!0}).formatDateTimeFromString(C,R):null}function Yi(C,R){var D=R.suppressSeconds,x=R.suppressMilliseconds,G=R.includeOffset,Q=R.includeZone,le=void 0!==Q&&Q,ke=R.spaceZone,ye=R.format,at=void 0===ye?"extended":ye,Tt="basic"===at?"HHmm":"HH:mm";return(!(void 0!==D&&D)||0!==C.second||0!==C.millisecond)&&(Tt+="basic"===at?"ss":":ss",(!(void 0!==x&&x)||0!==C.millisecond)&&(Tt+=".SSS")),(le||G)&&void 0!==ke&&ke&&(Tt+=" "),le?Tt+="z":G&&(Tt+="basic"===at?"ZZZ":"ZZ"),j(C,Tt)}var Nr={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},Ni={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},bu={ordinal:1,hour:0,minute:0,second:0,millisecond:0},fi=["year","month","day","hour","minute","second","millisecond"],Qn=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],pi=["year","ordinal","hour","minute","second","millisecond"];function kn(C){var R={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[C.toLowerCase()];if(!R)throw new yt(C);return R}function si(C,R){for(var b,D=ot(fi);!(b=D()).done;){var x=b.value;Zt(C[x])&&(C[x]=Nr[x])}var N=yc(C)||vc(C);if(N)return Ii.invalid(N);var G=Yn.now(),le=vu(C,R.offset(G),R);return new Ii({ts:le[0],zone:R,o:le[1]})}function So(C,R,D){var b=!!Zt(D.round)||D.round,x=function(ye,at){return ye=en(ye,b||D.calendary?0:2,!0),R.loc.clone(D).relFormatter(D).format(ye,at)},N=function(ye){return D.calendary?R.hasSame(C,ye)?0:R.startOf(ye).diff(C.startOf(ye),ye).get(ye):R.diff(C,ye).get(ye)};if(D.unit)return x(N(D.unit),D.unit);for(var Q,G=ot(D.units);!(Q=G()).done;){var le=Q.value,ke=N(le);if(Math.abs(ke)>=1)return x(ke,le)}return x(0,D.units[D.units.length-1])}var Ii=function(){function C(D){var b=D.zone||Yn.defaultZone,x=D.invalid||(Number.isNaN(D.ts)?new kr("invalid input"):null)||(b.isValid?null:Io(b));this.ts=Zt(D.ts)?Yn.now():D.ts;var N=null,G=null;if(!x)if(D.old&&D.old.ts===this.ts&&D.old.zone.equals(b)){var le=[D.old.c,D.old.o];N=le[0],G=le[1]}else{var ke=b.offset(this.ts);N=wc(this.ts,ke),N=(x=Number.isNaN(N.year)?new kr("invalid input"):null)?null:N,G=x?null:ke}this._zone=b,this.loc=D.loc||_i.create(),this.invalid=x,this.weekData=null,this.c=N,this.o=G,this.isLuxonDateTime=!0}C.local=function(b,x,N,G,Q,le,ke){return Zt(b)?new C({ts:Yn.now()}):si({year:b,month:x,day:N,hour:G,minute:Q,second:le,millisecond:ke},Yn.defaultZone)},C.utc=function(b,x,N,G,Q,le,ke){return Zt(b)?new C({ts:Yn.now(),zone:Wi.utcInstance}):si({year:b,month:x,day:N,hour:G,minute:Q,second:le,millisecond:ke},Wi.utcInstance)},C.fromJSDate=function(b,x){void 0===x&&(x={});var N=function qi(C){return"[object Date]"===Object.prototype.toString.call(C)}(b)?b.valueOf():NaN;if(Number.isNaN(N))return C.invalid("invalid input");var G=Xs(x.zone,Yn.defaultZone);return G.isValid?new C({ts:N,zone:G,loc:_i.fromObject(x)}):C.invalid(Io(G))},C.fromMillis=function(b,x){if(void 0===x&&(x={}),yi(b))return b<-Ya||b>Ya?C.invalid("Timestamp out of range"):new C({ts:b,zone:Xs(x.zone,Yn.defaultZone),loc:_i.fromObject(x)});throw new Je("fromMillis requires a numerical input, but received a "+typeof b+" with value "+b)},C.fromSeconds=function(b,x){if(void 0===x&&(x={}),yi(b))return new C({ts:1e3*b,zone:Xs(x.zone,Yn.defaultZone),loc:_i.fromObject(x)});throw new Je("fromSeconds requires a numerical input")},C.fromObject=function(b){var x=Xs(b.zone,Yn.defaultZone);if(!x.isValid)return C.invalid(Io(x));var N=Yn.now(),G=x.offset(N),Q=ci(b,kn,["zone","locale","outputCalendar","numberingSystem"]),le=!Zt(Q.ordinal),ke=!Zt(Q.year),qe=!Zt(Q.month)||!Zt(Q.day),ye=ke||qe,at=Q.weekYear||Q.weekNumber,Tt=_i.fromObject(b);if((ye||le)&&at)throw new Ue("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(qe&&le)throw new Ue("Can't mix ordinal dates with month/day");var hn,Bt,vn=at||Q.weekday&&!ye,jt=wc(N,G);vn?(hn=Qn,Bt=Ni,jt=Ol(jt)):le?(hn=pi,Bt=bu,jt=ea(jt)):(hn=fi,Bt=Nr);for(var Bn,Pi=!1,fn=ot(hn);!(Bn=fn()).done;){var Ao=Bn.value;Zt(Q[Ao])?Q[Ao]=Pi?Bt[Ao]:jt[Ao]:Pi=!0}var Cc=vn?function Pl(C){var R=Ur(C.weekYear),D=Ti(C.weekNumber,1,sn(C.weekYear)),b=Ti(C.weekday,1,7);return R?D?!b&&Gr("weekday",C.weekday):Gr("week",C.week):Gr("weekYear",C.weekYear)}(Q):le?function Oi(C){var R=Ur(C.year),D=Ti(C.ordinal,1,vt(C.year));return R?!D&&Gr("ordinal",C.ordinal):Gr("year",C.year)}(Q):yc(Q),Mo=Cc||vc(Q);if(Mo)return C.invalid(Mo);var Es=vu(vn?Do(Q):le?Nl(Q):Q,G,x),Bs=new C({ts:Es[0],zone:x,o:Es[1],loc:Tt});return Q.weekday&&ye&&b.weekday!==Bs.weekday?C.invalid("mismatched weekday","you can't specify both a weekday of "+Q.weekday+" and a date of "+Bs.toISO()):Bs},C.fromISO=function(b,x){void 0===x&&(x={});var N=function ki(C){return El(C,[ei,dc],[Zo,Sa],[Yo,Co],[Kn,ir])}(b);return vr(N[0],N[1],x,"ISO 8601",b)},C.fromRFC2822=function(b,x){void 0===x&&(x={});var N=function Al(C){return El(function cc(C){return C.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}(C),[Ah,Ia])}(b);return vr(N[0],N[1],x,"RFC 2822",b)},C.fromHTTP=function(b,x){void 0===x&&(x={});var N=function ss(C){return El(C,[mu,wo],[Sl,wo],[bo,uc])}(b);return vr(N[0],N[1],x,"HTTP",x)},C.fromFormat=function(b,x,N){if(void 0===N&&(N={}),Zt(b)||Zt(x))throw new Je("fromFormat requires an input string and a format");var Q=N.locale,ke=N.numberingSystem,at=function Or(C,R,D){var b=kl(C,R,D);return[b.result,b.zone,b.invalidReason]}(_i.fromOpts({locale:void 0===Q?null:Q,numberingSystem:void 0===ke?null:ke,defaultToEN:!0}),b,x),Tt=at[0],vn=at[1],hn=at[2];return hn?C.invalid(hn):vr(Tt,vn,N,"format "+x,b)},C.fromString=function(b,x,N){return void 0===N&&(N={}),C.fromFormat(b,x,N)},C.fromSQL=function(b,x){void 0===x&&(x={});var N=function Ls(C){return El(C,[io,Aa],[Ko,_s])}(b);return vr(N[0],N[1],x,"SQL",b)},C.invalid=function(b,x){if(void 0===x&&(x=null),!b)throw new Je("need to specify a reason the DateTime is invalid");var N=b instanceof kr?b:new kr(b,x);if(Yn.throwOnInvalid)throw new Qe(N);return new C({invalid:N})},C.isDateTime=function(b){return b&&b.isLuxonDateTime||!1};var R=C.prototype;return R.get=function(b){return this[b]},R.resolvedLocaleOpts=function(b){void 0===b&&(b={});var x=jn.create(this.loc.clone(b),b).resolvedOptions(this);return{locale:x.locale,numberingSystem:x.numberingSystem,outputCalendar:x.calendar}},R.toUTC=function(b,x){return void 0===b&&(b=0),void 0===x&&(x={}),this.setZone(Wi.instance(b),x)},R.toLocal=function(){return this.setZone(Yn.defaultZone)},R.setZone=function(b,x){var N=void 0===x?{}:x,G=N.keepLocalTime,Q=void 0!==G&&G,le=N.keepCalendarTime,ke=void 0!==le&&le;if((b=Xs(b,Yn.defaultZone)).equals(this.zone))return this;if(b.isValid){var qe=this.ts;if(Q||ke){var ye=b.offset(this.ts);qe=vu(this.toObject(),ye,b)[0]}return zr(this,{ts:qe,zone:b})}return C.invalid(Io(b))},R.reconfigure=function(b){var x=void 0===b?{}:b;return zr(this,{loc:this.loc.clone({locale:x.locale,numberingSystem:x.numberingSystem,outputCalendar:x.outputCalendar})})},R.setLocale=function(b){return this.reconfigure({locale:b})},R.set=function(b){if(!this.isValid)return this;var G,x=ci(b,kn,[]);Zt(x.weekYear)&&Zt(x.weekNumber)&&Zt(x.weekday)?Zt(x.ordinal)?(G=Object.assign(this.toObject(),x),Zt(x.day)&&(G.day=Math.min(tr(G.year,G.month),G.day))):G=Nl(Object.assign(ea(this.c),x)):G=Do(Object.assign(Ol(this.c),x));var Q=vu(G,this.o,this.zone);return zr(this,{ts:Q[0],o:Q[1]})},R.plus=function(b){return this.isValid?zr(this,Pe(this,Vs(b))):this},R.minus=function(b){return this.isValid?zr(this,Pe(this,Vs(b).negate())):this},R.startOf=function(b){if(!this.isValid)return this;var x={},N=ln.normalizeUnit(b);switch(N){case"years":x.month=1;case"quarters":case"months":x.day=1;case"weeks":case"days":x.hour=0;case"hours":x.minute=0;case"minutes":x.second=0;case"seconds":x.millisecond=0}if("weeks"===N&&(x.weekday=1),"quarters"===N){var G=Math.ceil(this.month/3);x.month=3*(G-1)+1}return this.set(x)},R.endOf=function(b){var x;return this.isValid?this.plus((x={},x[b]=1,x)).startOf(b).minus(1):this},R.toFormat=function(b,x){return void 0===x&&(x={}),this.isValid?jn.create(this.loc.redefaultToEN(x)).formatDateTimeFromString(this,b):Cs},R.toLocaleString=function(b){return void 0===b&&(b=me),this.isValid?jn.create(this.loc.clone(b),b).formatDateTime(this):Cs},R.toLocaleParts=function(b){return void 0===b&&(b={}),this.isValid?jn.create(this.loc.clone(b),b).formatDateTimeParts(this):[]},R.toISO=function(b){return void 0===b&&(b={}),this.isValid?this.toISODate(b)+"T"+this.toISOTime(b):null},R.toISODate=function(b){var N=(void 0===b?{}:b).format,Q="basic"===(void 0===N?"extended":N)?"yyyyMMdd":"yyyy-MM-dd";return this.year>9999&&(Q="+"+Q),j(this,Q)},R.toISOWeekDate=function(){return j(this,"kkkk-'W'WW-c")},R.toISOTime=function(b){var x=void 0===b?{}:b,N=x.suppressMilliseconds,Q=x.suppressSeconds,ke=x.includeOffset,ye=x.format;return Yi(this,{suppressSeconds:void 0!==Q&&Q,suppressMilliseconds:void 0!==N&&N,includeOffset:void 0===ke||ke,format:void 0===ye?"extended":ye})},R.toRFC2822=function(){return j(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)},R.toHTTP=function(){return j(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")},R.toSQLDate=function(){return j(this,"yyyy-MM-dd")},R.toSQLTime=function(b){var x=void 0===b?{}:b,N=x.includeOffset,Q=x.includeZone;return Yi(this,{includeOffset:void 0===N||N,includeZone:void 0!==Q&&Q,spaceZone:!0})},R.toSQL=function(b){return void 0===b&&(b={}),this.isValid?this.toSQLDate()+" "+this.toSQLTime(b):null},R.toString=function(){return this.isValid?this.toISO():Cs},R.valueOf=function(){return this.toMillis()},R.toMillis=function(){return this.isValid?this.ts:NaN},R.toSeconds=function(){return this.isValid?this.ts/1e3:NaN},R.toJSON=function(){return this.toISO()},R.toBSON=function(){return this.toJSDate()},R.toObject=function(b){if(void 0===b&&(b={}),!this.isValid)return{};var x=Object.assign({},this.c);return b.includeConfig&&(x.outputCalendar=this.outputCalendar,x.numberingSystem=this.loc.numberingSystem,x.locale=this.loc.locale),x},R.toJSDate=function(){return new Date(this.isValid?this.ts:NaN)},R.diff=function(b,x,N){if(void 0===x&&(x="milliseconds"),void 0===N&&(N={}),!this.isValid||!b.isValid)return ln.invalid(this.invalid||b.invalid,"created by diffing an invalid DateTime");var G=Object.assign({locale:this.locale,numberingSystem:this.numberingSystem},N),Q=function fr(C){return Array.isArray(C)?C:[C]}(x).map(ln.normalizeUnit),le=b.valueOf()>this.valueOf(),ye=function Ma(C,R,D,b){var ye,x=function hc(C,R,D){for(var N,G,x={},Q=0,le=[["years",function(hn,Bt){return Bt.year-hn.year}],["months",function(hn,Bt){return Bt.month-hn.month+12*(Bt.year-hn.year)}],["weeks",function(hn,Bt){var jt=cd(hn,Bt);return(jt-jt%7)/7}],["days",cd]];Q<le.length;Q++){var ke=le[Q],qe=ke[0],ye=ke[1];if(D.indexOf(qe)>=0){var at;N=qe;var vn,Tt=ye(C,R);(G=C.plus(((at={})[qe]=Tt,at)))>R?(C=C.plus(((vn={})[qe]=Tt-1,vn)),Tt-=1):C=G,x[qe]=Tt}}return[C,x,G,N]}(C,R,D),N=x[0],G=x[1],Q=x[2],le=x[3],ke=R-N,qe=D.filter(function(vn){return["hours","minutes","seconds","milliseconds"].indexOf(vn)>=0});0===qe.length&&(Q<R&&(Q=N.plus(((ye={})[le]=1,ye))),Q!==N&&(G[le]=(G[le]||0)+ke/(Q-N)));var Tt,at=ln.fromObject(Object.assign(G,b));return qe.length>0?(Tt=ln.fromMillis(ke,b)).shiftTo.apply(Tt,qe).plus(at):at}(le?this:b,le?b:this,Q,G);return le?ye.negate():ye},R.diffNow=function(b,x){return void 0===b&&(b="milliseconds"),void 0===x&&(x={}),this.diff(C.local(),b,x)},R.until=function(b){return this.isValid?Qo.fromDateTimes(this,b):this},R.hasSame=function(b,x){if(!this.isValid)return!1;if("millisecond"===x)return this.valueOf()===b.valueOf();var N=b.valueOf();return this.startOf(x)<=N&&N<=this.endOf(x)},R.equals=function(b){return this.isValid&&b.isValid&&this.valueOf()===b.valueOf()&&this.zone.equals(b.zone)&&this.loc.equals(b.loc)},R.toRelative=function(b){if(void 0===b&&(b={}),!this.isValid)return null;var x=b.base||C.fromObject({zone:this.zone});return So(x,this.plus(b.padding?this<x?-b.padding:b.padding:0),Object.assign(b,{numeric:"always",units:["years","months","days","hours","minutes","seconds"]}))},R.toRelativeCalendar=function(b){return void 0===b&&(b={}),this.isValid?So(b.base||C.fromObject({zone:this.zone}),this,Object.assign(b,{numeric:"auto",units:["years","months","days"],calendary:!0})):null},C.min=function(){for(var b=arguments.length,x=new Array(b),N=0;N<b;N++)x[N]=arguments[N];if(!x.every(C.isDateTime))throw new Je("min requires all arguments be DateTimes");return vi(x,function(G){return G.valueOf()},Math.min)},C.max=function(){for(var b=arguments.length,x=new Array(b),N=0;N<b;N++)x[N]=arguments[N];if(!x.every(C.isDateTime))throw new Je("max requires all arguments be DateTimes");return vi(x,function(G){return G.valueOf()},Math.max)},C.fromFormatExplain=function(b,x,N){void 0===N&&(N={});var Q=N.locale,ke=N.numberingSystem;return kl(_i.fromOpts({locale:void 0===Q?null:Q,numberingSystem:void 0===ke?null:ke,defaultToEN:!0}),b,x)},C.fromStringExplain=function(b,x,N){return void 0===N&&(N={}),C.fromFormatExplain(b,x,N)},J(C,[{key:"isValid",get:function(){return null===this.invalid}},{key:"invalidReason",get:function(){return this.invalid?this.invalid.reason:null}},{key:"invalidExplanation",get:function(){return this.invalid?this.invalid.explanation:null}},{key:"locale",get:function(){return this.isValid?this.loc.locale:null}},{key:"numberingSystem",get:function(){return this.isValid?this.loc.numberingSystem:null}},{key:"outputCalendar",get:function(){return this.isValid?this.loc.outputCalendar:null}},{key:"zone",get:function(){return this._zone}},{key:"zoneName",get:function(){return this.isValid?this.zone.name:null}},{key:"year",get:function(){return this.isValid?this.c.year:NaN}},{key:"quarter",get:function(){return this.isValid?Math.ceil(this.c.month/3):NaN}},{key:"month",get:function(){return this.isValid?this.c.month:NaN}},{key:"day",get:function(){return this.isValid?this.c.day:NaN}},{key:"hour",get:function(){return this.isValid?this.c.hour:NaN}},{key:"minute",get:function(){return this.isValid?this.c.minute:NaN}},{key:"second",get:function(){return this.isValid?this.c.second:NaN}},{key:"millisecond",get:function(){return this.isValid?this.c.millisecond:NaN}},{key:"weekYear",get:function(){return this.isValid?bc(this).weekYear:NaN}},{key:"weekNumber",get:function(){return this.isValid?bc(this).weekNumber:NaN}},{key:"weekday",get:function(){return this.isValid?bc(this).weekday:NaN}},{key:"ordinal",get:function(){return this.isValid?ea(this.c).ordinal:NaN}},{key:"monthShort",get:function(){return this.isValid?so.months("short",{locale:this.locale})[this.month-1]:null}},{key:"monthLong",get:function(){return this.isValid?so.months("long",{locale:this.locale})[this.month-1]:null}},{key:"weekdayShort",get:function(){return this.isValid?so.weekdays("short",{locale:this.locale})[this.weekday-1]:null}},{key:"weekdayLong",get:function(){return this.isValid?so.weekdays("long",{locale:this.locale})[this.weekday-1]:null}},{key:"offset",get:function(){return this.isValid?+this.o:NaN}},{key:"offsetNameShort",get:function(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}},{key:"offsetNameLong",get:function(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}},{key:"isOffsetFixed",get:function(){return this.isValid?this.zone.universal:null}},{key:"isInDST",get:function(){return!this.isOffsetFixed&&(this.offset>this.set({month:1}).offset||this.offset>this.set({month:5}).offset)}},{key:"isInLeapYear",get:function(){return Dt(this.year)}},{key:"daysInMonth",get:function(){return tr(this.year,this.month)}},{key:"daysInYear",get:function(){return this.isValid?vt(this.year):NaN}},{key:"weeksInWeekYear",get:function(){return this.isValid?sn(this.weekYear):NaN}}],[{key:"DATE_SHORT",get:function(){return me}},{key:"DATE_MED",get:function(){return pt}},{key:"DATE_FULL",get:function(){return ue}},{key:"DATE_HUGE",get:function(){return Se}},{key:"TIME_SIMPLE",get:function(){return De}},{key:"TIME_WITH_SECONDS",get:function(){return Ae}},{key:"TIME_WITH_SHORT_OFFSET",get:function(){return Ye}},{key:"TIME_WITH_LONG_OFFSET",get:function(){return we}},{key:"TIME_24_SIMPLE",get:function(){return Vt}},{key:"TIME_24_WITH_SECONDS",get:function(){return En}},{key:"TIME_24_WITH_SHORT_OFFSET",get:function(){return gi}},{key:"TIME_24_WITH_LONG_OFFSET",get:function(){return It}},{key:"DATETIME_SHORT",get:function(){return St}},{key:"DATETIME_SHORT_WITH_SECONDS",get:function(){return Vn}},{key:"DATETIME_MED",get:function(){return Pn}},{key:"DATETIME_MED_WITH_SECONDS",get:function(){return Mr}},{key:"DATETIME_MED_WITH_WEEKDAY",get:function(){return In}},{key:"DATETIME_FULL",get:function(){return _n}},{key:"DATETIME_FULL_WITH_SECONDS",get:function(){return Tn}},{key:"DATETIME_HUGE",get:function(){return ti}},{key:"DATETIME_HUGE_WITH_SECONDS",get:function(){return Ai}}]),C}();function ta(C){if(Ii.isDateTime(C))return C;if(C&&C.valueOf&&yi(C.valueOf()))return Ii.fromJSDate(C);if(C&&"object"==typeof C)return Ii.fromObject(C);throw new Je("Unknown datetime argument: "+C+", of type "+typeof C)}He.ou=Ii,He.kI=so},8306:(Rt,He,z)=>{z.d(He,{y:()=>re});var o=z(930),J=z(727),B=z(8822),ve=z(4671);var fe=z(2416),Te=z(576),xe=z(2806);let re=(()=>{class Ge{constructor(et){et&&(this._subscribe=et)}lift(et){const Oe=new Ge;return Oe.source=this,Oe.operator=et,Oe}subscribe(et,Oe,Ue){const yt=function ot(Ge){return Ge&&Ge instanceof o.Lv||function _e(Ge){return Ge&&(0,Te.m)(Ge.next)&&(0,Te.m)(Ge.error)&&(0,Te.m)(Ge.complete)}(Ge)&&(0,J.Nn)(Ge)}(et)?et:new o.Hp(et,Oe,Ue);return(0,xe.x)(()=>{const{operator:Je,source:je}=this;yt.add(Je?Je.call(yt,je):je?this._subscribe(yt):this._trySubscribe(yt))}),yt}_trySubscribe(et){try{return this._subscribe(et)}catch(Oe){et.error(Oe)}}forEach(et,Oe){return new(Oe=ne(Oe))((Ue,yt)=>{const Je=new o.Hp({next:je=>{try{et(je)}catch(ce){yt(ce),Je.unsubscribe()}},error:yt,complete:Ue});this.subscribe(Je)})}_subscribe(et){var Oe;return null===(Oe=this.source)||void 0===Oe?void 0:Oe.subscribe(et)}[B.L](){return this}pipe(...et){return function Le(Ge){return 0===Ge.length?ve.y:1===Ge.length?Ge[0]:function(et){return Ge.reduce((Oe,Ue)=>Ue(Oe),et)}}(et)(this)}toPromise(et){return new(et=ne(et))((Oe,Ue)=>{let yt;this.subscribe(Je=>yt=Je,Je=>Ue(Je),()=>Oe(yt))})}}return Ge.create=Qe=>new Ge(Qe),Ge})();function ne(Ge){var Qe;return null!==(Qe=null!=Ge?Ge:fe.v.Promise)&&void 0!==Qe?Qe:Promise}},7579:(Rt,He,z)=>{z.d(He,{x:()=>fe});var o=z(8306),J=z(727);const ve=(0,z(3888).d)(xe=>function(){xe(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ge=z(8737),Le=z(2806);let fe=(()=>{class xe extends o.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ne){const _e=new Te(this,this);return _e.operator=ne,_e}_throwIfClosed(){if(this.closed)throw new ve}next(ne){(0,Le.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const _e of this.currentObservers)_e.next(ne)}})}error(ne){(0,Le.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ne;const{observers:_e}=this;for(;_e.length;)_e.shift().error(ne)}})}complete(){(0,Le.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ne}=this;for(;ne.length;)ne.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ne;return(null===(ne=this.observers)||void 0===ne?void 0:ne.length)>0}_trySubscribe(ne){return this._throwIfClosed(),super._trySubscribe(ne)}_subscribe(ne){return this._throwIfClosed(),this._checkFinalizedStatuses(ne),this._innerSubscribe(ne)}_innerSubscribe(ne){const{hasError:_e,isStopped:ot,observers:Ge}=this;return _e||ot?J.Lc:(this.currentObservers=null,Ge.push(ne),new J.w0(()=>{this.currentObservers=null,(0,ge.P)(Ge,ne)}))}_checkFinalizedStatuses(ne){const{hasError:_e,thrownError:ot,isStopped:Ge}=this;_e?ne.error(ot):Ge&&ne.complete()}asObservable(){const ne=new o.y;return ne.source=this,ne}}return xe.create=(re,ne)=>new Te(re,ne),xe})();class Te extends fe{constructor(re,ne){super(),this.destination=re,this.source=ne}next(re){var ne,_e;null===(_e=null===(ne=this.destination)||void 0===ne?void 0:ne.next)||void 0===_e||_e.call(ne,re)}error(re){var ne,_e;null===(_e=null===(ne=this.destination)||void 0===ne?void 0:ne.error)||void 0===_e||_e.call(ne,re)}complete(){var re,ne;null===(ne=null===(re=this.destination)||void 0===re?void 0:re.complete)||void 0===ne||ne.call(re)}_subscribe(re){var ne,_e;return null!==(_e=null===(ne=this.source)||void 0===ne?void 0:ne.subscribe(re))&&void 0!==_e?_e:J.Lc}}},930:(Rt,He,z)=>{z.d(He,{Hp:()=>et,Lv:()=>_e});var o=z(576),J=z(727),B=z(2416),ve=z(7849),ge=z(5032);const Le=xe("C",void 0,void 0);function xe(je,ce,Ne){return{kind:je,value:ce,error:Ne}}var re=z(3410),ne=z(2806);class _e extends J.w0{constructor(ce){super(),this.isStopped=!1,ce?(this.destination=ce,(0,J.Nn)(ce)&&ce.add(this)):this.destination=Je}static create(ce,Ne,rt){return new et(ce,Ne,rt)}next(ce){this.isStopped?yt(function Te(je){return xe("N",je,void 0)}(ce),this):this._next(ce)}error(ce){this.isStopped?yt(function fe(je){return xe("E",void 0,je)}(ce),this):(this.isStopped=!0,this._error(ce))}complete(){this.isStopped?yt(Le,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ce){this.destination.next(ce)}_error(ce){try{this.destination.error(ce)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const ot=Function.prototype.bind;function Ge(je,ce){return ot.call(je,ce)}class Qe{constructor(ce){this.partialObserver=ce}next(ce){const{partialObserver:Ne}=this;if(Ne.next)try{Ne.next(ce)}catch(rt){Oe(rt)}}error(ce){const{partialObserver:Ne}=this;if(Ne.error)try{Ne.error(ce)}catch(rt){Oe(rt)}else Oe(ce)}complete(){const{partialObserver:ce}=this;if(ce.complete)try{ce.complete()}catch(Ne){Oe(Ne)}}}class et extends _e{constructor(ce,Ne,rt){let me;if(super(),(0,o.m)(ce)||!ce)me={next:null!=ce?ce:void 0,error:null!=Ne?Ne:void 0,complete:null!=rt?rt:void 0};else{let pt;this&&B.v.useDeprecatedNextContext?(pt=Object.create(ce),pt.unsubscribe=()=>this.unsubscribe(),me={next:ce.next&&Ge(ce.next,pt),error:ce.error&&Ge(ce.error,pt),complete:ce.complete&&Ge(ce.complete,pt)}):me=ce}this.destination=new Qe(me)}}function Oe(je){B.v.useDeprecatedSynchronousErrorHandling?(0,ne.O)(je):(0,ve.h)(je)}function yt(je,ce){const{onStoppedNotification:Ne}=B.v;Ne&&re.z.setTimeout(()=>Ne(je,ce))}const Je={closed:!0,next:ge.Z,error:function Ue(je){throw je},complete:ge.Z}},727:(Rt,He,z)=>{z.d(He,{Lc:()=>Le,w0:()=>ge,Nn:()=>fe});var o=z(576);const B=(0,z(3888).d)(xe=>function(ne){xe(this),this.message=ne?`${ne.length} errors occurred during unsubscription:\n${ne.map((_e,ot)=>`${ot+1}) ${_e.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ne});var ve=z(8737);class ge{constructor(re){this.initialTeardown=re,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let re;if(!this.closed){this.closed=!0;const{_parentage:ne}=this;if(ne)if(this._parentage=null,Array.isArray(ne))for(const Ge of ne)Ge.remove(this);else ne.remove(this);const{initialTeardown:_e}=this;if((0,o.m)(_e))try{_e()}catch(Ge){re=Ge instanceof B?Ge.errors:[Ge]}const{_finalizers:ot}=this;if(ot){this._finalizers=null;for(const Ge of ot)try{Te(Ge)}catch(Qe){re=null!=re?re:[],Qe instanceof B?re=[...re,...Qe.errors]:re.push(Qe)}}if(re)throw new B(re)}}add(re){var ne;if(re&&re!==this)if(this.closed)Te(re);else{if(re instanceof ge){if(re.closed||re._hasParent(this))return;re._addParent(this)}(this._finalizers=null!==(ne=this._finalizers)&&void 0!==ne?ne:[]).push(re)}}_hasParent(re){const{_parentage:ne}=this;return ne===re||Array.isArray(ne)&&ne.includes(re)}_addParent(re){const{_parentage:ne}=this;this._parentage=Array.isArray(ne)?(ne.push(re),ne):ne?[ne,re]:re}_removeParent(re){const{_parentage:ne}=this;ne===re?this._parentage=null:Array.isArray(ne)&&(0,ve.P)(ne,re)}remove(re){const{_finalizers:ne}=this;ne&&(0,ve.P)(ne,re),re instanceof ge&&re._removeParent(this)}}ge.EMPTY=(()=>{const xe=new ge;return xe.closed=!0,xe})();const Le=ge.EMPTY;function fe(xe){return xe instanceof ge||xe&&"closed"in xe&&(0,o.m)(xe.remove)&&(0,o.m)(xe.add)&&(0,o.m)(xe.unsubscribe)}function Te(xe){(0,o.m)(xe)?xe():xe.unsubscribe()}},2416:(Rt,He,z)=>{z.d(He,{v:()=>o});const o={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(Rt,He,z)=>{z.d(He,{E:()=>J});const J=new(z(8306).y)(ge=>ge.complete())},8996:(Rt,He,z)=>{z.d(He,{D:()=>ce});var o=z(8421),J=z(5363),B=z(9468),Le=z(8306),Te=z(2202),xe=z(576),re=z(9672);function _e(Ne,rt){if(!Ne)throw new Error("Iterable cannot be null");return new Le.y(me=>{(0,re.f)(me,rt,()=>{const pt=Ne[Symbol.asyncIterator]();(0,re.f)(me,rt,()=>{pt.next().then(ue=>{ue.done?me.complete():me.next(ue.value)})},0,!0)})})}var ot=z(3670),Ge=z(8239),Qe=z(1144),et=z(6495),Oe=z(2206),Ue=z(4532),yt=z(3260);function ce(Ne,rt){return rt?function je(Ne,rt){if(null!=Ne){if((0,ot.c)(Ne))return function ve(Ne,rt){return(0,o.Xf)(Ne).pipe((0,B.R)(rt),(0,J.Q)(rt))}(Ne,rt);if((0,Qe.z)(Ne))return function fe(Ne,rt){return new Le.y(me=>{let pt=0;return rt.schedule(function(){pt===Ne.length?me.complete():(me.next(Ne[pt++]),me.closed||this.schedule())})})}(Ne,rt);if((0,Ge.t)(Ne))return function ge(Ne,rt){return(0,o.Xf)(Ne).pipe((0,B.R)(rt),(0,J.Q)(rt))}(Ne,rt);if((0,Oe.D)(Ne))return _e(Ne,rt);if((0,et.T)(Ne))return function ne(Ne,rt){return new Le.y(me=>{let pt;return(0,re.f)(me,rt,()=>{pt=Ne[Te.h](),(0,re.f)(me,rt,()=>{let ue,Se;try{({value:ue,done:Se}=pt.next())}catch(De){return void me.error(De)}Se?me.complete():me.next(ue)},0,!0)}),()=>(0,xe.m)(null==pt?void 0:pt.return)&&pt.return()})}(Ne,rt);if((0,yt.L)(Ne))return function Je(Ne,rt){return _e((0,yt.Q)(Ne),rt)}(Ne,rt)}throw(0,Ue.z)(Ne)}(Ne,rt):(0,o.Xf)(Ne)}},8421:(Rt,He,z)=>{z.d(He,{Xf:()=>ot});var o=z(655),J=z(1144),B=z(8239),ve=z(8306),ge=z(3670),Le=z(2206),fe=z(4532),Te=z(6495),xe=z(3260),re=z(576),ne=z(7849),_e=z(8822);function ot(je){if(je instanceof ve.y)return je;if(null!=je){if((0,ge.c)(je))return function Ge(je){return new ve.y(ce=>{const Ne=je[_e.L]();if((0,re.m)(Ne.subscribe))return Ne.subscribe(ce);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(je);if((0,J.z)(je))return function Qe(je){return new ve.y(ce=>{for(let Ne=0;Ne<je.length&&!ce.closed;Ne++)ce.next(je[Ne]);ce.complete()})}(je);if((0,B.t)(je))return function et(je){return new ve.y(ce=>{je.then(Ne=>{ce.closed||(ce.next(Ne),ce.complete())},Ne=>ce.error(Ne)).then(null,ne.h)})}(je);if((0,Le.D)(je))return Ue(je);if((0,Te.T)(je))return function Oe(je){return new ve.y(ce=>{for(const Ne of je)if(ce.next(Ne),ce.closed)return;ce.complete()})}(je);if((0,xe.L)(je))return function yt(je){return Ue((0,xe.Q)(je))}(je)}throw(0,fe.z)(je)}function Ue(je){return new ve.y(ce=>{(function Je(je,ce){var Ne,rt,me,pt;return(0,o.mG)(this,void 0,void 0,function*(){try{for(Ne=(0,o.KL)(je);!(rt=yield Ne.next()).done;)if(ce.next(rt.value),ce.closed)return}catch(ue){me={error:ue}}finally{try{rt&&!rt.done&&(pt=Ne.return)&&(yield pt.call(Ne))}finally{if(me)throw me.error}}ce.complete()})})(je,ce).catch(Ne=>ce.error(Ne))})}},6451:(Rt,He,z)=>{z.d(He,{T:()=>Le});var o=z(8189),J=z(8421),B=z(515),ve=z(3269),ge=z(8996);function Le(...fe){const Te=(0,ve.yG)(fe),xe=(0,ve._6)(fe,1/0),re=fe;return re.length?1===re.length?(0,J.Xf)(re[0]):(0,o.J)(xe)((0,ge.D)(re,Te)):B.E}},5403:(Rt,He,z)=>{z.d(He,{x:()=>J});var o=z(930);function J(ve,ge,Le,fe,Te){return new B(ve,ge,Le,fe,Te)}class B extends o.Lv{constructor(ge,Le,fe,Te,xe,re){super(ge),this.onFinalize=xe,this.shouldUnsubscribe=re,this._next=Le?function(ne){try{Le(ne)}catch(_e){ge.error(_e)}}:super._next,this._error=Te?function(ne){try{Te(ne)}catch(_e){ge.error(_e)}finally{this.unsubscribe()}}:super._error,this._complete=fe?function(){try{fe()}catch(ne){ge.error(ne)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ge;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Le}=this;super.unsubscribe(),!Le&&(null===(ge=this.onFinalize)||void 0===ge||ge.call(this))}}}},4004:(Rt,He,z)=>{z.d(He,{U:()=>B});var o=z(4482),J=z(5403);function B(ve,ge){return(0,o.e)((Le,fe)=>{let Te=0;Le.subscribe((0,J.x)(fe,xe=>{fe.next(ve.call(ge,xe,Te++))}))})}},8189:(Rt,He,z)=>{z.d(He,{J:()=>B});var o=z(5577),J=z(4671);function B(ve=1/0){return(0,o.z)(J.y,ve)}},5577:(Rt,He,z)=>{z.d(He,{z:()=>Te});var o=z(4004),J=z(8421),B=z(4482),ve=z(9672),ge=z(5403),fe=z(576);function Te(xe,re,ne=1/0){return(0,fe.m)(re)?Te((_e,ot)=>(0,o.U)((Ge,Qe)=>re(_e,Ge,ot,Qe))((0,J.Xf)(xe(_e,ot))),ne):("number"==typeof re&&(ne=re),(0,B.e)((_e,ot)=>function Le(xe,re,ne,_e,ot,Ge,Qe,et){const Oe=[];let Ue=0,yt=0,Je=!1;const je=()=>{Je&&!Oe.length&&!Ue&&re.complete()},ce=rt=>Ue<_e?Ne(rt):Oe.push(rt),Ne=rt=>{Ge&&re.next(rt),Ue++;let me=!1;(0,J.Xf)(ne(rt,yt++)).subscribe((0,ge.x)(re,pt=>{null==ot||ot(pt),Ge?ce(pt):re.next(pt)},()=>{me=!0},void 0,()=>{if(me)try{for(Ue--;Oe.length&&Ue<_e;){const pt=Oe.shift();Qe?(0,ve.f)(re,Qe,()=>Ne(pt)):Ne(pt)}je()}catch(pt){re.error(pt)}}))};return xe.subscribe((0,ge.x)(re,ce,()=>{Je=!0,je()})),()=>{null==et||et()}}(_e,ot,xe,ne)))}},5363:(Rt,He,z)=>{z.d(He,{Q:()=>ve});var o=z(9672),J=z(4482),B=z(5403);function ve(ge,Le=0){return(0,J.e)((fe,Te)=>{fe.subscribe((0,B.x)(Te,xe=>(0,o.f)(Te,ge,()=>Te.next(xe),Le),()=>(0,o.f)(Te,ge,()=>Te.complete(),Le),xe=>(0,o.f)(Te,ge,()=>Te.error(xe),Le)))})}},3099:(Rt,He,z)=>{z.d(He,{B:()=>Le});var o=z(8996),J=z(5698),B=z(7579),ve=z(930),ge=z(4482);function Le(Te={}){const{connector:xe=(()=>new B.x),resetOnError:re=!0,resetOnComplete:ne=!0,resetOnRefCountZero:_e=!0}=Te;return ot=>{let Ge=null,Qe=null,et=null,Oe=0,Ue=!1,yt=!1;const Je=()=>{null==Qe||Qe.unsubscribe(),Qe=null},je=()=>{Je(),Ge=et=null,Ue=yt=!1},ce=()=>{const Ne=Ge;je(),null==Ne||Ne.unsubscribe()};return(0,ge.e)((Ne,rt)=>{Oe++,!yt&&!Ue&&Je();const me=et=null!=et?et:xe();rt.add(()=>{Oe--,0===Oe&&!yt&&!Ue&&(Qe=fe(ce,_e))}),me.subscribe(rt),Ge||(Ge=new ve.Hp({next:pt=>me.next(pt),error:pt=>{yt=!0,Je(),Qe=fe(je,re,pt),me.error(pt)},complete:()=>{Ue=!0,Je(),Qe=fe(je,ne),me.complete()}}),(0,o.D)(Ne).subscribe(Ge))})(ot)}}function fe(Te,xe,...re){return!0===xe?(Te(),null):!1===xe?null:xe(...re).pipe((0,J.q)(1)).subscribe(()=>Te())}},9468:(Rt,He,z)=>{z.d(He,{R:()=>J});var o=z(4482);function J(B,ve=0){return(0,o.e)((ge,Le)=>{Le.add(B.schedule(()=>ge.subscribe(Le),ve))})}},5698:(Rt,He,z)=>{z.d(He,{q:()=>ve});var o=z(515),J=z(4482),B=z(5403);function ve(ge){return ge<=0?()=>o.E:(0,J.e)((Le,fe)=>{let Te=0;Le.subscribe((0,B.x)(fe,xe=>{++Te<=ge&&(fe.next(xe),ge<=Te&&fe.complete())}))})}},8505:(Rt,He,z)=>{z.d(He,{b:()=>ge});var o=z(576),J=z(4482),B=z(5403),ve=z(4671);function ge(Le,fe,Te){const xe=(0,o.m)(Le)||fe||Te?{next:Le,error:fe,complete:Te}:Le;return xe?(0,J.e)((re,ne)=>{var _e;null===(_e=xe.subscribe)||void 0===_e||_e.call(xe);let ot=!0;re.subscribe((0,B.x)(ne,Ge=>{var Qe;null===(Qe=xe.next)||void 0===Qe||Qe.call(xe,Ge),ne.next(Ge)},()=>{var Ge;ot=!1,null===(Ge=xe.complete)||void 0===Ge||Ge.call(xe),ne.complete()},Ge=>{var Qe;ot=!1,null===(Qe=xe.error)||void 0===Qe||Qe.call(xe,Ge),ne.error(Ge)},()=>{var Ge,Qe;ot&&(null===(Ge=xe.unsubscribe)||void 0===Ge||Ge.call(xe)),null===(Qe=xe.finalize)||void 0===Qe||Qe.call(xe)}))}):ve.y}},4408:(Rt,He,z)=>{z.d(He,{o:()=>ge});var o=z(727);class J extends o.w0{constructor(fe,Te){super()}schedule(fe,Te=0){return this}}const B={setInterval(Le,fe,...Te){const{delegate:xe}=B;return(null==xe?void 0:xe.setInterval)?xe.setInterval(Le,fe,...Te):setInterval(Le,fe,...Te)},clearInterval(Le){const{delegate:fe}=B;return((null==fe?void 0:fe.clearInterval)||clearInterval)(Le)},delegate:void 0};var ve=z(8737);class ge extends J{constructor(fe,Te){super(fe,Te),this.scheduler=fe,this.work=Te,this.pending=!1}schedule(fe,Te=0){if(this.closed)return this;this.state=fe;const xe=this.id,re=this.scheduler;return null!=xe&&(this.id=this.recycleAsyncId(re,xe,Te)),this.pending=!0,this.delay=Te,this.id=this.id||this.requestAsyncId(re,this.id,Te),this}requestAsyncId(fe,Te,xe=0){return B.setInterval(fe.flush.bind(fe,this),xe)}recycleAsyncId(fe,Te,xe=0){if(null!=xe&&this.delay===xe&&!1===this.pending)return Te;B.clearInterval(Te)}execute(fe,Te){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const xe=this._execute(fe,Te);if(xe)return xe;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(fe,Te){let re,xe=!1;try{this.work(fe)}catch(ne){xe=!0,re=ne||new Error("Scheduled action threw falsy error")}if(xe)return this.unsubscribe(),re}unsubscribe(){if(!this.closed){const{id:fe,scheduler:Te}=this,{actions:xe}=Te;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ve.P)(xe,this),null!=fe&&(this.id=this.recycleAsyncId(Te,fe,null)),this.delay=null,super.unsubscribe()}}}},7565:(Rt,He,z)=>{z.d(He,{v:()=>B});var o=z(6063);class J{constructor(ge,Le=J.now){this.schedulerActionCtor=ge,this.now=Le}schedule(ge,Le=0,fe){return new this.schedulerActionCtor(this,ge).schedule(fe,Le)}}J.now=o.l.now;class B extends J{constructor(ge,Le=J.now){super(ge,Le),this.actions=[],this._active=!1,this._scheduled=void 0}flush(ge){const{actions:Le}=this;if(this._active)return void Le.push(ge);let fe;this._active=!0;do{if(fe=ge.execute(ge.state,ge.delay))break}while(ge=Le.shift());if(this._active=!1,fe){for(;ge=Le.shift();)ge.unsubscribe();throw fe}}}},4986:(Rt,He,z)=>{z.d(He,{P:()=>ve,z:()=>B});var o=z(4408);const B=new(z(7565).v)(o.o),ve=B},6063:(Rt,He,z)=>{z.d(He,{l:()=>o});const o={now:()=>(o.delegate||Date).now(),delegate:void 0}},3410:(Rt,He,z)=>{z.d(He,{z:()=>o});const o={setTimeout(J,B,...ve){const{delegate:ge}=o;return(null==ge?void 0:ge.setTimeout)?ge.setTimeout(J,B,...ve):setTimeout(J,B,...ve)},clearTimeout(J){const{delegate:B}=o;return((null==B?void 0:B.clearTimeout)||clearTimeout)(J)},delegate:void 0}},2202:(Rt,He,z)=>{z.d(He,{h:()=>J});const J=function o(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Rt,He,z)=>{z.d(He,{L:()=>o});const o="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(Rt,He,z)=>{z.d(He,{_6:()=>Le,jO:()=>ve,yG:()=>ge});var o=z(576),J=z(3532);function B(fe){return fe[fe.length-1]}function ve(fe){return(0,o.m)(B(fe))?fe.pop():void 0}function ge(fe){return(0,J.K)(B(fe))?fe.pop():void 0}function Le(fe,Te){return"number"==typeof B(fe)?fe.pop():Te}},8737:(Rt,He,z)=>{function o(J,B){if(J){const ve=J.indexOf(B);0<=ve&&J.splice(ve,1)}}z.d(He,{P:()=>o})},3888:(Rt,He,z)=>{function o(J){const ve=J(ge=>{Error.call(ge),ge.stack=(new Error).stack});return ve.prototype=Object.create(Error.prototype),ve.prototype.constructor=ve,ve}z.d(He,{d:()=>o})},2806:(Rt,He,z)=>{z.d(He,{O:()=>ve,x:()=>B});var o=z(2416);let J=null;function B(ge){if(o.v.useDeprecatedSynchronousErrorHandling){const Le=!J;if(Le&&(J={errorThrown:!1,error:null}),ge(),Le){const{errorThrown:fe,error:Te}=J;if(J=null,fe)throw Te}}else ge()}function ve(ge){o.v.useDeprecatedSynchronousErrorHandling&&J&&(J.errorThrown=!0,J.error=ge)}},9672:(Rt,He,z)=>{function o(J,B,ve,ge=0,Le=!1){const fe=B.schedule(function(){ve(),Le?J.add(this.schedule(null,ge)):this.unsubscribe()},ge);if(J.add(fe),!Le)return fe}z.d(He,{f:()=>o})},4671:(Rt,He,z)=>{function o(J){return J}z.d(He,{y:()=>o})},1144:(Rt,He,z)=>{z.d(He,{z:()=>o});const o=J=>J&&"number"==typeof J.length&&"function"!=typeof J},2206:(Rt,He,z)=>{z.d(He,{D:()=>J});var o=z(576);function J(B){return Symbol.asyncIterator&&(0,o.m)(null==B?void 0:B[Symbol.asyncIterator])}},576:(Rt,He,z)=>{function o(J){return"function"==typeof J}z.d(He,{m:()=>o})},3670:(Rt,He,z)=>{z.d(He,{c:()=>B});var o=z(8822),J=z(576);function B(ve){return(0,J.m)(ve[o.L])}},6495:(Rt,He,z)=>{z.d(He,{T:()=>B});var o=z(2202),J=z(576);function B(ve){return(0,J.m)(null==ve?void 0:ve[o.h])}},8239:(Rt,He,z)=>{z.d(He,{t:()=>J});var o=z(576);function J(B){return(0,o.m)(null==B?void 0:B.then)}},3260:(Rt,He,z)=>{z.d(He,{L:()=>ve,Q:()=>B});var o=z(655),J=z(576);function B(ge){return(0,o.FC)(this,arguments,function*(){const fe=ge.getReader();try{for(;;){const{value:Te,done:xe}=yield(0,o.qq)(fe.read());if(xe)return yield(0,o.qq)(void 0);yield yield(0,o.qq)(Te)}}finally{fe.releaseLock()}})}function ve(ge){return(0,J.m)(null==ge?void 0:ge.getReader)}},3532:(Rt,He,z)=>{z.d(He,{K:()=>J});var o=z(576);function J(B){return B&&(0,o.m)(B.schedule)}},4482:(Rt,He,z)=>{z.d(He,{A:()=>J,e:()=>B});var o=z(576);function J(ve){return(0,o.m)(null==ve?void 0:ve.lift)}function B(ve){return ge=>{if(J(ge))return ge.lift(function(Le){try{return ve(Le,this)}catch(fe){this.error(fe)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(Rt,He,z)=>{function o(){}z.d(He,{Z:()=>o})},7849:(Rt,He,z)=>{z.d(He,{h:()=>B});var o=z(2416),J=z(3410);function B(ve){J.z.setTimeout(()=>{const{onUnhandledError:ge}=o.v;if(!ge)throw ve;ge(ve)})}},4532:(Rt,He,z)=>{function o(J){return new TypeError(`You provided ${null!==J&&"object"==typeof J?"an invalid object":`'${J}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}z.d(He,{z:()=>o})},655:(Rt,He,z)=>{function ve(ue,Se){var De={};for(var Ae in ue)Object.prototype.hasOwnProperty.call(ue,Ae)&&Se.indexOf(Ae)<0&&(De[Ae]=ue[Ae]);if(null!=ue&&"function"==typeof Object.getOwnPropertySymbols){var Ye=0;for(Ae=Object.getOwnPropertySymbols(ue);Ye<Ae.length;Ye++)Se.indexOf(Ae[Ye])<0&&Object.prototype.propertyIsEnumerable.call(ue,Ae[Ye])&&(De[Ae[Ye]]=ue[Ae[Ye]])}return De}function Te(ue,Se,De,Ae){return new(De||(De=Promise))(function(we,Vt){function En(St){try{It(Ae.next(St))}catch(Vn){Vt(Vn)}}function gi(St){try{It(Ae.throw(St))}catch(Vn){Vt(Vn)}}function It(St){St.done?we(St.value):function Ye(we){return we instanceof De?we:new De(function(Vt){Vt(we)})}(St.value).then(En,gi)}It((Ae=Ae.apply(ue,Se||[])).next())})}function Oe(ue){return this instanceof Oe?(this.v=ue,this):new Oe(ue)}function Ue(ue,Se,De){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ye,Ae=De.apply(ue,Se||[]),we=[];return Ye={},Vt("next"),Vt("throw"),Vt("return"),Ye[Symbol.asyncIterator]=function(){return this},Ye;function Vt(Pn){Ae[Pn]&&(Ye[Pn]=function(Mr){return new Promise(function(In,_n){we.push([Pn,Mr,In,_n])>1||En(Pn,Mr)})})}function En(Pn,Mr){try{!function gi(Pn){Pn.value instanceof Oe?Promise.resolve(Pn.value.v).then(It,St):Vn(we[0][2],Pn)}(Ae[Pn](Mr))}catch(In){Vn(we[0][3],In)}}function It(Pn){En("next",Pn)}function St(Pn){En("throw",Pn)}function Vn(Pn,Mr){Pn(Mr),we.shift(),we.length&&En(we[0][0],we[0][1])}}function Je(ue){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var De,Se=ue[Symbol.asyncIterator];return Se?Se.call(ue):(ue=function _e(ue){var Se="function"==typeof Symbol&&Symbol.iterator,De=Se&&ue[Se],Ae=0;if(De)return De.call(ue);if(ue&&"number"==typeof ue.length)return{next:function(){return ue&&Ae>=ue.length&&(ue=void 0),{value:ue&&ue[Ae++],done:!ue}}};throw new TypeError(Se?"Object is not iterable.":"Symbol.iterator is not defined.")}(ue),De={},Ae("next"),Ae("throw"),Ae("return"),De[Symbol.asyncIterator]=function(){return this},De);function Ae(we){De[we]=ue[we]&&function(Vt){return new Promise(function(En,gi){!function Ye(we,Vt,En,gi){Promise.resolve(gi).then(function(It){we({value:It,done:En})},Vt)}(En,gi,(Vt=ue[we](Vt)).done,Vt.value)})}}}z.d(He,{FC:()=>Ue,KL:()=>Je,_T:()=>ve,mG:()=>Te,qq:()=>Oe})},5e3:(Rt,He,z)=>{z.d(He,{$8M:()=>Cc,$Z:()=>G_,AFp:()=>WD,ALo:()=>Fm,AaK:()=>Te,BQk:()=>Bd,CHM:()=>_u,CRH:()=>FD,CZH:()=>Kc,CqO:()=>cm,Dn7:()=>Gb,EJc:()=>fw,EiD:()=>Jg,EpF:()=>lm,F$t:()=>AT,F4k:()=>Li,FYo:()=>Zd,FiY:()=>Wr,G48:()=>$x,Gf:()=>ih,GfV:()=>Qd,GkF:()=>gf,Gpc:()=>ne,Hsn:()=>MT,IIB:()=>lw,Ikx:()=>Ab,JOm:()=>Yr,JVY:()=>Dd,Jf7:()=>rE,L6J:()=>Fx,L6k:()=>Id,LAX:()=>Bh,LFG:()=>At,LSH:()=>Vv,Lbi:()=>qm,MAs:()=>cf,NdJ:()=>ob,O4$:()=>Gr,OlP:()=>Ki,Oqu:()=>_m,PXZ:()=>jx,Q6J:()=>sb,QGY:()=>$_,Qsj:()=>Yd,R0b:()=>ha,RDi:()=>bo,Rgc:()=>Wc,SBq:()=>xm,Sil:()=>Ay,Suo:()=>PD,TTD:()=>qo,TgZ:()=>mf,Udp:()=>fb,VKq:()=>ur,VLi:()=>eI,W1O:()=>ul,WFA:()=>ab,WLB:()=>Pm,X6Q:()=>rI,XFs:()=>xt,Xpm:()=>tn,Y36:()=>ol,YKP:()=>Bb,YNc:()=>K0,Yjl:()=>tt,Yz7:()=>In,ZZ4:()=>By,_Bn:()=>Fb,_UZ:()=>z_,_Vd:()=>Mm,_c5:()=>rg,_uU:()=>bb,aQ5:()=>vp,aQg:()=>Iw,c2e:()=>YD,cJS:()=>Tn,cg1:()=>Mb,d8E:()=>gt,dDg:()=>Xc,deG:()=>Av,dqk:()=>sn,eBb:()=>Fv,eFA:()=>_w,ekj:()=>pb,f3M:()=>Dn,g9A:()=>ZD,gM2:()=>zb,gxx:()=>Xh,h0i:()=>Ua,hGG:()=>Aw,hij:()=>wf,i9L:()=>Cu,iGM:()=>nh,ifc:()=>en,ip1:()=>Gf,kL8:()=>qT,kYT:()=>K,kcU:()=>Mh,lG2:()=>Ee,lcZ:()=>Uf,mCW:()=>L,n5z:()=>Ao,oAB:()=>q,oxw:()=>ST,pB0:()=>WC,q3G:()=>Ji,q4F:()=>Ub,qLn:()=>xp,qOj:()=>$0,qZA:()=>$l,qzn:()=>kc,r_U:()=>cw,sBO:()=>Zx,sIi:()=>Fd,s_b:()=>Bm,soG:()=>hw,tBr:()=>Oa,tb:()=>Qc,tp0:()=>ra,uIk:()=>tm,vHH:()=>Qe,vpe:()=>Kl,wAp:()=>$t,xi3:()=>Vm,xp6:()=>TE,yhl:()=>Dp,ynx:()=>Pa,z2F:()=>Ym,z3N:()=>Na,zSh:()=>il,zs3:()=>rl});var o=z(7579),J=z(727),B=z(8306),ve=z(6451),ge=z(3099);function Le(a){for(let l in a)if(a[l]===Le)return l;throw Error("Could not find renamed property on target object.")}function fe(a,l){for(const u in l)l.hasOwnProperty(u)&&!a.hasOwnProperty(u)&&(a[u]=l[u])}function Te(a){if("string"==typeof a)return a;if(Array.isArray(a))return"["+a.map(Te).join(", ")+"]";if(null==a)return""+a;if(a.overriddenName)return`${a.overriddenName}`;if(a.name)return`${a.name}`;const l=a.toString();if(null==l)return""+l;const u=l.indexOf("\n");return-1===u?l:l.substring(0,u)}function xe(a,l){return null==a||""===a?null===l?"":l:null==l||""===l?a:a+" "+l}const re=Le({__forward_ref__:Le});function ne(a){return a.__forward_ref__=ne,a.toString=function(){return Te(this())},a}function _e(a){return ot(a)?a():a}function ot(a){return"function"==typeof a&&a.hasOwnProperty(re)&&a.__forward_ref__===ne}class Qe extends Error{constructor(l,u){super(function et(a,l){return`NG0${Math.abs(a)}${l?": "+l:""}`}(l,u)),this.code=l}}function Oe(a){return"string"==typeof a?a:null==a?"":String(a)}function Ue(a){return"function"==typeof a?a.name||a.toString():"object"==typeof a&&null!=a&&"function"==typeof a.type?a.type.name||a.type.toString():Oe(a)}function ce(a,l){const u=l?` in ${l}`:"";throw new Qe(-201,`No provider for ${Ue(a)} found${u}`)}function It(a,l){null==a&&function St(a,l,u,d){throw new Error(`ASSERTION ERROR: ${a}`+(null==d?"":` [Expected=> ${u} ${d} ${l} <=Actual]`))}(l,a,null,"!=")}function In(a){return{token:a.token,providedIn:a.providedIn||null,factory:a.factory,value:void 0}}function Tn(a){return{providers:a.providers||[],imports:a.imports||[]}}function ti(a){return Ai(a,es)||Ai(a,ni)}function Ai(a,l){return a.hasOwnProperty(l)?a[l]:null}function Ur(a){return a&&(a.hasOwnProperty(qi)||a.hasOwnProperty(xr))?a[qi]:null}const es=Le({\u0275prov:Le}),qi=Le({\u0275inj:Le}),ni=Le({ngInjectableDef:Le}),xr=Le({ngInjectorDef:Le});var xt=(()=>((xt=xt||{})[xt.Default=0]="Default",xt[xt.Host=1]="Host",xt[xt.Self=2]="Self",xt[xt.SkipSelf=4]="SkipSelf",xt[xt.Optional=8]="Optional",xt))();let fr;function xn(a){const l=fr;return fr=a,l}function ii(a,l,u){const d=ti(a);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:u&xt.Optional?null:void 0!==l?l:void ce(Te(a),"Injector")}function bi(a){return{toString:a}.toString()}var qn=(()=>((qn=qn||{})[qn.OnPush=0]="OnPush",qn[qn.Default=1]="Default",qn))(),en=(()=>{return(a=en||(en={}))[a.Emulated=0]="Emulated",a[a.None=2]="None",a[a.ShadowDom=3]="ShadowDom",en;var a})();const Dt="undefined"!=typeof globalThis&&globalThis,vt="undefined"!=typeof window&&window,tr="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,sn=Dt||"undefined"!=typeof global&&global||vt||tr,Sn={},Nt=[],ci=Le({\u0275cmp:Le}),on=Le({\u0275dir:Le}),lt=Le({\u0275pipe:Le}),Be=Le({\u0275mod:Le}),Xe=Le({\u0275fac:Le}),Ot=Le({__NG_ELEMENT_ID__:Le});let Jt=0;function tn(a){return bi(()=>{const u={},d={type:a.type,providersResolver:null,decls:a.decls,vars:a.vars,factory:null,template:a.template||null,consts:a.consts||null,ngContentSelectors:a.ngContentSelectors,hostBindings:a.hostBindings||null,hostVars:a.hostVars||0,hostAttrs:a.hostAttrs||null,contentQueries:a.contentQueries||null,declaredInputs:u,inputs:null,outputs:null,exportAs:a.exportAs||null,onPush:a.changeDetection===qn.OnPush,directiveDefs:null,pipeDefs:null,selectors:a.selectors||Nt,viewQuery:a.viewQuery||null,features:a.features||null,data:a.data||{},encapsulation:a.encapsulation||en.Emulated,id:"c",styles:a.styles||Nt,_:null,setInput:null,schemas:a.schemas||null,tView:null},f=a.directives,m=a.features,v=a.pipes;return d.id+=Jt++,d.inputs=te(a.inputs,u),d.outputs=te(a.outputs),m&&m.forEach(T=>T(d)),d.directiveDefs=f?()=>("function"==typeof f?f():f).map(ee):null,d.pipeDefs=v?()=>("function"==typeof v?v():v).map(oe):null,d})}function ee(a){return ct(a)||function Ut(a){return a[on]||null}(a)}function oe(a){return function bt(a){return a[lt]||null}(a)}const Me={};function q(a){return bi(()=>{const l={type:a.type,bootstrap:a.bootstrap||Nt,declarations:a.declarations||Nt,imports:a.imports||Nt,exports:a.exports||Nt,transitiveCompileScopes:null,schemas:a.schemas||null,id:a.id||null};return null!=a.id&&(Me[a.id]=a.type),l})}function K(a,l){return bi(()=>{const u=Gt(a,!0);u.declarations=l.declarations||Nt,u.imports=l.imports||Nt,u.exports=l.exports||Nt})}function te(a,l){if(null==a)return Sn;const u={};for(const d in a)if(a.hasOwnProperty(d)){let f=a[d],m=f;Array.isArray(f)&&(m=f[1],f=f[0]),u[f]=d,l&&(l[f]=m)}return u}const Ee=tn;function tt(a){return{type:a.type,name:a.name,factory:null,pure:!1!==a.pure,onDestroy:a.type.prototype.ngOnDestroy||null}}function ct(a){return a[ci]||null}function Gt(a,l){const u=a[Be]||null;if(!u&&!0===l)throw new Error(`Type ${Te(a)} does not have '\u0275mod' property.`);return u}function Gi(a){return Array.isArray(a)&&"object"==typeof a[1]}function gr(a){return Array.isArray(a)&&!0===a[1]}function wl(a){return 0!=(8&a.flags)}function go(a){return 2==(2&a.flags)}function Ea(a){return 1==(1&a.flags)}function Zi(a){return null!==a.template}function Cl(a){return 0!=(512&a[2])}function rs(a,l){return a.hasOwnProperty(Xe)?a[Xe]:null}class ad{constructor(l,u,d){this.previousValue=l,this.currentValue=u,this.firstChange=d}isFirstChange(){return this.firstChange}}function qo(){return Dl}function Dl(a){return a.type.prototype.ngOnChanges&&(a.setInput=Da),Wo}function Wo(){const a=_r(this),l=null==a?void 0:a.current;if(l){const u=a.previous;if(u===Sn)a.previous=l;else for(let d in l)u[d]=l[d];a.current=null,this.ngOnChanges(l)}}function Da(a,l,u,d){const f=_r(a)||function Fs(a,l){return a[no]=l}(a,{previous:Sn,current:null}),m=f.current||(f.current={}),v=f.previous,T=this.declaredInputs[u],M=v[T];m[T]=new ad(M&&M.currentValue,l,v===Sn),a[d]=l}qo.ngInherit=!0;const no="__ngSimpleChanges__";function _r(a){return a[no]||null}let Sl;function bo(a){Sl=a}function ei(a){return!!a.listen}const Zo={createRenderer:(a,l)=>function wo(){return void 0!==Sl?Sl:"undefined"!=typeof document?document:void 0}()};function Kn(a){for(;Array.isArray(a);)a=a[0];return a}function Co(a,l){return Kn(l[a])}function ir(a,l){return Kn(l[a.index])}function Al(a,l){return a.data[l]}function ss(a,l){return a[l]}function Rr(a,l){const u=l[a];return Gi(u)?u:u[0]}function io(a){return 4==(4&a[2])}function Ko(a){return 128==(128&a[2])}function _s(a,l){return null==l?null:a[l]}function Ls(a){a[18]=0}function ro(a,l){a[5]+=l;let u=a,d=a[3];for(;null!==d&&(1===l&&1===u[5]||-1===l&&0===u[5]);)d[5]+=l,u=d,d=d[3]}const Ft={lFrame:gc(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function vs(){return Ft.bindingsEnabled}function ze(){return Ft.lFrame.lView}function an(){return Ft.lFrame.tView}function _u(a){return Ft.lFrame.contextLView=a,a[8]}function ln(){let a=Vs();for(;null!==a&&64===a.type;)a=a.parent;return a}function Vs(){return Ft.lFrame.currentTNode}function ws(a,l){const u=Ft.lFrame;u.currentTNode=a,u.isParent=l}function Qo(){return Ft.lFrame.isParent}function so(){Ft.lFrame.isParent=!1}function Ma(){return Ft.isInCheckNoChangesMode}function Eo(a){Ft.isInCheckNoChangesMode=a}function Ri(){const a=Ft.lFrame;let l=a.bindingRootIndex;return-1===l&&(l=a.bindingRootIndex=a.tView.bindingStartIndex),l}function rr(){return Ft.lFrame.bindingIndex++}function fc(a,l){const u=Ft.lFrame;u.bindingIndex=u.bindingRootIndex=a,Ml(l)}function Ml(a){Ft.lFrame.currentDirectiveIndex=a}function oo(a){const l=Ft.lFrame.currentDirectiveIndex;return-1===l?null:a[l]}function ud(){return Ft.lFrame.currentQueryIndex}function pc(a){Ft.lFrame.currentQueryIndex=a}function mc(a){const l=a[1];return 2===l.type?l.declTNode:1===l.type?a[6]:null}function xl(a,l,u){if(u&xt.SkipSelf){let f=l,m=a;for(;!(f=f.parent,null!==f||u&xt.Host||(f=mc(m),null===f||(m=m[15],10&f.type))););if(null===f)return!1;l=f,a=m}const d=Ft.lFrame=Jo();return d.currentTNode=l,d.lView=a,!0}function Za(a){const l=Jo(),u=a[1];Ft.lFrame=l,l.currentTNode=u.firstChild,l.lView=a,l.tView=u,l.contextLView=a,l.bindingIndex=u.bindingStartIndex,l.inI18n=!1}function Jo(){const a=Ft.lFrame,l=null===a?null:a.child;return null===l?gc(a):l}function gc(a){const l={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:a,child:null,inI18n:!1};return null!==a&&(a.child=l),l}function _c(){const a=Ft.lFrame;return Ft.lFrame=a.parent,a.currentTNode=null,a.lView=null,a}const yu=_c;function Xo(){const a=_c();a.isParent=!0,a.tView=null,a.selectedIndex=-1,a.contextLView=null,a.elementDepthCount=0,a.currentDirectiveIndex=-1,a.currentNamespace=null,a.bindingRootIndex=-1,a.bindingIndex=-1,a.currentQueryIndex=0}function Or(){return Ft.lFrame.selectedIndex}function ao(a){Ft.lFrame.selectedIndex=a}function Ci(){const a=Ft.lFrame;return Al(a.tView,a.selectedIndex)}function Gr(){Ft.lFrame.currentNamespace="svg"}function Mh(){!function Rl(){Ft.lFrame.currentNamespace=null}()}function ea(a,l){for(let u=l.directiveStart,d=l.directiveEnd;u<d;u++){const m=a.data[u].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:T,ngAfterViewInit:M,ngAfterViewChecked:F,ngOnDestroy:V}=m;v&&(a.contentHooks||(a.contentHooks=[])).push(-u,v),T&&((a.contentHooks||(a.contentHooks=[])).push(u,T),(a.contentCheckHooks||(a.contentCheckHooks=[])).push(u,T)),M&&(a.viewHooks||(a.viewHooks=[])).push(-u,M),F&&((a.viewHooks||(a.viewHooks=[])).push(u,F),(a.viewCheckHooks||(a.viewCheckHooks=[])).push(u,F)),null!=V&&(a.destroyHooks||(a.destroyHooks=[])).push(u,V)}}function Nl(a,l,u){yc(a,l,3,u)}function Pl(a,l,u,d){(3&a[2])===u&&yc(a,l,u,d)}function Oi(a,l){let u=a[2];(3&u)===l&&(u&=2047,u+=1,a[2]=u)}function yc(a,l,u,d){const m=null!=d?d:-1,v=l.length-1;let T=0;for(let M=void 0!==d?65535&a[18]:0;M<v;M++)if("number"==typeof l[M+1]){if(T=l[M],null!=d&&T>=d)break}else l[M]<0&&(a[18]+=65536),(T<m||-1==m)&&(vc(a,u,l,M),a[18]=(4294901760&a[18])+M+2),M++}function vc(a,l,u,d){const f=u[d]<0,m=u[d+1],T=a[f?-u[d]:u[d]];if(f){if(a[2]>>11<a[18]>>16&&(3&a[2])===l){a[2]+=2048;try{m.call(T)}finally{}}}else try{m.call(T)}finally{}}class Ya{constructor(l,u,d){this.factory=l,this.resolving=!1,this.canSeeViewProviders=u,this.injectImpl=d}}function j(a,l,u){const d=ei(a);let f=0;for(;f<u.length;){const m=u[f];if("number"==typeof m){if(0!==m)break;f++;const v=u[f++],T=u[f++],M=u[f++];d?a.setAttribute(l,T,M,v):l.setAttributeNS(v,T,M)}else{const v=m,T=u[++f];Nr(v)?d&&a.setProperty(l,v,T):d?a.setAttribute(l,v,T):l.setAttribute(v,T),f++}}return f}function Yi(a){return 3===a||4===a||6===a}function Nr(a){return 64===a.charCodeAt(0)}function Ni(a,l){if(null!==l&&0!==l.length)if(null===a||0===a.length)a=l.slice();else{let u=-1;for(let d=0;d<l.length;d++){const f=l[d];"number"==typeof f?u=f:0===u||bu(a,u,f,null,-1===u||2===u?l[++d]:null)}}return a}function bu(a,l,u,d,f){let m=0,v=a.length;if(-1===l)v=-1;else for(;m<a.length;){const T=a[m++];if("number"==typeof T){if(T===l){v=-1;break}if(T>l){v=m-1;break}}}for(;m<a.length;){const T=a[m];if("number"==typeof T)break;if(T===u){if(null===d)return void(null!==f&&(a[m+1]=f));if(d===a[m+1])return void(a[m+2]=f)}m++,null!==d&&m++,null!==f&&m++}-1!==v&&(a.splice(v,0,l),m=v+1),a.splice(m++,0,u),null!==d&&a.splice(m++,0,d),null!==f&&a.splice(m++,0,f)}function fi(a){return-1!==a}function Qn(a){return 32767&a}function kn(a,l){let u=function pi(a){return a>>16}(a),d=l;for(;u>0;)d=d[15],u--;return d}let si=!0;function So(a){const l=si;return si=a,l}let R=0;function b(a,l){const u=N(a,l);if(-1!==u)return u;const d=l[1];d.firstCreatePass&&(a.injectorIndex=l.length,x(d.data,a),x(l,null),x(d.blueprint,null));const f=G(a,l),m=a.injectorIndex;if(fi(f)){const v=Qn(f),T=kn(f,l),M=T[1].data;for(let F=0;F<8;F++)l[m+F]=T[v+F]|M[v+F]}return l[m+8]=f,m}function x(a,l){a.push(0,0,0,0,0,0,0,0,l)}function N(a,l){return-1===a.injectorIndex||a.parent&&a.parent.injectorIndex===a.injectorIndex||null===l[a.injectorIndex+8]?-1:a.injectorIndex}function G(a,l){if(a.parent&&-1!==a.parent.injectorIndex)return a.parent.injectorIndex;let u=0,d=null,f=l;for(;null!==f;){const m=f[1],v=m.type;if(d=2===v?m.declTNode:1===v?f[6]:null,null===d)return-1;if(u++,f=f[15],-1!==d.injectorIndex)return d.injectorIndex|u<<16}return-1}function Q(a,l,u){!function D(a,l,u){let d;"string"==typeof u?d=u.charCodeAt(0)||0:u.hasOwnProperty(Ot)&&(d=u[Ot]),null==d&&(d=u[Ot]=R++);const f=255&d;l.data[a+(f>>5)]|=1<<f}(a,l,u)}function ke(a,l,u){if(u&xt.Optional)return a;ce(l,"NodeInjector")}function qe(a,l,u,d){if(u&xt.Optional&&void 0===d&&(d=null),0==(u&(xt.Self|xt.Host))){const f=a[9],m=xn(void 0);try{return f?f.get(l,d,u&xt.Optional):ii(l,d,u&xt.Optional)}finally{xn(m)}}return ke(d,l,u)}function ye(a,l,u,d=xt.Default,f){if(null!==a){const m=function jt(a){if("string"==typeof a)return a.charCodeAt(0)||0;const l=a.hasOwnProperty(Ot)?a[Ot]:void 0;return"number"==typeof l?l>=0?255&l:Tt:l}(u);if("function"==typeof m){if(!xl(l,a,d))return d&xt.Host?ke(f,u,d):qe(l,u,d,f);try{const v=m(d);if(null!=v||d&xt.Optional)return v;ce(u)}finally{yu()}}else if("number"==typeof m){let v=null,T=N(a,l),M=-1,F=d&xt.Host?l[16][6]:null;for((-1===T||d&xt.SkipSelf)&&(M=-1===T?G(a,l):l[T+8],-1!==M&&fn(d,!1)?(v=l[1],T=Qn(M),l=kn(M,l)):T=-1);-1!==T;){const V=l[1];if(Pi(m,T,V.data)){const Y=vn(T,l,u,v,d,F);if(Y!==at)return Y}M=l[T+8],-1!==M&&fn(d,l[1].data[T+8]===F)&&Pi(m,T,l)?(v=V,T=Qn(M),l=kn(M,l)):T=-1}}}return qe(l,u,d,f)}const at={};function Tt(){return new Bn(ln(),ze())}function vn(a,l,u,d,f,m){const v=l[1],T=v.data[a+8],V=hn(T,v,u,null==d?go(T)&&si:d!=v&&0!=(3&T.type),f&xt.Host&&m===T);return null!==V?Bt(l,v,V,T):at}function hn(a,l,u,d,f){const m=a.providerIndexes,v=l.data,T=1048575&m,M=a.directiveStart,V=m>>20,ie=f?T+V:a.directiveEnd;for(let he=d?T:T+V;he<ie;he++){const Ve=v[he];if(he<M&&u===Ve||he>=M&&Ve.type===u)return he}if(f){const he=v[M];if(he&&Zi(he)&&he.type===u)return M}return null}function Bt(a,l,u,d){let f=a[u];const m=l.data;if(function Io(a){return a instanceof Ya}(f)){const v=f;v.resolving&&function yt(a,l){const u=l?`. Dependency path: ${l.join(" > ")} > ${a}`:"";throw new Qe(-200,`Circular dependency in DI detected for ${a}${u}`)}(Ue(m[u]));const T=So(v.canSeeViewProviders);v.resolving=!0;const M=v.injectImpl?xn(v.injectImpl):null;xl(a,d,xt.Default);try{f=a[u]=v.factory(void 0,m,a,d),l.firstCreatePass&&u>=d.directiveStart&&function Do(a,l,u){const{ngOnChanges:d,ngOnInit:f,ngDoCheck:m}=l.type.prototype;if(d){const v=Dl(l);(u.preOrderHooks||(u.preOrderHooks=[])).push(a,v),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(a,v)}f&&(u.preOrderHooks||(u.preOrderHooks=[])).push(0-a,f),m&&((u.preOrderHooks||(u.preOrderHooks=[])).push(a,m),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(a,m))}(u,m[u],l)}finally{null!==M&&xn(M),So(T),v.resolving=!1,yu()}}return f}function Pi(a,l,u){return!!(u[l+(a>>5)]&1<<a)}function fn(a,l){return!(a&xt.Self||a&xt.Host&&l)}class Bn{constructor(l,u){this._tNode=l,this._lView=u}get(l,u,d){return ye(this._tNode,this._lView,l,d,u)}}function Ao(a){return bi(()=>{const l=a.prototype.constructor,u=l[Xe]||lo(l),d=Object.prototype;let f=Object.getPrototypeOf(a.prototype).constructor;for(;f&&f!==d;){const m=f[Xe]||lo(f);if(m&&m!==u)return m;f=Object.getPrototypeOf(f)}return m=>new m})}function lo(a){return ot(a)?()=>{const l=lo(_e(a));return l&&l()}:rs(a)}function Cc(a){return function le(a,l){if("class"===l)return a.classes;if("style"===l)return a.styles;const u=a.attrs;if(u){const d=u.length;let f=0;for(;f<d;){const m=u[f];if(Yi(m))break;if(0===m)f+=2;else if("number"==typeof m)for(f++;f<d&&"string"==typeof u[f];)f++;else{if(m===l)return u[f+1];f+=2}}}return null}(ln(),a)}const co="__parameters__",Es="__prop__metadata__";function wu(a){return function(...u){if(a){const d=a(...u);for(const f in d)this[f]=d[f]}}}function Bs(a,l,u){return bi(()=>{const d=wu(l);function f(...m){if(this instanceof f)return d.apply(this,m),this;const v=new f(...m);return T.annotation=v,T;function T(M,F,V){const Y=M.hasOwnProperty(co)?M[co]:Object.defineProperty(M,co,{value:[]})[co];for(;Y.length<=V;)Y.push(null);return(Y[V]=Y[V]||[]).push(v),M}}return u&&(f.prototype=Object.create(u.prototype)),f.prototype.ngMetadataName=a,f.annotationCls=f,f})}function Ka(a,l,u,d){return bi(()=>{const f=wu(l);function m(...v){if(this instanceof m)return f.apply(this,v),this;const T=new m(...v);return function M(F,V){const Y=F.constructor,ie=Y.hasOwnProperty(Es)?Y[Es]:Object.defineProperty(Y,Es,{value:{}})[Es];ie[V]=ie.hasOwnProperty(V)&&ie[V]||[],ie[V].unshift(T),d&&d(F,V,...v)}}return u&&(m.prototype=Object.create(u.prototype)),m.prototype.ngMetadataName=a,m.annotationCls=m,m})}class Ki{constructor(l,u){this._desc=l,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof u?this.__NG_ELEMENT_ID__=u:void 0!==u&&(this.\u0275prov=In({token:this,providedIn:u.providedIn||"root",factory:u.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Av=new Ki("AnalyzeForEntryComponents");class kh{}const vp=Ka("ContentChild",(a,l={})=>Object.assign({selector:a,first:!0,isViewQuery:!1,descendants:!0},l),kh),Cu=Ka("ViewChild",(a,l)=>Object.assign({selector:a,first:!0,isViewQuery:!0,descendants:!0},l),kh);function qr(a,l){void 0===l&&(l=a);for(let u=0;u<a.length;u++){let d=a[u];Array.isArray(d)?(l===a&&(l=a.slice(0,u)),qr(d,l)):l!==a&&l.push(d)}return l}function xo(a,l){a.forEach(u=>Array.isArray(u)?xo(u,l):l(u))}function Tc(a,l,u){l>=a.length?a.push(u):a.splice(l,0,u)}function Ll(a,l){return l>=a.length-1?a.pop():a.splice(l,1)[0]}function Ts(a,l){const u=[];for(let d=0;d<a;d++)u.push(l);return u}function as(a,l,u){let d=ko(a,l);return d>=0?a[1|d]=u:(d=~d,function br(a,l,u,d){let f=a.length;if(f==l)a.push(u,d);else if(1===f)a.push(d,a[0]),a[0]=u;else{for(f--,a.push(a[f-1],a[f]);f>l;)a[f]=a[f-2],f--;a[l]=u,a[l+1]=d}}(a,d,l,u)),d}function Sc(a,l){const u=ko(a,l);if(u>=0)return a[1|u]}function ko(a,l){return function na(a,l,u){let d=0,f=a.length>>u;for(;f!==d;){const m=d+(f-d>>1),v=a[m<<u];if(l===v)return m<<u;v>l?f=m:d=m+1}return~(f<<u)}(a,l,1)}const Xa={},md="__NG_DI_FLAG__",Du="ngTempTokenPath",O=/\n/gm,X="__source",de=Le({provide:String,useValue:Le});let be;function Ke(a){const l=be;return be=a,l}function Ct(a,l=xt.Default){if(void 0===be)throw new Qe(203,"");return null===be?ii(a,void 0,l):be.get(a,l&xt.Optional?null:void 0,l)}function At(a,l=xt.Default){return(function vi(){return fr}()||Ct)(_e(a),l)}const Dn=At;function qt(a){const l=[];for(let u=0;u<a.length;u++){const d=_e(a[u]);if(Array.isArray(d)){if(0===d.length)throw new Qe(900,"");let f,m=xt.Default;for(let v=0;v<d.length;v++){const T=d[v],M=Fi(T);"number"==typeof M?-1===M?f=T.token:m|=M:f=T}l.push(At(f,m))}else l.push(At(d))}return l}function Qi(a,l){return a[md]=l,a.prototype[md]=l,a}function Fi(a){return a[md]}const Oa=Qi(Bs("Inject",a=>({token:a})),-1),Wr=Qi(Bs("Optional"),8),ra=Qi(Bs("SkipSelf"),4);let wd;function Su(a){var l;return(null===(l=function Cd(){if(void 0===wd&&(wd=null,sn.trustedTypes))try{wd=sn.trustedTypes.createPolicy("angular",{createHTML:a=>a,createScript:a=>a,createScriptURL:a=>a})}catch(a){}return wd}())||void 0===l?void 0:l.createHTML(a))||a}class xc{constructor(l){this.changingThisBreaksApplicationSecurity=l}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class zC extends xc{getTypeName(){return"HTML"}}class $C extends xc{getTypeName(){return"Style"}}class Td extends xc{getTypeName(){return"Script"}}class qC extends xc{getTypeName(){return"URL"}}class Tp extends xc{getTypeName(){return"ResourceURL"}}function Na(a){return a instanceof xc?a.changingThisBreaksApplicationSecurity:a}function kc(a,l){const u=Dp(a);if(null!=u&&u!==l){if("ResourceURL"===u&&"URL"===l)return!0;throw new Error(`Required a safe ${l}, got a ${u} (see https://g.co/ng/security#xss)`)}return u===l}function Dp(a){return a instanceof xc&&a.getTypeName()||null}function Dd(a){return new zC(a)}function Id(a){return new $C(a)}function Fv(a){return new Td(a)}function Bh(a){return new qC(a)}function WC(a){return new Tp(a)}class ZC{constructor(l){this.inertDocumentHelper=l}getInertBodyElement(l){l="<body><remove></remove>"+l;try{const u=(new window.DOMParser).parseFromString(Su(l),"text/html").body;return null===u?this.inertDocumentHelper.getInertBodyElement(l):(u.removeChild(u.firstChild),u)}catch(u){return null}}}class YC{constructor(l){if(this.defaultDoc=l,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const u=this.inertDocument.createElement("html");this.inertDocument.appendChild(u);const d=this.inertDocument.createElement("body");u.appendChild(d)}}getInertBodyElement(l){const u=this.inertDocument.createElement("template");if("content"in u)return u.innerHTML=Su(l),u;const d=this.inertDocument.createElement("body");return d.innerHTML=Su(l),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(d),d}stripCustomNsAttrs(l){const u=l.attributes;for(let f=u.length-1;0<f;f--){const v=u.item(f).name;("xmlns:ns1"===v||0===v.indexOf("ns1:"))&&l.removeAttribute(v)}let d=l.firstChild;for(;d;)d.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(d),d=d.nextSibling}}const g=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,I=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function L(a){return(a=String(a)).match(g)||a.match(I)?a:"unsafe:"+a}function pe(a){const l={};for(const u of a.split(","))l[u]=!0;return l}function We(...a){const l={};for(const u of a)for(const d in u)u.hasOwnProperty(d)&&(l[d]=!0);return l}const kt=pe("area,br,col,hr,img,wbr"),Lt=pe("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),pn=pe("rp,rt"),Hl=We(kt,We(Lt,pe("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),We(pn,pe("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),We(pn,Lt)),Au=pe("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Rc=pe("srcset"),Hh=We(Au,Rc,pe("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),pe("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Zr=pe("script,style,template");class Yg{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(l){let u=l.firstChild,d=!0;for(;u;)if(u.nodeType===Node.ELEMENT_NODE?d=this.startElement(u):u.nodeType===Node.TEXT_NODE?this.chars(u.nodeValue):this.sanitizedSomething=!0,d&&u.firstChild)u=u.firstChild;else for(;u;){u.nodeType===Node.ELEMENT_NODE&&this.endElement(u);let f=this.checkClobberedElement(u,u.nextSibling);if(f){u=f;break}u=this.checkClobberedElement(u,u.parentNode)}return this.buf.join("")}startElement(l){const u=l.nodeName.toLowerCase();if(!Hl.hasOwnProperty(u))return this.sanitizedSomething=!0,!Zr.hasOwnProperty(u);this.buf.push("<"),this.buf.push(u);const d=l.attributes;for(let f=0;f<d.length;f++){const m=d.item(f),v=m.name,T=v.toLowerCase();if(!Hh.hasOwnProperty(T)){this.sanitizedSomething=!0;continue}let M=m.value;Au[T]&&(M=L(M)),Rc[T]&&(a=M,M=(a=String(a)).split(",").map(l=>L(l.trim())).join(", ")),this.buf.push(" ",v,'="',Qg(M),'"')}var a;return this.buf.push(">"),!0}endElement(l){const u=l.nodeName.toLowerCase();Hl.hasOwnProperty(u)&&!kt.hasOwnProperty(u)&&(this.buf.push("</"),this.buf.push(u),this.buf.push(">"))}chars(l){this.buf.push(Qg(l))}checkClobberedElement(l,u){if(u&&(l.compareDocumentPosition(u)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${l.outerHTML}`);return u}}const Sp=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Kg=/([^\#-~ |!])/g;function Qg(a){return a.replace(/&/g,"&amp;").replace(Sp,function(l){return"&#"+(1024*(l.charCodeAt(0)-55296)+(l.charCodeAt(1)-56320)+65536)+";"}).replace(Kg,function(l){return"&#"+l.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Oc;function Jg(a,l){let u=null;try{Oc=Oc||function Zg(a){const l=new YC(a);return function w(){try{return!!(new window.DOMParser).parseFromString(Su(""),"text/html")}catch(a){return!1}}()?new ZC(l):l}(a);let d=l?String(l):"";u=Oc.getInertBodyElement(d);let f=5,m=d;do{if(0===f)throw new Error("Failed to sanitize html because the input is unstable");f--,d=m,m=u.innerHTML,u=Oc.getInertBodyElement(d)}while(d!==m);return Su((new Yg).sanitizeChildren(Lv(u)||u))}finally{if(u){const d=Lv(u)||u;for(;d.firstChild;)d.removeChild(d.firstChild)}}}function Lv(a){return"content"in a&&function DA(a){return a.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===a.nodeName}(a)?a.content:null}var Ji=(()=>((Ji=Ji||{})[Ji.NONE=0]="NONE",Ji[Ji.HTML=1]="HTML",Ji[Ji.STYLE=2]="STYLE",Ji[Ji.SCRIPT=3]="SCRIPT",Ji[Ji.URL=4]="URL",Ji[Ji.RESOURCE_URL=5]="RESOURCE_URL",Ji))();function Vv(a){const l=function jl(){const a=ze();return a&&a[12]}();return l?l.sanitize(Ji.URL,a)||"":kc(a,"URL")?Na(a):L(Oe(a))}const XC="__ngContext__";function sr(a,l){a[XC]=l}function Pr(a){const l=function oa(a){return a[XC]||null}(a);return l?Array.isArray(l)?l:l.lView:null}function jv(a){return a.ngOriginalError}function kA(a,...l){a.error(...l)}class xp{constructor(){this._console=console}handleError(l){const u=this._findOriginalError(l),d=function xA(a){return a&&a.ngErrorLogger||kA}(l);d(this._console,"ERROR",l),u&&d(this._console,"ORIGINAL ERROR",u)}_findOriginalError(l){let u=l&&jv(l);for(;u&&jv(u);)u=jv(u);return u||null}}const zv=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(sn))();function rE(a){return a.ownerDocument.defaultView}function tl(a){return a instanceof Function?a():a}var Yr=(()=>((Yr=Yr||{})[Yr.Important=1]="Important",Yr[Yr.DashCase=2]="DashCase",Yr))();function qv(a,l){return undefined(a,l)}function kp(a){const l=a[3];return gr(l)?l[3]:l}function i_(a){return Rp(a[13])}function r_(a){return Rp(a[4])}function Rp(a){for(;null!==a&&!gr(a);)a=a[4];return a}function bn(a,l,u,d,f){if(null!=d){let m,v=!1;gr(d)?m=d:Gi(d)&&(v=!0,d=d[0]);const T=Kn(d);0===a&&null!==u?null==f?Pp(l,u,T):xd(l,u,T,f||null,!0):1===a&&null!==u?xd(l,u,T,f||null,!0):2===a?function kd(a,l,u){const d=a_(a,l);d&&function GA(a,l,u,d){ei(a)?a.removeChild(l,u,d):l.removeChild(u)}(a,d,l,u)}(l,T,v):3===a&&l.destroyNode(T),null!=m&&function t0(a,l,u,d,f){const m=u[7];m!==Kn(u)&&bn(l,a,d,m,f);for(let T=10;T<u.length;T++){const M=u[T];Vp(M[1],M,a,l,d,m)}}(l,a,m,u,f)}}function Yv(a,l,u){if(ei(a))return a.createElement(l,u);{const d=null!==u?function mu(a){const l=a.toLowerCase();return"svg"===l?"http://www.w3.org/2000/svg":"math"===l?"http://www.w3.org/1998/MathML/":null}(u):null;return null===d?a.createElement(l):a.createElementNS(d,l)}}function Np(a,l){const u=a[9],d=u.indexOf(l),f=l[3];1024&l[2]&&(l[2]&=-1025,ro(f,-1)),u.splice(d,1)}function Kv(a,l){if(a.length<=10)return;const u=10+l,d=a[u];if(d){const f=d[17];null!==f&&f!==a&&Np(f,d),l>0&&(a[u-1][4]=d[4]);const m=Ll(a,10+l);!function lE(a,l){Vp(a,l,l[11],2,null,null),l[0]=null,l[6]=null}(d[1],d);const v=m[19];null!==v&&v.detachView(m[1]),d[3]=null,d[4]=null,d[2]&=-129}return d}function o_(a,l){if(!(256&l[2])){const u=l[11];ei(u)&&u.destroyNode&&Vp(a,l,u,3,null,null),function s_(a){let l=a[13];if(!l)return Wh(a[1],a);for(;l;){let u=null;if(Gi(l))u=l[13];else{const d=l[10];d&&(u=d)}if(!u){for(;l&&!l[4]&&l!==a;)Gi(l)&&Wh(l[1],l),l=l[3];null===l&&(l=a),Gi(l)&&Wh(l[1],l),u=l&&l[4]}l=u}}(l)}}function Wh(a,l){if(!(256&l[2])){l[2]&=-129,l[2]|=256,function hE(a,l){let u;if(null!=a&&null!=(u=a.destroyHooks))for(let d=0;d<u.length;d+=2){const f=l[u[d]];if(!(f instanceof Ya)){const m=u[d+1];if(Array.isArray(m))for(let v=0;v<m.length;v+=2){const T=f[m[v]],M=m[v+1];try{M.call(T)}finally{}}else try{m.call(f)}finally{}}}}(a,l),function dE(a,l){const u=a.cleanup,d=l[7];let f=-1;if(null!==u)for(let m=0;m<u.length-1;m+=2)if("string"==typeof u[m]){const v=u[m+1],T="function"==typeof v?v(l):Kn(l[v]),M=d[f=u[m+2]],F=u[m+3];"boolean"==typeof F?T.removeEventListener(u[m],M,F):F>=0?d[f=F]():d[f=-F].unsubscribe(),m+=2}else{const v=d[f=u[m+1]];u[m].call(v)}if(null!==d){for(let m=f+1;m<d.length;m++)d[m]();l[7]=null}}(a,l),1===l[1].type&&ei(l[11])&&l[11].destroy();const u=l[17];if(null!==u&&gr(l[3])){u!==l[3]&&Np(u,l);const d=l[19];null!==d&&d.detachView(a)}}}function fE(a,l,u){return function pE(a,l,u){let d=l;for(;null!==d&&40&d.type;)d=(l=d).parent;if(null===d)return u[0];if(2&d.flags){const f=a.data[d.directiveStart].encapsulation;if(f===en.None||f===en.Emulated)return null}return ir(d,u)}(a,l.parent,u)}function xd(a,l,u,d,f){ei(a)?a.insertBefore(l,u,d,f):l.insertBefore(u,d,f)}function Pp(a,l,u){ei(a)?a.appendChild(l,u):l.appendChild(u)}function mE(a,l,u,d,f){null!==d?xd(a,l,u,d,f):Pp(a,l,u)}function a_(a,l){return ei(a)?a.parentNode(l):l.parentNode}function gE(a,l,u){return l_(a,l,u)}let l_=function Qv(a,l,u){return 40&a.type?ir(a,u):null};function Fc(a,l,u,d){const f=fE(a,d,l),m=l[11],T=gE(d.parent||l[6],d,l);if(null!=f)if(Array.isArray(u))for(let M=0;M<u.length;M++)mE(m,f,u[M],T,!1);else mE(m,f,u,T,!1)}function Lp(a,l){if(null!==l){const u=l.type;if(3&u)return ir(l,a);if(4&u)return Xv(-1,a[l.index]);if(8&u){const d=l.child;if(null!==d)return Lp(a,d);{const f=a[l.index];return gr(f)?Xv(-1,f):Kn(f)}}if(32&u)return qv(l,a)()||Kn(a[l.index]);{const d=Jv(a,l);return null!==d?Array.isArray(d)?d[0]:Lp(kp(a[16]),d):Lp(a,l.next)}}return null}function Jv(a,l){return null!==l?a[16][6].projection[l.projection]:null}function Xv(a,l){const u=10+a+1;if(u<l.length){const d=l[u],f=d[1].firstChild;if(null!==f)return Lp(d,f)}return l[7]}function c_(a,l,u,d,f,m,v){for(;null!=u;){const T=d[u.index],M=u.type;if(v&&0===l&&(T&&sr(Kn(T),d),u.flags|=4),64!=(64&u.flags))if(8&M)c_(a,l,u.child,d,f,m,!1),bn(l,a,f,T,m);else if(32&M){const F=qv(u,d);let V;for(;V=F();)bn(l,a,f,V,m);bn(l,a,f,T,m)}else 16&M?e0(a,l,d,u,f,m):bn(l,a,f,T,m);u=v?u.projectionNext:u.next}}function Vp(a,l,u,d,f,m){c_(u,d,a.firstChild,l,f,m,!1)}function e0(a,l,u,d,f,m){const v=u[16],M=v[6].projection[d.projection];if(Array.isArray(M))for(let F=0;F<M.length;F++)bn(l,a,f,M[F],m);else c_(a,l,M,v[3],f,m,!0)}function d_(a,l,u){ei(a)?a.setAttribute(l,"style",u):l.style.cssText=u}function Up(a,l,u){ei(a)?""===u?a.removeAttribute(l,"class"):a.setAttribute(l,"class",u):l.className=u}function yE(a,l,u){let d=a.length;for(;;){const f=a.indexOf(l,u);if(-1===f)return f;if(0===f||a.charCodeAt(f-1)<=32){const m=l.length;if(f+m===d||a.charCodeAt(f+m)<=32)return f}u=f+1}}const vE="ng-template";function $A(a,l,u){let d=0;for(;d<a.length;){let f=a[d++];if(u&&"class"===f){if(f=a[d],-1!==yE(f.toLowerCase(),l,0))return!0}else if(1===f){for(;d<a.length&&"string"==typeof(f=a[d++]);)if(f.toLowerCase()===l)return!0;return!1}}return!1}function bE(a){return 4===a.type&&a.value!==vE}function f_(a,l,u){return l===(4!==a.type||u?a.value:vE)}function Bp(a,l,u){let d=4;const f=a.attrs||[],m=function r0(a){for(let l=0;l<a.length;l++)if(Yi(a[l]))return l;return a.length}(f);let v=!1;for(let T=0;T<l.length;T++){const M=l[T];if("number"!=typeof M){if(!v)if(4&d){if(d=2|1&d,""!==M&&!f_(a,M,u)||""===M&&1===l.length){if(aa(d))return!1;v=!0}}else{const F=8&d?M:l[++T];if(8&d&&null!==a.attrs){if(!$A(a.attrs,F,u)){if(aa(d))return!1;v=!0}continue}const Y=wE(8&d?"class":M,f,bE(a),u);if(-1===Y){if(aa(d))return!1;v=!0;continue}if(""!==F){let ie;ie=Y>m?"":f[Y+1].toLowerCase();const he=8&d?ie:null;if(he&&-1!==yE(he,F,0)||2&d&&F!==ie){if(aa(d))return!1;v=!0}}}}else{if(!v&&!aa(d)&&!aa(M))return!1;if(v&&aa(M))continue;v=!1,d=M|1&d}}return aa(d)||v}function aa(a){return 0==(1&a)}function wE(a,l,u,d){if(null===l)return-1;let f=0;if(d||!u){let m=!1;for(;f<l.length;){const v=l[f];if(v===a)return f;if(3===v||6===v)m=!0;else{if(1===v||2===v){let T=l[++f];for(;"string"==typeof T;)T=l[++f];continue}if(4===v)break;if(0===v){f+=4;continue}}f+=m?1:2}return-1}return function WA(a,l){let u=a.indexOf(4);if(u>-1)for(u++;u<a.length;){const d=a[u];if("number"==typeof d)return-1;if(d===l)return u;u++}return-1}(l,a)}function n0(a,l,u=!1){for(let d=0;d<l.length;d++)if(Bp(a,l[d],u))return!0;return!1}function ZA(a,l){e:for(let u=0;u<l.length;u++){const d=l[u];if(a.length===d.length){for(let f=0;f<a.length;f++)if(a[f]!==d[f])continue e;return!0}}return!1}function CE(a,l){return a?":not("+l.trim()+")":l}function EE(a){let l=a[0],u=1,d=2,f="",m=!1;for(;u<a.length;){let v=a[u];if("string"==typeof v)if(2&d){const T=a[++u];f+="["+v+(T.length>0?'="'+T+'"':"")+"]"}else 8&d?f+="."+v:4&d&&(f+=" "+v);else""!==f&&!aa(v)&&(l+=CE(m,f),f=""),d=v,m=m||!aa(d);u++}return""!==f&&(l+=CE(m,f)),l}const cn={};function TE(a){s0(an(),ze(),Or()+a,Ma())}function s0(a,l,u,d){if(!d)if(3==(3&l[2])){const m=a.preOrderCheckHooks;null!==m&&Nl(l,m,u)}else{const m=a.preOrderHooks;null!==m&&Pl(l,m,0,u)}ao(u)}function m_(a,l){return a<<17|l<<2}function nl(a){return a>>17&32767}function zl(a){return 2|a}function Lc(a){return(131068&a)>>2}function Vc(a,l){return-131069&a|l<<2}function l0(a){return 1|a}function kE(a,l){const u=a.contentQueries;if(null!==u)for(let d=0;d<u.length;d+=2){const f=u[d],m=u[d+1];if(-1!==m){const v=a.data[m];pc(f),v.contentQueries(2,l[m],m)}}}function $p(a,l,u,d,f,m,v,T,M,F){const V=l.blueprint.slice();return V[0]=f,V[2]=140|d,Ls(V),V[3]=V[15]=a,V[8]=u,V[10]=v||a&&a[10],V[11]=T||a&&a[11],V[12]=M||a&&a[12]||null,V[9]=F||a&&a[9]||null,V[6]=m,V[16]=2==l.type?a[16]:V,V}function Yh(a,l,u,d,f){let m=a.data[l];if(null===m)m=function y0(a,l,u,d,f){const m=Vs(),v=Qo(),M=a.data[l]=function NE(a,l,u,d,f,m){return{type:u,index:d,insertBeforeIndex:null,injectorIndex:l?l.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:f,attrs:m,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:l,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?m:m&&m.parent,u,l,d,f);return null===a.firstChild&&(a.firstChild=M),null!==m&&(v?null==m.child&&null!==M.parent&&(m.child=M):null===m.next&&(m.next=M)),M}(a,l,u,d,f),function Fn(){return Ft.lFrame.inI18n}()&&(m.flags|=64);else if(64&m.type){m.type=u,m.value=d,m.attrs=f;const v=function os(){const a=Ft.lFrame,l=a.currentTNode;return a.isParent?l:l.parent}();m.injectorIndex=null===v?-1:v.injectorIndex}return ws(m,!0),m}function Kh(a,l,u,d){if(0===u)return-1;const f=l.length;for(let m=0;m<u;m++)l.push(d),a.blueprint.push(d),a.data.push(null);return f}function qp(a,l,u){Za(l);try{const d=a.viewQuery;null!==d&&O0(1,d,u);const f=a.template;null!==f&&RE(a,l,f,1,u),a.firstCreatePass&&(a.firstCreatePass=!1),a.staticContentQueries&&kE(a,l),a.staticViewQueries&&O0(2,a.viewQuery,u);const m=a.components;null!==m&&function cM(a,l){for(let u=0;u<l.length;u++)Nd(a,l[u])}(l,m)}catch(d){throw a.firstCreatePass&&(a.incompleteFirstPass=!0,a.firstCreatePass=!1),d}finally{l[2]&=-5,Xo()}}function Qh(a,l,u,d){const f=l[2];if(256==(256&f))return;Za(l);const m=Ma();try{Ls(l),function xa(a){return Ft.lFrame.bindingIndex=a}(a.bindingStartIndex),null!==u&&RE(a,l,u,2,d);const v=3==(3&f);if(!m)if(v){const F=a.preOrderCheckHooks;null!==F&&Nl(l,F,null)}else{const F=a.preOrderHooks;null!==F&&Pl(l,F,0,null),Oi(l,0)}if(function $E(a){for(let l=i_(a);null!==l;l=r_(l)){if(!l[2])continue;const u=l[9];for(let d=0;d<u.length;d++){const f=u[d],m=f[3];0==(1024&f[2])&&ro(m,1),f[2]|=1024}}}(l),function zE(a){for(let l=i_(a);null!==l;l=r_(l))for(let u=10;u<l.length;u++){const d=l[u],f=d[1];Ko(d)&&Qh(f,d,f.template,d[8])}}(l),null!==a.contentQueries&&kE(a,l),!m)if(v){const F=a.contentCheckHooks;null!==F&&Nl(l,F)}else{const F=a.contentHooks;null!==F&&Pl(l,F,1),Oi(l,1)}!function lM(a,l){const u=a.hostBindingOpCodes;if(null!==u)try{for(let d=0;d<u.length;d++){const f=u[d];if(f<0)ao(~f);else{const m=f,v=u[++d],T=u[++d];fc(v,m),T(2,l[m])}}}finally{ao(-1)}}(a,l);const T=a.components;null!==T&&function zp(a,l){for(let u=0;u<l.length;u++)M0(a,l[u])}(l,T);const M=a.viewQuery;if(null!==M&&O0(2,M,d),!m)if(v){const F=a.viewCheckHooks;null!==F&&Nl(l,F)}else{const F=a.viewHooks;null!==F&&Pl(l,F,2),Oi(l,2)}!0===a.firstUpdatePass&&(a.firstUpdatePass=!1),m||(l[2]&=-73),1024&l[2]&&(l[2]&=-1025,ro(l[3],-1))}finally{Xo()}}function uM(a,l,u,d){const f=l[10],m=!Ma(),v=io(l);try{m&&!v&&f.begin&&f.begin(),v&&qp(a,l,d),Qh(a,l,u,d)}finally{m&&!v&&f.end&&f.end()}}function RE(a,l,u,d,f){const m=Or(),v=2&d;try{ao(-1),v&&l.length>20&&s0(a,l,20,Ma()),u(d,f)}finally{ao(m)}}function v0(a,l,u){if(wl(l)){const f=l.directiveEnd;for(let m=l.directiveStart;m<f;m++){const v=a.data[m];v.contentQueries&&v.contentQueries(1,u[m],m)}}}function b0(a,l,u){!vs()||(function _M(a,l,u,d){const f=u.directiveStart,m=u.directiveEnd;a.firstCreatePass||b(u,l),sr(d,l);const v=u.initialInputs;for(let T=f;T<m;T++){const M=a.data[T],F=Zi(M);F&&A0(l,u,M);const V=Bt(l,a,T,u);sr(V,l),null!==v&&jE(0,T-f,V,M,0,v),F&&(Rr(u.index,l)[8]=V)}}(a,l,u,ir(u,l)),128==(128&u.flags)&&function yM(a,l,u){const d=u.directiveStart,f=u.directiveEnd,v=u.index,T=function yr(){return Ft.lFrame.currentDirectiveIndex}();try{ao(v);for(let M=d;M<f;M++){const F=a.data[M],V=l[M];Ml(M),(null!==F.hostBindings||0!==F.hostVars||null!==F.hostAttrs)&&VE(F,V)}}finally{ao(-1),Ml(T)}}(a,l,u))}function w0(a,l,u=ir){const d=l.localNames;if(null!==d){let f=l.index+1;for(let m=0;m<d.length;m+=2){const v=d[m+1],T=-1===v?u(l,a):a[v];a[f++]=T}}}function OE(a){const l=a.tView;return null===l||l.incompleteFirstPass?a.tView=b_(1,null,a.template,a.decls,a.vars,a.directiveDefs,a.pipeDefs,a.viewQuery,a.schemas,a.consts):l}function b_(a,l,u,d,f,m,v,T,M,F){const V=20+d,Y=V+f,ie=function dM(a,l){const u=[];for(let d=0;d<l;d++)u.push(d<a?null:cn);return u}(V,Y),he="function"==typeof F?F():F;return ie[1]={type:a,blueprint:ie,template:u,queries:null,viewQuery:T,declTNode:l,data:ie.slice().fill(null,V),bindingStartIndex:V,expandoStartIndex:Y,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof m?m():m,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:M,consts:he,incompleteFirstPass:!1}}function T0(a,l,u,d){const f=QE(l);null===u?f.push(d):(f.push(u),a.firstCreatePass&&JE(a).push(d,f.length-1))}function D0(a,l,u){for(let d in a)if(a.hasOwnProperty(d)){const f=a[d];(u=null===u?{}:u).hasOwnProperty(d)?u[d].push(l,f):u[d]=[l,f]}return u}function ca(a,l,u,d,f,m,v,T){const M=ir(l,u);let V,F=l.inputs;!T&&null!=F&&(V=F[d])?(EM(a,u,V,d,f),go(l)&&function pM(a,l){const u=Rr(l,a);16&u[2]||(u[2]|=64)}(u,l.index)):3&l.type&&(d=function fM(a){return"class"===a?"className":"for"===a?"htmlFor":"formaction"===a?"formAction":"innerHtml"===a?"innerHTML":"readonly"===a?"readOnly":"tabindex"===a?"tabIndex":a}(d),f=null!=v?v(f,l.value||"",d):f,ei(m)?m.setProperty(M,d,f):Nr(d)||(M.setProperty?M.setProperty(d,f):M[d]=f))}function Wp(a,l,u,d){let f=!1;if(vs()){const m=function UE(a,l,u){const d=a.directiveRegistry;let f=null;if(d)for(let m=0;m<d.length;m++){const v=d[m];n0(u,v.selectors,!1)&&(f||(f=[]),Q(b(u,l),a,v.type),Zi(v)?(BE(a,u),f.unshift(v)):f.push(v))}return f}(a,l,u),v=null===d?null:{"":-1};if(null!==m){f=!0,HE(u,a.data.length,m.length);for(let V=0;V<m.length;V++){const Y=m[V];Y.providersResolver&&Y.providersResolver(Y)}let T=!1,M=!1,F=Kh(a,l,m.length,null);for(let V=0;V<m.length;V++){const Y=m[V];u.mergedAttrs=Ni(u.mergedAttrs,Y.hostAttrs),S0(a,u,l,F,Y),Kr(F,Y,v),null!==Y.contentQueries&&(u.flags|=8),(null!==Y.hostBindings||null!==Y.hostAttrs||0!==Y.hostVars)&&(u.flags|=128);const ie=Y.type.prototype;!T&&(ie.ngOnChanges||ie.ngOnInit||ie.ngDoCheck)&&((a.preOrderHooks||(a.preOrderHooks=[])).push(u.index),T=!0),!M&&(ie.ngOnChanges||ie.ngDoCheck)&&((a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(u.index),M=!0),F++}!function hM(a,l){const d=l.directiveEnd,f=a.data,m=l.attrs,v=[];let T=null,M=null;for(let F=l.directiveStart;F<d;F++){const V=f[F],Y=V.inputs,ie=null===m||bE(l)?null:bM(Y,m);v.push(ie),T=D0(Y,F,T),M=D0(V.outputs,F,M)}null!==T&&(T.hasOwnProperty("class")&&(l.flags|=16),T.hasOwnProperty("style")&&(l.flags|=32)),l.initialInputs=v,l.inputs=T,l.outputs=M}(a,u)}v&&function vM(a,l,u){if(l){const d=a.localNames=[];for(let f=0;f<l.length;f+=2){const m=u[l[f+1]];if(null==m)throw new Qe(-301,!1);d.push(l[f],m)}}}(u,d,v)}return u.mergedAttrs=Ni(u.mergedAttrs,u.attrs),f}function I0(a,l,u,d,f,m){const v=m.hostBindings;if(v){let T=a.hostBindingOpCodes;null===T&&(T=a.hostBindingOpCodes=[]);const M=~l.index;(function gM(a){let l=a.length;for(;l>0;){const u=a[--l];if("number"==typeof u&&u<0)return u}return 0})(T)!=M&&T.push(M),T.push(d,f,v)}}function VE(a,l){null!==a.hostBindings&&a.hostBindings(1,l)}function BE(a,l){l.flags|=2,(a.components||(a.components=[])).push(l.index)}function Kr(a,l,u){if(u){if(l.exportAs)for(let d=0;d<l.exportAs.length;d++)u[l.exportAs[d]]=a;Zi(l)&&(u[""]=a)}}function HE(a,l,u){a.flags|=1,a.directiveStart=l,a.directiveEnd=l+u,a.providerIndexes=l}function S0(a,l,u,d,f){a.data[d]=f;const m=f.factory||(f.factory=rs(f.type)),v=new Ya(m,Zi(f),null);a.blueprint[d]=v,u[d]=v,I0(a,l,0,d,Kh(a,u,f.hostVars,cn),f)}function A0(a,l,u){const d=ir(l,a),f=OE(u),m=a[10],v=w_(a,$p(a,f,null,u.onPush?64:16,d,l,m,m.createRenderer(d,u),null,null));a[l.index]=v}function Ds(a,l,u,d,f,m){const v=ir(a,l);!function Ru(a,l,u,d,f,m,v){if(null==m)ei(a)?a.removeAttribute(l,f,u):l.removeAttribute(f);else{const T=null==v?Oe(m):v(m,d||"",f);ei(a)?a.setAttribute(l,f,T,u):u?l.setAttributeNS(u,f,T):l.setAttribute(f,T)}}(l[11],v,m,a.value,u,d,f)}function jE(a,l,u,d,f,m){const v=m[l];if(null!==v){const T=d.setInput;for(let M=0;M<v.length;){const F=v[M++],V=v[M++],Y=v[M++];null!==T?d.setInput(u,Y,F,V):u[V]=Y}}}function bM(a,l){let u=null,d=0;for(;d<l.length;){const f=l[d];if(0!==f)if(5!==f){if("number"==typeof f)break;a.hasOwnProperty(f)&&(null===u&&(u=[]),u.push(f,a[f],l[d+1])),d+=2}else d+=2;else d+=4}return u}function GE(a,l,u,d){return new Array(a,!0,!1,l,null,0,d,u,null,null)}function M0(a,l){const u=Rr(l,a);if(Ko(u)){const d=u[1];80&u[2]?Qh(d,u,d.template,u[8]):u[5]>0&&qE(u)}}function qE(a){for(let d=i_(a);null!==d;d=r_(d))for(let f=10;f<d.length;f++){const m=d[f];if(1024&m[2]){const v=m[1];Qh(v,m,v.template,m[8])}else m[5]>0&&qE(m)}const u=a[1].components;if(null!==u)for(let d=0;d<u.length;d++){const f=Rr(u[d],a);Ko(f)&&f[5]>0&&qE(f)}}function Nd(a,l){const u=Rr(l,a),d=u[1];(function WE(a,l){for(let u=l.length;u<a.blueprint.length;u++)l.push(a.blueprint[u])})(d,u),qp(d,u,u[8])}function w_(a,l){return a[13]?a[14][4]=l:a[13]=l,a[14]=l,l}function x0(a){for(;a;){a[2]|=64;const l=kp(a);if(Cl(a)&&!l)return a;a=l}return null}function R0(a,l,u){const d=l[10];d.begin&&d.begin();try{Qh(a,l,a.template,u)}catch(f){throw XE(l,f),f}finally{d.end&&d.end()}}function YE(a){!function k0(a){for(let l=0;l<a.components.length;l++){const u=a.components[l],d=Pr(u),f=d[1];uM(f,d,f.template,u)}}(a[8])}function O0(a,l,u){pc(0),l(a,u)}const N0=(()=>Promise.resolve(null))();function QE(a){return a[7]||(a[7]=[])}function JE(a){return a.cleanup||(a.cleanup=[])}function P0(a,l,u){return(null===a||Zi(a))&&(u=function dc(a){for(;Array.isArray(a);){if("object"==typeof a[1])return a;a=a[0]}return null}(u[l.index])),u[11]}function XE(a,l){const u=a[9],d=u?u.get(xp,null):null;d&&d.handleError(l)}function EM(a,l,u,d,f){for(let m=0;m<u.length;){const v=u[m++],T=u[m++],M=l[v],F=a.data[v];null!==F.setInput?F.setInput(M,f,d,T):M[T]=f}}function Oo(a,l,u){const d=Co(l,a);!function aE(a,l,u){ei(a)?a.setValue(l,u):l.textContent=u}(a[11],d,u)}function Jh(a,l,u){let d=u?a.styles:null,f=u?a.classes:null,m=0;if(null!==l)for(let v=0;v<l.length;v++){const T=l[v];"number"==typeof T?m=T:1==m?f=xe(f,T):2==m&&(d=xe(d,T+": "+l[++v]+";"))}u?a.styles=d:a.stylesWithoutHost=d,u?a.classes=f:a.classesWithoutHost=f}const Xh=new Ki("INJECTOR",-1);class eT{get(l,u=Xa){if(u===Xa){const d=new Error(`NullInjectorError: No provider for ${Te(l)}!`);throw d.name="NullInjectorError",d}return u}}const il=new Ki("Set Injector scope."),Et={},F0={};let nn;function Zp(){return void 0===nn&&(nn=new eT),nn}function E_(a,l=null,u=null,d){const f=ef(a,l,u,d);return f._resolveInjectorDefTypes(),f}function ef(a,l=null,u=null,d){return new DM(a,u,l||Zp(),d)}class DM{constructor(l,u,d,f=null){this.parent=d,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const m=[];u&&xo(u,T=>this.processProvider(T,l,u)),xo([l],T=>this.processInjectorType(T,[],m)),this.records.set(Xh,ar(void 0,this));const v=this.records.get(il);this.scope=null!=v?v.value:null,this.source=f||("object"==typeof l?null:Te(l))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(l=>l.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(l,u=Xa,d=xt.Default){this.assertNotDestroyed();const f=Ke(this),m=xn(void 0);try{if(!(d&xt.SkipSelf)){let T=this.records.get(l);if(void 0===T){const M=function MM(a){return"function"==typeof a||"object"==typeof a&&a instanceof Ki}(l)&&ti(l);T=M&&this.injectableDefInScope(M)?ar(Yp(l),Et):null,this.records.set(l,T)}if(null!=T)return this.hydrate(l,T)}return(d&xt.Self?Zp():this.parent).get(l,u=d&xt.Optional&&u===Xa?null:u)}catch(v){if("NullInjectorError"===v.name){if((v[Du]=v[Du]||[]).unshift(Te(l)),f)throw v;return function Ac(a,l,u,d){const f=a[Du];throw l[X]&&f.unshift(l[X]),a.message=function Mc(a,l,u,d=null){a=a&&"\n"===a.charAt(0)&&"\u0275"==a.charAt(1)?a.substr(2):a;let f=Te(l);if(Array.isArray(l))f=l.map(Te).join(" -> ");else if("object"==typeof l){let m=[];for(let v in l)if(l.hasOwnProperty(v)){let T=l[v];m.push(v+":"+("string"==typeof T?JSON.stringify(T):Te(T)))}f=`{${m.join(", ")}}`}return`${u}${d?"("+d+")":""}[${f}]: ${a.replace(O,"\n  ")}`}("\n"+a.message,f,u,d),a.ngTokenPath=f,a[Du]=null,a}(v,l,"R3InjectorError",this.source)}throw v}finally{xn(m),Ke(f)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(l=>this.get(l))}toString(){const l=[];return this.records.forEach((d,f)=>l.push(Te(f))),`R3Injector[${l.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Qe(205,!1)}processInjectorType(l,u,d){if(!(l=_e(l)))return!1;let f=Ur(l);const m=null==f&&l.ngModule||void 0,v=void 0===m?l:m,T=-1!==d.indexOf(v);if(void 0!==m&&(f=Ur(m)),null==f)return!1;if(null!=f.imports&&!T){let V;d.push(v);try{xo(f.imports,Y=>{this.processInjectorType(Y,u,d)&&(void 0===V&&(V=[]),V.push(Y))})}finally{}if(void 0!==V)for(let Y=0;Y<V.length;Y++){const{ngModule:ie,providers:he}=V[Y];xo(he,Ve=>this.processProvider(Ve,ie,he||Nt))}}this.injectorDefTypes.add(v);const M=rs(v)||(()=>new v);this.records.set(v,ar(M,Et));const F=f.providers;if(null!=F&&!T){const V=l;xo(F,Y=>this.processProvider(Y,V,F))}return void 0!==m&&void 0!==l.providers}processProvider(l,u,d){let f=tf(l=_e(l))?l:_e(l&&l.provide);const m=function SM(a,l,u){return Kp(a)?ar(void 0,a.useValue):ar(tT(a),Et)}(l);if(tf(l)||!0!==l.multi)this.records.get(f);else{let v=this.records.get(f);v||(v=ar(void 0,Et,!0),v.factory=()=>qt(v.multi),this.records.set(f,v)),f=l,v.multi.push(l)}this.records.set(f,m)}hydrate(l,u){return u.value===Et&&(u.value=F0,u.value=u.factory()),"object"==typeof u.value&&u.value&&function iT(a){return null!==a&&"object"==typeof a&&"function"==typeof a.ngOnDestroy}(u.value)&&this.onDestroy.add(u.value),u.value}injectableDefInScope(l){if(!l.providedIn)return!1;const u=_e(l.providedIn);return"string"==typeof u?"any"===u||u===this.scope:this.injectorDefTypes.has(u)}}function Yp(a){const l=ti(a),u=null!==l?l.factory:rs(a);if(null!==u)return u;if(a instanceof Ki)throw new Qe(204,!1);if(a instanceof Function)return function IM(a){const l=a.length;if(l>0)throw Ts(l,"?"),new Qe(204,!1);const u=function Zt(a){const l=a&&(a[es]||a[ni]);if(l){const u=function yi(a){if(a.hasOwnProperty("name"))return a.name;const l=(""+a).match(/^function\s*([^\s(]+)/);return null===l?"":l[1]}(a);return console.warn(`DEPRECATED: DI is instantiating a token "${u}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${u}" class.`),l}return null}(a);return null!==u?()=>u.factory(a):()=>new a}(a);throw new Qe(204,!1)}function tT(a,l,u){let d;if(tf(a)){const f=_e(a);return rs(f)||Yp(f)}if(Kp(a))d=()=>_e(a.useValue);else if(function Ou(a){return!(!a||!a.useFactory)}(a))d=()=>a.useFactory(...qt(a.deps||[]));else if(function Is(a){return!(!a||!a.useExisting)}(a))d=()=>At(_e(a.useExisting));else{const f=_e(a&&(a.useClass||a.provide));if(!function nT(a){return!!a.deps}(a))return rs(f)||Yp(f);d=()=>new f(...qt(a.deps))}return d}function ar(a,l,u=!1){return{factory:a,value:l,multi:u?[]:void 0}}function Kp(a){return null!==a&&"object"==typeof a&&de in a}function tf(a){return"function"==typeof a}let rl=(()=>{class a{static create(u,d){var f;if(Array.isArray(u))return E_({name:""},d,u,"");{const m=null!==(f=u.name)&&void 0!==f?f:"";return E_({name:m},u.parent,u.providers,m)}}}return a.THROW_IF_NOT_FOUND=Xa,a.NULL=new eT,a.\u0275prov=In({token:a,providedIn:"any",factory:()=>At(Xh)}),a.__NG_ELEMENT_ID__=-1,a})();function z0(a,l){ea(Pr(a)[1],ln())}function $0(a){let l=function dT(a){return Object.getPrototypeOf(a.prototype).constructor}(a.type),u=!0;const d=[a];for(;l;){let f;if(Zi(a))f=l.\u0275cmp||l.\u0275dir;else{if(l.\u0275cmp)throw new Qe(903,"");f=l.\u0275dir}if(f){if(u){d.push(f);const v=a;v.inputs=Pd(a.inputs),v.declaredInputs=Pd(a.declaredInputs),v.outputs=Pd(a.outputs);const T=f.hostBindings;T&&PM(a,T);const M=f.viewQuery,F=f.contentQueries;if(M&&NM(a,M),F&&em(a,F),fe(a.inputs,f.inputs),fe(a.declaredInputs,f.declaredInputs),fe(a.outputs,f.outputs),Zi(f)&&f.data.animation){const V=a.data;V.animation=(V.animation||[]).concat(f.data.animation)}}const m=f.features;if(m)for(let v=0;v<m.length;v++){const T=m[v];T&&T.ngInherit&&T(a),T===$0&&(u=!1)}}l=Object.getPrototypeOf(l)}!function zs(a){let l=0,u=null;for(let d=a.length-1;d>=0;d--){const f=a[d];f.hostVars=l+=f.hostVars,f.hostAttrs=Ni(f.hostAttrs,u=Ni(u,f.hostAttrs))}}(d)}function Pd(a){return a===Sn?{}:a===Nt?[]:a}function NM(a,l){const u=a.viewQuery;a.viewQuery=u?(d,f)=>{l(d,f),u(d,f)}:l}function em(a,l){const u=a.contentQueries;a.contentQueries=u?(d,f,m)=>{l(d,f,m),u(d,f,m)}:l}function PM(a,l){const u=a.hostBindings;a.hostBindings=u?(d,f)=>{l(d,f),u(d,f)}:l}let nf=null;function Nu(){if(!nf){const a=sn.Symbol;if(a&&a.iterator)nf=a.iterator;else{const l=Object.getOwnPropertyNames(Map.prototype);for(let u=0;u<l.length;++u){const d=l[u];"entries"!==d&&"size"!==d&&Map.prototype[d]===Map.prototype.entries&&(nf=d)}}}return nf}function Fd(a){return!!W0(a)&&(Array.isArray(a)||!(a instanceof Map)&&Nu()in a)}function W0(a){return null!==a&&("function"==typeof a||"object"==typeof a)}function sl(a,l,u){return a[l]=u}function ls(a,l,u){return!Object.is(a[l],u)&&(a[l]=u,!0)}function Pu(a,l,u,d){const f=ls(a,l,u);return ls(a,l+1,d)||f}function tm(a,l,u,d){const f=ze();return ls(f,rr(),l)&&(an(),Ds(Ci(),f,a,l,u,d)),tm}function K0(a,l,u,d,f,m,v,T){const M=ze(),F=an(),V=a+20,Y=F.firstCreatePass?function Y0(a,l,u,d,f,m,v,T,M){const F=l.consts,V=Yh(l,a,4,v||null,_s(F,T));Wp(l,u,V,_s(F,M)),ea(l,V);const Y=V.tViews=b_(2,V,d,f,m,l.directiveRegistry,l.pipeRegistry,null,l.schemas,F);return null!==l.queries&&(l.queries.template(l,V),Y.queries=l.queries.embeddedTView(V)),V}(V,F,M,l,u,d,f,m,v):F.data[V];ws(Y,!1);const ie=M[11].createComment("");Fc(F,M,ie,Y),sr(ie,M),w_(M,M[V]=GE(ie,M,ie,Y)),Ea(Y)&&b0(F,M,Y),null!=v&&w0(M,Y,T)}function cf(a){return ss(function hc(){return Ft.lFrame.contextLView}(),20+a)}function ol(a,l=xt.Default){const u=ze();return null===u?At(a,l):ye(ln(),u,_e(a),l)}function G_(){throw new Error("invalid")}function sb(a,l,u){const d=ze();return ls(d,rr(),l)&&ca(an(),Ci(),d,a,l,d[11],u,!1),sb}function am(a,l,u,d,f){const v=f?"class":"style";EM(a,u,l.inputs[v],v,d)}function mf(a,l,u,d){const f=ze(),m=an(),v=20+a,T=f[11],M=f[v]=Yv(T,l,function Ol(){return Ft.lFrame.currentNamespace}()),F=m.firstCreatePass?function pf(a,l,u,d,f,m,v){const T=l.consts,F=Yh(l,a,2,f,_s(T,m));return Wp(l,u,F,_s(T,v)),null!==F.attrs&&Jh(F,F.attrs,!1),null!==F.mergedAttrs&&Jh(F,F.mergedAttrs,!0),null!==l.queries&&l.queries.elementStart(l,F),F}(v,m,f,0,l,u,d):m.data[v];ws(F,!0);const V=F.mergedAttrs;null!==V&&j(T,M,V);const Y=F.classes;null!==Y&&Up(T,M,Y);const ie=F.styles;return null!==ie&&d_(T,M,ie),64!=(64&F.flags)&&Fc(m,f,M,F),0===function Hr(){return Ft.lFrame.elementDepthCount}()&&sr(M,f),function ys(){Ft.lFrame.elementDepthCount++}(),Ea(F)&&(b0(m,f,F),v0(m,F,f)),null!==d&&w0(f,F),mf}function $l(){let a=ln();Qo()?so():(a=a.parent,ws(a,!1));const l=a;!function gu(){Ft.lFrame.elementDepthCount--}();const u=an();return u.firstCreatePass&&(ea(u,a),wl(a)&&u.queries.elementEnd(a)),null!=l.classesWithoutHost&&function wc(a){return 0!=(16&a.flags)}(l)&&am(u,l,ze(),l.classesWithoutHost,!0),null!=l.stylesWithoutHost&&function vu(a){return 0!=(32&a.flags)}(l)&&am(u,l,ze(),l.stylesWithoutHost,!1),$l}function z_(a,l,u,d){return mf(a,l,u,d),$l(),z_}function Pa(a,l,u){const d=ze(),f=an(),m=a+20,v=f.firstCreatePass?function Ud(a,l,u,d,f){const m=l.consts,v=_s(m,d),T=Yh(l,a,8,"ng-container",v);return null!==v&&Jh(T,v,!0),Wp(l,u,T,_s(m,f)),null!==l.queries&&l.queries.elementStart(l,T),T}(m,f,d,l,u):f.data[m];ws(v,!0);const T=d[m]=d[11].createComment("");return Fc(f,d,T,v),sr(T,d),Ea(v)&&(b0(f,d,v),v0(f,v,d)),null!=u&&w0(d,v),Pa}function Bd(){let a=ln();const l=an();return Qo()?so():(a=a.parent,ws(a,!1)),l.firstCreatePass&&(ea(l,a),wl(a)&&l.queries.elementEnd(a)),Bd}function gf(a,l,u){return Pa(a,l,u),Bd(),gf}function lm(){return ze()}function $_(a){return!!a&&"function"==typeof a.then}function Li(a){return!!a&&"function"==typeof a.subscribe}const cm=Li;function ob(a,l,u,d){const f=ze(),m=an(),v=ln();return _f(m,f,f[11],v,a,l,!!u,d),ob}function ab(a,l){const u=ln(),d=ze(),f=an();return _f(f,d,P0(oo(f.data),u,d),u,a,l,!1),ab}function _f(a,l,u,d,f,m,v,T){const M=Ea(d),V=a.firstCreatePass&&JE(a),Y=l[8],ie=QE(l);let he=!0;if(3&d.type||T){const dt=ir(d,l),wt=T?T(dt):dt,$e=ie.length,Ht=T?Rn=>T(Kn(Rn[d.index])):d.index;if(ei(u)){let Rn=null;if(!T&&M&&(Rn=function um(a,l,u,d){const f=a.cleanup;if(null!=f)for(let m=0;m<f.length-1;m+=2){const v=f[m];if(v===u&&f[m+1]===d){const T=l[7],M=f[m+2];return T.length>M?T[M]:null}"string"==typeof v&&(m+=2)}return null}(a,l,f,d.index)),null!==Rn)(Rn.__ngLastListenerFn__||Rn).__ngNextListenerFn__=m,Rn.__ngLastListenerFn__=m,he=!1;else{m=q_(d,l,Y,m,!1);const ai=u.listen(wt,f,m);ie.push(m,ai),V&&V.push(f,Ht,$e,$e+1)}}else m=q_(d,l,Y,m,!0),wt.addEventListener(f,m,v),ie.push(m),V&&V.push(f,Ht,$e,v)}else m=q_(d,l,Y,m,!1);const Ve=d.outputs;let it;if(he&&null!==Ve&&(it=Ve[f])){const dt=it.length;if(dt)for(let wt=0;wt<dt;wt+=2){const Uo=l[it[wt]][it[wt+1]].subscribe(m),ch=ie.length;ie.push(m,Uo),V&&V.push(f,d.index,ch,-(ch+1))}}}function IT(a,l,u,d){try{return!1!==u(d)}catch(f){return XE(a,f),!1}}function q_(a,l,u,d,f){return function m(v){if(v===Function)return d;const T=2&a.flags?Rr(a.index,l):l;0==(32&l[2])&&x0(T);let M=IT(l,0,d,v),F=m.__ngNextListenerFn__;for(;F;)M=IT(l,0,F,v)&&M,F=F.__ngNextListenerFn__;return f&&!1===M&&(v.preventDefault(),v.returnValue=!1),M}}function ST(a=1){return function To(a){return(Ft.lFrame.contextLView=function kl(a,l){for(;a>0;)l=l[15],a--;return l}(a,Ft.lFrame.contextLView))[8]}(a)}function jM(a,l){let u=null;const d=function qA(a){const l=a.attrs;if(null!=l){const u=l.indexOf(5);if(0==(1&u))return l[u+1]}return null}(a);for(let f=0;f<l.length;f++){const m=l[f];if("*"!==m){if(null===d?n0(a,m,!0):ZA(d,m))return f}else u=f}return u}function AT(a){const l=ze()[16][6];if(!l.projection){const d=l.projection=Ts(a?a.length:1,null),f=d.slice();let m=l.child;for(;null!==m;){const v=a?jM(m,a):0;null!==v&&(f[v]?f[v].projectionNext=m:d[v]=m,f[v]=m),m=m.next}}}function MT(a,l=0,u){const d=ze(),f=an(),m=Yh(f,20+a,16,null,u||null);null===m.projection&&(m.projection=l),so(),64!=(64&m.flags)&&function u_(a,l,u){e0(l[11],0,l,u,fE(a,u,l),gE(u.parent||l[6],u,l))}(f,d,m)}function W_(a,l,u,d,f){const m=a[u+1],v=null===l;let T=d?nl(m):Lc(m),M=!1;for(;0!==T&&(!1===M||v);){const V=a[T+1];NT(a[T],l)&&(M=!0,a[T+1]=d?l0(V):zl(V)),T=d?nl(V):Lc(V)}M&&(a[u+1]=d?zl(m):l0(m))}function NT(a,l){return null===a||null==l||(Array.isArray(a)?a[1]:a)===l||!(!Array.isArray(a)||"string"!=typeof l)&&ko(a,l)>=0}function fb(a,l,u){return Fa(a,l,u,!1),fb}function pb(a,l){return Fa(a,l,null,!0),pb}function Fa(a,l,u,d){const f=ze(),m=an(),v=function jr(a){const l=Ft.lFrame,u=l.bindingIndex;return l.bindingIndex=l.bindingIndex+a,u}(2);m.firstUpdatePass&&function Zl(a,l,u,d){const f=a.data;if(null===f[u+1]){const m=f[Or()],v=function mb(a,l){return l>=a.expandoStartIndex}(a,u);(function vb(a,l){return 0!=(a.flags&(l?16:32))})(m,d)&&null===l&&!v&&(l=!1),l=function VT(a,l,u,d){const f=oo(a);let m=d?l.residualClasses:l.residualStyles;if(null===f)0===(d?l.classBindings:l.styleBindings)&&(u=jd(u=K_(null,a,l,u,d),l.attrs,d),m=null);else{const v=l.directiveStylingLast;if(-1===v||a[v]!==f)if(u=K_(f,a,l,u,d),null===m){let M=function YM(a,l,u){const d=u?l.classBindings:l.styleBindings;if(0!==Lc(d))return a[nl(d)]}(a,l,d);void 0!==M&&Array.isArray(M)&&(M=K_(null,a,l,M[1],d),M=jd(M,l.attrs,d),function gb(a,l,u,d){a[nl(u?l.classBindings:l.styleBindings)]=d}(a,l,d,M))}else m=function fm(a,l,u){let d;const f=l.directiveEnd;for(let m=1+l.directiveStylingLast;m<f;m++)d=jd(d,a[m].hostAttrs,u);return jd(d,l.attrs,u)}(a,l,d)}return void 0!==m&&(d?l.residualClasses=m:l.residualStyles=m),u}(f,m,l,d),function OT(a,l,u,d,f,m){let v=m?l.classBindings:l.styleBindings,T=nl(v),M=Lc(v);a[d]=u;let V,F=!1;if(Array.isArray(u)){const Y=u;V=Y[1],(null===V||ko(Y,V)>0)&&(F=!0)}else V=u;if(f)if(0!==M){const ie=nl(a[T+1]);a[d+1]=m_(ie,T),0!==ie&&(a[ie+1]=Vc(a[ie+1],d)),a[T+1]=function a0(a,l){return 131071&a|l<<17}(a[T+1],d)}else a[d+1]=m_(T,0),0!==T&&(a[T+1]=Vc(a[T+1],d)),T=d;else a[d+1]=m_(M,0),0===T?T=d:a[M+1]=Vc(a[M+1],d),M=d;F&&(a[d+1]=zl(a[d+1])),W_(a,V,d,!0),W_(a,V,d,!1),function hb(a,l,u,d,f){const m=f?a.residualClasses:a.residualStyles;null!=m&&"string"==typeof l&&ko(m,l)>=0&&(u[d+1]=l0(u[d+1]))}(l,V,a,d,m),v=m_(T,M),m?l.classBindings=v:l.styleBindings=v}(f,m,l,u,v,d)}}(m,a,v,d),l!==cn&&ls(f,v,l)&&function pm(a,l,u,d,f,m,v,T){if(!(3&l.type))return;const M=a.data,F=M[T+1];mm(function IE(a){return 1==(1&a)}(F)?UT(M,l,u,f,Lc(F),v):void 0)||(mm(m)||function DE(a){return 2==(2&a)}(F)&&(m=UT(M,null,u,f,T,v)),function _E(a,l,u,d,f){const m=ei(a);if(l)f?m?a.addClass(u,d):u.classList.add(d):m?a.removeClass(u,d):u.classList.remove(d);else{let v=-1===d.indexOf("-")?void 0:Yr.DashCase;if(null==f)m?a.removeStyle(u,d,v):u.style.removeProperty(d);else{const T="string"==typeof f&&f.endsWith("!important");T&&(f=f.slice(0,-10),v|=Yr.Important),m?a.setStyle(u,d,f,v):u.style.setProperty(d,f,T?"important":"")}}}(d,v,Co(Or(),u),f,m))}(m,m.data[Or()],f,f[11],a,f[v+1]=function gm(a,l){return null==a||("string"==typeof l?a+=l:"object"==typeof a&&(a=Te(Na(a)))),a}(l,u),d,v)}function K_(a,l,u,d,f){let m=null;const v=u.directiveEnd;let T=u.directiveStylingLast;for(-1===T?T=u.directiveStart:T++;T<v&&(m=l[T],d=jd(d,m.hostAttrs,f),m!==a);)T++;return null!==a&&(u.directiveStylingLast=T),d}function jd(a,l,u){const d=u?1:2;let f=-1;if(null!==l)for(let m=0;m<l.length;m++){const v=l[m];"number"==typeof v?f=v:f===d&&(Array.isArray(a)||(a=void 0===a?[]:["",a]),as(a,v,!!u||l[++m]))}return void 0===a?null:a}function UT(a,l,u,d,f,m){const v=null===l;let T;for(;f>0;){const M=a[f],F=Array.isArray(M),V=F?M[1]:M,Y=null===V;let ie=u[f+1];ie===cn&&(ie=Y?Nt:void 0);let he=Y?Sc(ie,d):V===d?ie:void 0;if(F&&!mm(he)&&(he=Sc(M,d)),mm(he)&&(T=he,v))return T;const Ve=a[f+1];f=v?nl(Ve):Lc(Ve)}if(null!==l){let M=m?l.residualClasses:l.residualStyles;null!=M&&(T=Sc(M,d))}return T}function mm(a){return void 0!==a}function bb(a,l=""){const u=ze(),d=an(),f=a+20,m=d.firstCreatePass?Yh(d,f,1,l,null):d.data[f],v=u[f]=function Ad(a,l){return ei(a)?a.createText(l):a.createTextNode(l)}(u[11],l);Fc(d,u,v,m),ws(m,!1)}function _m(a){return wf("",a,""),_m}function wf(a,l,u){const d=ze(),f=function Xi(a,l,u,d){return ls(a,rr(),u)?l+Oe(u)+d:cn}(d,a,l,u);return f!==cn&&Oo(d,Or(),f),wf}function Ab(a,l,u){const d=ze();return ls(d,rr(),l)&&ca(an(),Ci(),d,a,l,d[11],u,!0),Ab}function gt(a,l,u){const d=ze();if(ls(d,rr(),l)){const m=an(),v=Ci();ca(m,v,d,a,l,P0(oo(m.data),v,d),u,!0)}return gt}const Ie=void 0;var cs=["en",[["a","p"],["AM","PM"],Ie],[["AM","PM"],Ie,Ie],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ie,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ie,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ie,"{1} 'at' {0}",Ie],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Ze(a){const u=Math.floor(Math.abs(a)),d=a.toString().replace(/^[^.]*\.?/,"").length;return 1===u&&0===d?1:5}];let Gd={};function Mb(a){const l=function UN(a){return a.toLowerCase().replace(/_/g,"-")}(a);let u=WT(l);if(u)return u;const d=l.split("-")[0];if(u=WT(d),u)return u;if("en"===d)return cs;throw new Error(`Missing locale data for the locale "${a}".`)}function qT(a){return Mb(a)[$t.PluralCase]}function WT(a){return a in Gd||(Gd[a]=sn.ng&&sn.ng.common&&sn.ng.common.locales&&sn.ng.common.locales[a]),Gd[a]}var $t=(()=>(($t=$t||{})[$t.LocaleId=0]="LocaleId",$t[$t.DayPeriodsFormat=1]="DayPeriodsFormat",$t[$t.DayPeriodsStandalone=2]="DayPeriodsStandalone",$t[$t.DaysFormat=3]="DaysFormat",$t[$t.DaysStandalone=4]="DaysStandalone",$t[$t.MonthsFormat=5]="MonthsFormat",$t[$t.MonthsStandalone=6]="MonthsStandalone",$t[$t.Eras=7]="Eras",$t[$t.FirstDayOfWeek=8]="FirstDayOfWeek",$t[$t.WeekendRange=9]="WeekendRange",$t[$t.DateFormat=10]="DateFormat",$t[$t.TimeFormat=11]="TimeFormat",$t[$t.DateTimeFormat=12]="DateTimeFormat",$t[$t.NumberSymbols=13]="NumberSymbols",$t[$t.NumberFormats=14]="NumberFormats",$t[$t.CurrencyCode=15]="CurrencyCode",$t[$t.CurrencySymbol=16]="CurrencySymbol",$t[$t.CurrencyName=17]="CurrencyName",$t[$t.Currencies=18]="Currencies",$t[$t.Directionality=19]="Directionality",$t[$t.PluralCase=20]="PluralCase",$t[$t.ExtraData=21]="ExtraData",$t))();const vm="en-US";let xb=vm;function Nf(a,l,u,d,f){if(a=_e(a),Array.isArray(a))for(let m=0;m<a.length;m++)Nf(a[m],l,u,d,f);else{const m=an(),v=ze();let T=tf(a)?a:_e(a.provide),M=tT(a);const F=ln(),V=1048575&F.providerIndexes,Y=F.directiveStart,ie=F.providerIndexes>>20;if(tf(a)||!a.multi){const he=new Ya(M,f,ol),Ve=Sm(T,l,f?V:V+ie,Y);-1===Ve?(Q(b(F,v),m,T),Im(m,a,l.length),l.push(T),F.directiveStart++,F.directiveEnd++,f&&(F.providerIndexes+=1048576),u.push(he),v.push(he)):(u[Ve]=he,v[Ve]=he)}else{const he=Sm(T,l,V+ie,Y),Ve=Sm(T,l,V,V+ie),it=he>=0&&u[he],dt=Ve>=0&&u[Ve];if(f&&!dt||!f&&!it){Q(b(F,v),m,T);const wt=function Am(a,l,u,d,f){const m=new Ya(a,u,ol);return m.multi=[],m.index=l,m.componentProviders=0,dy(m,f,d&&!u),m}(f?Va:Pf,u.length,f,d,M);!f&&dt&&(u[Ve].providerFactory=wt),Im(m,a,l.length,0),l.push(T),F.directiveStart++,F.directiveEnd++,f&&(F.providerIndexes+=1048576),u.push(wt),v.push(wt)}else Im(m,a,he>-1?he:Ve,dy(u[f?Ve:he],M,!f&&d));!f&&d&&dt&&u[Ve].componentProviders++}}}function Im(a,l,u,d){const f=tf(l),m=function AM(a){return!!a.useClass}(l);if(f||m){const M=(m?_e(l.useClass):l).prototype.ngOnDestroy;if(M){const F=a.destroyHooks||(a.destroyHooks=[]);if(!f&&l.multi){const V=F.indexOf(u);-1===V?F.push(u,[d,M]):F[V+1].push(d,M)}else F.push(u,M)}}}function dy(a,l,u){return u&&a.componentProviders++,a.multi.push(l)-1}function Sm(a,l,u,d){for(let f=u;f<d;f++)if(l[f]===a)return f;return-1}function Pf(a,l,u,d){return hy(this.multi,[])}function Va(a,l,u,d){const f=this.multi;let m;if(this.providerFactory){const v=this.providerFactory.componentProviders,T=Bt(u,u[1],this.providerFactory.index,d);m=T.slice(0,v),hy(f,m);for(let M=v;M<T.length;M++)m.push(T[M])}else m=[],hy(f,m);return m}function hy(a,l){for(let u=0;u<a.length;u++)l.push((0,a[u])());return l}function Fb(a,l=[]){return u=>{u.providersResolver=(d,f)=>function uy(a,l,u){const d=an();if(d.firstCreatePass){const f=Zi(a);Nf(u,d.data,d.blueprint,f,!0),Nf(l,d.data,d.blueprint,f,!1)}}(d,f?f(a):a,l)}}class fy{}class _D{resolveComponentFactory(l){throw function gD(a){const l=Error(`No component factory found for ${Te(a)}. Did you add it to @NgModule.entryComponents?`);return l.ngComponent=a,l}(l)}}let Mm=(()=>{class a{}return a.NULL=new _D,a})();function yD(){return qc(ln(),ze())}function qc(a,l){return new xm(ir(a,l))}let xm=(()=>{class a{constructor(u){this.nativeElement=u}}return a.__NG_ELEMENT_ID__=yD,a})();function fx(a){return a instanceof xm?a.nativeElement:a}class Zd{}let Yd=(()=>{class a{}return a.__NG_ELEMENT_ID__=()=>function Kd(){const a=ze(),u=Rr(ln().index,a);return function vD(a){return a[11]}(Gi(u)?u:a)}(),a})(),bD=(()=>{class a{}return a.\u0275prov=In({token:a,providedIn:"root",factory:()=>null}),a})();class Qd{constructor(l){this.full=l,this.major=l.split(".")[0],this.minor=l.split(".")[1],this.patch=l.split(".").slice(2).join(".")}}const Ub=new Qd("13.3.3"),py={};function zu(a,l,u,d,f=!1){for(;null!==u;){const m=l[u.index];if(null!==m&&d.push(Kn(m)),gr(m))for(let T=10;T<m.length;T++){const M=m[T],F=M[1].firstChild;null!==F&&zu(M[1],M,F,d)}const v=u.type;if(8&v)zu(a,l,u.child,d);else if(32&v){const T=qv(u,l);let M;for(;M=T();)d.push(M)}else if(16&v){const T=Jv(l,u);if(Array.isArray(T))d.push(...T);else{const M=kp(l[16]);zu(M[1],M,T,d,!0)}}u=f?u.projectionNext:u.next}return d}class km{constructor(l,u){this._lView=l,this._cdRefInjectingView=u,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const l=this._lView,u=l[1];return zu(u,l,u.firstChild,[])}get context(){return this._lView[8]}set context(l){this._lView[8]=l}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const l=this._lView[3];if(gr(l)){const u=l[8],d=u?u.indexOf(this):-1;d>-1&&(Kv(l,d),Ll(u,d))}this._attachedToViewContainer=!1}o_(this._lView[1],this._lView)}onDestroy(l){T0(this._lView[1],this._lView,null,l)}markForCheck(){x0(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){R0(this._lView[1],this._lView,this.context)}checkNoChanges(){!function KE(a,l,u){Eo(!0);try{R0(a,l,u)}finally{Eo(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Qe(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function jA(a,l){Vp(a,l,l[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(l){if(this._attachedToViewContainer)throw new Qe(902,"");this._appRef=l}}class mx extends km{constructor(l){super(l),this._view=l}detectChanges(){YE(this._view)}checkNoChanges(){!function CM(a){Eo(!0);try{YE(a)}finally{Eo(!1)}}(this._view)}get context(){return null}}class Er extends Mm{constructor(l){super(),this.ngModule=l}resolveComponentFactory(l){const u=ct(l);return new Om(u,this.ngModule)}}function Rm(a){const l=[];for(let u in a)a.hasOwnProperty(u)&&l.push({propName:a[u],templateName:u});return l}class Om extends fy{constructor(l,u){super(),this.componentDef=l,this.ngModule=u,this.componentType=l.type,this.selector=function p_(a){return a.map(EE).join(",")}(l.selectors),this.ngContentSelectors=l.ngContentSelectors?l.ngContentSelectors:[],this.isBoundToModule=!!u}get inputs(){return Rm(this.componentDef.inputs)}get outputs(){return Rm(this.componentDef.outputs)}create(l,u,d,f){const m=(f=f||this.ngModule)?function gx(a,l){return{get:(u,d,f)=>{const m=a.get(u,py,f);return m!==py||d===py?m:l.get(u,d,f)}}}(l,f.injector):l,v=m.get(Zd,Zo),T=m.get(bD,null),M=v.createRenderer(null,this.componentDef),F=this.componentDef.selectors[0][0]||"div",V=d?function E0(a,l,u){if(ei(a))return a.selectRootElement(l,u===en.ShadowDom);let d="string"==typeof l?a.querySelector(l):l;return d.textContent="",d}(M,d,this.componentDef.encapsulation):Yv(v.createRenderer(null,this.componentDef),F,function my(a){const l=a.toLowerCase();return"svg"===l?"svg":"math"===l?"math":null}(F)),Y=this.componentDef.onPush?576:528,ie=function uT(a,l){return{components:[],scheduler:a||zv,clean:N0,playerHandler:l||null,flags:0}}(),he=b_(0,null,null,1,0,null,null,null,null,null),Ve=$p(null,he,ie,Y,null,null,v,M,T,m);let it,dt;Za(Ve);try{const wt=function I_(a,l,u,d,f,m){const v=u[1];u[20]=a;const M=Yh(v,20,2,"#host",null),F=M.mergedAttrs=l.hostAttrs;null!==F&&(Jh(M,F,!0),null!==a&&(j(f,a,F),null!==M.classes&&Up(f,a,M.classes),null!==M.styles&&d_(f,a,M.styles)));const V=d.createRenderer(a,l),Y=$p(u,OE(l),null,l.onPush?64:16,u[20],M,d,V,m||null,null);return v.firstCreatePass&&(Q(b(M,u),v,l.type),BE(v,M),HE(M,u.length,1)),w_(u,Y),u[20]=Y}(V,this.componentDef,Ve,v,M);if(V)if(d)j(M,V,["ng-version",Ub.full]);else{const{attrs:$e,classes:Ht}=function YA(a){const l=[],u=[];let d=1,f=2;for(;d<a.length;){let m=a[d];if("string"==typeof m)2===f?""!==m&&l.push(m,a[++d]):8===f&&u.push(m);else{if(!aa(f))break;f=m}d++}return{attrs:l,classes:u}}(this.componentDef.selectors[0]);$e&&j(M,V,$e),Ht&&Ht.length>0&&Up(M,V,Ht.join(" "))}if(dt=Al(he,20),void 0!==u){const $e=dt.projection=[];for(let Ht=0;Ht<this.ngContentSelectors.length;Ht++){const Rn=u[Ht];$e.push(null!=Rn?Array.from(Rn):null)}}it=function cT(a,l,u,d,f){const m=u[1],v=function mM(a,l,u){const d=ln();a.firstCreatePass&&(u.providersResolver&&u.providersResolver(u),S0(a,d,l,Kh(a,l,1,null),u));const f=Bt(l,a,d.directiveStart,d);sr(f,l);const m=ir(d,l);return m&&sr(m,l),f}(m,u,l);if(d.components.push(v),a[8]=v,f&&f.forEach(M=>M(v,l)),l.contentQueries){const M=ln();l.contentQueries(1,v,M.directiveStart)}const T=ln();return!m.firstCreatePass||null===l.hostBindings&&null===l.hostAttrs||(ao(T.index),I0(u[1],T,0,T.directiveStart,T.directiveEnd,l),VE(l,v)),v}(wt,this.componentDef,Ve,ie,[z0]),qp(he,Ve,null)}finally{Xo()}return new wD(this.componentType,it,qc(dt,Ve),Ve,dt)}}class wD extends class Lb{}{constructor(l,u,d,f,m){super(),this.location=d,this._rootLView=f,this._tNode=m,this.instance=u,this.hostView=this.changeDetectorRef=new mx(f),this.componentType=l}get injector(){return new Bn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(l){this.hostView.onDestroy(l)}}class Ua{}class Bb{}const Jd=new Map;class jb extends Ua{constructor(l,u){super(),this._parent=u,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Er(this);const d=Gt(l);this._bootstrapComponents=tl(d.bootstrap),this._r3Injector=ef(l,u,[{provide:Ua,useValue:this},{provide:Mm,useValue:this.componentFactoryResolver}],Te(l)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(l)}get(l,u=rl.THROW_IF_NOT_FOUND,d=xt.Default){return l===rl||l===Ua||l===Xh?this:this._r3Injector.get(l,u,d)}destroy(){const l=this._r3Injector;!l.destroyed&&l.destroy(),this.destroyCbs.forEach(u=>u()),this.destroyCbs=null}onDestroy(l){this.destroyCbs.push(l)}}class gy extends Bb{constructor(l){super(),this.moduleType=l,null!==Gt(l)&&function Hb(a){const l=new Set;!function u(d){const f=Gt(d,!0),m=f.id;null!==m&&(function Ff(a,l,u){if(l&&l!==u)throw new Error(`Duplicate module registered for ${a} - ${Te(l)} vs ${Te(l.name)}`)}(m,Jd.get(m),d),Jd.set(m,d));const v=tl(f.imports);for(const T of v)l.has(T)||(l.add(T),u(T))}(a)}(l)}create(l){return new jb(this.moduleType,l)}}function ur(a,l,u,d){return Vf(ze(),Ri(),a,l,u,d)}function Pm(a,l,u,d,f){return ED(ze(),Ri(),a,l,u,d,f)}function Xd(a,l){const u=a[l];return u===cn?void 0:u}function Vf(a,l,u,d,f,m){const v=l+u;return ls(a,v,f)?sl(a,v+1,m?d.call(m,f):d(f)):Xd(a,v+1)}function ED(a,l,u,d,f,m,v){const T=l+u;return Pu(a,T,f,m)?sl(a,T+2,v?d.call(v,f,m):d(f,m)):Xd(a,T+2)}function TD(a,l,u,d,f,m,v,T){const M=l+u;return function M_(a,l,u,d,f){const m=Pu(a,l,u,d);return ls(a,l+2,f)||m}(a,M,f,m,v)?sl(a,M+3,T?d.call(T,f,m,v):d(f,m,v)):Xd(a,M+3)}function oi(a,l,u,d,f,m,v,T,M){const F=l+u;return function Po(a,l,u,d,f,m){const v=Pu(a,l,u,d);return Pu(a,l+2,f,m)||v}(a,F,f,m,v,T)?sl(a,F+4,M?d.call(M,f,m,v,T):d(f,m,v,T)):Xd(a,F+4)}function Fm(a,l){const u=an();let d;const f=a+20;u.firstCreatePass?(d=function Lm(a,l){if(l)for(let u=l.length-1;u>=0;u--){const d=l[u];if(a===d.name)return d}}(l,u.pipeRegistry),u.data[f]=d,d.onDestroy&&(u.destroyHooks||(u.destroyHooks=[])).push(f,d.onDestroy)):d=u.data[f];const m=d.factory||(d.factory=rs(d.type)),v=xn(ol);try{const T=So(!1),M=m();return So(T),function LM(a,l,u,d){u>=a.data.length&&(a.data[u]=null,a.blueprint[u]=null),l[u]=d}(u,ze(),f,M),M}finally{xn(v)}}function Uf(a,l,u){const d=a+20,f=ze(),m=ss(f,d);return Um(f,d)?Vf(f,Ri(),l,m.transform,u,m):m.transform(u)}function Vm(a,l,u,d){const f=a+20,m=ze(),v=ss(m,f);return Um(m,f)?ED(m,Ri(),l,v.transform,u,d,v):v.transform(u,d)}function Gb(a,l,u,d,f){const m=a+20,v=ze(),T=ss(v,m);return Um(v,m)?TD(v,Ri(),l,T.transform,u,d,f,T):T.transform(u,d,f)}function zb(a,l,u,d,f,m){const v=a+20,T=ze(),M=ss(T,v);return Um(T,v)?oi(T,Ri(),l,M.transform,u,d,f,m,M):M.transform(u,d,f,m)}function Um(a,l){return a[1].data[l].pure}function _y(a){return l=>{setTimeout(a,void 0,l)}}const Kl=class SD extends o.x{constructor(l=!1){super(),this.__isAsync=l}emit(l){super.next(l)}subscribe(l,u,d){var f,m,v;let T=l,M=u||(()=>null),F=d;if(l&&"object"==typeof l){const Y=l;T=null===(f=Y.next)||void 0===f?void 0:f.bind(Y),M=null===(m=Y.error)||void 0===m?void 0:m.bind(Y),F=null===(v=Y.complete)||void 0===v?void 0:v.bind(Y)}this.__isAsync&&(M=_y(M),T&&(T=_y(T)),F&&(F=_y(F)));const V=super.subscribe({next:T,error:M,complete:F});return l instanceof J.w0&&l.add(V),V}};function Cx(){return this._results[Nu()]()}class $b{constructor(l=!1){this._emitDistinctChangesOnly=l,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const u=Nu(),d=$b.prototype;d[u]||(d[u]=Cx)}get changes(){return this._changes||(this._changes=new Kl)}get(l){return this._results[l]}map(l){return this._results.map(l)}filter(l){return this._results.filter(l)}find(l){return this._results.find(l)}reduce(l,u){return this._results.reduce(l,u)}forEach(l){this._results.forEach(l)}some(l){return this._results.some(l)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(l,u){const d=this;d.dirty=!1;const f=qr(l);(this._changesDetected=!function Tu(a,l,u){if(a.length!==l.length)return!1;for(let d=0;d<a.length;d++){let f=a[d],m=l[d];if(u&&(f=u(f),m=u(m)),m!==f)return!1}return!0}(d._results,f,u))&&(d._results=f,d.length=f.length,d.last=f[this.length-1],d.first=f[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let Wc=(()=>{class a{}return a.__NG_ELEMENT_ID__=us,a})();const AD=Wc,Ex=class extends AD{constructor(l,u,d){super(),this._declarationLView=l,this._declarationTContainer=u,this.elementRef=d}createEmbeddedView(l){const u=this._declarationTContainer.tViews,d=$p(this._declarationLView,u,l,16,null,u.declTNode,null,null,null,null);d[17]=this._declarationLView[this._declarationTContainer.index];const m=this._declarationLView[19];return null!==m&&(d[19]=m.createEmbeddedView(u)),qp(u,d,l),new km(d)}};function us(){return Bf(ln(),ze())}function Bf(a,l){return 4&a.type?new Ex(l,a,qc(a,l)):null}let Bm=(()=>{class a{}return a.__NG_ELEMENT_ID__=Hm,a})();function Hm(){return Wb(ln(),ze())}const Ql=Bm,yy=class extends Ql{constructor(l,u,d){super(),this._lContainer=l,this._hostTNode=u,this._hostLView=d}get element(){return qc(this._hostTNode,this._hostLView)}get injector(){return new Bn(this._hostTNode,this._hostLView)}get parentInjector(){const l=G(this._hostTNode,this._hostLView);if(fi(l)){const u=kn(l,this._hostLView),d=Qn(l);return new Bn(u[1].data[d+8],u)}return new Bn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(l){const u=qb(this._lContainer);return null!==u&&u[l]||null}get length(){return this._lContainer.length-10}createEmbeddedView(l,u,d){const f=l.createEmbeddedView(u||{});return this.insert(f,d),f}createComponent(l,u,d,f,m){const v=l&&!function Qa(a){return"function"==typeof a}(l);let T;if(v)T=u;else{const Y=u||{};T=Y.index,d=Y.injector,f=Y.projectableNodes,m=Y.ngModuleRef}const M=v?l:new Om(ct(l)),F=d||this.parentInjector;if(!m&&null==M.ngModule){const ie=(v?F:this.parentInjector).get(Ua,null);ie&&(m=ie)}const V=M.create(F,f,void 0,m);return this.insert(V.hostView,T),V}insert(l,u){const d=l._lView,f=d[1];if(function Aa(a){return gr(a[3])}(d)){const V=this.indexOf(l);if(-1!==V)this.detach(V);else{const Y=d[3],ie=new yy(Y,Y[6],Y[3]);ie.detach(ie.indexOf(l))}}const m=this._adjustIndex(u),v=this._lContainer;!function Op(a,l,u,d){const f=10+d,m=u.length;d>0&&(u[f-1][4]=l),d<m-10?(l[4]=u[f],Tc(u,10+d,l)):(u.push(l),l[4]=null),l[3]=u;const v=l[17];null!==v&&u!==v&&function uE(a,l){const u=a[9];l[16]!==l[3][3][16]&&(a[2]=!0),null===u?a[9]=[l]:u.push(l)}(v,l);const T=l[19];null!==T&&T.insertView(a),l[2]|=128}(f,d,v,m);const T=Xv(m,v),M=d[11],F=a_(M,v[7]);return null!==F&&function cE(a,l,u,d,f,m){d[0]=f,d[6]=l,Vp(a,d,u,1,f,m)}(f,v[6],M,d,F,T),l.attachToViewContainerRef(),Tc(eh(v),m,l),l}move(l,u){return this.insert(l,u)}indexOf(l){const u=qb(this._lContainer);return null!==u?u.indexOf(l):-1}remove(l){const u=this._adjustIndex(l,-1),d=Kv(this._lContainer,u);d&&(Ll(eh(this._lContainer),u),o_(d[1],d))}detach(l){const u=this._adjustIndex(l,-1),d=Kv(this._lContainer,u);return d&&null!=Ll(eh(this._lContainer),u)?new km(d):null}_adjustIndex(l,u=0){return null==l?this.length+u:l}};function qb(a){return a[8]}function eh(a){return a[8]||(a[8]=[])}function Wb(a,l){let u;const d=l[a.index];if(gr(d))u=d;else{let f;if(8&a.type)f=Kn(d);else{const m=l[11];f=m.createComment("");const v=ir(a,l);xd(m,a_(m,v),f,function zA(a,l){return ei(a)?a.nextSibling(l):l.nextSibling}(m,v),!1)}l[a.index]=u=GE(d,l,f,a),w_(l,u)}return new yy(u,a,l)}class Zb{constructor(l){this.queryList=l,this.matches=null}clone(){return new Zb(this.queryList)}setDirty(){this.queryList.setDirty()}}class th{constructor(l=[]){this.queries=l}createEmbeddedView(l){const u=l.queries;if(null!==u){const d=null!==l.contentQueries?l.contentQueries[0]:u.length,f=[];for(let m=0;m<d;m++){const v=u.getByIndex(m);f.push(this.queries[v.indexInDeclarationView].clone())}return new th(f)}return null}insertView(l){this.dirtyQueriesWithMatches(l)}detachView(l){this.dirtyQueriesWithMatches(l)}dirtyQueriesWithMatches(l){for(let u=0;u<this.queries.length;u++)null!==Jb(l,u).matches&&this.queries[u].setDirty()}}class vy{constructor(l,u,d=null){this.predicate=l,this.flags=u,this.read=d}}class Yb{constructor(l=[]){this.queries=l}elementStart(l,u){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(l,u)}elementEnd(l){for(let u=0;u<this.queries.length;u++)this.queries[u].elementEnd(l)}embeddedTView(l){let u=null;for(let d=0;d<this.length;d++){const f=null!==u?u.length:0,m=this.getByIndex(d).embeddedTView(l,f);m&&(m.indexInDeclarationView=d,null!==u?u.push(m):u=[m])}return null!==u?new Yb(u):null}template(l,u){for(let d=0;d<this.queries.length;d++)this.queries[d].template(l,u)}getByIndex(l){return this.queries[l]}get length(){return this.queries.length}track(l){this.queries.push(l)}}class by{constructor(l,u=-1){this.metadata=l,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=u}elementStart(l,u){this.isApplyingToNode(u)&&this.matchTNode(l,u)}elementEnd(l){this._declarationNodeIndex===l.index&&(this._appliesToNextNode=!1)}template(l,u){this.elementStart(l,u)}embeddedTView(l,u){return this.isApplyingToNode(l)?(this.crossesNgTemplate=!0,this.addMatch(-l.index,u),new by(this.metadata)):null}isApplyingToNode(l){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const u=this._declarationNodeIndex;let d=l.parent;for(;null!==d&&8&d.type&&d.index!==u;)d=d.parent;return u===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(l,u){const d=this.metadata.predicate;if(Array.isArray(d))for(let f=0;f<d.length;f++){const m=d[f];this.matchTNodeWithReadOption(l,u,kD(u,m)),this.matchTNodeWithReadOption(l,u,hn(u,l,m,!1,!1))}else d===Wc?4&u.type&&this.matchTNodeWithReadOption(l,u,-1):this.matchTNodeWithReadOption(l,u,hn(u,l,d,!1,!1))}matchTNodeWithReadOption(l,u,d){if(null!==d){const f=this.metadata.read;if(null!==f)if(f===xm||f===Bm||f===Wc&&4&u.type)this.addMatch(u.index,-2);else{const m=hn(u,l,f,!1,!1);null!==m&&this.addMatch(u.index,m)}else this.addMatch(u.index,d)}}addMatch(l,u){null===this.matches?this.matches=[l,u]:this.matches.push(l,u)}}function kD(a,l){const u=a.localNames;if(null!==u)for(let d=0;d<u.length;d+=2)if(u[d]===l)return u[d+1];return null}function Tx(a,l,u,d){return-1===u?function RD(a,l){return 11&a.type?qc(a,l):4&a.type?Bf(a,l):null}(l,a):-2===u?function OD(a,l,u){return u===xm?qc(l,a):u===Wc?Bf(l,a):u===Bm?Wb(l,a):void 0}(a,l,d):Bt(a,a[1],u,l)}function ND(a,l,u,d){const f=l[19].queries[d];if(null===f.matches){const m=a.data,v=u.matches,T=[];for(let M=0;M<v.length;M+=2){const F=v[M];T.push(F<0?null:Tx(l,m[F],v[M+1],u.metadata.read))}f.matches=T}return f.matches}function Kb(a,l,u,d){const f=a.queries.getByIndex(u),m=f.matches;if(null!==m){const v=ND(a,l,f,u);for(let T=0;T<m.length;T+=2){const M=m[T];if(M>0)d.push(v[T/2]);else{const F=m[T+1],V=l[-M];for(let Y=10;Y<V.length;Y++){const ie=V[Y];ie[17]===ie[3]&&Kb(ie[1],ie,F,d)}if(null!==V[9]){const Y=V[9];for(let ie=0;ie<Y.length;ie++){const he=Y[ie];Kb(he[1],he,F,d)}}}}}return d}function nh(a){const l=ze(),u=an(),d=ud();pc(d+1);const f=Jb(u,d);if(a.dirty&&io(l)===(2==(2&f.metadata.flags))){if(null===f.matches)a.reset([]);else{const m=f.crossesNgTemplate?Kb(u,l,d,[]):ND(u,l,f,d);a.reset(m,fx),a.notifyOnChanges()}return!0}return!1}function ih(a,l,u){const d=an();d.firstCreatePass&&(qs(d,new vy(a,l,u),-1),2==(2&l)&&(d.staticViewQueries=!0)),Qb(d,ze(),l)}function PD(a,l,u,d){const f=an();if(f.firstCreatePass){const m=ln();qs(f,new vy(l,u,d),m.index),function Ix(a,l){const u=a.contentQueries||(a.contentQueries=[]);l!==(u.length?u[u.length-1]:-1)&&u.push(a.queries.length-1,l)}(f,a),2==(2&u)&&(f.staticContentQueries=!0)}Qb(f,ze(),u)}function FD(){return function Dx(a,l){return a[19].queries[l].queryList}(ze(),ud())}function Qb(a,l,u){const d=new $b(4==(4&u));T0(a,l,d,d.destroy),null===l[19]&&(l[19]=new th),l[19].queries.push(new Zb(d))}function qs(a,l,u){null===a.queries&&(a.queries=new Yb),a.queries.track(new by(l,u))}function Jb(a,l){return a.queries.getByIndex(l)}function ul(a,l){return Bf(a,l)}const lw=Ka("Input",a=>({bindingPropertyName:a})),cw=Ka("Output",a=>({bindingPropertyName:a})),Fx=Ka("HostListener",(a,l)=>({eventName:a,args:l}));function $m(...a){}const Gf=new Ki("Application Initializer");let Kc=(()=>{class a{constructor(u){this.appInits=u,this.resolve=$m,this.reject=$m,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,f)=>{this.resolve=d,this.reject=f})}runInitializers(){if(this.initialized)return;const u=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let f=0;f<this.appInits.length;f++){const m=this.appInits[f]();if($_(m))u.push(m);else if(cm(m)){const v=new Promise((T,M)=>{m.subscribe({complete:T,error:M})});u.push(v)}}Promise.all(u).then(()=>{d()}).catch(f=>{this.reject(f)}),0===u.length&&d(),this.initialized=!0}}return a.\u0275fac=function(u){return new(u||a)(At(Gf,8))},a.\u0275prov=In({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();const WD=new Ki("AppId",{providedIn:"root",factory:function uw(){return`${dw()}${dw()}${dw()}`}});function dw(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const ZD=new Ki("Platform Initializer"),qm=new Ki("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Qc=new Ki("appBootstrapListener");let YD=(()=>{class a{log(u){console.log(u)}warn(u){console.warn(u)}}return a.\u0275fac=function(u){return new(u||a)},a.\u0275prov=In({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})();const hw=new Ki("LocaleId",{providedIn:"root",factory:()=>Dn(hw,xt.Optional|xt.SkipSelf)||function Vx(){return"undefined"!=typeof $localize&&$localize.locale||vm}()}),fw=new Ki("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class Zm{constructor(l,u){this.ngModuleFactory=l,this.componentFactories=u}}let Ay=(()=>{class a{compileModuleSync(u){return new gy(u)}compileModuleAsync(u){return Promise.resolve(this.compileModuleSync(u))}compileModuleAndAllComponentsSync(u){const d=this.compileModuleSync(u),m=tl(Gt(u).declarations).reduce((v,T)=>{const M=ct(T);return M&&v.push(new Om(M)),v},[]);return new Zm(d,m)}compileModuleAndAllComponentsAsync(u){return Promise.resolve(this.compileModuleAndAllComponentsSync(u))}clearCache(){}clearCacheFor(u){}getModuleId(u){}}return a.\u0275fac=function(u){return new(u||a)},a.\u0275prov=In({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();const Vo=(()=>Promise.resolve(0))();function xy(a){"undefined"==typeof Zone?Vo.then(()=>{a&&a.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",a)}class ha{constructor({enableLongStackTrace:l=!1,shouldCoalesceEventChangeDetection:u=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Kl(!1),this.onMicrotaskEmpty=new Kl(!1),this.onStable=new Kl(!1),this.onError=new Kl(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const f=this;f._nesting=0,f._outer=f._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),l&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!d&&u,f.shouldCoalesceRunChangeDetection=d,f.lastRequestAnimationFrameId=-1,f.nativeRequestAnimationFrame=function ky(){let a=sn.requestAnimationFrame,l=sn.cancelAnimationFrame;if("undefined"!=typeof Zone&&a&&l){const u=a[Zone.__symbol__("OriginalDelegate")];u&&(a=u);const d=l[Zone.__symbol__("OriginalDelegate")];d&&(l=d)}return{nativeRequestAnimationFrame:a,nativeCancelAnimationFrame:l}}().nativeRequestAnimationFrame,function QD(a){const l=()=>{!function $f(a){a.isCheckStableRunning||-1!==a.lastRequestAnimationFrameId||(a.lastRequestAnimationFrameId=a.nativeRequestAnimationFrame.call(sn,()=>{a.fakeTopEventTask||(a.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{a.lastRequestAnimationFrameId=-1,Jc(a),a.isCheckStableRunning=!0,Xl(a),a.isCheckStableRunning=!1},void 0,()=>{},()=>{})),a.fakeTopEventTask.invoke()}),Jc(a))}(a)};a._inner=a._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(u,d,f,m,v,T)=>{try{return JD(a),u.invokeTask(f,m,v,T)}finally{(a.shouldCoalesceEventChangeDetection&&"eventTask"===m.type||a.shouldCoalesceRunChangeDetection)&&l(),sh(a)}},onInvoke:(u,d,f,m,v,T,M)=>{try{return JD(a),u.invoke(f,m,v,T,M)}finally{a.shouldCoalesceRunChangeDetection&&l(),sh(a)}},onHasTask:(u,d,f,m)=>{u.hasTask(f,m),d===f&&("microTask"==m.change?(a._hasPendingMicrotasks=m.microTask,Jc(a),Xl(a)):"macroTask"==m.change&&(a.hasPendingMacrotasks=m.macroTask))},onHandleError:(u,d,f,m)=>(u.handleError(f,m),a.runOutsideAngular(()=>a.onError.emit(m)),!1)})}(f)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ha.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(ha.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(l,u,d){return this._inner.run(l,u,d)}runTask(l,u,d,f){const m=this._inner,v=m.scheduleEventTask("NgZoneEvent: "+f,l,KD,$m,$m);try{return m.runTask(v,u,d)}finally{m.cancelTask(v)}}runGuarded(l,u,d){return this._inner.runGuarded(l,u,d)}runOutsideAngular(l){return this._outer.run(l)}}const KD={};function Xl(a){if(0==a._nesting&&!a.hasPendingMicrotasks&&!a.isStable)try{a._nesting++,a.onMicrotaskEmpty.emit(null)}finally{if(a._nesting--,!a.hasPendingMicrotasks)try{a.runOutsideAngular(()=>a.onStable.emit(null))}finally{a.isStable=!0}}}function Jc(a){a.hasPendingMicrotasks=!!(a._hasPendingMicrotasks||(a.shouldCoalesceEventChangeDetection||a.shouldCoalesceRunChangeDetection)&&-1!==a.lastRequestAnimationFrameId)}function JD(a){a._nesting++,a.isStable&&(a.isStable=!1,a.onUnstable.emit(null))}function sh(a){a._nesting--,Xl(a)}class XD{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Kl,this.onMicrotaskEmpty=new Kl,this.onStable=new Kl,this.onError=new Kl}run(l,u,d){return l.apply(u,d)}runGuarded(l,u,d){return l.apply(u,d)}runOutsideAngular(l){return l()}runTask(l,u,d,f){return l.apply(u,d)}}let Xc=(()=>{class a{constructor(u){this._ngZone=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),u.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ha.assertNotInAngularZone(),xy(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())xy(()=>{for(;0!==this._callbacks.length;){let u=this._callbacks.pop();clearTimeout(u.timeoutId),u.doneCb(this._didWork)}this._didWork=!1});else{let u=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(u)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(u=>({source:u.source,creationLocation:u.creationLocation,data:u.data})):[]}addCallback(u,d,f){let m=-1;d&&d>0&&(m=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==m),u(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:u,timeoutId:m,updateCb:f})}whenStable(u,d,f){if(f&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(u,d,f),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(u,d,f){return[]}}return a.\u0275fac=function(u){return new(u||a)(At(ha))},a.\u0275prov=In({token:a,factory:a.\u0275fac}),a})(),oh=(()=>{class a{constructor(){this._applications=new Map,mw.addToWindow(this)}registerApplication(u,d){this._applications.set(u,d)}unregisterApplication(u){this._applications.delete(u)}unregisterAllApplications(){this._applications.clear()}getTestability(u){return this._applications.get(u)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(u,d=!0){return mw.findTestabilityInTree(this,u,d)}}return a.\u0275fac=function(u){return new(u||a)},a.\u0275prov=In({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})();class pw{addToWindow(l){}findTestabilityInTree(l,u,d){return null}}function eI(a){mw=a}let dl,mw=new pw;const gw=new Ki("AllowMultipleToken");class jx{constructor(l,u){this.name=l,this.token=u}}function _w(a,l,u=[]){const d=`Platform: ${l}`,f=new Ki(d);return(m=[])=>{let v=yw();if(!v||v.injector.get(gw,!1))if(a)a(u.concat(m).concat({provide:f,useValue:!0}));else{const T=u.concat(m).concat({provide:f,useValue:!0},{provide:il,useValue:"platform"});!function Gx(a){if(dl&&!dl.destroyed&&!dl.injector.get(gw,!1))throw new Qe(400,"");dl=a.get(tI);const l=a.get(ZD,null);l&&l.forEach(u=>u())}(rl.create({providers:T,name:d}))}return function ah(a){const l=yw();if(!l)throw new Qe(401,"");return l}()}}function yw(){return dl&&!dl.destroyed?dl:null}let tI=(()=>{class a{constructor(u){this._injector=u,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(u,d){const T=function zx(a,l){let u;return u="noop"===a?new XD:("zone.js"===a?void 0:a)||new ha({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==l?void 0:l.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==l?void 0:l.ngZoneRunCoalescing)}),u}(d?d.ngZone:void 0,{ngZoneEventCoalescing:d&&d.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:d&&d.ngZoneRunCoalescing||!1}),M=[{provide:ha,useValue:T}];return T.run(()=>{const F=rl.create({providers:M,parent:this.injector,name:u.moduleType.name}),V=u.create(F),Y=V.injector.get(xp,null);if(!Y)throw new Qe(402,"");return T.runOutsideAngular(()=>{const ie=T.onError.subscribe({next:he=>{Y.handleError(he)}});V.onDestroy(()=>{lh(this._modules,V),ie.unsubscribe()})}),function nI(a,l,u){try{const d=u();return $_(d)?d.catch(f=>{throw l.runOutsideAngular(()=>a.handleError(f)),f}):d}catch(d){throw l.runOutsideAngular(()=>a.handleError(d)),d}}(Y,T,()=>{const ie=V.injector.get(Kc);return ie.runInitializers(),ie.donePromise.then(()=>(function zd(a){It(a,"Expected localeId to be defined"),"string"==typeof a&&(xb=a.toLowerCase().replace(/_/g,"-"))}(V.injector.get(hw,vm)||vm),this._moduleDoBootstrap(V),V))})})}bootstrapModule(u,d=[]){const f=Ny({},d);return function Hx(a,l,u){const d=new gy(u);return Promise.resolve(d)}(0,0,u).then(m=>this.bootstrapModuleFactory(m,f))}_moduleDoBootstrap(u){const d=u.injector.get(Ym);if(u._bootstrapComponents.length>0)u._bootstrapComponents.forEach(f=>d.bootstrap(f));else{if(!u.instance.ngDoBootstrap)throw new Qe(403,"");u.instance.ngDoBootstrap(d)}this._modules.push(u)}onDestroy(u){this._destroyListeners.push(u)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Qe(404,"");this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u()),this._destroyed=!0}get destroyed(){return this._destroyed}}return a.\u0275fac=function(u){return new(u||a)(At(rl))},a.\u0275prov=In({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})();function Ny(a,l){return Array.isArray(l)?l.reduce(Ny,a):Object.assign(Object.assign({},a),l)}let Ym=(()=>{class a{constructor(u,d,f,m){this._zone=u,this._injector=d,this._exceptionHandler=f,this._initStatus=m,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const v=new B.y(M=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{M.next(this._stable),M.complete()})}),T=new B.y(M=>{let F;this._zone.runOutsideAngular(()=>{F=this._zone.onStable.subscribe(()=>{ha.assertNotInAngularZone(),xy(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,M.next(!0))})})});const V=this._zone.onUnstable.subscribe(()=>{ha.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{M.next(!1)}))});return()=>{F.unsubscribe(),V.unsubscribe()}});this.isStable=(0,ve.T)(v,T.pipe((0,ge.B)()))}bootstrap(u,d){if(!this._initStatus.done)throw new Qe(405,"");let f;f=u instanceof fy?u:this._injector.get(Mm).resolveComponentFactory(u),this.componentTypes.push(f.componentType);const m=function Ry(a){return a.isBoundToModule}(f)?void 0:this._injector.get(Ua),T=f.create(rl.NULL,[],d||f.selector,m),M=T.location.nativeElement,F=T.injector.get(Xc,null),V=F&&T.injector.get(oh);return F&&V&&V.registerApplication(M,F),T.onDestroy(()=>{this.detachView(T.hostView),lh(this.components,T),V&&V.unregisterApplication(M)}),this._loadComponent(T),T}tick(){if(this._runningTick)throw new Qe(101,"");try{this._runningTick=!0;for(let u of this._views)u.detectChanges()}catch(u){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(u))}finally{this._runningTick=!1}}attachView(u){const d=u;this._views.push(d),d.attachToAppRef(this)}detachView(u){const d=u;lh(this._views,d),d.detachFromAppRef()}_loadComponent(u){this.attachView(u.hostView),this.tick(),this.components.push(u),this._injector.get(Qc,[]).concat(this._bootstrapListeners).forEach(f=>f(u))}ngOnDestroy(){this._views.slice().forEach(u=>u.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return a.\u0275fac=function(u){return new(u||a)(At(ha),At(rl),At(xp),At(Kc))},a.\u0275prov=In({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();function lh(a,l){const u=a.indexOf(l);u>-1&&a.splice(u,1)}let iI=!0,Py=!1;function rI(){return Py=!0,iI}function $x(){if(Py)throw new Error("Cannot enable prod mode after platform setup.");iI=!1}let Zx=(()=>{class a{}return a.__NG_ELEMENT_ID__=sI,a})();function sI(a){return function Yx(a,l,u){if(go(a)&&!u){const d=Rr(a.index,l);return new km(d,d)}return 47&a.type?new km(l[16],l):null}(ln(),ze(),16==(16&a))}class dI{constructor(){}supports(l){return Fd(l)}create(l){return new hI(l)}}const ww=(a,l)=>l;class hI{constructor(l){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=l||ww}forEachItem(l){let u;for(u=this._itHead;null!==u;u=u._next)l(u)}forEachOperation(l){let u=this._itHead,d=this._removalsHead,f=0,m=null;for(;u||d;){const v=!d||u&&u.currentIndex<qf(d,f,m)?u:d,T=qf(v,f,m),M=v.currentIndex;if(v===d)f--,d=d._nextRemoved;else if(u=u._next,null==v.previousIndex)f++;else{m||(m=[]);const F=T-f,V=M-f;if(F!=V){for(let ie=0;ie<F;ie++){const he=ie<m.length?m[ie]:m[ie]=0,Ve=he+ie;V<=Ve&&Ve<F&&(m[ie]=he+1)}m[v.previousIndex]=V-F}}T!==M&&l(v,T,M)}}forEachPreviousItem(l){let u;for(u=this._previousItHead;null!==u;u=u._nextPrevious)l(u)}forEachAddedItem(l){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)l(u)}forEachMovedItem(l){let u;for(u=this._movesHead;null!==u;u=u._nextMoved)l(u)}forEachRemovedItem(l){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)l(u)}forEachIdentityChange(l){let u;for(u=this._identityChangesHead;null!==u;u=u._nextIdentityChange)l(u)}diff(l){if(null==l&&(l=[]),!Fd(l))throw new Qe(900,"");return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let f,m,v,u=this._itHead,d=!1;if(Array.isArray(l)){this.length=l.length;for(let T=0;T<this.length;T++)m=l[T],v=this._trackByFn(T,m),null!==u&&Object.is(u.trackById,v)?(d&&(u=this._verifyReinsertion(u,m,v,T)),Object.is(u.item,m)||this._addIdentityChange(u,m)):(u=this._mismatch(u,m,v,T),d=!0),u=u._next}else f=0,function fT(a,l){if(Array.isArray(a))for(let u=0;u<a.length;u++)l(a[u]);else{const u=a[Nu()]();let d;for(;!(d=u.next()).done;)l(d.value)}}(l,T=>{v=this._trackByFn(f,T),null!==u&&Object.is(u.trackById,v)?(d&&(u=this._verifyReinsertion(u,T,v,f)),Object.is(u.item,T)||this._addIdentityChange(u,T)):(u=this._mismatch(u,T,v,f),d=!0),u=u._next,f++}),this.length=f;return this._truncate(u),this.collection=l,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let l;for(l=this._previousItHead=this._itHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._additionsHead;null!==l;l=l._nextAdded)l.previousIndex=l.currentIndex;for(this._additionsHead=this._additionsTail=null,l=this._movesHead;null!==l;l=l._nextMoved)l.previousIndex=l.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(l,u,d,f){let m;return null===l?m=this._itTail:(m=l._prev,this._remove(l)),null!==(l=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(l.item,u)||this._addIdentityChange(l,u),this._reinsertAfter(l,m,f)):null!==(l=null===this._linkedRecords?null:this._linkedRecords.get(d,f))?(Object.is(l.item,u)||this._addIdentityChange(l,u),this._moveAfter(l,m,f)):l=this._addAfter(new fI(u,d),m,f),l}_verifyReinsertion(l,u,d,f){let m=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==m?l=this._reinsertAfter(m,l._prev,f):l.currentIndex!=f&&(l.currentIndex=f,this._addToMoves(l,f)),l}_truncate(l){for(;null!==l;){const u=l._next;this._addToRemovals(this._unlink(l)),l=u}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(l,u,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(l);const f=l._prevRemoved,m=l._nextRemoved;return null===f?this._removalsHead=m:f._nextRemoved=m,null===m?this._removalsTail=f:m._prevRemoved=f,this._insertAfter(l,u,d),this._addToMoves(l,d),l}_moveAfter(l,u,d){return this._unlink(l),this._insertAfter(l,u,d),this._addToMoves(l,d),l}_addAfter(l,u,d){return this._insertAfter(l,u,d),this._additionsTail=null===this._additionsTail?this._additionsHead=l:this._additionsTail._nextAdded=l,l}_insertAfter(l,u,d){const f=null===u?this._itHead:u._next;return l._next=f,l._prev=u,null===f?this._itTail=l:f._prev=l,null===u?this._itHead=l:u._next=l,null===this._linkedRecords&&(this._linkedRecords=new ng),this._linkedRecords.put(l),l.currentIndex=d,l}_remove(l){return this._addToRemovals(this._unlink(l))}_unlink(l){null!==this._linkedRecords&&this._linkedRecords.remove(l);const u=l._prev,d=l._next;return null===u?this._itHead=d:u._next=d,null===d?this._itTail=u:d._prev=u,l}_addToMoves(l,u){return l.previousIndex===u||(this._movesTail=null===this._movesTail?this._movesHead=l:this._movesTail._nextMoved=l),l}_addToRemovals(l){return null===this._unlinkedRecords&&(this._unlinkedRecords=new ng),this._unlinkedRecords.put(l),l.currentIndex=null,l._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=l,l._prevRemoved=null):(l._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=l),l}_addIdentityChange(l,u){return l.item=u,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=l:this._identityChangesTail._nextIdentityChange=l,l}}class fI{constructor(l,u){this.item=l,this.trackById=u,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Cw{constructor(){this._head=null,this._tail=null}add(l){null===this._head?(this._head=this._tail=l,l._nextDup=null,l._prevDup=null):(this._tail._nextDup=l,l._prevDup=this._tail,l._nextDup=null,this._tail=l)}get(l,u){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===u||u<=d.currentIndex)&&Object.is(d.trackById,l))return d;return null}remove(l){const u=l._prevDup,d=l._nextDup;return null===u?this._head=d:u._nextDup=d,null===d?this._tail=u:d._prevDup=u,null===this._head}}class ng{constructor(){this.map=new Map}put(l){const u=l.trackById;let d=this.map.get(u);d||(d=new Cw,this.map.set(u,d)),d.add(l)}get(l,u){const f=this.map.get(l);return f?f.get(l,u):null}remove(l){const u=l.trackById;return this.map.get(u).remove(l)&&this.map.delete(u),l}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function qf(a,l,u){const d=a.previousIndex;if(null===d)return d;let f=0;return u&&d<u.length&&(f=u[d]),d+l+f}class ig{constructor(){}supports(l){return l instanceof Map||W0(l)}create(){return new Ew}}class Ew{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(l){let u;for(u=this._mapHead;null!==u;u=u._next)l(u)}forEachPreviousItem(l){let u;for(u=this._previousMapHead;null!==u;u=u._nextPrevious)l(u)}forEachChangedItem(l){let u;for(u=this._changesHead;null!==u;u=u._nextChanged)l(u)}forEachAddedItem(l){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)l(u)}forEachRemovedItem(l){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)l(u)}diff(l){if(l){if(!(l instanceof Map||W0(l)))throw new Qe(900,"")}else l=new Map;return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let u=this._mapHead;if(this._appendAfter=null,this._forEach(l,(d,f)=>{if(u&&u.key===f)this._maybeAddToChanges(u,d),this._appendAfter=u,u=u._next;else{const m=this._getOrCreateRecordForKey(f,d);u=this._insertBeforeOrAppend(u,m)}}),u){u._prev&&(u._prev._next=null),this._removalsHead=u;for(let d=u;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(l,u){if(l){const d=l._prev;return u._next=l,u._prev=d,l._prev=u,d&&(d._next=u),l===this._mapHead&&(this._mapHead=u),this._appendAfter=l,l}return this._appendAfter?(this._appendAfter._next=u,u._prev=this._appendAfter):this._mapHead=u,this._appendAfter=u,null}_getOrCreateRecordForKey(l,u){if(this._records.has(l)){const f=this._records.get(l);this._maybeAddToChanges(f,u);const m=f._prev,v=f._next;return m&&(m._next=v),v&&(v._prev=m),f._next=null,f._prev=null,f}const d=new Tw(l);return this._records.set(l,d),d.currentValue=u,this._addToAdditions(d),d}_reset(){if(this.isDirty){let l;for(this._previousMapHead=this._mapHead,l=this._previousMapHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._changesHead;null!==l;l=l._nextChanged)l.previousValue=l.currentValue;for(l=this._additionsHead;null!=l;l=l._nextAdded)l.previousValue=l.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(l,u){Object.is(u,l.currentValue)||(l.previousValue=l.currentValue,l.currentValue=u,this._addToChanges(l))}_addToAdditions(l){null===this._additionsHead?this._additionsHead=this._additionsTail=l:(this._additionsTail._nextAdded=l,this._additionsTail=l)}_addToChanges(l){null===this._changesHead?this._changesHead=this._changesTail=l:(this._changesTail._nextChanged=l,this._changesTail=l)}_forEach(l,u){l instanceof Map?l.forEach(u):Object.keys(l).forEach(d=>u(l[d],d))}}class Tw{constructor(l){this.key=l,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Uy(){return new By([new dI])}let By=(()=>{class a{constructor(u){this.factories=u}static create(u,d){if(null!=d){const f=d.factories.slice();u=u.concat(f)}return new a(u)}static extend(u){return{provide:a,useFactory:d=>a.create(u,d||Uy()),deps:[[a,new ra,new Wr]]}}find(u){const d=this.factories.find(f=>f.supports(u));if(null!=d)return d;throw new Qe(901,"")}}return a.\u0275prov=In({token:a,providedIn:"root",factory:Uy}),a})();function Dw(){return new Iw([new ig])}let Iw=(()=>{class a{constructor(u){this.factories=u}static create(u,d){if(d){const f=d.factories.slice();u=u.concat(f)}return new a(u)}static extend(u){return{provide:a,useFactory:d=>a.create(u,d||Dw()),deps:[[a,new ra,new Wr]]}}find(u){const d=this.factories.find(m=>m.supports(u));if(d)return d;throw new Qe(901,"")}}return a.\u0275prov=In({token:a,providedIn:"root",factory:Dw}),a})();const rg=_w(null,"core",[]);let Aw=(()=>{class a{constructor(u){}}return a.\u0275fac=function(u){return new(u||a)(At(Ym))},a.\u0275mod=q({type:a}),a.\u0275inj=Tn({}),a})()},3942:(Rt,He,z)=>{z.d(He,{Z:()=>Qe});var o=z(2090),J=z(4859),B=z(9681),ve=z(1877);class ge{constructor(Oe,Ue){this._delegate=Oe,this.firebase=Ue,(0,B._addComponent)(Oe,new J.wA("app-compat",()=>this,"PUBLIC")),this.container=Oe.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Oe){this._delegate.automaticDataCollectionEnabled=Oe}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Oe=>{this._delegate.checkDestroyed(),Oe()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,B.deleteApp)(this._delegate)))}_getService(Oe,Ue=B._DEFAULT_ENTRY_NAME){var yt;this._delegate.checkDestroyed();const Je=this._delegate.container.getProvider(Oe);return!Je.isInitialized()&&"EXPLICIT"===(null===(yt=Je.getComponent())||void 0===yt?void 0:yt.instantiationMode)&&Je.initialize(),Je.getImmediate({identifier:Ue})}_removeServiceInstance(Oe,Ue=B._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Oe).clearInstance(Ue)}_addComponent(Oe){(0,B._addComponent)(this._delegate,Oe)}_addOrOverwriteComponent(Oe){(0,B._addOrOverwriteComponent)(this._delegate,Oe)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const fe=new o.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),re=function xe(){const et=function Te(et){const Oe={},Ue={__esModule:!0,initializeApp:function je(me,pt={}){const ue=B.initializeApp(me,pt);if((0,o.r3)(Oe,ue.name))return Oe[ue.name];const Se=new et(ue,Ue);return Oe[ue.name]=Se,Se},app:Je,registerVersion:B.registerVersion,setLogLevel:B.setLogLevel,onLog:B.onLog,apps:null,SDK_VERSION:B.SDK_VERSION,INTERNAL:{registerComponent:function Ne(me){const pt=me.name,ue=pt.replace("-compat","");if(B._registerComponent(me)&&"PUBLIC"===me.type){const Se=(De=Je())=>{if("function"!=typeof De[ue])throw fe.create("invalid-app-argument",{appName:pt});return De[ue]()};void 0!==me.serviceProps&&(0,o.ZB)(Se,me.serviceProps),Ue[ue]=Se,et.prototype[ue]=function(...De){return this._getService.bind(this,pt).apply(this,me.multipleInstances?De:[])}}return"PUBLIC"===me.type?Ue[ue]:null},removeApp:function yt(me){delete Oe[me]},useAsService:function rt(me,pt){return"serverAuth"===pt?null:pt},modularAPIs:B}};function Je(me){if(!(0,o.r3)(Oe,me=me||B._DEFAULT_ENTRY_NAME))throw fe.create("no-app",{appName:me});return Oe[me]}return Ue.default=Ue,Object.defineProperty(Ue,"apps",{get:function ce(){return Object.keys(Oe).map(me=>Oe[me])}}),Je.App=et,Ue}(ge);return et.INTERNAL=Object.assign(Object.assign({},et.INTERNAL),{createFirebaseNamespace:xe,extendNamespace:function Oe(Ue){(0,o.ZB)(et,Ue)},createSubscribe:o.ne,ErrorFactory:o.LL,deepExtend:o.ZB}),et}(),ne=new ve.Yd("@firebase/app-compat");if((0,o.jU)()&&void 0!==self.firebase){ne.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const et=self.firebase.SDK_VERSION;et&&et.indexOf("LITE")>=0&&ne.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Qe=re;!function Ge(et){(0,B.registerVersion)("@firebase/app-compat","0.1.22",et)}()},9681:(Rt,He,z)=>{z.r(He),z.d(He,{FirebaseError:()=>ve.ZR,SDK_VERSION:()=>Ur,_DEFAULT_ENTRY_NAME:()=>gi,_addComponent:()=>Pn,_addOrOverwriteComponent:()=>Mr,_apps:()=>St,_clearComponents:()=>ti,_components:()=>Vn,_getProvider:()=>_n,_registerComponent:()=>In,_removeServiceInstance:()=>Tn,deleteApp:()=>xr,getApp:()=>qi,getApps:()=>ni,initializeApp:()=>es,onLog:()=>vi,registerVersion:()=>fr,setLogLevel:()=>xn});var o=z(5861),J=z(4859),B=z(1877),ve=z(2090);class ge{constructor(Be){this.container=Be}getPlatformInfoString(){return this.container.getProviders().map(Xe=>{if(function Le(lt){const Be=lt.getComponent();return"VERSION"===(null==Be?void 0:Be.type)}(Xe)){const Ot=Xe.getImmediate();return`${Ot.library}/${Ot.version}`}return null}).filter(Xe=>Xe).join(" ")}}const fe="@firebase/app",xe=new B.Yd("@firebase/app"),gi="[DEFAULT]",It={[fe]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},St=new Map,Vn=new Map;function Pn(lt,Be){try{lt.container.addComponent(Be)}catch(Xe){xe.debug(`Component ${Be.name} failed to register with FirebaseApp ${lt.name}`,Xe)}}function Mr(lt,Be){lt.container.addOrOverwriteComponent(Be)}function In(lt){const Be=lt.name;if(Vn.has(Be))return xe.debug(`There were multiple attempts to register component ${Be}.`),!1;Vn.set(Be,lt);for(const Xe of St.values())Pn(Xe,lt);return!0}function _n(lt,Be){const Xe=lt.container.getProvider("heartbeat").getImmediate({optional:!0});return Xe&&Xe.triggerHeartbeat(),lt.container.getProvider(Be)}function Tn(lt,Be,Xe=gi){_n(lt,Be).clearInstance(Xe)}function ti(){Vn.clear()}const Zt=new ve.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class yi{constructor(Be,Xe,Ot){this._isDeleted=!1,this._options=Object.assign({},Be),this._config=Object.assign({},Xe),this._name=Xe.name,this._automaticDataCollectionEnabled=Xe.automaticDataCollectionEnabled,this._container=Ot,this.container.addComponent(new J.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Be){this.checkDestroyed(),this._automaticDataCollectionEnabled=Be}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Be){this._isDeleted=Be}checkDestroyed(){if(this.isDeleted)throw Zt.create("app-deleted",{appName:this._name})}}const Ur="9.6.11";function es(lt,Be={}){"object"!=typeof Be&&(Be={name:Be});const Xe=Object.assign({name:gi,automaticDataCollectionEnabled:!1},Be),Ot=Xe.name;if("string"!=typeof Ot||!Ot)throw Zt.create("bad-app-name",{appName:String(Ot)});const Jt=St.get(Ot);if(Jt){if((0,ve.vZ)(lt,Jt.options)&&(0,ve.vZ)(Xe,Jt.config))return Jt;throw Zt.create("duplicate-app",{appName:Ot})}const tn=new J.H0(Ot);for(const ee of Vn.values())tn.addComponent(ee);const se=new yi(lt,Xe,tn);return St.set(Ot,se),se}function qi(lt=gi){const Be=St.get(lt);if(!Be)throw Zt.create("no-app",{appName:lt});return Be}function ni(){return Array.from(St.values())}function xr(lt){return xt.apply(this,arguments)}function xt(){return(xt=(0,o.Z)(function*(lt){const Be=lt.name;St.has(Be)&&(St.delete(Be),yield Promise.all(lt.container.getProviders().map(Xe=>Xe.delete())),lt.isDeleted=!0)})).apply(this,arguments)}function fr(lt,Be,Xe){var Ot;let Jt=null!==(Ot=It[lt])&&void 0!==Ot?Ot:lt;Xe&&(Jt+=`-${Xe}`);const tn=Jt.match(/\s|\//),se=Be.match(/\s|\//);if(tn||se){const ee=[`Unable to register library "${Jt}" with version "${Be}":`];return tn&&ee.push(`library name "${Jt}" contains illegal characters (whitespace or "/")`),tn&&se&&ee.push("and"),se&&ee.push(`version name "${Be}" contains illegal characters (whitespace or "/")`),void xe.warn(ee.join(" "))}In(new J.wA(`${Jt}-version`,()=>({library:Jt,version:Be}),"VERSION"))}function vi(lt,Be){if(null!==lt&&"function"!=typeof lt)throw Zt.create("invalid-log-argument");(0,B.Am)(lt,Be)}function xn(lt){(0,B.Ub)(lt)}const bi="firebase-heartbeat-store";let qn=null;function Un(){return qn||(qn=(0,ve.X3)("firebase-heartbeat-database",1,(lt,Be)=>{0===Be&&lt.createObjectStore(bi)}).catch(lt=>{throw Zt.create("storage-open",{originalErrorMessage:lt.message})})),qn}function en(){return(en=(0,o.Z)(function*(lt){try{return(yield Un()).transaction(bi).objectStore(bi).get(tr(lt))}catch(Be){throw Zt.create("storage-get",{originalErrorMessage:Be.message})}})).apply(this,arguments)}function Dt(lt,Be){return vt.apply(this,arguments)}function vt(){return(vt=(0,o.Z)(function*(lt,Be){try{const Ot=(yield Un()).transaction(bi,"readwrite");return yield Ot.objectStore(bi).put(Be,tr(lt)),Ot.complete}catch(Xe){throw Zt.create("storage-set",{originalErrorMessage:Xe.message})}})).apply(this,arguments)}function tr(lt){return`${lt.name}!${lt.options.appId}`}class ns{constructor(Be){this.container=Be,this._heartbeatsCache=null;const Xe=this.container.getProvider("app").getImmediate();this._storage=new Nt(Xe),this._heartbeatsCachePromise=this._storage.read().then(Ot=>(this._heartbeatsCache=Ot,Ot))}triggerHeartbeat(){var Be=this;return(0,o.Z)(function*(){const Ot=Be.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Jt=wi();if(null===Be._heartbeatsCache&&(Be._heartbeatsCache=yield Be._heartbeatsCachePromise),Be._heartbeatsCache.lastSentHeartbeatDate!==Jt&&!Be._heartbeatsCache.heartbeats.some(tn=>tn.date===Jt))return Be._heartbeatsCache.heartbeats.push({date:Jt,agent:Ot}),Be._heartbeatsCache.heartbeats=Be._heartbeatsCache.heartbeats.filter(tn=>{const se=new Date(tn.date).valueOf();return Date.now()-se<=2592e6}),Be._storage.overwrite(Be._heartbeatsCache)})()}getHeartbeatsHeader(){var Be=this;return(0,o.Z)(function*(){if(null===Be._heartbeatsCache&&(yield Be._heartbeatsCachePromise),null===Be._heartbeatsCache||0===Be._heartbeatsCache.heartbeats.length)return"";const Xe=wi(),{heartbeatsToSend:Ot,unsentEntries:Jt}=function Sn(lt,Be=1024){const Xe=[];let Ot=lt.slice();for(const Jt of lt){const tn=Xe.find(se=>se.agent===Jt.agent);if(tn){if(tn.dates.push(Jt.date),ci(Xe)>Be){tn.dates.pop();break}}else if(Xe.push({agent:Jt.agent,dates:[Jt.date]}),ci(Xe)>Be){Xe.pop();break}Ot=Ot.slice(1)}return{heartbeatsToSend:Xe,unsentEntries:Ot}}(Be._heartbeatsCache.heartbeats),tn=(0,ve.L)(JSON.stringify({version:2,heartbeats:Ot}));return Be._heartbeatsCache.lastSentHeartbeatDate=Xe,Jt.length>0?(Be._heartbeatsCache.heartbeats=Jt,yield Be._storage.overwrite(Be._heartbeatsCache)):(Be._heartbeatsCache.heartbeats=[],Be._storage.overwrite(Be._heartbeatsCache)),tn})()}}function wi(){return(new Date).toISOString().substring(0,10)}class Nt{constructor(Be){this.app=Be,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,o.Z)(function*(){return!!(0,ve.hl)()&&(0,ve.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Be=this;return(0,o.Z)(function*(){return(yield Be._canUseIndexedDBPromise)&&(yield function Ns(lt){return en.apply(this,arguments)}(Be.app))||{heartbeats:[]}})()}overwrite(Be){var Xe=this;return(0,o.Z)(function*(){var Ot;if(yield Xe._canUseIndexedDBPromise){const tn=yield Xe.read();return Dt(Xe.app,{lastSentHeartbeatDate:null!==(Ot=Be.lastSentHeartbeatDate)&&void 0!==Ot?Ot:tn.lastSentHeartbeatDate,heartbeats:Be.heartbeats})}})()}add(Be){var Xe=this;return(0,o.Z)(function*(){var Ot;if(yield Xe._canUseIndexedDBPromise){const tn=yield Xe.read();return Dt(Xe.app,{lastSentHeartbeatDate:null!==(Ot=Be.lastSentHeartbeatDate)&&void 0!==Ot?Ot:tn.lastSentHeartbeatDate,heartbeats:[...tn.heartbeats,...Be.heartbeats]})}})()}}function ci(lt){return(0,ve.L)(JSON.stringify({version:2,heartbeats:lt})).length}!function on(lt){In(new J.wA("platform-logger",Be=>new ge(Be),"PRIVATE")),In(new J.wA("heartbeat",Be=>new ns(Be),"PRIVATE")),fr(fe,"0.7.21",lt),fr(fe,"0.7.21","esm2017"),fr("fire-js","")}("")},4859:(Rt,He,z)=>{z.d(He,{H0:()=>Te,wA:()=>B,zt:()=>ge});var o=z(5861),J=z(2090);class B{constructor(re,ne,_e){this.name=re,this.instanceFactory=ne,this.type=_e,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(re){return this.instantiationMode=re,this}setMultipleInstances(re){return this.multipleInstances=re,this}setServiceProps(re){return this.serviceProps=re,this}setInstanceCreatedCallback(re){return this.onInstanceCreated=re,this}}const ve="[DEFAULT]";class ge{constructor(re,ne){this.name=re,this.container=ne,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(re){const ne=this.normalizeInstanceIdentifier(re);if(!this.instancesDeferred.has(ne)){const _e=new J.BH;if(this.instancesDeferred.set(ne,_e),this.isInitialized(ne)||this.shouldAutoInitialize())try{const ot=this.getOrInitializeService({instanceIdentifier:ne});ot&&_e.resolve(ot)}catch(ot){}}return this.instancesDeferred.get(ne).promise}getImmediate(re){var ne;const _e=this.normalizeInstanceIdentifier(null==re?void 0:re.identifier),ot=null!==(ne=null==re?void 0:re.optional)&&void 0!==ne&&ne;if(!this.isInitialized(_e)&&!this.shouldAutoInitialize()){if(ot)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:_e})}catch(Ge){if(ot)return null;throw Ge}}getComponent(){return this.component}setComponent(re){if(re.name!==this.name)throw Error(`Mismatching Component ${re.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=re,this.shouldAutoInitialize()){if(function fe(xe){return"EAGER"===xe.instantiationMode}(re))try{this.getOrInitializeService({instanceIdentifier:ve})}catch(ne){}for(const[ne,_e]of this.instancesDeferred.entries()){const ot=this.normalizeInstanceIdentifier(ne);try{const Ge=this.getOrInitializeService({instanceIdentifier:ot});_e.resolve(Ge)}catch(Ge){}}}}clearInstance(re=ve){this.instancesDeferred.delete(re),this.instancesOptions.delete(re),this.instances.delete(re)}delete(){var re=this;return(0,o.Z)(function*(){const ne=Array.from(re.instances.values());yield Promise.all([...ne.filter(_e=>"INTERNAL"in _e).map(_e=>_e.INTERNAL.delete()),...ne.filter(_e=>"_delete"in _e).map(_e=>_e._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(re=ve){return this.instances.has(re)}getOptions(re=ve){return this.instancesOptions.get(re)||{}}initialize(re={}){const{options:ne={}}=re,_e=this.normalizeInstanceIdentifier(re.instanceIdentifier);if(this.isInitialized(_e))throw Error(`${this.name}(${_e}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const ot=this.getOrInitializeService({instanceIdentifier:_e,options:ne});for(const[Ge,Qe]of this.instancesDeferred.entries())_e===this.normalizeInstanceIdentifier(Ge)&&Qe.resolve(ot);return ot}onInit(re,ne){var _e;const ot=this.normalizeInstanceIdentifier(ne),Ge=null!==(_e=this.onInitCallbacks.get(ot))&&void 0!==_e?_e:new Set;Ge.add(re),this.onInitCallbacks.set(ot,Ge);const Qe=this.instances.get(ot);return Qe&&re(Qe,ot),()=>{Ge.delete(re)}}invokeOnInitCallbacks(re,ne){const _e=this.onInitCallbacks.get(ne);if(_e)for(const ot of _e)try{ot(re,ne)}catch(Ge){}}getOrInitializeService({instanceIdentifier:re,options:ne={}}){let _e=this.instances.get(re);if(!_e&&this.component&&(_e=this.component.instanceFactory(this.container,{instanceIdentifier:(xe=re,xe===ve?void 0:xe),options:ne}),this.instances.set(re,_e),this.instancesOptions.set(re,ne),this.invokeOnInitCallbacks(_e,re),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,re,_e)}catch(ot){}var xe;return _e||null}normalizeInstanceIdentifier(re=ve){return this.component?this.component.multipleInstances?re:ve:re}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Te{constructor(re){this.name=re,this.providers=new Map}addComponent(re){const ne=this.getProvider(re.name);if(ne.isComponentSet())throw new Error(`Component ${re.name} has already been registered with ${this.name}`);ne.setComponent(re)}addOrOverwriteComponent(re){this.getProvider(re.name).isComponentSet()&&this.providers.delete(re.name),this.addComponent(re)}getProvider(re){if(this.providers.has(re))return this.providers.get(re);const ne=new ge(re,this);return this.providers.set(re,ne),ne}getProviders(){return Array.from(this.providers.values())}}},1877:(Rt,He,z)=>{z.d(He,{Am:()=>xe,Ub:()=>Te,Yd:()=>fe,in:()=>J});const o=[];var J=(()=>{return(re=J||(J={}))[re.DEBUG=0]="DEBUG",re[re.VERBOSE=1]="VERBOSE",re[re.INFO=2]="INFO",re[re.WARN=3]="WARN",re[re.ERROR=4]="ERROR",re[re.SILENT=5]="SILENT",J;var re})();const B={debug:J.DEBUG,verbose:J.VERBOSE,info:J.INFO,warn:J.WARN,error:J.ERROR,silent:J.SILENT},ve=J.INFO,ge={[J.DEBUG]:"log",[J.VERBOSE]:"log",[J.INFO]:"info",[J.WARN]:"warn",[J.ERROR]:"error"},Le=(re,ne,..._e)=>{if(ne<re.logLevel)return;const ot=(new Date).toISOString(),Ge=ge[ne];if(!Ge)throw new Error(`Attempted to log a message with an invalid logType (value: ${ne})`);console[Ge](`[${ot}]  ${re.name}:`,..._e)};class fe{constructor(ne){this.name=ne,this._logLevel=ve,this._logHandler=Le,this._userLogHandler=null,o.push(this)}get logLevel(){return this._logLevel}set logLevel(ne){if(!(ne in J))throw new TypeError(`Invalid value "${ne}" assigned to \`logLevel\``);this._logLevel=ne}setLogLevel(ne){this._logLevel="string"==typeof ne?B[ne]:ne}get logHandler(){return this._logHandler}set logHandler(ne){if("function"!=typeof ne)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ne}get userLogHandler(){return this._userLogHandler}set userLogHandler(ne){this._userLogHandler=ne}debug(...ne){this._userLogHandler&&this._userLogHandler(this,J.DEBUG,...ne),this._logHandler(this,J.DEBUG,...ne)}log(...ne){this._userLogHandler&&this._userLogHandler(this,J.VERBOSE,...ne),this._logHandler(this,J.VERBOSE,...ne)}info(...ne){this._userLogHandler&&this._userLogHandler(this,J.INFO,...ne),this._logHandler(this,J.INFO,...ne)}warn(...ne){this._userLogHandler&&this._userLogHandler(this,J.WARN,...ne),this._logHandler(this,J.WARN,...ne)}error(...ne){this._userLogHandler&&this._userLogHandler(this,J.ERROR,...ne),this._logHandler(this,J.ERROR,...ne)}}function Te(re){o.forEach(ne=>{ne.setLogLevel(re)})}function xe(re,ne){for(const _e of o){let ot=null;ne&&ne.level&&(ot=B[ne.level]),_e.userLogHandler=null===re?null:(Ge,Qe,...et)=>{const Oe=et.map(Ue=>{if(null==Ue)return null;if("string"==typeof Ue)return Ue;if("number"==typeof Ue||"boolean"==typeof Ue)return Ue.toString();if(Ue instanceof Error)return Ue.message;try{return JSON.stringify(Ue)}catch(yt){return null}}).filter(Ue=>Ue).join(" ");Qe>=(null!=ot?ot:Ge.logLevel)&&re({level:J[Qe].toLowerCase(),message:Oe,args:et,type:Ge.name})}}}},5861:(Rt,He,z)=>{function o(B,ve,ge,Le,fe,Te,xe){try{var re=B[Te](xe),ne=re.value}catch(_e){return void ge(_e)}re.done?ve(ne):Promise.resolve(ne).then(Le,fe)}function J(B){return function(){var ve=this,ge=arguments;return new Promise(function(Le,fe){var Te=B.apply(ve,ge);function xe(ne){o(Te,Le,fe,xe,re,"next",ne)}function re(ne){o(Te,Le,fe,xe,re,"throw",ne)}xe(void 0)})}}z.d(He,{Z:()=>J})}},Rt=>{Rt(Rt.s=2603)}]);