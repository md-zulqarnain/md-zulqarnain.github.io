"use strict";(self.webpackChunkng_firebase=self.webpackChunkng_firebase||[]).push([[179],{2011:(Rt,He,$)=>{$.d(He,{Dh:()=>Te,GT:()=>Le,cc:()=>Ge,hO:()=>st,on:()=>re,pX:()=>ge,xv:()=>xe});var a=$(5e3),J=$(127),U=$(5813);Rt=$.hmd(Rt);const ye=["ngOnDestroy"],ge=(Be,gt,Je,je={})=>new Proxy(Be,{get:(ce,Ne)=>Je.runOutsideAngular(()=>{var rt;if(Be[Ne])return(null===(rt=null==je?void 0:je.spy)||void 0===rt?void 0:rt.get)&&je.spy.get(Ne,Be[Ne]),Be[Ne];if(ye.indexOf(Ne)>-1)return()=>{};const me=gt.toPromise().then(ft=>{const ue=ft&&ft[Ne];return"function"==typeof ue?ue.bind(ft):ue&&ue.then?ue.then(Se=>Je.run(()=>Se)):Je.run(()=>ue)});return new Proxy(()=>{},{get:(ft,ue)=>me[ue],apply:(ft,ue,Se)=>me.then(De=>{var Ae;const Ye=De&&De(...Se);return(null===(Ae=null==je?void 0:je.spy)||void 0===Ae?void 0:Ae.apply)&&je.spy.apply(Ne,Se,Ye),Ye})})})}),Le=(Be,gt)=>{gt.forEach(Je=>{Object.getOwnPropertyNames(Je.prototype||Je).forEach(je=>{Object.defineProperty(Be.prototype,je,Object.getOwnPropertyDescriptor(Je.prototype||Je,je))})})};class fe{constructor(gt){return gt}}const Te=new a.OlP("angularfire2.app.options"),xe=new a.OlP("angularfire2.app.name");function re(Be,gt,Je){const ce="object"==typeof Je&&Je||{};ce.name=ce.name||"string"==typeof Je&&Je||"[DEFAULT]";const rt=J.Z.apps.filter(me=>me&&me.name===ce.name)[0]||gt.runOutsideAngular(()=>J.Z.initializeApp(Be,ce));try{JSON.stringify(Be)!==JSON.stringify(rt.options)&&ne("error",`${rt.name} Firebase App already initialized with different options${Rt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(me){}return new fe(rt)}const ne=(Be,...gt)=>{(0,a.X6Q)()&&"undefined"!=typeof console&&console[Be](...gt)},_e={provide:fe,useFactory:re,deps:[Te,a.R0b,[new a.FiY,xe]]};let st=(()=>{class Be{constructor(Je){J.Z.registerVersion("angularfire",U.q4.full,"core"),J.Z.registerVersion("angularfire",U.q4.full,"app-compat"),J.Z.registerVersion("angular",a.q4F.full,Je.toString())}static initializeApp(Je,je){return{ngModule:Be,providers:[{provide:Te,useValue:Je},{provide:xe,useValue:je}]}}}return Be.\u0275fac=function(Je){return new(Je||Be)(a.LFG(a.Lbi))},Be.\u0275mod=a.oAB({type:Be}),Be.\u0275inj=a.cJS({providers:[_e]}),Be})();function Ge(Be,gt,Je,je,ce){const[,Ne,rt]=globalThis.\u0275AngularfireInstanceCache.find(me=>me[0]===Be)||[];if(Ne)return function Qe(Be,gt){try{return Be.toString()===gt.toString()}catch(Je){return Be===gt}}(ce,rt)||(Oe("error",`${gt} was already initialized on the ${Je} Firebase App with different settings.${et?" You may need to reload as Firebase is not HMR aware.":""}`),Oe("warn",{is:ce,was:rt})),Ne;{const me=je();return globalThis.\u0275AngularfireInstanceCache.push([Be,me,ce]),me}}const et=!!Rt.hot,Oe=(Be,...gt)=>{(0,a.X6Q)()&&"undefined"!=typeof console&&console[Be](...gt)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(Rt,He,$)=>{$.d(He,{q4:()=>Tc,iC:()=>pd,fc:()=>Vl,HU:()=>fd,vb:()=>Oh,JM:()=>ko});var a=$(5e3),J=$(5867),U=$(5861),ye=$(9681),ge=$(2090),Le=$(4859),fe=$(1877);const Te="@firebase/installations",ne="w:0.5.8",_e="FIS_v2",Be=new ge.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function gt(k){return k instanceof ge.ZR&&k.code.includes("request-failed")}function Je({projectId:k}){return`https://firebaseinstallations.googleapis.com/v1/projects/${k}/installations`}function je(k){return{token:k.token,requestStatus:2,expiresIn:Se(k.expiresIn),creationTime:Date.now()}}function ce(k,O){return Ne.apply(this,arguments)}function Ne(){return(Ne=(0,U.Z)(function*(k,O){const X=(yield O.json()).error;return Be.create("request-failed",{requestName:k,serverCode:X.code,serverMessage:X.message,serverStatus:X.status})})).apply(this,arguments)}function rt({apiKey:k}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":k})}function me(k,{refreshToken:O}){const B=rt(k);return B.append("Authorization",function De(k){return`${_e} ${k}`}(O)),B}function ft(k){return ue.apply(this,arguments)}function ue(){return(ue=(0,U.Z)(function*(k){const O=yield k();return O.status>=500&&O.status<600?k():O})).apply(this,arguments)}function Se(k){return Number(k.replace("s","000"))}function Ae(k,O){return Ye.apply(this,arguments)}function Ye(){return(Ye=(0,U.Z)(function*({appConfig:k,heartbeatServiceProvider:O},{fid:B}){const X=Je(k),de=rt(k),ve=O.getImmediate({optional:!0});if(ve){const $t=yield ve.getHeartbeatsHeader();$t&&de.append("x-firebase-client",$t)}const Ct={method:"POST",headers:de,body:JSON.stringify({fid:B,authVersion:_e,appId:k.appId,sdkVersion:ne})},At=yield ft(()=>fetch(X,Ct));if(At.ok){const $t=yield At.json();return{fid:$t.fid||B,registrationStatus:2,refreshToken:$t.refreshToken,authToken:je($t.authToken)}}throw yield ce("Create Installation",At)})).apply(this,arguments)}function we(k){return new Promise(O=>{setTimeout(O,k)})}const En=/^[cdef][\w-]{21}$/;function It(){try{const k=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(k),k[0]=112+k[0]%16;const B=function St(k){return function Vt(k){return btoa(String.fromCharCode(...k)).replace(/\+/g,"-").replace(/\//g,"_")}(k).substr(0,22)}(k);return En.test(B)?B:""}catch(k){return""}}function Ln(k){return`${k.appName}!${k.appId}`}const Nn=new Map;function Mr(k,O){const B=Ln(k);Tn(B,O),function Jn(k,O){const B=function Zt(){return!Si&&"BroadcastChannel"in self&&(Si=new BroadcastChannel("[Firebase] FID Change"),Si.onmessage=k=>{Tn(k.data.key,k.data.fid)}),Si}();B&&B.postMessage({key:k,fid:O}),function _i(){0===Nn.size&&Si&&(Si.close(),Si=null)}()}(B,O)}function Tn(k,O){const B=Nn.get(k);if(B)for(const X of B)X(O)}let Si=null;const zi="firebase-installations-store";let Xn=null;function xr(){return Xn||(Xn=(0,ge.X3)("firebase-installations-database",1,(k,O)=>{0===O&&k.createObjectStore(zi)})),Xn}function xt(k,O){return hr.apply(this,arguments)}function hr(){return(hr=(0,U.Z)(function*(k,O){const B=Ln(k),de=(yield xr()).transaction(zi,"readwrite"),ve=de.objectStore(zi),Ke=yield ve.get(B);return yield ve.put(O,B),yield de.complete,(!Ke||Ke.fid!==O.fid)&&Mr(k,O.fid),O})).apply(this,arguments)}function yi(k){return xn.apply(this,arguments)}function xn(){return(xn=(0,U.Z)(function*(k){const O=Ln(k),X=(yield xr()).transaction(zi,"readwrite");yield X.objectStore(zi).delete(O),yield X.complete})).apply(this,arguments)}function ei(k,O){return Ei.apply(this,arguments)}function Ei(){return(Ei=(0,U.Z)(function*(k,O){const B=Ln(k),de=(yield xr()).transaction(zi,"readwrite"),ve=de.objectStore(zi),Ke=yield ve.get(B),Ct=O(Ke);return void 0===Ct?yield ve.delete(B):yield ve.put(Ct,B),yield de.complete,Ct&&(!Ke||Ke.fid!==Ct.fid)&&Mr(k,Ct.fid),Ct})).apply(this,arguments)}function vi(k){return zn.apply(this,arguments)}function zn(){return(zn=(0,U.Z)(function*(k){let O;const B=yield ei(k.appConfig,X=>{const de=Vn(X),ve=Rs(k,de);return O=ve.registrationPromise,ve.installationEntry});return""===B.fid?{installationEntry:yield O}:{installationEntry:B,registrationPromise:O}})).apply(this,arguments)}function Vn(k){return sn(k||{fid:It(),registrationStatus:0})}function Rs(k,O){if(0===O.registrationStatus){if(!navigator.onLine)return{installationEntry:O,registrationPromise:Promise.reject(Be.create("app-offline"))};const B={fid:O.fid,registrationStatus:1,registrationTime:Date.now()},X=function en(k,O){return Dt.apply(this,arguments)}(k,B);return{installationEntry:B,registrationPromise:X}}return 1===O.registrationStatus?{installationEntry:O,registrationPromise:vt(k)}:{installationEntry:O}}function Dt(){return(Dt=(0,U.Z)(function*(k,O){try{const B=yield Ae(k,O);return xt(k.appConfig,B)}catch(B){throw gt(B)&&409===B.customData.serverCode?yield yi(k.appConfig):yield xt(k.appConfig,{fid:O.fid,registrationStatus:0}),B}})).apply(this,arguments)}function vt(k){return er.apply(this,arguments)}function er(){return(er=(0,U.Z)(function*(k){let O=yield ts(k.appConfig);for(;1===O.registrationStatus;)yield we(100),O=yield ts(k.appConfig);if(0===O.registrationStatus){const{installationEntry:B,registrationPromise:X}=yield vi(k);return X||B}return O})).apply(this,arguments)}function ts(k){return ei(k,O=>{if(!O)throw Be.create("installation-not-found");return sn(O)})}function sn(k){return function ns(k){return 1===k.registrationStatus&&k.registrationTime+1e4<Date.now()}(k)?{fid:k.fid,registrationStatus:0}:k}function bi(k,O){return Sn.apply(this,arguments)}function Sn(){return(Sn=(0,U.Z)(function*({appConfig:k,heartbeatServiceProvider:O},B){const X=Nt(k,B),de=me(k,B),ve=O.getImmediate({optional:!0});if(ve){const $t=yield ve.getHeartbeatsHeader();$t&&de.append("x-firebase-client",$t)}const Ct={method:"POST",headers:de,body:JSON.stringify({installation:{sdkVersion:ne,appId:k.appId}})},At=yield ft(()=>fetch(X,Ct));if(At.ok)return je(yield At.json());throw yield ce("Generate Auth Token",At)})).apply(this,arguments)}function Nt(k,{fid:O}){return`${Je(k)}/${O}/authTokens:generate`}function ai(k){return on.apply(this,arguments)}function on(){return(on=(0,U.Z)(function*(k,O=!1){let B;const X=yield ei(k.appConfig,ve=>{if(!tn(ve))throw Be.create("not-registered");const Ke=ve.authToken;if(!O&&se(Ke))return ve;if(1===Ke.requestStatus)return B=at(k,O),ve;{if(!navigator.onLine)throw Be.create("app-offline");const Ct=oe(ve);return B=Ot(k,Ct),Ct}});return B?yield B:X.authToken})).apply(this,arguments)}function at(k,O){return Ue.apply(this,arguments)}function Ue(){return(Ue=(0,U.Z)(function*(k,O){let B=yield Xe(k.appConfig);for(;1===B.authToken.requestStatus;)yield we(100),B=yield Xe(k.appConfig);const X=B.authToken;return 0===X.requestStatus?ai(k,O):X})).apply(this,arguments)}function Xe(k){return ei(k,O=>{if(!tn(O))throw Be.create("not-registered");return function Me(k){return 1===k.requestStatus&&k.requestTime+1e4<Date.now()}(O.authToken)?Object.assign(Object.assign({},O),{authToken:{requestStatus:0}}):O})}function Ot(k,O){return Jt.apply(this,arguments)}function Jt(){return(Jt=(0,U.Z)(function*(k,O){try{const B=yield bi(k,O),X=Object.assign(Object.assign({},O),{authToken:B});return yield xt(k.appConfig,X),B}catch(B){if(!gt(B)||401!==B.customData.serverCode&&404!==B.customData.serverCode){const X=Object.assign(Object.assign({},O),{authToken:{requestStatus:0}});yield xt(k.appConfig,X)}else yield yi(k.appConfig);throw B}})).apply(this,arguments)}function tn(k){return void 0!==k&&2===k.registrationStatus}function se(k){return 2===k.requestStatus&&!function ee(k){const O=Date.now();return O<k.creationTime||k.creationTime+k.expiresIn<O+36e5}(k)}function oe(k){const O={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},k),{authToken:O})}function K(){return(K=(0,U.Z)(function*(k){const O=k,{installationEntry:B,registrationPromise:X}=yield vi(O);return X?X.catch(console.error):ai(O).catch(console.error),B.fid})).apply(this,arguments)}function Ee(){return(Ee=(0,U.Z)(function*(k,O=!1){const B=k;return yield tt(B),(yield ai(B,O)).token})).apply(this,arguments)}function tt(k){return lt.apply(this,arguments)}function lt(){return(lt=(0,U.Z)(function*(k){const{registrationPromise:O}=yield vi(k);O&&(yield O)})).apply(this,arguments)}function Hn(k){return Be.create("missing-app-config-values",{valueName:k})}const kr="installations",ct=k=>{const O=k.getProvider("app").getImmediate(),B=function ps(k){if(!k||!k.options)throw Hn("App Configuration");if(!k.name)throw Hn("App Name");const O=["projectId","apiKey","appId"];for(const B of O)if(!k.options[B])throw Hn(B);return{appName:k.name,projectId:k.options.projectId,apiKey:k.options.apiKey,appId:k.options.appId}}(O);return{app:O,appConfig:B,heartbeatServiceProvider:(0,ye._getProvider)(O,"heartbeat"),_delete:()=>Promise.resolve()}},dn=k=>{const O=k.getProvider("app").getImmediate(),B=(0,ye._getProvider)(O,kr).getImmediate();return{getId:()=>function z(k){return K.apply(this,arguments)}(B),getToken:de=>function te(k){return Ee.apply(this,arguments)}(B,de)}};(function qn(){(0,ye._registerComponent)(new Le.wA(kr,ct,"PUBLIC")),(0,ye._registerComponent)(new Le.wA("installations-internal",dn,"PRIVATE"))})(),(0,ye.registerVersion)(Te,"0.5.8"),(0,ye.registerVersion)(Te,"0.5.8","esm2017");const Ui="@firebase/remote-config",ui=new ge.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class wl{constructor(O,B,X,de){this.client=O,this.storage=B,this.storageCache=X,this.logger=de}isCachedDataFresh(O,B){if(!B)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const X=Date.now()-B,de=X<=O;return this.logger.debug(`Config fetch cache check. Cache age millis: ${X}. Cache max age millis (minimumFetchIntervalMillis setting): ${O}. Is cache hit: ${de}.`),de}fetch(O){var B=this;return(0,U.Z)(function*(){const[X,de]=yield Promise.all([B.storage.getLastSuccessfulFetchTimestampMillis(),B.storage.getLastSuccessfulFetchResponse()]);if(de&&B.isCachedDataFresh(O.cacheMaxAgeMillis,X))return de;O.eTag=de&&de.eTag;const ve=yield B.client.fetch(O),Ke=[B.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===ve.status&&Ke.push(B.storage.setLastSuccessfulFetchResponse(ve)),yield Promise.all(Ke),ve})()}}function _o(k=navigator){return k.languages&&k.languages[0]||k.language}class yo{constructor(O,B,X,de,ve,Ke){this.firebaseInstallations=O,this.sdkVersion=B,this.namespace=X,this.projectId=de,this.apiKey=ve,this.appId=Ke}fetch(O){var B=this;return(0,U.Z)(function*(){const[X,de]=yield Promise.all([B.firebaseInstallations.getId(),B.firebaseInstallations.getToken()]),Ke=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${B.projectId}/namespaces/${B.namespace}:fetch?key=${B.apiKey}`,Ct={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":O.eTag||"*"},At={sdk_version:B.sdkVersion,app_instance_id:X,app_instance_id_token:de,app_id:B.appId,language_code:_o()},$t={method:"POST",headers:Ct,body:JSON.stringify(At)},Dn=fetch(Ke,$t),qt=new Promise((qr,Ro)=>{O.signal.addEventListener(()=>{const ia=new Error("The operation was aborted.");ia.name="AbortError",Ro(ia)})});let Ki;try{yield Promise.race([Dn,qt]),Ki=yield Dn}catch(qr){let Ro="fetch-client-network";throw"AbortError"===qr.name&&(Ro="fetch-timeout"),ui.create(Ro,{originalErrorMessage:qr.message})}let Pi=Ki.status;const Ac=Ki.headers.get("ETag")||void 0;let Mc,Ra;if(200===Ki.status){let qr;try{qr=yield Ki.json()}catch(Ro){throw ui.create("fetch-client-parse",{originalErrorMessage:Ro.message})}Mc=qr.entries,Ra=qr.state}if("INSTANCE_STATE_UNSPECIFIED"===Ra?Pi=500:"NO_CHANGE"===Ra?Pi=304:("NO_TEMPLATE"===Ra||"EMPTY_CONFIG"===Ra)&&(Mc={}),304!==Pi&&200!==Pi)throw ui.create("fetch-status",{httpStatus:Pi});return{status:Pi,eTag:Ac,config:Mc}})()}}class is{constructor(O,B){this.client=O,this.storage=B}fetch(O){var B=this;return(0,U.Z)(function*(){const X=(yield B.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return B.attemptFetch(O,X)})()}attemptFetch(O,{throttleEndTimeMillis:B,backoffCount:X}){var de=this;return(0,U.Z)(function*(){yield function Br(k,O){return new Promise((B,X)=>{const de=Math.max(O-Date.now(),0),ve=setTimeout(B,de);k.addEventListener(()=>{clearTimeout(ve),X(ui.create("fetch-throttle",{throttleEndTimeMillis:O}))})})}(O.signal,B);try{const ve=yield de.client.fetch(O);return yield de.storage.deleteThrottleMetadata(),ve}catch(ve){if(!function Th(k){if(!(k instanceof ge.ZR&&k.customData))return!1;const O=Number(k.customData.httpStatus);return 429===O||500===O||503===O||504===O}(ve))throw ve;const Ke={throttleEndTimeMillis:Date.now()+(0,ge.$s)(X),backoffCount:X+1};return yield de.storage.setThrottleMetadata(Ke),de.attemptFetch(O,Ke)}})()}}class fu{constructor(O,B,X,de,ve){this.app=O,this._client=B,this._storageCache=X,this._storage=de,this._logger=ve,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function ja(k,O){const B=k.target.error||void 0;return ui.create(O,{originalErrorMessage:B&&B.message})}const pi="app_namespace_store";class lc{constructor(O,B,X,de=function Cl(){return new Promise((k,O)=>{try{const B=indexedDB.open("firebase_remote_config",1);B.onerror=X=>{O(ja(X,"storage-open"))},B.onsuccess=X=>{k(X.target.result)},B.onupgradeneeded=X=>{0===X.oldVersion&&X.target.result.createObjectStore(pi,{keyPath:"compositeKey"})}}catch(B){O(ui.create("storage-open",{originalErrorMessage:B}))}})}()){this.appId=O,this.appName=B,this.namespace=X,this.openDbPromise=de}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(O){return this.set("last_fetch_status",O)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(O){return this.set("last_successful_fetch_timestamp_millis",O)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(O){return this.set("last_successful_fetch_response",O)}getActiveConfig(){return this.get("active_config")}setActiveConfig(O){return this.set("active_config",O)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(O){return this.set("active_config_etag",O)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(O){return this.set("throttle_metadata",O)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(O){var B=this;return(0,U.Z)(function*(){const X=yield B.openDbPromise;return new Promise((de,ve)=>{const Ct=X.transaction([pi],"readonly").objectStore(pi),At=B.createCompositeKey(O);try{const $t=Ct.get(At);$t.onerror=Dn=>{ve(ja(Dn,"storage-get"))},$t.onsuccess=Dn=>{const qt=Dn.target.result;de(qt?qt.value:void 0)}}catch($t){ve(ui.create("storage-get",{originalErrorMessage:$t&&$t.message}))}})})()}set(O,B){var X=this;return(0,U.Z)(function*(){const de=yield X.openDbPromise;return new Promise((ve,Ke)=>{const At=de.transaction([pi],"readwrite").objectStore(pi),$t=X.createCompositeKey(O);try{const Dn=At.put({compositeKey:$t,value:B});Dn.onerror=qt=>{Ke(ja(qt,"storage-set"))},Dn.onsuccess=()=>{ve()}}catch(Dn){Ke(ui.create("storage-set",{originalErrorMessage:Dn&&Dn.message}))}})})()}delete(O){var B=this;return(0,U.Z)(function*(){const X=yield B.openDbPromise;return new Promise((de,ve)=>{const Ct=X.transaction([pi],"readwrite").objectStore(pi),At=B.createCompositeKey(O);try{const $t=Ct.delete(At);$t.onerror=Dn=>{ve(ja(Dn,"storage-delete"))},$t.onsuccess=()=>{de()}}catch($t){ve(ui.create("storage-delete",{originalErrorMessage:$t&&$t.message}))}})})()}createCompositeKey(O){return[this.appId,this.appName,this.namespace,O].join()}}class $o{constructor(O){this.storage=O}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var O=this;return(0,U.Z)(function*(){const B=O.storage.getLastFetchStatus(),X=O.storage.getLastSuccessfulFetchTimestampMillis(),de=O.storage.getActiveConfig(),ve=yield B;ve&&(O.lastFetchStatus=ve);const Ke=yield X;Ke&&(O.lastSuccessfulFetchTimestampMillis=Ke);const Ct=yield de;Ct&&(O.activeConfig=Ct)})()}setLastFetchStatus(O){return this.lastFetchStatus=O,this.storage.setLastFetchStatus(O)}setLastSuccessfulFetchTimestampMillis(O){return this.lastSuccessfulFetchTimestampMillis=O,this.storage.setLastSuccessfulFetchTimestampMillis(O)}setActiveConfig(O){return this.activeConfig=O,this.storage.setActiveConfig(O)}}function pu(){return El.apply(this,arguments)}function El(){return(El=(0,U.Z)(function*(){if(!(0,ge.hl)())return!1;try{return yield(0,ge.eu)()}catch(k){return!1}})).apply(this,arguments)}!function od(){(0,ye._registerComponent)(new Le.wA("remote-config",function k(O,{instanceIdentifier:B}){const X=O.getProvider("app").getImmediate(),de=O.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw ui.create("registration-window");if(!(0,ge.hl)())throw ui.create("indexed-db-unavailable");const{projectId:ve,apiKey:Ke,appId:Ct}=X.options;if(!ve)throw ui.create("registration-project-id");if(!Ke)throw ui.create("registration-api-key");if(!Ct)throw ui.create("registration-app-id");const At=new lc(Ct,X.name,B=B||"firebase"),$t=new $o(At),Dn=new fe.Yd(Ui);Dn.logLevel=fe.in.ERROR;const qt=new yo(de,ye.SDK_VERSION,B,ve,Ke,Ct),Ki=new is(qt,At),Pi=new wl(Ki,At,$t,Dn),Ac=new fu(X,Pi,$t,At,Dn);return function jn(k){const O=(0,ge.m9)(k);O._initializePromise||(O._initializePromise=O._storageCache.loadFromStorage().then(()=>{O._isInitializationComplete=!0}))}(Ac),Ac},"PUBLIC").setMultipleInstances(!0)),(0,ye.registerVersion)(Ui,"0.3.7"),(0,ye.registerVersion)(Ui,"0.3.7","esm2017")}();const eo="/firebase-messaging-sw.js",$a="/firebase-cloud-messaging-push-scope",rs="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",zo="google.c.a.c_id",Tl="google.c.a.c_l",qo="google.c.a.ts",Ta="google.c.a.e";var gr=(()=>{return(k=gr||(gr={})).PUSH_RECEIVED="push-received",k.NOTIFICATION_CLICKED="notification-clicked",gr;var k})();function Ns(k){const O=new Uint8Array(k);return btoa(String.fromCharCode(...O)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Dl(k){const B=(k+"=".repeat((4-k.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),X=atob(B),de=new Uint8Array(X.length);for(let ve=0;ve<X.length;++ve)de[ve]=X.charCodeAt(ve);return de}const za="fcm_token_details_db",vo="fcm_token_object_Store";function Sh(k){return Da.apply(this,arguments)}function Da(){return Da=(0,U.Z)(function*(k){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(ve=>ve.name).includes(za))return null;let O=null;return(yield(0,ge.X3)(za,5,function(){var X=(0,U.Z)(function*(de,ve,Ke,Ct){var At;if(ve<2||!de.objectStoreNames.contains(vo))return;const $t=Ct.objectStore(vo),Dn=yield $t.index("fcmSenderId").get(k);if(yield $t.clear(),Dn)if(2===ve){const qt=Dn;if(!qt.auth||!qt.p256dh||!qt.endpoint)return;O={token:qt.fcmToken,createTime:null!==(At=qt.createTime)&&void 0!==At?At:Date.now(),subscriptionOptions:{auth:qt.auth,p256dh:qt.p256dh,endpoint:qt.endpoint,swScope:qt.swScope,vapidKey:"string"==typeof qt.vapidKey?qt.vapidKey:Ns(qt.vapidKey)}}}else if(3===ve){const qt=Dn;O={token:qt.fcmToken,createTime:qt.createTime,subscriptionOptions:{auth:Ns(qt.auth),p256dh:Ns(qt.p256dh),endpoint:qt.endpoint,swScope:qt.swScope,vapidKey:Ns(qt.vapidKey)}}}else if(4===ve){const qt=Dn;O={token:qt.fcmToken,createTime:qt.createTime,subscriptionOptions:{auth:Ns(qt.auth),p256dh:Ns(qt.p256dh),endpoint:qt.endpoint,swScope:qt.swScope,vapidKey:Ns(qt.vapidKey)}}}});return function(de,ve,Ke,Ct){return X.apply(this,arguments)}}())).close(),yield(0,ge.Lj)(za),yield(0,ge.Lj)("fcm_vapid_details_db"),yield(0,ge.Lj)("undefined"),cc(O)?O:null}),Da.apply(this,arguments)}function cc(k){if(!k||!k.subscriptionOptions)return!1;const{subscriptionOptions:O}=k;return"number"==typeof k.createTime&&k.createTime>0&&"string"==typeof k.token&&k.token.length>0&&"string"==typeof O.auth&&O.auth.length>0&&"string"==typeof O.p256dh&&O.p256dh.length>0&&"string"==typeof O.endpoint&&O.endpoint.length>0&&"string"==typeof O.swScope&&O.swScope.length>0&&"string"==typeof O.vapidKey&&O.vapidKey.length>0}const bo="firebase-messaging-store";let wo=null;function uc(){return wo||(wo=(0,ge.X3)("firebase-messaging-database",1,(k,O)=>{0===O&&k.createObjectStore(bo)})),wo}function ti(k){return Wo.apply(this,arguments)}function Wo(){return(Wo=(0,U.Z)(function*(k){const O=Co(k),X=yield(yield uc()).transaction(bo).objectStore(bo).get(O);if(X)return X;{const de=yield Sh(k.appConfig.senderId);if(de)return yield Zo(k,de),de}})).apply(this,arguments)}function Zo(k,O){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,U.Z)(function*(k,O){const B=Co(k),de=(yield uc()).transaction(bo,"readwrite");return yield de.objectStore(bo).put(O,B),yield de.complete,O})).apply(this,arguments)}function dc(k){return Ia.apply(this,arguments)}function Ia(){return(Ia=(0,U.Z)(function*(k){const O=Co(k),X=(yield uc()).transaction(bo,"readwrite");yield X.objectStore(bo).delete(O),yield X.complete})).apply(this,arguments)}function Co({appConfig:k}){return k.appId}const xi=new ge.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Sl(k,O){return ss.apply(this,arguments)}function ss(){return(ss=(0,U.Z)(function*(k,O){const B=yield Ps(k),X=Ft(O),de={method:"POST",headers:B,body:JSON.stringify(X)};let ve;try{ve=yield(yield fetch(gs(k.appConfig),de)).json()}catch(Ke){throw xi.create("token-subscribe-failed",{errorInfo:Ke})}if(ve.error)throw xi.create("token-subscribe-failed",{errorInfo:ve.error.message});if(!ve.token)throw xi.create("token-subscribe-no-token");return ve.token})).apply(this,arguments)}function Rr(k,O){return no.apply(this,arguments)}function no(){return(no=(0,U.Z)(function*(k,O){const B=yield Ps(k),X=Ft(O.subscriptionOptions),de={method:"PATCH",headers:B,body:JSON.stringify(X)};let ve;try{ve=yield(yield fetch(`${gs(k.appConfig)}/${O.token}`,de)).json()}catch(Ke){throw xi.create("token-update-failed",{errorInfo:Ke})}if(ve.error)throw xi.create("token-update-failed",{errorInfo:ve.error.message});if(!ve.token)throw xi.create("token-update-no-token");return ve.token})).apply(this,arguments)}function Yo(k,O){return Sa.apply(this,arguments)}function Sa(){return(Sa=(0,U.Z)(function*(k,O){const X={method:"DELETE",headers:yield Ps(k)};try{const ve=yield(yield fetch(`${gs(k.appConfig)}/${O}`,X)).json();if(ve.error)throw xi.create("token-unsubscribe-failed",{errorInfo:ve.error.message})}catch(de){throw xi.create("token-unsubscribe-failed",{errorInfo:de})}})).apply(this,arguments)}function gs({projectId:k}){return`https://fcmregistrations.googleapis.com/v1/projects/${k}/registrations`}function Ps(k){return io.apply(this,arguments)}function io(){return(io=(0,U.Z)(function*({appConfig:k,installations:O}){const B=yield O.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":k.apiKey,"x-goog-firebase-installations-auth":`FIS ${B}`})})).apply(this,arguments)}function Ft({p256dh:k,auth:O,endpoint:B,vapidKey:X}){const de={web:{endpoint:B,auth:O,p256dh:k}};return X!==rs&&(de.web.applicationPubKey=X),de}const qa=6048e5;function Ur(k){return _s.apply(this,arguments)}function _s(){return(_s=(0,U.Z)(function*(k){const O=yield _u(k.swRegistration,k.vapidKey),B={vapidKey:k.vapidKey,swScope:k.swRegistration.scope,endpoint:O.endpoint,auth:Ns(O.getKey("auth")),p256dh:Ns(O.getKey("p256dh"))},X=yield ti(k.firebaseDependencies);if(X){if(Fs(X.subscriptionOptions,B))return Date.now()>=X.createTime+qa?ld(k,{token:X.token,createTime:Date.now(),subscriptionOptions:B}):X.token;try{yield Yo(k.firebaseDependencies,X.token)}catch(de){console.warn(de)}return $e(k.firebaseDependencies,B)}return $e(k.firebaseDependencies,B)})).apply(this,arguments)}function gu(k){return ys.apply(this,arguments)}function ys(){return(ys=(0,U.Z)(function*(k){const O=yield ti(k.firebaseDependencies);O&&(yield Yo(k.firebaseDependencies,O.token),yield dc(k.firebaseDependencies));const B=yield k.swRegistration.pushManager.getSubscription();return!B||B.unsubscribe()})).apply(this,arguments)}function ld(k,O){return vs.apply(this,arguments)}function vs(){return(vs=(0,U.Z)(function*(k,O){try{const B=yield Rr(k.firebaseDependencies,O),X=Object.assign(Object.assign({},O),{token:B,createTime:Date.now()});return yield Zo(k.firebaseDependencies,X),B}catch(B){throw yield gu(k),B}})).apply(this,arguments)}function $e(k,O){return an.apply(this,arguments)}function an(){return(an=(0,U.Z)(function*(k,O){const X={token:yield Sl(k,O),createTime:Date.now(),subscriptionOptions:O};return yield Zo(k,X),X.token})).apply(this,arguments)}function _u(k,O){return ln.apply(this,arguments)}function ln(){return(ln=(0,U.Z)(function*(k,O){return(yield k.pushManager.getSubscription())||k.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Dl(O)})})).apply(this,arguments)}function Fs(k,O){return O.vapidKey===k.vapidKey&&O.endpoint===k.endpoint&&O.auth===k.auth&&O.p256dh===k.p256dh}function os(k){const O={from:k.from,collapseKey:k.collapse_key,messageId:k.fcmMessageId};return function bs(k,O){if(!O.notification)return;k.notification={};const B=O.notification.title;B&&(k.notification.title=B);const X=O.notification.body;X&&(k.notification.body=X);const de=O.notification.image;de&&(k.notification.image=de)}(O,k),function Ko(k,O){!O.data||(k.data=O.data)}(O,k),function ro(k,O){if(!O.fcmOptions)return;k.fcmOptions={};const B=O.fcmOptions.link;B&&(k.fcmOptions.link=B);const X=O.fcmOptions.analytics_label;X&&(k.fcmOptions.analyticsLabel=X)}(O,k),O}function cd(k){return"object"==typeof k&&!!k&&zo in k}function hc(k,O){const B=[];for(let X=0;X<k.length;X++)B.push(k.charAt(X)),X<O.length&&B.push(O.charAt(X));return B.join("")}function Eo(k){return xi.create("missing-app-config-values",{valueName:k})}hc("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),hc("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class ki{constructor(O,B,X){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const de=function Aa(k){if(!k||!k.options)throw Eo("App Configuration Object");if(!k.name)throw Eo("App Name");const O=["projectId","apiKey","appId","messagingSenderId"],{options:B}=k;for(const X of O)if(!B[X])throw Eo(X);return{appName:k.name,projectId:B.projectId,apiKey:B.apiKey,appId:B.appId,senderId:B.messagingSenderId}}(O);this.firebaseDependencies={app:O,appConfig:de,installations:B,analyticsProvider:X}}_delete(){return Promise.resolve()}}function Ls(k){return Ma.apply(this,arguments)}function Ma(){return(Ma=(0,U.Z)(function*(k){try{k.swRegistration=yield navigator.serviceWorker.register(eo,{scope:$a}),k.swRegistration.update().catch(()=>{})}catch(O){throw xi.create("failed-service-worker-registration",{browserErrorMessage:O.message})}})).apply(this,arguments)}function rr(k,O){return Hr.apply(this,arguments)}function Hr(){return(Hr=(0,U.Z)(function*(k,O){if(!O&&!k.swRegistration&&(yield Ls(k)),O||!k.swRegistration){if(!(O instanceof ServiceWorkerRegistration))throw xi.create("invalid-sw-registration");k.swRegistration=O}})).apply(this,arguments)}function Pn(k,O){return xa.apply(this,arguments)}function xa(){return(xa=(0,U.Z)(function*(k,O){O?k.vapidKey=O:k.vapidKey||(k.vapidKey=rs)})).apply(this,arguments)}function _r(){return(_r=(0,U.Z)(function*(k,O){if(!navigator)throw xi.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw xi.create("permission-blocked");return yield Pn(k,null==O?void 0:O.vapidKey),yield rr(k,null==O?void 0:O.serviceWorkerRegistration),Ur(k)})).apply(this,arguments)}function Al(k,O,B){return so.apply(this,arguments)}function so(){return(so=(0,U.Z)(function*(k,O,B){const X=ud(O);(yield k.firebaseDependencies.analyticsProvider.get()).logEvent(X,{message_id:B[zo],message_name:B[Tl],message_time:B[qo],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function ud(k){switch(k){case gr.NOTIFICATION_CLICKED:return"notification_open";case gr.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function mc(){return(mc=(0,U.Z)(function*(k,O){const B=O.data;if(!B.isFirebaseMessaging)return;k.onMessageHandler&&B.messageType===gr.PUSH_RECEIVED&&("function"==typeof k.onMessageHandler?k.onMessageHandler(os(B)):k.onMessageHandler.next(os(B)));const X=B.data;cd(X)&&"1"===X[Ta]&&(yield Al(k,B.messageType,X))})).apply(this,arguments)}const Ml="@firebase/messaging",Qo=k=>{const O=new ki(k.getProvider("app").getImmediate(),k.getProvider("installations-internal").getImmediate(),k.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",B=>function pc(k,O){return mc.apply(this,arguments)}(O,B)),O},gc=k=>{const O=k.getProvider("messaging").getImmediate();return{getToken:X=>function fc(k,O){return _r.apply(this,arguments)}(O,X)}};function yu(){return Jo.apply(this,arguments)}function Jo(){return(Jo=(0,U.Z)(function*(){try{yield(0,ge.eu)()}catch(k){return!1}return"undefined"!=typeof window&&(0,ge.hl)()&&(0,ge.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function _c(){(0,ye._registerComponent)(new Le.wA("messaging",Qo,"PUBLIC")),(0,ye._registerComponent)(new Le.wA("messaging-internal",gc,"PRIVATE")),(0,ye.registerVersion)(Ml,"0.9.12"),(0,ye.registerVersion)(Ml,"0.9.12","esm2017")}();const kl="analytics",Rl="firebase_id",Ol="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Nl="https://www.googletagmanager.com/gtag/js",Ri=new fe.Yd("@firebase/analytics");function yc(k){return Promise.all(k.map(O=>O.catch(B=>B)))}function vc(k,O){const B=document.createElement("script");B.src=`${Nl}?l=${k}&id=${O}`,B.async=!0,document.head.appendChild(B)}function Za(k,O,B,X,de,ve){return Io.apply(this,arguments)}function Io(){return(Io=(0,U.Z)(function*(k,O,B,X,de,ve){const Ke=X[de];try{if(Ke)yield O[Ke];else{const At=(yield yc(B)).find($t=>$t.measurementId===de);At&&(yield O[At.appId])}}catch(Ct){Ri.error(Ct)}k("config",de,ve)})).apply(this,arguments)}function bc(k,O,B,X,de){return Gr.apply(this,arguments)}function Gr(){return(Gr=(0,U.Z)(function*(k,O,B,X,de){try{let ve=[];if(de&&de.send_to){let Ke=de.send_to;Array.isArray(Ke)||(Ke=[Ke]);const Ct=yield yc(B);for(const At of Ke){const $t=Ct.find(qt=>qt.measurementId===At),Dn=$t&&O[$t.appId];if(!Dn){ve=[];break}ve.push(Dn)}}0===ve.length&&(ve=Object.values(O)),yield Promise.all(ve),k("event",X,de||{})}catch(ve){Ri.error(ve)}})).apply(this,arguments)}function vu(){const k=window.document.getElementsByTagName("script");for(const O of Object.values(k))if(O.src&&O.src.includes(Nl))return O;return null}const yr=new ge.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Oi=new class Nr{constructor(O={},B=1e3){this.throttleMetadata=O,this.intervalMillis=B}getThrottleMetadata(O){return this.throttleMetadata[O]}setThrottleMetadata(O,B){this.throttleMetadata[O]=B}deleteThrottleMetadata(O){delete this.throttleMetadata[O]}};function bu(k){return new Headers({Accept:"application/json","x-goog-api-key":k})}function di(k){return ni.apply(this,arguments)}function ni(){return(ni=(0,U.Z)(function*(k){var O;const{appId:B,apiKey:X}=k,de={method:"GET",headers:bu(X)},ve=Ol.replace("{app-id}",B),Ke=yield fetch(ve,de);if(200!==Ke.status&&304!==Ke.status){let Ct="";try{const At=yield Ke.json();(null===(O=At.error)||void 0===O?void 0:O.message)&&(Ct=At.error.message)}catch(At){}throw yr.create("config-fetch-failed",{httpStatus:Ke.status,responseMessage:Ct})}return Ke.json()})).apply(this,arguments)}function gi(k){return ii.apply(this,arguments)}function ii(){return(ii=(0,U.Z)(function*(k,O=Oi,B){const{appId:X,apiKey:de,measurementId:ve}=k.options;if(!X)throw yr.create("no-app-id");if(!de){if(ve)return{measurementId:ve,appId:X};throw yr.create("no-api-key")}const Ke=O.getThrottleMetadata(X)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Ct=new C;return setTimeout((0,U.Z)(function*(){Ct.abort()}),void 0!==B?B:6e4),Zi({appId:X,apiKey:de,measurementId:ve},Ke,Ct,O)})).apply(this,arguments)}function Zi(k,O,B){return So.apply(this,arguments)}function So(){return(So=(0,U.Z)(function*(k,{throttleEndTimeMillis:O,backoffCount:B},X,de=Oi){const{appId:ve,measurementId:Ke}=k;try{yield Di(X,O)}catch(Ct){if(Ke)return Ri.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ke} provided in the "measurementId" field in the local Firebase config. [${Ct.message}]`),{appId:ve,measurementId:Ke};throw Ct}try{const Ct=yield di(k);return de.deleteThrottleMetadata(ve),Ct}catch(Ct){if(!ea(Ct)){if(de.deleteThrottleMetadata(ve),Ke)return Ri.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ke} provided in the "measurementId" field in the local Firebase config. [${Ct.message}]`),{appId:ve,measurementId:Ke};throw Ct}const At=503===Number(Ct.customData.httpStatus)?(0,ge.$s)(B,de.intervalMillis,30):(0,ge.$s)(B,de.intervalMillis),$t={throttleEndTimeMillis:Date.now()+At,backoffCount:B+1};return de.setThrottleMetadata(ve,$t),Ri.debug(`Calling attemptFetch again in ${At} millis`),Zi(k,$t,X,de)}})).apply(this,arguments)}function Di(k,O){return new Promise((B,X)=>{const de=Math.max(O-Date.now(),0),ve=setTimeout(B,de);k.addEventListener(()=>{clearTimeout(ve),X(yr.create("fetch-throttle",{throttleEndTimeMillis:O}))})})}function ea(k){if(!(k instanceof ge.ZR&&k.customData))return!1;const O=Number(k.customData.httpStatus);return 429===O||500===O||503===O||504===O}class C{constructor(){this.listeners=[]}addEventListener(O){this.listeners.push(O)}abort(){this.listeners.forEach(O=>O())}}function R(){return I.apply(this,arguments)}function I(){return(I=(0,U.Z)(function*(){if(!(0,ge.hl)())return Ri.warn(yr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ge.eu)()}catch(k){return Ri.warn(yr.create("indexeddb-unavailable",{errorInfo:k}).message),!1}return!0})).apply(this,arguments)}function x(){return(x=(0,U.Z)(function*(k,O,B,X,de,ve,Ke){var Ct;const At=gi(k);At.then(Pi=>{B[Pi.measurementId]=Pi.appId,k.options.measurementId&&Pi.measurementId!==k.options.measurementId&&Ri.warn(`The measurement ID in the local Firebase config (${k.options.measurementId}) does not match the measurement ID fetched from the server (${Pi.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Pi=>Ri.error(Pi)),O.push(At);const $t=R().then(Pi=>{if(Pi)return X.getId()}),[Dn,qt]=yield Promise.all([At,$t]);vu()||vc(ve,Dn.measurementId),de("js",new Date);const Ki=null!==(Ct=null==Ke?void 0:Ke.config)&&void 0!==Ct?Ct:{};return Ki.origin="firebase",Ki.update=!0,null!=qt&&(Ki[Rl]=qt),de("config",Dn.measurementId,Ki),Dn.measurementId})).apply(this,arguments)}class N{constructor(O){this.app=O}_delete(){return delete G[this.app.options.appId],Promise.resolve()}}let G={},Q=[];const le={};let be,ot,ke="dataLayer",Tt=!1;function Ht(k,O,B){!function hn(){const k=[];if((0,ge.ru)()&&k.push("This is a browser extension environment."),(0,ge.zI)()||k.push("Cookies are not available."),k.length>0){const O=k.map((X,de)=>`(${de+1}) ${X}`).join(" "),B=yr.create("invalid-analytics-context",{errorInfo:O});Ri.warn(B.message)}}();const X=k.options.appId;if(!X)throw yr.create("no-app-id");if(!k.options.apiKey){if(!k.options.measurementId)throw yr.create("no-api-key");Ri.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${k.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=G[X])throw yr.create("already-exists",{id:X});if(!Tt){!function ws(k){let O=[];Array.isArray(window[k])?O=window[k]:window[k]=O}(ke);const{wrappedGtag:ve,gtagCore:Ke}=function wc(k,O,B,X,de){let ve=function(...Ke){window[X].push(arguments)};return window[de]&&"function"==typeof window[de]&&(ve=window[de]),window[de]=function Pl(k,O,B,X){function ve(){return(ve=(0,U.Z)(function*(Ke,Ct,At){try{"event"===Ke?yield bc(k,O,B,Ct,At):"config"===Ke?yield Za(k,O,B,X,Ct,At):k("set",Ct)}catch($t){Ri.error($t)}})).apply(this,arguments)}return function de(Ke,Ct,At){return ve.apply(this,arguments)}}(ve,k,O,B),{gtagCore:ve,wrappedGtag:window[de]}}(G,Q,le,ke,"gtag");ot=ve,be=Ke,Tt=!0}return G[X]=function b(k,O,B,X,de,ve,Ke){return x.apply(this,arguments)}(k,Q,le,O,be,ke,B),new N(k)}function Ni(){return(Ni=(0,U.Z)(function*(k,O,B,X,de){if(de&&de.global)k("event",B,X);else{const ve=yield O;k("event",B,Object.assign(Object.assign({},X),{send_to:ve}))}})).apply(this,arguments)}function Vs(){return Ya.apply(this,arguments)}function Ya(){return(Ya=(0,U.Z)(function*(){if((0,ge.ru)()||!(0,ge.zI)()||!(0,ge.hl)())return!1;try{return yield(0,ge.eu)()}catch(k){return!1}})).apply(this,arguments)}const Gg="@firebase/analytics";!function Tv(){(0,ye._registerComponent)(new Le.wA(kl,(O,{options:B})=>Ht(O.getProvider("app").getImmediate(),O.getProvider("installations-internal").getImmediate(),B),"PUBLIC")),(0,ye._registerComponent)(new Le.wA("analytics-internal",function k(O){try{const B=O.getProvider(kl).getImmediate();return{logEvent:(X,de,ve)=>function xh(k,O,B,X){k=(0,ge.m9)(k),function jt(k,O,B,X,de){return Ni.apply(this,arguments)}(ot,G[k.app.options.appId],O,B,X).catch(de=>Ri.error(de))}(B,X,de,ve)}}catch(B){throw yr.create("interop-component-reg-failed",{reason:B})}},"PRIVATE")),(0,ye.registerVersion)(Gg,"0.7.8"),(0,ye.registerVersion)(Gg,"0.7.8","esm2017")}();var Cu=$(4408),kh=$(7565);const $r=new class Cn extends kh.v{}(class Ec extends Cu.o{constructor(O,B){super(O,B),this.scheduler=O,this.work=B}schedule(O,B=0){return B>0?super.schedule(O,B):(this.delay=B,this.state=O,this.scheduler.flush(this),this)}execute(O,B){return B>0||this.closed?super.execute(O,B):this._execute(O,B)}requestAsyncId(O,B,X=0){return null!=X&&X>0||null==X&&this.delay>0?super.requestAsyncId(O,B,X):O.flush(this)}});var Eu=$(4986),Tu=$(8505),zr=$(5363),xo=$(9468);const Tc=new a.GfV("7.3.0"),Fl="__angularfire_symbol__analyticsIsSupportedValue",Es="__angularfire_symbol__analyticsIsSupported",Ll="__angularfire_symbol__remoteConfigIsSupportedValue",dd="__angularfire_symbol__remoteConfigIsSupported",vr="__angularfire_symbol__messagingIsSupportedValue",Dc="__angularfire_symbol__messagingIsSupported";function ko(k,O,B){if(O){if(1===O.length)return O[0];const ve=O.filter(Ke=>Ke.app===B);if(1===ve.length)return ve[0]}return B.container.getProvider(k).getImmediate({optional:!0})}globalThis[Es]||(globalThis[Es]=Vs().then(k=>globalThis[Fl]=k).catch(()=>globalThis[Fl]=!1)),globalThis[Dc]||(globalThis[Dc]=yu().then(k=>globalThis[vr]=k).catch(()=>globalThis[vr]=!1)),globalThis[dd]||(globalThis[dd]=pu().then(k=>globalThis[Ll]=k).catch(()=>globalThis[Ll]=!1));const Oh=(k,O)=>{const B=O?[O]:(0,J.C6)(),X=[];return B.forEach(de=>{de.container.getProvider(k).instances.forEach(Ke=>{X.includes(Ke)||X.push(Ke)})}),X};function ta(){}class Nh{constructor(O,B=$r){this.zone=O,this.delegate=B}now(){return this.delegate.now()}schedule(O,B,X){const de=this.zone;return this.delegate.schedule(function(Ke){de.runGuarded(()=>{O.apply(this,[Ke])})},B,X)}}class hd{constructor(O){this.zone=O,this.task=null}call(O,B){const X=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ta,{},ta,ta)),B.pipe((0,Tu.b)({next:X,complete:X,error:X})).subscribe(O).add(X)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let fd=(()=>{class k{constructor(B){this.ngZone=B,this.outsideAngular=B.runOutsideAngular(()=>new Nh(Zone.current)),this.insideAngular=B.run(()=>new Nh(Zone.current,Eu.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return k.\u0275fac=function(B){return new(B||k)(a.LFG(a.R0b))},k.\u0275prov=a.Yz7({token:k,factory:k.\u0275fac,providedIn:"root"}),k})();function Qa(){const k=globalThis.\u0275AngularFireScheduler;if(!k)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return k}function Vl(k){return k.pipe((0,zr.Q)(Qa().outsideAngular))}function pd(k){return Qa(),function Ja(k){return function(B){return(B=B.lift(new hd(k.ngZone))).pipe((0,xo.R)(k.outsideAngular),(0,zr.Q)(k.insideAngular))}}(Qa())(k)}},573:(Rt,He,$)=>{$.d(He,{$:()=>Ur,A:()=>ne,E:()=>dn,G:()=>fr,I:()=>is,K:()=>ee,L:()=>El,M:()=>ad,N:()=>zo,P:()=>Fl,Q:()=>Tl,R:()=>_p,T:()=>rs,U:()=>gr,V:()=>Ns,W:()=>Sh,X:()=>ir,Y:()=>Sl,Z:()=>Rr,_:()=>gs,a:()=>j,a0:()=>gu,a1:()=>ld,a2:()=>$e,a3:()=>_u,a4:()=>Fs,a5:()=>bs,a6:()=>Ko,a7:()=>cd,a8:()=>hc,a9:()=>Ls,aA:()=>Ki,aB:()=>md,aC:()=>An,aG:()=>Oi,aJ:()=>Ta,aa:()=>rr,ab:()=>Pn,ae:()=>Al,af:()=>ud,ag:()=>pc,aj:()=>bo,ak:()=>xl,am:()=>Ol,an:()=>Za,ao:()=>li,ap:()=>ue,aq:()=>Gt,ar:()=>lt,as:()=>Je,at:()=>Td,au:()=>Ph,av:()=>je,aw:()=>me,ax:()=>De,ay:()=>oe,az:()=>qr,b:()=>Pe,c:()=>Sc,d:()=>Nh,e:()=>Oh,f:()=>O,g:()=>Ct,h:()=>de,i:()=>hn,j:()=>Dn,k:()=>kc,l:()=>Cn,m:()=>Id,o:()=>Te,r:()=>Ka,s:()=>Ec,u:()=>xo,z:()=>Ge});var a=$(5861),J=$(2090),U=$(9681),ye=$(655),ge=$(1877),Le=$(4859);const Te={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},ne={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Ge=function _e(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Qe=function st(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},et=new J.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Be=new ge.Yd("@firebase/auth");function gt(w,...g){Be.logLevel<=ge.in.ERROR&&Be.error(`Auth (${U.SDK_VERSION}): ${w}`,...g)}function Je(w,...g){throw rt(w,...g)}function je(w,...g){return rt(w,...g)}function ce(w,g,y){const D=Object.assign(Object.assign({},Qe()),{[g]:y});return new J.LL("auth","Firebase",D).create(g,{appName:w.name})}function Ne(w,g,y){if(!(g instanceof y))throw y.name!==g.constructor.name&&Je(w,"argument-error"),ce(w,"argument-error",`Type of ${g.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function rt(w,...g){if("string"!=typeof w){const y=g[0],D=[...g.slice(1)];return D[0]&&(D[0].appName=w.name),w._errorFactory.create(y,...D)}return et.create(w,...g)}function me(w,g,...y){if(!w)throw rt(g,...y)}function ft(w){const g="INTERNAL ASSERTION FAILED: "+w;throw gt(g),new Error(g)}function ue(w,g){w||ft(g)}const Se=new Map;function De(w){ue(w instanceof Function,"Expected a class definition");let g=Se.get(w);return g?(ue(g instanceof w,"Instance stored in cache mismatched with class"),g):(g=new w,Se.set(w,g),g)}function we(){var w;return"undefined"!=typeof self&&(null===(w=self.location)||void 0===w?void 0:w.href)||""}function Vt(){return"http:"===En()||"https:"===En()}function En(){var w;return"undefined"!=typeof self&&(null===(w=self.location)||void 0===w?void 0:w.protocol)||null}class St{constructor(g,y){this.shortDelay=g,this.longDelay=y,ue(y>g,"Short delay should be less than long delay!"),this.isMobile=(0,J.uI)()||(0,J.b$)()}get(){return function fi(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Vt()||(0,J.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Ln(w,g){ue(w.emulator,"Emulator should always be set here");const{url:y}=w.emulator;return g?`${y}${g.startsWith("/")?g.slice(1):g}`:y}class Nn{static initialize(g,y,D){this.fetchImpl=g,y&&(this.headersImpl=y),D&&(this.responseImpl=D)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void ft("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void ft("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void ft("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Mr={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},In=new St(3e4,6e4);function _n(w,g){return w.tenantId&&!g.tenantId?Object.assign(Object.assign({},g),{tenantId:w.tenantId}):g}function Tn(w,g,y,D){return Jn.apply(this,arguments)}function Jn(){return(Jn=(0,a.Z)(function*(w,g,y,D,L={}){return Si(w,L,(0,a.Z)(function*(){let W={},pe={};D&&("GET"===g?pe=D:W={body:JSON.stringify(D)});const qe=(0,J.xO)(Object.assign({key:w.config.apiKey},pe)).slice(1),kt=yield w._getAdditionalHeaders();return kt["Content-Type"]="application/json",w.languageCode&&(kt["X-Firebase-Locale"]=w.languageCode),Nn.fetch()(es(w,w.config.apiHost,y,qe),Object.assign({method:g,headers:kt,referrerPolicy:"no-referrer"},W))}))})).apply(this,arguments)}function Si(w,g,y){return Zt.apply(this,arguments)}function Zt(){return(Zt=(0,a.Z)(function*(w,g,y){w._canInitEmulator=!1;const D=Object.assign(Object.assign({},Mr),g);try{const L=new zi(w),W=yield Promise.race([y(),L.promise]);L.clearNetworkTimeout();const pe=yield W.json();if("needConfirmation"in pe)throw Xn(w,"account-exists-with-different-credential",pe);if(W.ok&&!("errorMessage"in pe))return pe;{const qe=W.ok?pe.errorMessage:pe.error.message,[kt,Lt]=qe.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===kt)throw Xn(w,"credential-already-in-use",pe);if("EMAIL_EXISTS"===kt)throw Xn(w,"email-already-in-use",pe);const pn=D[kt]||kt.toLowerCase().replace(/[_\s]+/g,"-");if(Lt)throw ce(w,pn,Lt);Je(w,pn)}}catch(L){if(L instanceof J.ZR)throw L;Je(w,"network-request-failed")}})).apply(this,arguments)}function _i(w,g,y,D){return Vr.apply(this,arguments)}function Vr(){return(Vr=(0,a.Z)(function*(w,g,y,D,L={}){const W=yield Tn(w,g,y,D,L);return"mfaPendingCredential"in W&&Je(w,"multi-factor-auth-required",{_serverResponse:W}),W})).apply(this,arguments)}function es(w,g,y,D){const L=`${g}${y}?${D}`;return w.config.emulator?Ln(w.config,L):`${w.config.apiScheme}://${L}`}class zi{constructor(g){this.auth=g,this.timer=null,this.promise=new Promise((y,D)=>{this.timer=setTimeout(()=>D(je(this.auth,"network-request-failed")),In.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Xn(w,g,y){const D={appName:w.name};y.email&&(D.email=y.email),y.phoneNumber&&(D.phoneNumber=y.phoneNumber);const L=je(w,g,D);return L.customData._tokenResponse=y,L}function xt(){return(xt=(0,a.Z)(function*(w,g){return Tn(w,"POST","/v1/accounts:delete",g)})).apply(this,arguments)}function hr(w,g){return yi.apply(this,arguments)}function yi(){return(yi=(0,a.Z)(function*(w,g){return Tn(w,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function xn(w,g){return ei.apply(this,arguments)}function ei(){return(ei=(0,a.Z)(function*(w,g){return Tn(w,"POST","/v1/accounts:lookup",g)})).apply(this,arguments)}function Ei(w){if(w)try{const g=new Date(Number(w));if(!isNaN(g.getTime()))return g.toUTCString()}catch(g){}}function Vn(){return(Vn=(0,a.Z)(function*(w,g=!1){const y=(0,J.m9)(w),D=yield y.getIdToken(g),L=en(D);me(L&&L.exp&&L.auth_time&&L.iat,y.auth,"internal-error");const W="object"==typeof L.firebase?L.firebase:void 0,pe=null==W?void 0:W.sign_in_provider;return{claims:L,token:D,authTime:Ei(Rs(L.auth_time)),issuedAtTime:Ei(Rs(L.iat)),expirationTime:Ei(Rs(L.exp)),signInProvider:pe||null,signInSecondFactor:(null==W?void 0:W.sign_in_second_factor)||null}})).apply(this,arguments)}function Rs(w){return 1e3*Number(w)}function en(w){const[g,y,D]=w.split(".");if(void 0===g||void 0===y||void 0===D)return gt("JWT malformed, contained fewer than 3 sections"),null;try{const L=(0,J.tV)(y);return L?JSON.parse(L):(gt("Failed to decode base64 JWT payload"),null)}catch(L){return gt("Caught error parsing JWT payload as JSON",L),null}}function vt(w,g){return er.apply(this,arguments)}function er(){return(er=(0,a.Z)(function*(w,g,y=!1){if(y)return g;try{return yield g}catch(D){throw D instanceof J.ZR&&ts(D)&&w.auth.currentUser===w&&(yield w.auth.signOut()),D}})).apply(this,arguments)}function ts({code:w}){return"auth/user-disabled"===w||"auth/user-token-expired"===w}class sn{constructor(g){this.user=g,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(g){var y;if(g){const D=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),D}{this.errorBackoff=3e4;const L=(null!==(y=this.user.stsTokenManager.expirationTime)&&void 0!==y?y:0)-Date.now()-3e5;return Math.max(0,L)}}schedule(g=!1){var y=this;if(!this.isRunning)return;const D=this.getInterval(g);this.timerId=setTimeout((0,a.Z)(function*(){yield y.iteration()}),D)}iteration(){var g=this;return(0,a.Z)(function*(){try{yield g.user.getIdToken(!0)}catch(y){return void("auth/network-request-failed"===y.code&&g.schedule(!0))}g.schedule()})()}}class ns{constructor(g,y){this.createdAt=g,this.lastLoginAt=y,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ei(this.lastLoginAt),this.creationTime=Ei(this.createdAt)}_copy(g){this.createdAt=g.createdAt,this.lastLoginAt=g.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function bi(w){return Sn.apply(this,arguments)}function Sn(){return(Sn=(0,a.Z)(function*(w){var g;const y=w.auth,D=yield w.getIdToken(),L=yield vt(w,xn(y,{idToken:D}));me(null==L?void 0:L.users.length,y,"internal-error");const W=L.users[0];w._notifyReloadListener(W);const pe=(null===(g=W.providerUserInfo)||void 0===g?void 0:g.length)?at(W.providerUserInfo):[],qe=on(w.providerData,pe),pn=!!w.isAnonymous&&!(w.email&&W.passwordHash||(null==qe?void 0:qe.length)),Ti={uid:W.localId,displayName:W.displayName||null,photoURL:W.photoUrl||null,email:W.email||null,emailVerified:W.emailVerified||!1,phoneNumber:W.phoneNumber||null,tenantId:W.tenantId||null,providerData:qe,metadata:new ns(W.createdAt,W.lastLoginAt),isAnonymous:pn};Object.assign(w,Ti)})).apply(this,arguments)}function ai(){return(ai=(0,a.Z)(function*(w){const g=(0,J.m9)(w);yield bi(g),yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)})).apply(this,arguments)}function on(w,g){return[...w.filter(D=>!g.some(L=>L.providerId===D.providerId)),...g]}function at(w){return w.map(g=>{var{providerId:y}=g,D=(0,ye._T)(g,["providerId"]);return{providerId:y,uid:D.rawId||"",displayName:D.displayName||null,email:D.email||null,phoneNumber:D.phoneNumber||null,photoURL:D.photoUrl||null}})}function Xe(){return(Xe=(0,a.Z)(function*(w,g){const y=yield Si(w,{},(0,a.Z)(function*(){const D=(0,J.xO)({grant_type:"refresh_token",refresh_token:g}).slice(1),{tokenApiHost:L,apiKey:W}=w.config,pe=es(w,L,"/v1/token",`key=${W}`),qe=yield w._getAdditionalHeaders();return qe["Content-Type"]="application/x-www-form-urlencoded",Nn.fetch()(pe,{method:"POST",headers:qe,body:D})}));return{accessToken:y.access_token,expiresIn:y.expires_in,refreshToken:y.refresh_token}})).apply(this,arguments)}class Ot{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(g){me(g.idToken,"internal-error"),me(void 0!==g.idToken,"internal-error"),me(void 0!==g.refreshToken,"internal-error");const y="expiresIn"in g&&void 0!==g.expiresIn?Number(g.expiresIn):function Dt(w){const g=en(w);return me(g,"internal-error"),me(void 0!==g.exp,"internal-error"),me(void 0!==g.iat,"internal-error"),Number(g.exp)-Number(g.iat)}(g.idToken);this.updateTokensAndExpiration(g.idToken,g.refreshToken,y)}getToken(g,y=!1){var D=this;return(0,a.Z)(function*(){return me(!D.accessToken||D.refreshToken,g,"user-token-expired"),y||!D.accessToken||D.isExpired?D.refreshToken?(yield D.refresh(g,D.refreshToken),D.accessToken):null:D.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(g,y){var D=this;return(0,a.Z)(function*(){const{accessToken:L,refreshToken:W,expiresIn:pe}=yield function Ue(w,g){return Xe.apply(this,arguments)}(g,y);D.updateTokensAndExpiration(L,W,Number(pe))})()}updateTokensAndExpiration(g,y,D){this.refreshToken=y||null,this.accessToken=g||null,this.expirationTime=Date.now()+1e3*D}static fromJSON(g,y){const{refreshToken:D,accessToken:L,expirationTime:W}=y,pe=new Ot;return D&&(me("string"==typeof D,"internal-error",{appName:g}),pe.refreshToken=D),L&&(me("string"==typeof L,"internal-error",{appName:g}),pe.accessToken=L),W&&(me("number"==typeof W,"internal-error",{appName:g}),pe.expirationTime=W),pe}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(g){this.accessToken=g.accessToken,this.refreshToken=g.refreshToken,this.expirationTime=g.expirationTime}_clone(){return Object.assign(new Ot,this.toJSON())}_performRefresh(){return ft("not implemented")}}function Jt(w,g){me("string"==typeof w||void 0===w,"internal-error",{appName:g})}class tn{constructor(g){var{uid:y,auth:D,stsTokenManager:L}=g,W=(0,ye._T)(g,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new sn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=y,this.auth=D,this.stsTokenManager=L,this.accessToken=L.accessToken,this.displayName=W.displayName||null,this.email=W.email||null,this.emailVerified=W.emailVerified||!1,this.phoneNumber=W.phoneNumber||null,this.photoURL=W.photoURL||null,this.isAnonymous=W.isAnonymous||!1,this.tenantId=W.tenantId||null,this.providerData=W.providerData?[...W.providerData]:[],this.metadata=new ns(W.createdAt||void 0,W.lastLoginAt||void 0)}getIdToken(g){var y=this;return(0,a.Z)(function*(){const D=yield vt(y,y.stsTokenManager.getToken(y.auth,g));return me(D,y.auth,"internal-error"),y.accessToken!==D&&(y.accessToken=D,yield y.auth._persistUserIfCurrent(y),y.auth._notifyListenersIfCurrent(y)),D})()}getIdTokenResult(g){return function zn(w){return Vn.apply(this,arguments)}(this,g)}reload(){return function Nt(w){return ai.apply(this,arguments)}(this)}_assign(g){this!==g&&(me(this.uid===g.uid,this.auth,"internal-error"),this.displayName=g.displayName,this.photoURL=g.photoURL,this.email=g.email,this.emailVerified=g.emailVerified,this.phoneNumber=g.phoneNumber,this.isAnonymous=g.isAnonymous,this.tenantId=g.tenantId,this.providerData=g.providerData.map(y=>Object.assign({},y)),this.metadata._copy(g.metadata),this.stsTokenManager._assign(g.stsTokenManager))}_clone(g){return new tn(Object.assign(Object.assign({},this),{auth:g,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(g){me(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=g,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(g){this.reloadListener?this.reloadListener(g):this.reloadUserInfo=g}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(g,y=!1){var D=this;return(0,a.Z)(function*(){let L=!1;g.idToken&&g.idToken!==D.stsTokenManager.accessToken&&(D.stsTokenManager.updateFromServerResponse(g),L=!0),y&&(yield bi(D)),yield D.auth._persistUserIfCurrent(D),L&&D.auth._notifyListenersIfCurrent(D)})()}delete(){var g=this;return(0,a.Z)(function*(){const y=yield g.getIdToken();return yield vt(g,function xr(w,g){return xt.apply(this,arguments)}(g.auth,{idToken:y})),g.stsTokenManager.clearRefreshToken(),g.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(g=>Object.assign({},g)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(g,y){var D,L,W,pe,qe,kt,Lt,pn;const Ti=null!==(D=y.displayName)&&void 0!==D?D:void 0,ra=null!==(L=y.email)&&void 0!==L?L:void 0,Xa=null!==(W=y.phoneNumber)&&void 0!==W?W:void 0,Ul=null!==(pe=y.photoURL)&&void 0!==pe?pe:void 0,Au=null!==(qe=y.tenantId)&&void 0!==qe?qe:void 0,Rc=null!==(kt=y._redirectEventId)&&void 0!==kt?kt:void 0,Tp=null!==(Lt=y.createdAt)&&void 0!==Lt?Lt:void 0,Sd=null!==(pn=y.lastLoginAt)&&void 0!==pn?pn:void 0,{uid:Uh,emailVerified:Wr,isAnonymous:Wg,providerData:Dp,stsTokenManager:Zg}=y;me(Uh&&Zg,g,"internal-error");const Yg=Ot.fromJSON(this.name,Zg);me("string"==typeof Uh,g,"internal-error"),Jt(Ti,g.name),Jt(ra,g.name),me("boolean"==typeof Wr,g,"internal-error"),me("boolean"==typeof Wg,g,"internal-error"),Jt(Xa,g.name),Jt(Ul,g.name),Jt(Au,g.name),Jt(Rc,g.name),Jt(Tp,g.name),Jt(Sd,g.name);const Oc=new tn({uid:Uh,auth:g,email:ra,emailVerified:Wr,displayName:Ti,isAnonymous:Wg,photoURL:Ul,phoneNumber:Xa,tenantId:Au,stsTokenManager:Yg,createdAt:Tp,lastLoginAt:Sd});return Dp&&Array.isArray(Dp)&&(Oc.providerData=Dp.map(Kg=>Object.assign({},Kg))),Rc&&(Oc._redirectEventId=Rc),Oc}static _fromIdTokenResponse(g,y,D=!1){return(0,a.Z)(function*(){const L=new Ot;L.updateFromServerResponse(y);const W=new tn({uid:y.localId,auth:g,stsTokenManager:L,isAnonymous:D});return yield bi(W),W})()}}const ee=(()=>{class w{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,a.Z)(function*(){return!0})()}_set(y,D){var L=this;return(0,a.Z)(function*(){L.storage[y]=D})()}_get(y){var D=this;return(0,a.Z)(function*(){const L=D.storage[y];return void 0===L?null:L})()}_remove(y){var D=this;return(0,a.Z)(function*(){delete D.storage[y]})()}_addListener(y,D){}_removeListener(y,D){}}return w.type="NONE",w})();function oe(w,g,y){return`firebase:${w}:${g}:${y}`}class Me{constructor(g,y,D){this.persistence=g,this.auth=y,this.userKey=D;const{config:L,name:W}=this.auth;this.fullUserKey=oe(this.userKey,L.apiKey,W),this.fullPersistenceKey=oe("persistence",L.apiKey,W),this.boundEventHandler=y._onStorageEvent.bind(y),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(g){return this.persistence._set(this.fullUserKey,g.toJSON())}getCurrentUser(){var g=this;return(0,a.Z)(function*(){const y=yield g.persistence._get(g.fullUserKey);return y?tn._fromJSON(g.auth,y):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(g){var y=this;return(0,a.Z)(function*(){if(y.persistence===g)return;const D=yield y.getCurrentUser();return yield y.removeCurrentUser(),y.persistence=g,D?y.setCurrentUser(D):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(g,y,D="authUser"){return(0,a.Z)(function*(){if(!y.length)return new Me(De(ee),g,D);const L=(yield Promise.all(y.map(function(){var Lt=(0,a.Z)(function*(pn){if(yield pn._isAvailable())return pn});return function(pn){return Lt.apply(this,arguments)}}()))).filter(Lt=>Lt);let W=L[0]||De(ee);const pe=oe(D,g.config.apiKey,g.name);let qe=null;for(const Lt of y)try{const pn=yield Lt._get(pe);if(pn){const Ti=tn._fromJSON(g,pn);Lt!==W&&(qe=Ti),W=Lt;break}}catch(pn){}const kt=L.filter(Lt=>Lt._shouldAllowMigration);return W._shouldAllowMigration&&kt.length?(W=kt[0],qe&&(yield W._set(pe,qe.toJSON())),yield Promise.all(y.map(function(){var Lt=(0,a.Z)(function*(pn){if(pn!==W)try{yield pn._remove(pe)}catch(Ti){}});return function(pn){return Lt.apply(this,arguments)}}())),new Me(W,g,D)):new Me(W,g,D)})()}}function z(w){const g=w.toLowerCase();if(g.includes("opera/")||g.includes("opr/")||g.includes("opios/"))return"Opera";if(tt(g))return"IEMobile";if(g.includes("msie")||g.includes("trident/"))return"IE";if(g.includes("edge/"))return"Edge";if(K(g))return"Firefox";if(g.includes("silk/"))return"Silk";if(Bt(g))return"Blackberry";if(bt(g))return"Webos";if(te(g))return"Safari";if((g.includes("chrome/")||Ee(g))&&!g.includes("edge/"))return"Chrome";if(lt(g))return"Android";{const D=w.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==D?void 0:D.length))return D[1]}return"Other"}function K(w=(0,J.z$)()){return/firefox\//i.test(w)}function te(w=(0,J.z$)()){const g=w.toLowerCase();return g.includes("safari/")&&!g.includes("chrome/")&&!g.includes("crios/")&&!g.includes("android")}function Ee(w=(0,J.z$)()){return/crios\//i.test(w)}function tt(w=(0,J.z$)()){return/iemobile/i.test(w)}function lt(w=(0,J.z$)()){return/android/i.test(w)}function Bt(w=(0,J.z$)()){return/blackberry/i.test(w)}function bt(w=(0,J.z$)()){return/webos/i.test(w)}function Gt(w=(0,J.z$)()){return/iphone|ipad|ipod/i.test(w)}function li(w=(0,J.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(w)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(w)}function tr(w=(0,J.z$)()){return Gt(w)||lt(w)||bt(w)||Bt(w)||/windows phone/i.test(w)||tt(w)}function Hn(w,g=[]){let y;switch(w){case"Browser":y=z((0,J.z$)());break;case"Worker":y=`${z((0,J.z$)())}-${w}`;break;default:y=w}const D=g.length?g.join(","):"FirebaseCore-web";return`${y}/JsCore/${U.SDK_VERSION}/${D}`}class kr{constructor(g,y,D){this.app=g,this.heartbeatServiceProvider=y,this.config=D,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ct(this),this.idTokenSubscription=new ct(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=et,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=g.name,this.clientVersion=D.sdkClientVersion}_initializeWithPersistence(g,y){var D=this;return y&&(this._popupRedirectResolver=De(y)),this._initializationPromise=this.queue((0,a.Z)(function*(){var L,W;if(!D._deleted&&(D.persistenceManager=yield Me.create(D,g),!D._deleted)){if(null===(L=D._popupRedirectResolver)||void 0===L?void 0:L._shouldInitProactively)try{yield D._popupRedirectResolver._initialize(D)}catch(pe){}yield D.initializeCurrentUser(y),D.lastNotifiedUid=(null===(W=D.currentUser)||void 0===W?void 0:W.uid)||null,!D._deleted&&(D._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var g=this;return(0,a.Z)(function*(){if(g._deleted)return;const y=yield g.assertedPersistence.getCurrentUser();if(g.currentUser||y){if(g.currentUser&&y&&g.currentUser.uid===y.uid)return g._currentUser._assign(y),void(yield g.currentUser.getIdToken());yield g._updateCurrentUser(y)}})()}initializeCurrentUser(g){var y=this;return(0,a.Z)(function*(){var D;let L=yield y.assertedPersistence.getCurrentUser();if(g&&y.config.authDomain){yield y.getOrInitRedirectPersistenceManager();const W=null===(D=y.redirectUser)||void 0===D?void 0:D._redirectEventId,pe=null==L?void 0:L._redirectEventId,qe=yield y.tryRedirectSignIn(g);(!W||W===pe)&&(null==qe?void 0:qe.user)&&(L=qe.user)}return L?L._redirectEventId?(me(y._popupRedirectResolver,y,"argument-error"),yield y.getOrInitRedirectPersistenceManager(),y.redirectUser&&y.redirectUser._redirectEventId===L._redirectEventId?y.directlySetCurrentUser(L):y.reloadAndSetCurrentUserOrClear(L)):y.reloadAndSetCurrentUserOrClear(L):y.directlySetCurrentUser(null)})()}tryRedirectSignIn(g){var y=this;return(0,a.Z)(function*(){let D=null;try{D=yield y._popupRedirectResolver._completeRedirectFn(y,g,!0)}catch(L){yield y._setRedirectUser(null)}return D})()}reloadAndSetCurrentUserOrClear(g){var y=this;return(0,a.Z)(function*(){try{yield bi(g)}catch(D){if("auth/network-request-failed"!==D.code)return y.directlySetCurrentUser(null)}return y.directlySetCurrentUser(g)})()}useDeviceLanguage(){this.languageCode=function It(){if("undefined"==typeof navigator)return null;const w=navigator;return w.languages&&w.languages[0]||w.language||null}()}_delete(){var g=this;return(0,a.Z)(function*(){g._deleted=!0})()}updateCurrentUser(g){var y=this;return(0,a.Z)(function*(){const D=g?(0,J.m9)(g):null;return D&&me(D.auth.config.apiKey===y.config.apiKey,y,"invalid-user-token"),y._updateCurrentUser(D&&D._clone(y))})()}_updateCurrentUser(g){var y=this;return(0,a.Z)(function*(){if(!y._deleted)return g&&me(y.tenantId===g.tenantId,y,"tenant-id-mismatch"),y.queue((0,a.Z)(function*(){yield y.directlySetCurrentUser(g),y.notifyAuthListeners()}))})()}signOut(){var g=this;return(0,a.Z)(function*(){return(g.redirectPersistenceManager||g._popupRedirectResolver)&&(yield g._setRedirectUser(null)),g._updateCurrentUser(null)})()}setPersistence(g){var y=this;return this.queue((0,a.Z)(function*(){yield y.assertedPersistence.setPersistence(De(g))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(g){this._errorFactory=new J.LL("auth","Firebase",g())}onAuthStateChanged(g,y,D){return this.registerStateListener(this.authStateSubscription,g,y,D)}onIdTokenChanged(g,y,D){return this.registerStateListener(this.idTokenSubscription,g,y,D)}toJSON(){var g;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(g=this._currentUser)||void 0===g?void 0:g.toJSON()}}_setRedirectUser(g,y){var D=this;return(0,a.Z)(function*(){const L=yield D.getOrInitRedirectPersistenceManager(y);return null===g?L.removeCurrentUser():L.setCurrentUser(g)})()}getOrInitRedirectPersistenceManager(g){var y=this;return(0,a.Z)(function*(){if(!y.redirectPersistenceManager){const D=g&&De(g)||y._popupRedirectResolver;me(D,y,"argument-error"),y.redirectPersistenceManager=yield Me.create(y,[De(D._redirectPersistence)],"redirectUser"),y.redirectUser=yield y.redirectPersistenceManager.getCurrentUser()}return y.redirectPersistenceManager})()}_redirectUserForId(g){var y=this;return(0,a.Z)(function*(){var D,L;return y._isInitialized&&(yield y.queue((0,a.Z)(function*(){}))),(null===(D=y._currentUser)||void 0===D?void 0:D._redirectEventId)===g?y._currentUser:(null===(L=y.redirectUser)||void 0===L?void 0:L._redirectEventId)===g?y.redirectUser:null})()}_persistUserIfCurrent(g){var y=this;return(0,a.Z)(function*(){if(g===y.currentUser)return y.queue((0,a.Z)(function*(){return y.directlySetCurrentUser(g)}))})()}_notifyListenersIfCurrent(g){g===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var g,y;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const D=null!==(y=null===(g=this.currentUser)||void 0===g?void 0:g.uid)&&void 0!==y?y:null;this.lastNotifiedUid!==D&&(this.lastNotifiedUid=D,this.authStateSubscription.next(this.currentUser))}registerStateListener(g,y,D,L){if(this._deleted)return()=>{};const W="function"==typeof y?y:y.next.bind(y),pe=this._isInitialized?Promise.resolve():this._initializationPromise;return me(pe,this,"internal-error"),pe.then(()=>W(this.currentUser)),"function"==typeof y?g.addObserver(y,D,L):g.addObserver(y)}directlySetCurrentUser(g){var y=this;return(0,a.Z)(function*(){y.currentUser&&y.currentUser!==g&&(y._currentUser._stopProactiveRefresh(),g&&y.isProactiveRefreshEnabled&&g._startProactiveRefresh()),y.currentUser=g,g?yield y.assertedPersistence.setCurrentUser(g):yield y.assertedPersistence.removeCurrentUser()})()}queue(g){return this.operations=this.operations.then(g,g),this.operations}get assertedPersistence(){return me(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(g){!g||this.frameworks.includes(g)||(this.frameworks.push(g),this.frameworks.sort(),this.clientVersion=Hn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var g=this;return(0,a.Z)(function*(){var y;const D={"X-Client-Version":g.clientVersion};g.app.options.appId&&(D["X-Firebase-gmpid"]=g.app.options.appId);const L=yield null===(y=g.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===y?void 0:y.getHeartbeatsHeader();return L&&(D["X-Firebase-Client"]=L),D})()}}function An(w){return(0,J.m9)(w)}class ct{constructor(g){this.auth=g,this.observer=null,this.addObserver=(0,J.ne)(y=>this.observer=y)}get next(){return me(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function dn(w,g,y){const D=An(w);me(D._canInitEmulator,D,"emulator-config-failed"),me(/^https?:\/\//.test(g),D,"invalid-emulator-scheme");const L=!!(null==y?void 0:y.disableWarnings),W=qn(g),{host:pe,port:qe}=function Ui(w){const g=qn(w),y=/(\/\/)?([^?#/]+)/.exec(w.substr(g.length));if(!y)return{host:"",port:null};const D=y[2].split("@").pop()||"",L=/^(\[[^\]]+\])(:|$)/.exec(D);if(L){const W=L[1];return{host:W,port:Qs(D.substr(W.length+1))}}{const[W,pe]=D.split(":");return{host:W,port:Qs(pe)}}}(g);D.config.emulator={url:`${W}//${pe}${null===qe?"":`:${qe}`}/`},D.settings.appVerificationDisabledForTesting=!0,D.emulatorConfig=Object.freeze({host:pe,port:qe,protocol:W.replace(":",""),options:Object.freeze({disableWarnings:L})}),L||function Hi(){function w(){const g=document.createElement("p"),y=g.style;g.innerText="Running in emulator mode. Do not use with production credentials.",y.position="fixed",y.width="100%",y.backgroundColor="#ffffff",y.border=".1em solid #000000",y.color="#b50000",y.bottom="0px",y.left="0px",y.margin="0px",y.zIndex="10000",y.textAlign="center",g.classList.add("firebase-emulator-warning"),document.body.appendChild(g)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",w):w())}()}function qn(w){const g=w.indexOf(":");return g<0?"":w.substr(0,g+1)}function Qs(w){if(!w)return null;const g=Number(w);return isNaN(g)?null:g}class fr{constructor(g,y){this.providerId=g,this.signInMethod=y}toJSON(){return ft("not implemented")}_getIdTokenResponse(g){return ft("not implemented")}_linkToIdToken(g,y){return ft("not implemented")}_getReauthenticationResolver(g){return ft("not implemented")}}function ci(w,g){return ui.apply(this,arguments)}function ui(){return(ui=(0,a.Z)(function*(w,g){return Tn(w,"POST","/v1/accounts:resetPassword",_n(w,g))})).apply(this,arguments)}function pr(w,g){return Yt.apply(this,arguments)}function Yt(){return(Yt=(0,a.Z)(function*(w,g){return Tn(w,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function nr(w,g){return Ai.apply(this,arguments)}function Ai(){return(Ai=(0,a.Z)(function*(w,g){return Tn(w,"POST","/v1/accounts:update",_n(w,g))})).apply(this,arguments)}function ms(){return(ms=(0,a.Z)(function*(w,g){return _i(w,"POST","/v1/accounts:signInWithPassword",_n(w,g))})).apply(this,arguments)}function Mi(w,g){return Xs.apply(this,arguments)}function Xs(){return(Xs=(0,a.Z)(function*(w,g){return Tn(w,"POST","/v1/accounts:sendOobCode",_n(w,g))})).apply(this,arguments)}function mo(w,g){return jn.apply(this,arguments)}function jn(){return(jn=(0,a.Z)(function*(w,g){return Mi(w,g)})).apply(this,arguments)}function Wn(w,g){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,a.Z)(function*(w,g){return Mi(w,g)})).apply(this,arguments)}function vl(w,g){return ji.apply(this,arguments)}function ji(){return(ji=(0,a.Z)(function*(w,g){return Mi(w,g)})).apply(this,arguments)}function mr(w,g){return bl.apply(this,arguments)}function bl(){return(bl=(0,a.Z)(function*(w,g){return Mi(w,g)})).apply(this,arguments)}function Ea(){return(Ea=(0,a.Z)(function*(w,g){return _i(w,"POST","/v1/accounts:signInWithEmailLink",_n(w,g))})).apply(this,arguments)}function wl(){return(wl=(0,a.Z)(function*(w,g){return _i(w,"POST","/v1/accounts:signInWithEmailLink",_n(w,g))})).apply(this,arguments)}class _o extends fr{constructor(g,y,D,L=null){super("password",D),this._email=g,this._password=y,this._tenantId=L}static _fromEmailAndPassword(g,y){return new _o(g,y,"password")}static _fromEmailAndCode(g,y,D=null){return new _o(g,y,"emailLink",D)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(g){const y="string"==typeof g?JSON.parse(g):g;if((null==y?void 0:y.email)&&(null==y?void 0:y.password)){if("password"===y.signInMethod)return this._fromEmailAndPassword(y.email,y.password);if("emailLink"===y.signInMethod)return this._fromEmailAndCode(y.email,y.password,y.tenantId)}return null}_getIdTokenResponse(g){var y=this;return(0,a.Z)(function*(){switch(y.signInMethod){case"password":return function Js(w,g){return ms.apply(this,arguments)}(g,{returnSecureToken:!0,email:y._email,password:y._password});case"emailLink":return function go(w,g){return Ea.apply(this,arguments)}(g,{email:y._email,oobCode:y._password});default:Je(g,"internal-error")}})()}_linkToIdToken(g,y){var D=this;return(0,a.Z)(function*(){switch(D.signInMethod){case"password":return pr(g,{idToken:y,returnSecureToken:!0,email:D._email,password:D._password});case"emailLink":return function qi(w,g){return wl.apply(this,arguments)}(g,{idToken:y,email:D._email,oobCode:D._password});default:Je(g,"internal-error")}})()}_getReauthenticationResolver(g){return this._getIdTokenResponse(g)}}function yo(w,g){return Br.apply(this,arguments)}function Br(){return(Br=(0,a.Z)(function*(w,g){return _i(w,"POST","/v1/accounts:signInWithIdp",_n(w,g))})).apply(this,arguments)}class is extends fr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(g){const y=new is(g.providerId,g.signInMethod);return g.idToken||g.accessToken?(g.idToken&&(y.idToken=g.idToken),g.accessToken&&(y.accessToken=g.accessToken),g.nonce&&!g.pendingToken&&(y.nonce=g.nonce),g.pendingToken&&(y.pendingToken=g.pendingToken)):g.oauthToken&&g.oauthTokenSecret?(y.accessToken=g.oauthToken,y.secret=g.oauthTokenSecret):Je("argument-error"),y}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(g){const y="string"==typeof g?JSON.parse(g):g,{providerId:D,signInMethod:L}=y,W=(0,ye._T)(y,["providerId","signInMethod"]);if(!D||!L)return null;const pe=new is(D,L);return pe.idToken=W.idToken||void 0,pe.accessToken=W.accessToken||void 0,pe.secret=W.secret,pe.nonce=W.nonce,pe.pendingToken=W.pendingToken||null,pe}_getIdTokenResponse(g){return yo(g,this.buildRequest())}_linkToIdToken(g,y){const D=this.buildRequest();return D.idToken=y,yo(g,D)}_getReauthenticationResolver(g){const y=this.buildRequest();return y.autoCreate=!1,yo(g,y)}buildRequest(){const g={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)g.pendingToken=this.pendingToken;else{const y={};this.idToken&&(y.id_token=this.idToken),this.accessToken&&(y.access_token=this.accessToken),this.secret&&(y.oauth_token_secret=this.secret),y.providerId=this.providerId,this.nonce&&!this.pendingToken&&(y.nonce=this.nonce),g.postBody=(0,J.xO)(y)}return g}}function Dh(w,g){return hu.apply(this,arguments)}function hu(){return(hu=(0,a.Z)(function*(w,g){return Tn(w,"POST","/v1/accounts:sendVerificationCode",_n(w,g))})).apply(this,arguments)}function ja(){return(ja=(0,a.Z)(function*(w,g){return _i(w,"POST","/v1/accounts:signInWithPhoneNumber",_n(w,g))})).apply(this,arguments)}function Go(){return(Go=(0,a.Z)(function*(w,g){const y=yield _i(w,"POST","/v1/accounts:signInWithPhoneNumber",_n(w,g));if(y.temporaryProof)throw Xn(w,"account-exists-with-different-credential",y);return y})).apply(this,arguments)}const Ga={USER_NOT_FOUND:"user-not-found"};function lc(){return(lc=(0,a.Z)(function*(w,g){return _i(w,"POST","/v1/accounts:signInWithPhoneNumber",_n(w,Object.assign(Object.assign({},g),{operation:"REAUTH"})),Ga)})).apply(this,arguments)}class $o extends fr{constructor(g){super("phone","phone"),this.params=g}static _fromVerification(g,y){return new $o({verificationId:g,verificationCode:y})}static _fromTokenResponse(g,y){return new $o({phoneNumber:g,temporaryProof:y})}_getIdTokenResponse(g){return function fu(w,g){return ja.apply(this,arguments)}(g,this._makeVerificationRequest())}_linkToIdToken(g,y){return function pi(w,g){return Go.apply(this,arguments)}(g,Object.assign({idToken:y},this._makeVerificationRequest()))}_getReauthenticationResolver(g){return function Cl(w,g){return lc.apply(this,arguments)}(g,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:g,phoneNumber:y,verificationId:D,verificationCode:L}=this.params;return g&&y?{temporaryProof:g,phoneNumber:y}:{sessionInfo:D,code:L}}toJSON(){const g={providerId:this.providerId};return this.params.phoneNumber&&(g.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(g.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(g.verificationCode=this.params.verificationCode),this.params.verificationId&&(g.verificationId=this.params.verificationId),g}static fromJSON(g){"string"==typeof g&&(g=JSON.parse(g));const{verificationId:y,verificationCode:D,phoneNumber:L,temporaryProof:W}=g;return D||y||L||W?new $o({verificationId:y,verificationCode:D,phoneNumber:L,temporaryProof:W}):null}}class Os{constructor(g){var y,D,L,W,pe,qe;const kt=(0,J.zd)((0,J.pd)(g)),Lt=null!==(y=kt.apiKey)&&void 0!==y?y:null,pn=null!==(D=kt.oobCode)&&void 0!==D?D:null,Ti=function od(w){switch(w){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(L=kt.mode)&&void 0!==L?L:null);me(Lt&&pn&&Ti,"argument-error"),this.apiKey=Lt,this.operation=Ti,this.code=pn,this.continueUrl=null!==(W=kt.continueUrl)&&void 0!==W?W:null,this.languageCode=null!==(pe=kt.languageCode)&&void 0!==pe?pe:null,this.tenantId=null!==(qe=kt.tenantId)&&void 0!==qe?qe:null}static parseLink(g){const y=function Ih(w){const g=(0,J.zd)((0,J.pd)(w)).link,y=g?(0,J.zd)((0,J.pd)(g)).deep_link_id:null,D=(0,J.zd)((0,J.pd)(w)).deep_link_id;return(D?(0,J.zd)((0,J.pd)(D)).link:null)||D||y||g||w}(g);try{return new Os(y)}catch(D){return null}}}let El=(()=>{class w{constructor(){this.providerId=w.PROVIDER_ID}static credential(y,D){return _o._fromEmailAndPassword(y,D)}static credentialWithLink(y,D){const L=Os.parseLink(D);return me(L,"argument-error"),_o._fromEmailAndCode(y,L.code,L.tenantId)}}return w.PROVIDER_ID="password",w.EMAIL_PASSWORD_SIGN_IN_METHOD="password",w.EMAIL_LINK_SIGN_IN_METHOD="emailLink",w})();class eo{constructor(g){this.providerId=g,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(g){this.defaultLanguageCode=g}setCustomParameters(g){return this.customParameters=g,this}getCustomParameters(){return this.customParameters}}class $a extends eo{constructor(){super(...arguments),this.scopes=[]}addScope(g){return this.scopes.includes(g)||this.scopes.push(g),this}getScopes(){return[...this.scopes]}}class rs extends $a{static credentialFromJSON(g){const y="string"==typeof g?JSON.parse(g):g;return me("providerId"in y&&"signInMethod"in y,"argument-error"),is._fromParams(y)}credential(g){return this._credential(Object.assign(Object.assign({},g),{nonce:g.rawNonce}))}_credential(g){return me(g.idToken||g.accessToken,"argument-error"),is._fromParams(Object.assign(Object.assign({},g),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(g){return rs.oauthCredentialFromTaggedObject(g)}static credentialFromError(g){return rs.oauthCredentialFromTaggedObject(g.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:y,oauthAccessToken:D,oauthTokenSecret:L,pendingToken:W,nonce:pe,providerId:qe}=g;if(!D&&!L&&!y&&!W||!qe)return null;try{return new rs(qe)._credential({idToken:y,accessToken:D,nonce:pe,pendingToken:W})}catch(kt){return null}}}let ad=(()=>{class w extends $a{constructor(){super("facebook.com")}static credential(y){return is._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.FACEBOOK_SIGN_IN_METHOD,accessToken:y})}static credentialFromResult(y){return w.credentialFromTaggedObject(y)}static credentialFromError(y){return w.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y||!("oauthAccessToken"in y)||!y.oauthAccessToken)return null;try{return w.credential(y.oauthAccessToken)}catch(D){return null}}}return w.FACEBOOK_SIGN_IN_METHOD="facebook.com",w.PROVIDER_ID="facebook.com",w})(),zo=(()=>{class w extends $a{constructor(){super("google.com"),this.addScope("profile")}static credential(y,D){return is._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.GOOGLE_SIGN_IN_METHOD,idToken:y,accessToken:D})}static credentialFromResult(y){return w.credentialFromTaggedObject(y)}static credentialFromError(y){return w.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthIdToken:D,oauthAccessToken:L}=y;if(!D&&!L)return null;try{return w.credential(D,L)}catch(W){return null}}}return w.GOOGLE_SIGN_IN_METHOD="google.com",w.PROVIDER_ID="google.com",w})(),Tl=(()=>{class w extends $a{constructor(){super("github.com")}static credential(y){return is._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.GITHUB_SIGN_IN_METHOD,accessToken:y})}static credentialFromResult(y){return w.credentialFromTaggedObject(y)}static credentialFromError(y){return w.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y||!("oauthAccessToken"in y)||!y.oauthAccessToken)return null;try{return w.credential(y.oauthAccessToken)}catch(D){return null}}}return w.GITHUB_SIGN_IN_METHOD="github.com",w.PROVIDER_ID="github.com",w})();class Ta extends fr{constructor(g,y){super(g,g),this.pendingToken=y}_getIdTokenResponse(g){return yo(g,this.buildRequest())}_linkToIdToken(g,y){const D=this.buildRequest();return D.idToken=y,yo(g,D)}_getReauthenticationResolver(g){const y=this.buildRequest();return y.autoCreate=!1,yo(g,y)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(g){const y="string"==typeof g?JSON.parse(g):g,{providerId:D,signInMethod:L,pendingToken:W}=y;return D&&L&&W&&D===L?new Ta(D,W):null}static _create(g,y){return new Ta(g,y)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class gr extends eo{constructor(g){me(g.startsWith("saml."),"argument-error"),super(g)}static credentialFromResult(g){return gr.samlCredentialFromTaggedObject(g)}static credentialFromError(g){return gr.samlCredentialFromTaggedObject(g.customData||{})}static credentialFromJSON(g){const y=Ta.fromJSON(g);return me(y,"argument-error"),y}static samlCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{pendingToken:y,providerId:D}=g;if(!y||!D)return null;try{return Ta._create(D,y)}catch(L){return null}}}let Ns=(()=>{class w extends $a{constructor(){super("twitter.com")}static credential(y,D){return is._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.TWITTER_SIGN_IN_METHOD,oauthToken:y,oauthTokenSecret:D})}static credentialFromResult(y){return w.credentialFromTaggedObject(y)}static credentialFromError(y){return w.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthAccessToken:D,oauthTokenSecret:L}=y;if(!D||!L)return null;try{return w.credential(D,L)}catch(W){return null}}}return w.TWITTER_SIGN_IN_METHOD="twitter.com",w.PROVIDER_ID="twitter.com",w})();function Dl(w,g){return za.apply(this,arguments)}function za(){return(za=(0,a.Z)(function*(w,g){return _i(w,"POST","/v1/accounts:signUp",_n(w,g))})).apply(this,arguments)}class mi{constructor(g){this.user=g.user,this.providerId=g.providerId,this._tokenResponse=g._tokenResponse,this.operationType=g.operationType}static _fromIdTokenResponse(g,y,D,L=!1){return(0,a.Z)(function*(){const W=yield tn._fromIdTokenResponse(g,D,L),pe=vo(D);return new mi({user:W,providerId:pe,_tokenResponse:D,operationType:y})})()}static _forOperation(g,y,D){return(0,a.Z)(function*(){yield g._updateTokensIfNecessary(D,!0);const L=vo(D);return new mi({user:g,providerId:L,_tokenResponse:D,operationType:y})})()}}function vo(w){return w.providerId?w.providerId:"phoneNumber"in w?"phone":null}function Sh(w){return Da.apply(this,arguments)}function Da(){return(Da=(0,a.Z)(function*(w){var g;const y=An(w);if(yield y._initializationPromise,null===(g=y.currentUser)||void 0===g?void 0:g.isAnonymous)return new mi({user:y.currentUser,providerId:null,operationType:"signIn"});const D=yield Dl(y,{returnSecureToken:!0}),L=yield mi._fromIdTokenResponse(y,"signIn",D,!0);return yield y._updateCurrentUser(L.user),L})).apply(this,arguments)}class cc extends J.ZR{constructor(g,y,D,L){var W;super(y.code,y.message),this.operationType=D,this.user=L,Object.setPrototypeOf(this,cc.prototype),this.customData={appName:g.name,tenantId:null!==(W=g.tenantId)&&void 0!==W?W:void 0,_serverResponse:y.customData._serverResponse,operationType:D}}static _fromErrorAndOperation(g,y,D,L){return new cc(g,y,D,L)}}function mu(w,g,y,D){return("reauthenticate"===g?y._getReauthenticationResolver(w):y._getIdTokenResponse(w)).catch(W=>{throw"auth/multi-factor-auth-required"===W.code?cc._fromErrorAndOperation(w,W,g,D):W})}function Il(w){return new Set(w.map(({providerId:g})=>g).filter(g=>!!g))}function bo(w,g){return wo.apply(this,arguments)}function wo(){return(wo=(0,a.Z)(function*(w,g){const y=(0,J.m9)(w);yield Wo(!0,y,g);const{providerUserInfo:D}=yield hr(y.auth,{idToken:yield y.getIdToken(),deleteProvider:[g]}),L=Il(D||[]);return y.providerData=y.providerData.filter(W=>L.has(W.providerId)),L.has("phone")||(y.phoneNumber=null),yield y.auth._persistUserIfCurrent(y),y})).apply(this,arguments)}function uc(w,g){return ti.apply(this,arguments)}function ti(){return(ti=(0,a.Z)(function*(w,g,y=!1){const D=yield vt(w,g._linkToIdToken(w.auth,yield w.getIdToken()),y);return mi._forOperation(w,"link",D)})).apply(this,arguments)}function Wo(w,g,y){return Zo.apply(this,arguments)}function Zo(){return(Zo=(0,a.Z)(function*(w,g,y){yield bi(g);const L=!1===w?"provider-already-linked":"no-such-provider";me(Il(g.providerData).has(y)===w,g.auth,L)})).apply(this,arguments)}function Yn(w,g){return dc.apply(this,arguments)}function dc(){return(dc=(0,a.Z)(function*(w,g,y=!1){const{auth:D}=w,L="reauthenticate";try{const W=yield vt(w,mu(D,L,g,w),y);me(W.idToken,D,"internal-error");const pe=en(W.idToken);me(pe,D,"internal-error");const{sub:qe}=pe;return me(w.uid===qe,D,"user-mismatch"),mi._forOperation(w,L,W)}catch(W){throw"auth/user-not-found"===(null==W?void 0:W.code)&&Je(D,"user-mismatch"),W}})).apply(this,arguments)}function Ia(w,g){return Co.apply(this,arguments)}function Co(){return(Co=(0,a.Z)(function*(w,g,y=!1){const D="signIn",L=yield mu(w,D,g),W=yield mi._fromIdTokenResponse(w,D,L);return y||(yield w._updateCurrentUser(W.user)),W})).apply(this,arguments)}function ir(w,g){return xi.apply(this,arguments)}function xi(){return(xi=(0,a.Z)(function*(w,g){return Ia(An(w),g)})).apply(this,arguments)}function Sl(w,g){return ss.apply(this,arguments)}function ss(){return(ss=(0,a.Z)(function*(w,g){const y=(0,J.m9)(w);return yield Wo(!1,y,g.providerId),uc(y,g)})).apply(this,arguments)}function Rr(w,g){return no.apply(this,arguments)}function no(){return(no=(0,a.Z)(function*(w,g){return Yn((0,J.m9)(w),g)})).apply(this,arguments)}function Yo(w,g){return Sa.apply(this,arguments)}function Sa(){return(Sa=(0,a.Z)(function*(w,g){return _i(w,"POST","/v1/accounts:signInWithCustomToken",_n(w,g))})).apply(this,arguments)}function gs(w,g){return Ps.apply(this,arguments)}function Ps(){return(Ps=(0,a.Z)(function*(w,g){const y=An(w),D=yield Yo(y,{token:g,returnSecureToken:!0}),L=yield mi._fromIdTokenResponse(y,"signIn",D);return yield y._updateCurrentUser(L.user),L})).apply(this,arguments)}class io{constructor(g,y){this.factorId=g,this.uid=y.mfaEnrollmentId,this.enrollmentTime=new Date(y.enrolledAt).toUTCString(),this.displayName=y.displayName}static _fromServerResponse(g,y){return"phoneInfo"in y?Ft._fromServerResponse(g,y):Je(g,"internal-error")}}class Ft extends io{constructor(g){super("phone",g),this.phoneNumber=g.phoneInfo}static _fromServerResponse(g,y){return new Ft(y)}}function qa(w,g,y){var D;me((null===(D=y.url)||void 0===D?void 0:D.length)>0,w,"invalid-continue-uri"),me(void 0===y.dynamicLinkDomain||y.dynamicLinkDomain.length>0,w,"invalid-dynamic-link-domain"),g.continueUrl=y.url,g.dynamicLinkDomain=y.dynamicLinkDomain,g.canHandleCodeInApp=y.handleCodeInApp,y.iOS&&(me(y.iOS.bundleId.length>0,w,"missing-ios-bundle-id"),g.iOSBundleId=y.iOS.bundleId),y.android&&(me(y.android.packageName.length>0,w,"missing-android-pkg-name"),g.androidInstallApp=y.android.installApp,g.androidMinimumVersionCode=y.android.minimumVersion,g.androidPackageName=y.android.packageName)}function Ur(w,g,y){return _s.apply(this,arguments)}function _s(){return(_s=(0,a.Z)(function*(w,g,y){const D=(0,J.m9)(w),L={requestType:"PASSWORD_RESET",email:g};y&&qa(D,L,y),yield Wn(D,L)})).apply(this,arguments)}function gu(w,g,y){return ys.apply(this,arguments)}function ys(){return(ys=(0,a.Z)(function*(w,g,y){yield ci((0,J.m9)(w),{oobCode:g,newPassword:y})})).apply(this,arguments)}function ld(w,g){return vs.apply(this,arguments)}function vs(){return(vs=(0,a.Z)(function*(w,g){yield nr((0,J.m9)(w),{oobCode:g})})).apply(this,arguments)}function $e(w,g){return an.apply(this,arguments)}function an(){return(an=(0,a.Z)(function*(w,g){const y=(0,J.m9)(w),D=yield ci(y,{oobCode:g}),L=D.requestType;switch(me(L,y,"internal-error"),L){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":me(D.newEmail,y,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":me(D.mfaInfo,y,"internal-error");default:me(D.email,y,"internal-error")}let W=null;return D.mfaInfo&&(W=io._fromServerResponse(An(y),D.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===D.requestType?D.newEmail:D.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===D.requestType?D.email:D.newEmail)||null,multiFactorInfo:W},operation:L}})).apply(this,arguments)}function _u(w,g){return ln.apply(this,arguments)}function ln(){return(ln=(0,a.Z)(function*(w,g){const{data:y}=yield $e((0,J.m9)(w),g);return y.email})).apply(this,arguments)}function Fs(w,g,y){return os.apply(this,arguments)}function os(){return(os=(0,a.Z)(function*(w,g,y){const D=An(w),L=yield Dl(D,{returnSecureToken:!0,email:g,password:y}),W=yield mi._fromIdTokenResponse(D,"signIn",L);return yield D._updateCurrentUser(W.user),W})).apply(this,arguments)}function bs(w,g,y){return ir((0,J.m9)(w),El.credential(g,y))}function Ko(w,g,y){return ro.apply(this,arguments)}function ro(){return(ro=(0,a.Z)(function*(w,g,y){const D=(0,J.m9)(w),L={requestType:"EMAIL_SIGNIN",email:g};me(y.handleCodeInApp,D,"argument-error"),y&&qa(D,L,y),yield vl(D,L)})).apply(this,arguments)}function cd(w,g){const y=Os.parseLink(g);return"EMAIL_SIGNIN"===(null==y?void 0:y.operation)}function hc(w,g,y){return Aa.apply(this,arguments)}function Aa(){return(Aa=(0,a.Z)(function*(w,g,y){const D=(0,J.m9)(w),L=El.credentialWithLink(g,y||we());return me(L._tenantId===(D.tenantId||null),D,"tenant-id-mismatch"),ir(D,L)})).apply(this,arguments)}function Eo(w,g){return ki.apply(this,arguments)}function ki(){return(ki=(0,a.Z)(function*(w,g){return Tn(w,"POST","/v1/accounts:createAuthUri",_n(w,g))})).apply(this,arguments)}function Ls(w,g){return Ma.apply(this,arguments)}function Ma(){return(Ma=(0,a.Z)(function*(w,g){const D={identifier:g,continueUri:Vt()?we():"http://localhost"},{signinMethods:L}=yield Eo((0,J.m9)(w),D);return L||[]})).apply(this,arguments)}function rr(w,g){return Hr.apply(this,arguments)}function Hr(){return(Hr=(0,a.Z)(function*(w,g){const y=(0,J.m9)(w),L={requestType:"VERIFY_EMAIL",idToken:yield w.getIdToken()};g&&qa(y.auth,L,g);const{email:W}=yield mo(y.auth,L);W!==w.email&&(yield w.reload())})).apply(this,arguments)}function Pn(w,g,y){return xa.apply(this,arguments)}function xa(){return(xa=(0,a.Z)(function*(w,g,y){const D=(0,J.m9)(w),W={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield w.getIdToken(),newEmail:g};y&&qa(D.auth,W,y);const{email:pe}=yield mr(D.auth,W);pe!==w.email&&(yield w.reload())})).apply(this,arguments)}function fc(w,g){return _r.apply(this,arguments)}function _r(){return(_r=(0,a.Z)(function*(w,g){return Tn(w,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Al(w,g){return so.apply(this,arguments)}function so(){return(so=(0,a.Z)(function*(w,{displayName:g,photoURL:y}){if(void 0===g&&void 0===y)return;const D=(0,J.m9)(w),W={idToken:yield D.getIdToken(),displayName:g,photoUrl:y,returnSecureToken:!0},pe=yield vt(D,fc(D.auth,W));D.displayName=pe.displayName||null,D.photoURL=pe.photoUrl||null;const qe=D.providerData.find(({providerId:kt})=>"password"===kt);qe&&(qe.displayName=D.displayName,qe.photoURL=D.photoURL),yield D._updateTokensIfNecessary(pe)})).apply(this,arguments)}function ud(w,g){return mc((0,J.m9)(w),g,null)}function pc(w,g){return mc((0,J.m9)(w),null,g)}function mc(w,g,y){return Ml.apply(this,arguments)}function Ml(){return(Ml=(0,a.Z)(function*(w,g,y){const{auth:D}=w,W={idToken:yield w.getIdToken(),returnSecureToken:!0};g&&(W.email=g),y&&(W.password=y);const pe=yield vt(w,pr(D,W));yield w._updateTokensIfNecessary(pe,!0)})).apply(this,arguments)}class Qo{constructor(g,y,D={}){this.isNewUser=g,this.providerId=y,this.profile=D}}class gc extends Qo{constructor(g,y,D,L){super(g,y,D),this.username=L}}class _c extends Qo{constructor(g,y){super(g,"facebook.com",y)}}class yu extends gc{constructor(g,y){super(g,"github.com",y,"string"==typeof(null==y?void 0:y.login)?null==y?void 0:y.login:null)}}class Jo extends Qo{constructor(g,y){super(g,"google.com",y)}}class To extends gc{constructor(g,y,D){super(g,"twitter.com",y,D)}}function xl(w){const{user:g,_tokenResponse:y}=w;return g.isAnonymous&&!y?{providerId:null,isNewUser:!1,profile:null}:function Wa(w){var g,y;if(!w)return null;const{providerId:D}=w,L=w.rawUserInfo?JSON.parse(w.rawUserInfo):{},W=w.isNewUser||"identitytoolkit#SignupNewUserResponse"===w.kind;if(!D&&(null==w?void 0:w.idToken)){const pe=null===(y=null===(g=en(w.idToken))||void 0===g?void 0:g.firebase)||void 0===y?void 0:y.sign_in_provider;if(pe)return new Qo(W,"anonymous"!==pe&&"custom"!==pe?pe:null)}if(!D)return null;switch(D){case"facebook.com":return new _c(W,L);case"github.com":return new yu(W,L);case"google.com":return new Jo(W,L);case"twitter.com":return new To(W,L,w.screenName||null);case"custom":case"anonymous":return new Qo(W,null);default:return new Qo(W,D,L)}}(y)}class Do{constructor(g,y){this.type=g,this.credential=y}static _fromIdtoken(g){return new Do("enroll",g)}static _fromMfaPendingCredential(g){return new Do("signin",g)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(g){var y,D;if(null==g?void 0:g.multiFactorSession){if(null===(y=g.multiFactorSession)||void 0===y?void 0:y.pendingCredential)return Do._fromMfaPendingCredential(g.multiFactorSession.pendingCredential);if(null===(D=g.multiFactorSession)||void 0===D?void 0:D.idToken)return Do._fromIdtoken(g.multiFactorSession.idToken)}return null}}class Xo{constructor(g,y,D){this.session=g,this.hints=y,this.signInResolver=D}static _fromError(g,y){const D=An(g),L=y.customData._serverResponse,W=(L.mfaInfo||[]).map(qe=>io._fromServerResponse(D,qe));me(L.mfaPendingCredential,D,"internal-error");const pe=Do._fromMfaPendingCredential(L.mfaPendingCredential);return new Xo(pe,W,function(){var qe=(0,a.Z)(function*(kt){const Lt=yield kt._process(D,pe);delete L.mfaInfo,delete L.mfaPendingCredential;const pn=Object.assign(Object.assign({},L),{idToken:Lt.idToken,refreshToken:Lt.refreshToken});switch(y.operationType){case"signIn":const Ti=yield mi._fromIdTokenResponse(D,y.operationType,pn);return yield D._updateCurrentUser(Ti.user),Ti;case"reauthenticate":return me(y.user,D,"internal-error"),mi._forOperation(y.user,y.operationType,pn);default:Je(D,"internal-error")}});return function(kt){return qe.apply(this,arguments)}}())}resolveSignIn(g){var y=this;return(0,a.Z)(function*(){return y.signInResolver(g)})()}}function Ol(w,g){var y;const D=(0,J.m9)(w),L=g;return me(g.customData.operationType,D,"argument-error"),me(null===(y=L.customData._serverResponse)||void 0===y?void 0:y.mfaPendingCredential,D,"argument-error"),Xo._fromError(D,L)}function Nl(w,g){return Tn(w,"POST","/v2/accounts/mfaEnrollment:start",_n(w,g))}class vc{constructor(g){this.user=g,this.enrolledFactors=[],g._onReload(y=>{y.mfaInfo&&(this.enrolledFactors=y.mfaInfo.map(D=>io._fromServerResponse(g.auth,D)))})}static _fromUser(g){return new vc(g)}getSession(){var g=this;return(0,a.Z)(function*(){return Do._fromIdtoken(yield g.user.getIdToken())})()}enroll(g,y){var D=this;return(0,a.Z)(function*(){const L=g,W=yield D.getSession(),pe=yield vt(D.user,L._process(D.user.auth,W,y));return yield D.user._updateTokensIfNecessary(pe),D.user.reload()})()}unenroll(g){var y=this;return(0,a.Z)(function*(){const D="string"==typeof g?g:g.uid,L=yield y.user.getIdToken(),W=yield vt(y.user,function yc(w,g){return Tn(w,"POST","/v2/accounts/mfaEnrollment:withdraw",_n(w,g))}(y.user.auth,{idToken:L,mfaEnrollmentId:D}));y.enrolledFactors=y.enrolledFactors.filter(({uid:pe})=>pe!==D),yield y.user._updateTokensIfNecessary(W);try{yield y.user.reload()}catch(pe){if("auth/user-token-expired"!==pe.code)throw pe}})()}}const ws=new WeakMap;function Za(w){const g=(0,J.m9)(w);return ws.has(g)||ws.set(g,vc._fromUser(g)),ws.get(g)}const Io="__sak";class bc{constructor(g,y){this.storageRetriever=g,this.type=y}_isAvailable(){try{return this.storage?(this.storage.setItem(Io,"1"),this.storage.removeItem(Io),Promise.resolve(!0)):Promise.resolve(!1)}catch(g){return Promise.resolve(!1)}}_set(g,y){return this.storage.setItem(g,JSON.stringify(y)),Promise.resolve()}_get(g){const y=this.storage.getItem(g);return Promise.resolve(y?JSON.parse(y):null)}_remove(g){return this.storage.removeItem(g),Promise.resolve()}get storage(){return this.storageRetriever()}}const Pe=(()=>{class w extends bc{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(y,D)=>this.onStorageEvent(y,D),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Gr(){const w=(0,J.z$)();return te(w)||Gt(w)}()&&function ps(){try{return!(!window||window===window.top)}catch(w){return!1}}(),this.fallbackToPolling=tr(),this._shouldAllowMigration=!0}forAllChangedKeys(y){for(const D of Object.keys(this.listeners)){const L=this.storage.getItem(D),W=this.localCache[D];L!==W&&y(D,W,L)}}onStorageEvent(y,D=!1){if(!y.key)return void this.forAllChangedKeys((qe,kt,Lt)=>{this.notifyListeners(qe,Lt)});const L=y.key;if(D?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const qe=this.storage.getItem(L);if(y.newValue!==qe)null!==y.newValue?this.storage.setItem(L,y.newValue):this.storage.removeItem(L);else if(this.localCache[L]===y.newValue&&!D)return}const W=()=>{const qe=this.storage.getItem(L);!D&&this.localCache[L]===qe||this.notifyListeners(L,qe)},pe=this.storage.getItem(L);!function yn(){return(0,J.w1)()&&10===document.documentMode}()||pe===y.newValue||y.newValue===y.oldValue?W():setTimeout(W,10)}notifyListeners(y,D){this.localCache[y]=D;const L=this.listeners[y];if(L)for(const W of Array.from(L))W(D&&JSON.parse(D))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((y,D,L)=>{this.onStorageEvent(new StorageEvent("storage",{key:y,oldValue:D,newValue:L}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(y,D){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[y]||(this.listeners[y]=new Set,this.localCache[y]=this.storage.getItem(y)),this.listeners[y].add(D)}_removeListener(y,D){this.listeners[y]&&(this.listeners[y].delete(D),0===this.listeners[y].size&&delete this.listeners[y]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(y,D){var L=()=>super._set,W=this;return(0,a.Z)(function*(){yield L().call(W,y,D),W.localCache[y]=JSON.stringify(D)})()}_get(y){var D=()=>super._get,L=this;return(0,a.Z)(function*(){const W=yield D().call(L,y);return L.localCache[y]=JSON.stringify(W),W})()}_remove(y){var D=()=>super._remove,L=this;return(0,a.Z)(function*(){yield D().call(L,y),delete L.localCache[y]})()}}return w.type="LOCAL",w})(),j=(()=>{class w extends bc{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(y,D){}_removeListener(y,D){}}return w.type="SESSION",w})();let Nr=(()=>{class w{constructor(y){this.eventTarget=y,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(y){const D=this.receivers.find(W=>W.isListeningto(y));if(D)return D;const L=new w(y);return this.receivers.push(L),L}isListeningto(y){return this.eventTarget===y}handleEvent(y){var D=this;return(0,a.Z)(function*(){const L=y,{eventId:W,eventType:pe,data:qe}=L.data,kt=D.handlersMap[pe];if(!(null==kt?void 0:kt.size))return;L.ports[0].postMessage({status:"ack",eventId:W,eventType:pe});const Lt=Array.from(kt).map(function(){var Ti=(0,a.Z)(function*(ra){return ra(L.origin,qe)});return function(ra){return Ti.apply(this,arguments)}}()),pn=yield function Wi(w){return Promise.all(w.map(function(){var g=(0,a.Z)(function*(y){try{return{fulfilled:!0,value:yield y}}catch(D){return{fulfilled:!1,reason:D}}});return function(y){return g.apply(this,arguments)}}()))}(Lt);L.ports[0].postMessage({status:"done",eventId:W,eventType:pe,response:pn})})()}_subscribe(y,D){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[y]||(this.handlersMap[y]=new Set),this.handlersMap[y].add(D)}_unsubscribe(y,D){this.handlersMap[y]&&D&&this.handlersMap[y].delete(D),(!D||0===this.handlersMap[y].size)&&delete this.handlersMap[y],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return w.receivers=[],w})();function Oi(w="",g=10){let y="";for(let D=0;D<g;D++)y+=Math.floor(10*Math.random());return w+y}class bu{constructor(g){this.target=g,this.handlers=new Set}removeMessageHandler(g){g.messageChannel&&(g.messageChannel.port1.removeEventListener("message",g.onMessage),g.messageChannel.port1.close()),this.handlers.delete(g)}_send(g,y,D=50){var L=this;return(0,a.Z)(function*(){const W="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!W)throw new Error("connection_unavailable");let pe,qe;return new Promise((kt,Lt)=>{const pn=Oi("",20);W.port1.start();const Ti=setTimeout(()=>{Lt(new Error("unsupported_event"))},D);qe={messageChannel:W,onMessage(ra){const Xa=ra;if(Xa.data.eventId===pn)switch(Xa.data.status){case"ack":clearTimeout(Ti),pe=setTimeout(()=>{Lt(new Error("timeout"))},3e3);break;case"done":clearTimeout(pe),kt(Xa.data.response);break;default:clearTimeout(Ti),clearTimeout(pe),Lt(new Error("invalid_response"))}}},L.handlers.add(qe),W.port1.addEventListener("message",qe.onMessage),L.target.postMessage({eventType:g,eventId:pn,data:y},[W.port2])}).finally(()=>{qe&&L.removeMessageHandler(qe)})})()}}function di(){return window}function gi(){return void 0!==di().WorkerGlobalScope&&"function"==typeof di().importScripts}function Zi(){return(Zi=(0,a.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(w){return null}})).apply(this,arguments)}const ea="firebaseLocalStorageDb",R="firebaseLocalStorage",I="fbase_key";class b{constructor(g){this.request=g}toPromise(){return new Promise((g,y)=>{this.request.addEventListener("success",()=>{g(this.request.result)}),this.request.addEventListener("error",()=>{y(this.request.error)})})}}function x(w,g){return w.transaction([R],g?"readwrite":"readonly").objectStore(R)}function G(){const w=indexedDB.open(ea,1);return new Promise((g,y)=>{w.addEventListener("error",()=>{y(w.error)}),w.addEventListener("upgradeneeded",()=>{const D=w.result;try{D.createObjectStore(R,{keyPath:I})}catch(L){y(L)}}),w.addEventListener("success",(0,a.Z)(function*(){const D=w.result;D.objectStoreNames.contains(R)?g(D):(D.close(),yield function N(){const w=indexedDB.deleteDatabase(ea);return new b(w).toPromise()}(),g(yield G()))}))})}function Q(w,g,y){return le.apply(this,arguments)}function le(){return(le=(0,a.Z)(function*(w,g,y){const D=x(w,!0).put({[I]:g,value:y});return new b(D).toPromise()})).apply(this,arguments)}function We(){return(We=(0,a.Z)(function*(w,g){const y=x(w,!1).get(g),D=yield new b(y).toPromise();return void 0===D?null:D.value})).apply(this,arguments)}function be(w,g){const y=x(w,!0).delete(g);return new b(y).toPromise()}const hn=(()=>{class w{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var y=this;return(0,a.Z)(function*(){return y.db||(y.db=yield G()),y.db})()}_withRetries(y){var D=this;return(0,a.Z)(function*(){let L=0;for(;;)try{const W=yield D._openDb();return yield y(W)}catch(W){if(L++>3)throw W;D.db&&(D.db.close(),D.db=void 0)}})()}initializeServiceWorkerMessaging(){var y=this;return(0,a.Z)(function*(){return gi()?y.initializeReceiver():y.initializeSender()})()}initializeReceiver(){var y=this;return(0,a.Z)(function*(){y.receiver=Nr._getInstance(function Di(){return gi()?self:null}()),y.receiver._subscribe("keyChanged",function(){var D=(0,a.Z)(function*(L,W){return{keyProcessed:(yield y._poll()).includes(W.key)}});return function(L,W){return D.apply(this,arguments)}}()),y.receiver._subscribe("ping",function(){var D=(0,a.Z)(function*(L,W){return["keyChanged"]});return function(L,W){return D.apply(this,arguments)}}())})()}initializeSender(){var y=this;return(0,a.Z)(function*(){var D,L;if(y.activeServiceWorker=yield function ii(){return Zi.apply(this,arguments)}(),!y.activeServiceWorker)return;y.sender=new bu(y.activeServiceWorker);const W=yield y.sender._send("ping",{},800);!W||(null===(D=W[0])||void 0===D?void 0:D.fulfilled)&&(null===(L=W[0])||void 0===L?void 0:L.value.includes("keyChanged"))&&(y.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(y){var D=this;return(0,a.Z)(function*(){if(D.sender&&D.activeServiceWorker&&function So(){var w;return(null===(w=null==navigator?void 0:navigator.serviceWorker)||void 0===w?void 0:w.controller)||null}()===D.activeServiceWorker)try{yield D.sender._send("keyChanged",{key:y},D.serviceWorkerReceiverAvailable?800:50)}catch(L){}})()}_isAvailable(){return(0,a.Z)(function*(){try{if(!indexedDB)return!1;const y=yield G();return yield Q(y,Io,"1"),yield be(y,Io),!0}catch(y){}return!1})()}_withPendingWrite(y){var D=this;return(0,a.Z)(function*(){D.pendingWrites++;try{yield y()}finally{D.pendingWrites--}})()}_set(y,D){var L=this;return(0,a.Z)(function*(){return L._withPendingWrite((0,a.Z)(function*(){return yield L._withRetries(W=>Q(W,y,D)),L.localCache[y]=D,L.notifyServiceWorker(y)}))})()}_get(y){var D=this;return(0,a.Z)(function*(){const L=yield D._withRetries(W=>function ke(w,g){return We.apply(this,arguments)}(W,y));return D.localCache[y]=L,L})()}_remove(y){var D=this;return(0,a.Z)(function*(){return D._withPendingWrite((0,a.Z)(function*(){return yield D._withRetries(L=>be(L,y)),delete D.localCache[y],D.notifyServiceWorker(y)}))})()}_poll(){var y=this;return(0,a.Z)(function*(){const D=yield y._withRetries(pe=>{const qe=x(pe,!1).getAll();return new b(qe).toPromise()});if(!D)return[];if(0!==y.pendingWrites)return[];const L=[],W=new Set;for(const{fbase_key:pe,value:qe}of D)W.add(pe),JSON.stringify(y.localCache[pe])!==JSON.stringify(qe)&&(y.notifyListeners(pe,qe),L.push(pe));for(const pe of Object.keys(y.localCache))y.localCache[pe]&&!W.has(pe)&&(y.notifyListeners(pe,null),L.push(pe));return L})()}notifyListeners(y,D){this.localCache[y]=D;const L=this.listeners[y];if(L)for(const W of Array.from(L))W(D)}startPolling(){var y=this;this.stopPolling(),this.pollTimer=setInterval((0,a.Z)(function*(){return y._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(y,D){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[y]||(this.listeners[y]=new Set,this._get(y)),this.listeners[y].add(D)}_removeListener(y,D){this.listeners[y]&&(this.listeners[y].delete(D),0===this.listeners[y].size&&delete this.listeners[y]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return w.type="LOCAL",w})();function Ht(w,g){return Tn(w,"POST","/v2/accounts/mfaSignIn:start",_n(w,g))}function fn(){return(fn=(0,a.Z)(function*(w){return(yield Tn(w,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Ao(w){return new Promise((g,y)=>{const D=document.createElement("script");D.setAttribute("src",w),D.onload=g,D.onerror=L=>{const W=je("internal-error");W.customData=L,y(W)},D.type="text/javascript",D.charset="UTF-8",function Bn(){var w,g;return null!==(g=null===(w=document.getElementsByTagName("head"))||void 0===w?void 0:w[0])&&void 0!==g?g:document}().appendChild(D)})}function ao(w){return`__${w}${Math.floor(1e6*Math.random())}`}const lo=1e12;class Cs{constructor(g){this.auth=g,this.counter=lo,this._widgets=new Map}render(g,y){const D=this.counter;return this._widgets.set(D,new Mh(g,this.auth.name,y||{})),this.counter++,D}reset(g){var y;const D=g||lo;null===(y=this._widgets.get(D))||void 0===y||y.delete(),this._widgets.delete(D)}getResponse(g){var y;return(null===(y=this._widgets.get(g||lo))||void 0===y?void 0:y.getResponse())||""}execute(g){var y=this;return(0,a.Z)(function*(){var D;return null===(D=y._widgets.get(g||lo))||void 0===D||D.execute(),""})()}}class Mh{constructor(g,y,D){this.params=D,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const L="string"==typeof g?document.getElementById(g):g;me(L,"argument-error",{appName:y}),this.container=L,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function wu(w){const g=[],y="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let D=0;D<w;D++)g.push(y.charAt(Math.floor(Math.random()*y.length)));return g.join("")}(50);const{callback:g,"expired-callback":y}=this.params;if(g)try{g(this.responseToken)}catch(D){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,y)try{y()}catch(D){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Vs=ao("rcb"),Ya=new St(3e4,6e4);class Yi{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!di().grecaptcha}load(g,y=""){return me(function Ev(w){return w.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(w)}(y),g,"argument-error"),this.shouldResolveImmediately(y)?Promise.resolve(di().grecaptcha):new Promise((D,L)=>{const W=di().setTimeout(()=>{L(je(g,"network-request-failed"))},Ya.get());di()[Vs]=()=>{di().clearTimeout(W),delete di()[Vs];const qe=di().grecaptcha;if(!qe)return void L(je(g,"internal-error"));const kt=qe.render;qe.render=(Lt,pn)=>{const Ti=kt(Lt,pn);return this.counter++,Ti},this.hostLanguage=y,D(qe)},Ao(`https://www.google.com/recaptcha/api.js??${(0,J.xO)({onload:Vs,render:"explicit",hl:y})}`).catch(()=>{clearTimeout(W),L(je(g,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(g){return!!di().grecaptcha&&(g===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class LC{load(g){return(0,a.Z)(function*(){return new Cs(g)})()}clearedOneInstance(){}}const xh="recaptcha",Gg={theme:"light",type:"image"};class _p{constructor(g,y=Object.assign({},Gg),D){this.parameters=y,this.type=xh,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=An(D),this.isInvisible="invisible"===this.parameters.size,me("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const L="string"==typeof g?document.getElementById(g):g;me(L,this.auth,"argument-error"),this.container=L,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new LC:new Yi,this.validateStartingState()}verify(){var g=this;return(0,a.Z)(function*(){g.assertNotDestroyed();const y=yield g.render(),D=g.getAssertedRecaptcha();return D.getResponse(y)||new Promise(W=>{const pe=qe=>{!qe||(g.tokenChangeListeners.delete(pe),W(qe))};g.tokenChangeListeners.add(pe),g.isInvisible&&D.execute(y)})})()}render(){try{this.assertNotDestroyed()}catch(g){return Promise.reject(g)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(g=>{throw this.renderPromise=null,g})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(g=>{this.container.removeChild(g)})}validateStartingState(){me(!this.parameters.sitekey,this.auth,"argument-error"),me(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),me("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(g){return y=>{if(this.tokenChangeListeners.forEach(D=>D(y)),"function"==typeof g)g(y);else if("string"==typeof g){const D=di()[g];"function"==typeof D&&D(y)}}}assertNotDestroyed(){me(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var g=this;return(0,a.Z)(function*(){if(yield g.init(),!g.widgetId){let y=g.container;if(!g.isInvisible){const D=document.createElement("div");y.appendChild(D),y=D}g.widgetId=g.getAssertedRecaptcha().render(y,g.parameters)}return g.widgetId})()}init(){var g=this;return(0,a.Z)(function*(){me(Vt()&&!gi(),g.auth,"internal-error"),yield function Tv(){let w=null;return new Promise(g=>{"complete"!==document.readyState?(w=()=>g(),window.addEventListener("load",w)):g()}).catch(g=>{throw w&&window.removeEventListener("load",w),g})}(),g.recaptcha=yield g._recaptchaLoader.load(g.auth,g.auth.languageCode||void 0);const y=yield function Ni(w){return fn.apply(this,arguments)}(g.auth);me(y,g.auth,"internal-error"),g.parameters.sitekey=y})()}getAssertedRecaptcha(){return me(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Cu{constructor(g,y){this.verificationId=g,this.onConfirmation=y}confirm(g){const y=$o._fromVerification(this.verificationId,g);return this.onConfirmation(y)}}function Ec(w,g,y){return kh.apply(this,arguments)}function kh(){return(kh=(0,a.Z)(function*(w,g,y){const D=An(w),L=yield Tu(D,g,(0,J.m9)(y));return new Cu(L,W=>ir(D,W))})).apply(this,arguments)}function Cn(w,g,y){return $r.apply(this,arguments)}function $r(){return($r=(0,a.Z)(function*(w,g,y){const D=(0,J.m9)(w);yield Wo(!1,D,"phone");const L=yield Tu(D.auth,g,(0,J.m9)(y));return new Cu(L,W=>Sl(D,W))})).apply(this,arguments)}function Ka(w,g,y){return Eu.apply(this,arguments)}function Eu(){return(Eu=(0,a.Z)(function*(w,g,y){const D=(0,J.m9)(w),L=yield Tu(D.auth,g,(0,J.m9)(y));return new Cu(L,W=>Rr(D,W))})).apply(this,arguments)}function Tu(w,g,y){return zr.apply(this,arguments)}function zr(){return(zr=(0,a.Z)(function*(w,g,y){var D;const L=yield y.verify();try{let W;if(me("string"==typeof L,w,"argument-error"),me(y.type===xh,w,"argument-error"),W="string"==typeof g?{phoneNumber:g}:g,"session"in W){const pe=W.session;if("phoneNumber"in W)return me("enroll"===pe.type,w,"internal-error"),(yield Nl(w,{idToken:pe.credential,phoneEnrollmentInfo:{phoneNumber:W.phoneNumber,recaptchaToken:L}})).phoneSessionInfo.sessionInfo;{me("signin"===pe.type,w,"internal-error");const qe=(null===(D=W.multiFactorHint)||void 0===D?void 0:D.uid)||W.multiFactorUid;return me(qe,w,"missing-multi-factor-info"),(yield Ht(w,{mfaPendingCredential:pe.credential,mfaEnrollmentId:qe,phoneSignInInfo:{recaptchaToken:L}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:pe}=yield Dh(w,{phoneNumber:W.phoneNumber,recaptchaToken:L});return pe}}finally{y._reset()}})).apply(this,arguments)}function xo(w,g){return Tc.apply(this,arguments)}function Tc(){return(Tc=(0,a.Z)(function*(w,g){yield uc((0,J.m9)(w),g)})).apply(this,arguments)}let Fl=(()=>{class w{constructor(y){this.providerId=w.PROVIDER_ID,this.auth=An(y)}verifyPhoneNumber(y,D){return Tu(this.auth,y,(0,J.m9)(D))}static credential(y,D){return $o._fromVerification(y,D)}static credentialFromResult(y){return w.credentialFromTaggedObject(y)}static credentialFromError(y){return w.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{phoneNumber:D,temporaryProof:L}=y;return D&&L?$o._fromTokenResponse(D,L):null}}return w.PROVIDER_ID="phone",w.PHONE_SIGN_IN_METHOD="phone",w})();function Es(w,g){return g?De(g):(me(w._popupRedirectResolver,w,"argument-error"),w._popupRedirectResolver)}class Ll extends fr{constructor(g){super("custom","custom"),this.params=g}_getIdTokenResponse(g){return yo(g,this._buildIdpRequest())}_linkToIdToken(g,y){return yo(g,this._buildIdpRequest(y))}_getReauthenticationResolver(g){return yo(g,this._buildIdpRequest())}_buildIdpRequest(g){const y={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return g&&(y.idToken=g),y}}function dd(w){return Ia(w.auth,new Ll(w),w.bypassAuthState)}function vr(w){const{auth:g,user:y}=w;return me(y,g,"internal-error"),Yn(y,new Ll(w),w.bypassAuthState)}function Dc(w){return Ic.apply(this,arguments)}function Ic(){return(Ic=(0,a.Z)(function*(w){const{auth:g,user:y}=w;return me(y,g,"internal-error"),uc(y,new Ll(w),w.bypassAuthState)})).apply(this,arguments)}class Rh{constructor(g,y,D,L,W=!1){this.auth=g,this.resolver=D,this.user=L,this.bypassAuthState=W,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(y)?y:[y]}execute(){var g=this;return new Promise(function(){var y=(0,a.Z)(function*(D,L){g.pendingPromise={resolve:D,reject:L};try{g.eventManager=yield g.resolver._initialize(g.auth),yield g.onExecution(),g.eventManager.registerConsumer(g)}catch(W){g.reject(W)}});return function(D,L){return y.apply(this,arguments)}}())}onAuthEvent(g){var y=this;return(0,a.Z)(function*(){const{urlResponse:D,sessionId:L,postBody:W,tenantId:pe,error:qe,type:kt}=g;if(qe)return void y.reject(qe);const Lt={auth:y.auth,requestUri:D,sessionId:L,tenantId:pe||void 0,postBody:W||void 0,user:y.user,bypassAuthState:y.bypassAuthState};try{y.resolve(yield y.getIdpTask(kt)(Lt))}catch(pn){y.reject(pn)}})()}onError(g){this.reject(g)}getIdpTask(g){switch(g){case"signInViaPopup":case"signInViaRedirect":return dd;case"linkViaPopup":case"linkViaRedirect":return Dc;case"reauthViaPopup":case"reauthViaRedirect":return vr;default:Je(this.auth,"internal-error")}}resolve(g){ue(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(g),this.unregisterAndCleanUp()}reject(g){ue(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(g),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const as=new St(2e3,1e4);function Sc(w,g,y){return ko.apply(this,arguments)}function ko(){return(ko=(0,a.Z)(function*(w,g,y){const D=An(w);Ne(w,g,eo);const L=Es(D,y);return new fd(D,"signInViaPopup",g,L).executeNotNull()})).apply(this,arguments)}function Oh(w,g,y){return ta.apply(this,arguments)}function ta(){return(ta=(0,a.Z)(function*(w,g,y){const D=(0,J.m9)(w);Ne(D.auth,g,eo);const L=Es(D.auth,y);return new fd(D.auth,"reauthViaPopup",g,L,D).executeNotNull()})).apply(this,arguments)}function Nh(w,g,y){return hd.apply(this,arguments)}function hd(){return(hd=(0,a.Z)(function*(w,g,y){const D=(0,J.m9)(w);Ne(D.auth,g,eo);const L=Es(D.auth,y);return new fd(D.auth,"linkViaPopup",g,L,D).executeNotNull()})).apply(this,arguments)}let fd=(()=>{class w extends Rh{constructor(y,D,L,W,pe){super(y,D,W,pe),this.provider=L,this.authWindow=null,this.pollId=null,w.currentPopupAction&&w.currentPopupAction.cancel(),w.currentPopupAction=this}executeNotNull(){var y=this;return(0,a.Z)(function*(){const D=yield y.execute();return me(D,y.auth,"internal-error"),D})()}onExecution(){var y=this;return(0,a.Z)(function*(){ue(1===y.filter.length,"Popup operations only handle one event");const D=Oi();y.authWindow=yield y.resolver._openPopup(y.auth,y.provider,y.filter[0],D),y.authWindow.associatedEvent=D,y.resolver._originValidation(y.auth).catch(L=>{y.reject(L)}),y.resolver._isIframeWebStorageSupported(y.auth,L=>{L||y.reject(je(y.auth,"web-storage-unsupported"))}),y.pollUserCancellation()})()}get eventId(){var y;return(null===(y=this.authWindow)||void 0===y?void 0:y.associatedEvent)||null}cancel(){this.reject(je(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,w.currentPopupAction=null}pollUserCancellation(){const y=()=>{var D,L;this.pollId=(null===(L=null===(D=this.authWindow)||void 0===D?void 0:D.window)||void 0===L?void 0:L.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(je(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(y,as.get())};y()}}return w.currentPopupAction=null,w})();const ka=new Map;class na extends Rh{constructor(g,y,D=!1){super(g,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],y,void 0,D),this.eventId=null}execute(){var g=()=>super.execute,y=this;return(0,a.Z)(function*(){let D=ka.get(y.auth._key());if(!D){try{const W=(yield function Vl(w,g){return Bl.apply(this,arguments)}(y.resolver,y.auth))?yield g().call(y):null;D=()=>Promise.resolve(W)}catch(L){D=()=>Promise.reject(L)}ka.set(y.auth._key(),D)}return y.bypassAuthState||ka.set(y.auth._key(),()=>Promise.resolve(null)),D()})()}onAuthEvent(g){var y=()=>super.onAuthEvent,D=this;return(0,a.Z)(function*(){if("signInViaRedirect"===g.type)return y().call(D,g);if("unknown"!==g.type){if(g.eventId){const L=yield D.auth._redirectUserForId(g.eventId);if(L)return D.user=L,y().call(D,g);D.resolve(null)}}else D.resolve(null)})()}onExecution(){return(0,a.Z)(function*(){})()}cleanUp(){}}function Bl(){return(Bl=(0,a.Z)(function*(w,g){const y=k(g),D=Du(w);if(!(yield D._isAvailable()))return!1;const L="true"===(yield D._get(y));return yield D._remove(y),L})).apply(this,arguments)}function pd(w,g){return Ja.apply(this,arguments)}function Ja(){return(Ja=(0,a.Z)(function*(w,g){return Du(w)._set(k(g),"true")})).apply(this,arguments)}function md(){ka.clear()}function Du(w){return De(w._redirectPersistence)}function k(w){return oe("pendingRedirect",w.config.apiKey,w.name)}function O(w,g,y){return function B(w,g,y){return X.apply(this,arguments)}(w,g,y)}function X(){return(X=(0,a.Z)(function*(w,g,y){const D=An(w);Ne(w,g,eo);const L=Es(D,y);return yield pd(L,D),L._openRedirect(D,g,"signInViaRedirect")})).apply(this,arguments)}function de(w,g,y){return function ve(w,g,y){return Ke.apply(this,arguments)}(w,g,y)}function Ke(){return(Ke=(0,a.Z)(function*(w,g,y){const D=(0,J.m9)(w);Ne(D.auth,g,eo);const L=Es(D.auth,y);yield pd(L,D.auth);const W=yield Ac(D);return L._openRedirect(D.auth,g,"reauthViaRedirect",W)})).apply(this,arguments)}function Ct(w,g,y){return function At(w,g,y){return $t.apply(this,arguments)}(w,g,y)}function $t(){return($t=(0,a.Z)(function*(w,g,y){const D=(0,J.m9)(w);Ne(D.auth,g,eo);const L=Es(D.auth,y);yield Wo(!1,D,g.providerId),yield pd(L,D.auth);const W=yield Ac(D);return L._openRedirect(D.auth,g,"linkViaRedirect",W)})).apply(this,arguments)}function Dn(w,g){return qt.apply(this,arguments)}function qt(){return(qt=(0,a.Z)(function*(w,g){return yield An(w)._initializationPromise,Ki(w,g,!1)})).apply(this,arguments)}function Ki(w,g){return Pi.apply(this,arguments)}function Pi(){return(Pi=(0,a.Z)(function*(w,g,y=!1){const D=An(w),L=Es(D,g),pe=yield new na(D,L,y).execute();return pe&&!y&&(delete pe.user._redirectEventId,yield D._persistUserIfCurrent(pe.user),yield D._setRedirectUser(null,g)),pe})).apply(this,arguments)}function Ac(w){return Mc.apply(this,arguments)}function Mc(){return(Mc=(0,a.Z)(function*(w){const g=Oi(`${w.uid}:::`);return w._redirectEventId=g,yield w.auth._setRedirectUser(w),yield w.auth._persistUserIfCurrent(w),g})).apply(this,arguments)}class qr{constructor(g){this.auth=g,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(g){this.consumers.add(g),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,g)&&(this.sendToConsumer(this.queuedRedirectEvent,g),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(g){this.consumers.delete(g)}onEvent(g){if(this.hasEventBeenHandled(g))return!1;let y=!1;return this.consumers.forEach(D=>{this.isEventForConsumer(g,D)&&(y=!0,this.sendToConsumer(g,D),this.saveEventToCache(g))}),this.hasHandledPotentialRedirect||!function yp(w){switch(w.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ia(w);default:return!1}}(g)||(this.hasHandledPotentialRedirect=!0,y||(this.queuedRedirectEvent=g,y=!0)),y}sendToConsumer(g,y){var D;if(g.error&&!ia(g)){const L=(null===(D=g.error.code)||void 0===D?void 0:D.split("auth/")[1])||"internal-error";y.onError(je(this.auth,L))}else y.onAuthEvent(g)}isEventForConsumer(g,y){const D=null===y.eventId||!!g.eventId&&g.eventId===y.eventId;return y.filter.includes(g.type)&&D}hasEventBeenHandled(g){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ro(g))}saveEventToCache(g){this.cachedEventUids.add(Ro(g)),this.lastProcessedEventTime=Date.now()}}function Ro(w){return[w.type,w.eventId,w.sessionId,w.tenantId].filter(g=>g).join("-")}function ia({type:w,error:g}){return"unknown"===w&&"auth/no-auth-event"===(null==g?void 0:g.code)}function Ph(w){return gd.apply(this,arguments)}function gd(){return(gd=(0,a.Z)(function*(w,g={}){return Tn(w,"GET","/v1/projects",g)})).apply(this,arguments)}const _d=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,yd=/^https?/;function vp(){return(vp=(0,a.Z)(function*(w){if(w.config.emulator)return;const{authorizedDomains:g}=yield Ph(w);for(const y of g)try{if(Iu(y))return}catch(D){}Je(w,"unauthorized-domain")})).apply(this,arguments)}function Iu(w){const g=we(),{protocol:y,hostname:D}=new URL(g);if(w.startsWith("chrome-extension://")){const pe=new URL(w);return""===pe.hostname&&""===D?"chrome-extension:"===y&&w.replace("chrome-extension://","")===g.replace("chrome-extension://",""):"chrome-extension:"===y&&pe.hostname===D}if(!yd.test(y))return!1;if(_d.test(w))return D===w;const L=w.replace(/\./g,"\\.");return new RegExp("^(.+\\."+L+"|"+L+")$","i").test(D)}const vd=new St(3e4,6e4);function $g(){const w=di().___jsl;if(null==w?void 0:w.H)for(const g of Object.keys(w.H))if(w.H[g].r=w.H[g].r||[],w.H[g].L=w.H[g].L||[],w.H[g].r=[...w.H[g].L],w.CP)for(let y=0;y<w.CP.length;y++)w.CP[y]=null}let bd=null;function Iv(w){return bd=bd||function VC(w){return new Promise((g,y)=>{var D,L,W;function pe(){$g(),gapi.load("gapi.iframes",{callback:()=>{g(gapi.iframes.getContext())},ontimeout:()=>{$g(),y(je(w,"network-request-failed"))},timeout:vd.get()})}if(null===(L=null===(D=di().gapi)||void 0===D?void 0:D.iframes)||void 0===L?void 0:L.Iframe)g(gapi.iframes.getContext());else{if(!(null===(W=di().gapi)||void 0===W?void 0:W.load)){const qe=ao("iframefcb");return di()[qe]=()=>{gapi.load?pe():y(je(w,"network-request-failed"))},Ao(`https://apis.google.com/js/api.js?onload=${qe}`).catch(kt=>y(kt))}pe()}}).catch(g=>{throw bd=null,g})}(w),bd}const BC=new St(5e3,15e3),zg={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},wd=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Cd(w){const g=w.config;me(g.authDomain,w,"auth-domain-config-required");const y=g.emulator?Ln(g,"emulator/auth/iframe"):`https://${w.config.authDomain}/__/auth/iframe`,D={apiKey:g.apiKey,appName:w.name,v:U.SDK_VERSION},L=wd.get(w.config.apiHost);L&&(D.eid=L);const W=w._getFrameworks();return W.length&&(D.fw=W.join(",")),`${y}?${(0,J.xO)(D).slice(1)}`}function bp(){return bp=(0,a.Z)(function*(w){const g=yield Iv(w),y=di().gapi;return me(y,w,"internal-error"),g.open({where:document.body,url:Cd(w),messageHandlersFilter:y.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:zg,dontclear:!0},D=>new Promise(function(){var L=(0,a.Z)(function*(W,pe){yield D.restyle({setHideOnLeave:!1});const qe=je(w,"network-request-failed"),kt=di().setTimeout(()=>{pe(qe)},BC.get());function Lt(){di().clearTimeout(kt),W(D)}D.ping(Lt).then(Lt,()=>{pe(qe)})});return function(W,pe){return L.apply(this,arguments)}}()))}),bp.apply(this,arguments)}const Av={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Vh{constructor(g){this.window=g,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(g){}}}function Td(w,g,y,D,L,W){me(w.config.authDomain,w,"auth-domain-config-required"),me(w.config.apiKey,w,"invalid-api-key");const pe={apiKey:w.config.apiKey,appName:w.name,authType:y,redirectUrl:D,v:U.SDK_VERSION,eventId:L};if(g instanceof eo){g.setDefaultLanguage(w.languageCode),pe.providerId=g.providerId||"",(0,J.xb)(g.getCustomParameters())||(pe.customParameters=JSON.stringify(g.getCustomParameters()));for(const[kt,Lt]of Object.entries(W||{}))pe[kt]=Lt}if(g instanceof $a){const kt=g.getScopes().filter(Lt=>""!==Lt);kt.length>0&&(pe.scopes=kt.join(","))}w.tenantId&&(pe.tid=w.tenantId);const qe=pe;for(const kt of Object.keys(qe))void 0===qe[kt]&&delete qe[kt];return`${function jC({config:w}){return w.emulator?Ln(w,"emulator/auth/handler"):`https://${w.authDomain}/__/auth/handler`}(w)}?${(0,J.xO)(qe).slice(1)}`}const Cp="webStorageSupport",kc=class Oa{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=j,this._completeRedirectFn=Ki}_openPopup(g,y,D,L){var W=this;return(0,a.Z)(function*(){var pe;ue(null===(pe=W.eventManagers[g._key()])||void 0===pe?void 0:pe.manager,"_initialize() not called before _openPopup()");const qe=Td(g,y,D,we(),L);return function xv(w,g,y,D=500,L=600){const W=Math.max((window.screen.availHeight-L)/2,0).toString(),pe=Math.max((window.screen.availWidth-D)/2,0).toString();let qe="";const kt=Object.assign(Object.assign({},Av),{width:D.toString(),height:L.toString(),top:W,left:pe}),Lt=(0,J.z$)().toLowerCase();y&&(qe=Ee(Lt)?"_blank":y),K(Lt)&&(g=g||"http://localhost",kt.scrollbars="yes");const pn=Object.entries(kt).reduce((ra,[Xa,Ul])=>`${ra}${Xa}=${Ul},`,"");if(function Bi(w=(0,J.z$)()){var g;return Gt(w)&&!!(null===(g=window.navigator)||void 0===g?void 0:g.standalone)}(Lt)&&"_self"!==qe)return function xc(w,g){const y=document.createElement("a");y.href=w,y.target=g;const D=document.createEvent("MouseEvent");D.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),y.dispatchEvent(D)}(g||"",qe),new Vh(null);const Ti=window.open(g||"",qe,pn);me(Ti,w,"popup-blocked");try{Ti.focus()}catch(ra){}return new Vh(Ti)}(g,qe,Oi())})()}_openRedirect(g,y,D,L){var W=this;return(0,a.Z)(function*(){return yield W._originValidation(g),function ni(w){di().location.href=w}(Td(g,y,D,we(),L)),new Promise(()=>{})})()}_initialize(g){const y=g._key();if(this.eventManagers[y]){const{manager:L,promise:W}=this.eventManagers[y];return L?Promise.resolve(L):(ue(W,"If manager is not set, promise should be"),W)}const D=this.initAndGetManager(g);return this.eventManagers[y]={promise:D},D.catch(()=>{delete this.eventManagers[y]}),D}initAndGetManager(g){var y=this;return(0,a.Z)(function*(){const D=yield function Su(w){return bp.apply(this,arguments)}(g),L=new qr(g);return D.register("authEvent",W=>(me(null==W?void 0:W.authEvent,g,"invalid-auth-event"),{status:L.onEvent(W.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),y.eventManagers[g._key()]={manager:L},y.iframes[g._key()]=D,L})()}_isIframeWebStorageSupported(g,y){this.iframes[g._key()].send(Cp,{type:Cp},L=>{var W;const pe=null===(W=null==L?void 0:L[0])||void 0===W?void 0:W[Cp];void 0!==pe&&y(!!pe),Je(g,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(g){const y=g._key();return this.originValidationPromises[y]||(this.originValidationPromises[y]=function Dv(w){return vp.apply(this,arguments)}(g)),this.originValidationPromises[y]}get _shouldInitProactively(){return tr()||te()||Gt()}};class Dd extends class Ep{constructor(g){this.factorId=g}_process(g,y,D){switch(y.type){case"enroll":return this._finalizeEnroll(g,y.credential,D);case"signin":return this._finalizeSignIn(g,y.credential);default:return ft("unexpected MultiFactorSessionType")}}}{constructor(g){super("phone"),this.credential=g}static _fromCredential(g){return new Dd(g)}_finalizeEnroll(g,y,D){return function Ri(w,g){return Tn(w,"POST","/v2/accounts/mfaEnrollment:finalize",_n(w,g))}(g,{idToken:y,displayName:D,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(g,y){return function jt(w,g){return Tn(w,"POST","/v2/accounts/mfaSignIn:finalize",_n(w,g))}(g,{mfaPendingCredential:y,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Id=(()=>{class w{constructor(){}static assertion(y){return Dd._fromCredential(y)}}return w.FACTOR_ID="phone",w})();var kv="@firebase/auth",Bh="0.19.12";class GC{constructor(g){this.auth=g,this.internalListeners=new Map}getUid(){var g;return this.assertAuthConfigured(),(null===(g=this.auth.currentUser)||void 0===g?void 0:g.uid)||null}getToken(g){var y=this;return(0,a.Z)(function*(){return y.assertAuthConfigured(),yield y.auth._initializationPromise,y.auth.currentUser?{accessToken:yield y.auth.currentUser.getIdToken(g)}:null})()}addAuthTokenListener(g){if(this.assertAuthConfigured(),this.internalListeners.has(g))return;const y=this.auth.onIdTokenChanged(D=>{var L;g((null===(L=D)||void 0===L?void 0:L.stsTokenManager.accessToken)||null)});this.internalListeners.set(g,y),this.updateProactiveRefresh()}removeAuthTokenListener(g){this.assertAuthConfigured();const y=this.internalListeners.get(g);!y||(this.internalListeners.delete(g),y(),this.updateProactiveRefresh())}assertAuthConfigured(){me(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}!function $C(w){(0,U._registerComponent)(new Le.wA("auth",(g,{options:y})=>{const D=g.getProvider("app").getImmediate(),L=g.getProvider("heartbeat"),{apiKey:W,authDomain:pe}=D.options;return((qe,kt)=>{me(W&&!W.includes(":"),"invalid-api-key",{appName:qe.name}),me(!(null==pe?void 0:pe.includes(":")),"argument-error",{appName:qe.name});const Lt={apiKey:W,authDomain:pe,clientPlatform:w,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Hn(w)},pn=new kr(qe,kt,Lt);return function Ye(w,g){const y=(null==g?void 0:g.persistence)||[],D=(Array.isArray(y)?y:[y]).map(De);(null==g?void 0:g.errorMap)&&w._updateErrorMap(g.errorMap),w._initializeWithPersistence(D,null==g?void 0:g.popupRedirectResolver)}(pn,y),pn})(D,L)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((g,y,D)=>{g.getProvider("auth-internal").initialize()})),(0,U._registerComponent)(new Le.wA("auth-internal",g=>{const y=An(g.getProvider("auth").getImmediate());return new GC(y)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,U.registerVersion)(kv,Bh,function qg(w){switch(w){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(w)),(0,U.registerVersion)(kv,Bh,"esm2017")}("Browser")},2090:(Rt,He,$)=>{$.d(He,{$s:()=>ns,BH:()=>Ge,DV:()=>Jn,Dv:()=>Ei,G6:()=>ft,GJ:()=>_n,L:()=>xe,LL:()=>Vt,Lj:()=>Jt,Mn:()=>rt,Pz:()=>St,Sg:()=>Qe,UG:()=>Be,UI:()=>Zt,US:()=>fe,Wj:()=>Vn,X3:()=>Ot,Yr:()=>me,ZB:()=>_e,ZR:()=>we,b$:()=>je,cI:()=>It,d:()=>ce,dS:()=>en,eu:()=>Se,g5:()=>ye,gK:()=>vi,gQ:()=>xr,h$:()=>Te,hl:()=>ue,hu:()=>U,jU:()=>gt,lb:()=>Rs,m9:()=>Nt,ne:()=>xt,p$:()=>ne,pd:()=>Xn,r3:()=>Tn,ru:()=>Je,tV:()=>re,uI:()=>Oe,ug:()=>Dt,vZ:()=>_i,w1:()=>Ne,w9:()=>In,xO:()=>es,xb:()=>Si,z$:()=>et,zI:()=>De,zd:()=>zi});var a=$(5861);const U=function(se,ee){if(!se)throw ye(ee)},ye=function(se){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+se)},ge=function(se){const ee=[];let oe=0;for(let Me=0;Me<se.length;Me++){let z=se.charCodeAt(Me);z<128?ee[oe++]=z:z<2048?(ee[oe++]=z>>6|192,ee[oe++]=63&z|128):55296==(64512&z)&&Me+1<se.length&&56320==(64512&se.charCodeAt(Me+1))?(z=65536+((1023&z)<<10)+(1023&se.charCodeAt(++Me)),ee[oe++]=z>>18|240,ee[oe++]=z>>12&63|128,ee[oe++]=z>>6&63|128,ee[oe++]=63&z|128):(ee[oe++]=z>>12|224,ee[oe++]=z>>6&63|128,ee[oe++]=63&z|128)}return ee},fe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(se,ee){if(!Array.isArray(se))throw Error("encodeByteArray takes an array as a parameter");this.init_();const oe=ee?this.byteToCharMapWebSafe_:this.byteToCharMap_,Me=[];for(let z=0;z<se.length;z+=3){const K=se[z],te=z+1<se.length,Ee=te?se[z+1]:0,tt=z+2<se.length,lt=tt?se[z+2]:0;let Gt=(15&Ee)<<2|lt>>6,li=63&lt;tt||(li=64,te||(Gt=64)),Me.push(oe[K>>2],oe[(3&K)<<4|Ee>>4],oe[Gt],oe[li])}return Me.join("")},encodeString(se,ee){return this.HAS_NATIVE_SUPPORT&&!ee?btoa(se):this.encodeByteArray(ge(se),ee)},decodeString(se,ee){return this.HAS_NATIVE_SUPPORT&&!ee?atob(se):function(se){const ee=[];let oe=0,Me=0;for(;oe<se.length;){const z=se[oe++];if(z<128)ee[Me++]=String.fromCharCode(z);else if(z>191&&z<224){const K=se[oe++];ee[Me++]=String.fromCharCode((31&z)<<6|63&K)}else if(z>239&&z<365){const tt=((7&z)<<18|(63&se[oe++])<<12|(63&se[oe++])<<6|63&se[oe++])-65536;ee[Me++]=String.fromCharCode(55296+(tt>>10)),ee[Me++]=String.fromCharCode(56320+(1023&tt))}else{const K=se[oe++],te=se[oe++];ee[Me++]=String.fromCharCode((15&z)<<12|(63&K)<<6|63&te)}}return ee.join("")}(this.decodeStringToByteArray(se,ee))},decodeStringToByteArray(se,ee){this.init_();const oe=ee?this.charToByteMapWebSafe_:this.charToByteMap_,Me=[];for(let z=0;z<se.length;){const K=oe[se.charAt(z++)],Ee=z<se.length?oe[se.charAt(z)]:0;++z;const lt=z<se.length?oe[se.charAt(z)]:64;++z;const bt=z<se.length?oe[se.charAt(z)]:64;if(++z,null==K||null==Ee||null==lt||null==bt)throw Error();Me.push(K<<2|Ee>>4),64!==lt&&(Me.push(Ee<<4&240|lt>>2),64!==bt&&Me.push(lt<<6&192|bt))}return Me},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let se=0;se<this.ENCODED_VALS.length;se++)this.byteToCharMap_[se]=this.ENCODED_VALS.charAt(se),this.charToByteMap_[this.byteToCharMap_[se]]=se,this.byteToCharMapWebSafe_[se]=this.ENCODED_VALS_WEBSAFE.charAt(se),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[se]]=se,se>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(se)]=se,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(se)]=se)}}},Te=function(se){const ee=ge(se);return fe.encodeByteArray(ee,!0)},xe=function(se){return Te(se).replace(/\./g,"")},re=function(se){try{return fe.decodeString(se,!0)}catch(ee){console.error("base64Decode failed: ",ee)}return null};function ne(se){return _e(void 0,se)}function _e(se,ee){if(!(ee instanceof Object))return ee;switch(ee.constructor){case Date:return new Date(ee.getTime());case Object:void 0===se&&(se={});break;case Array:se=[];break;default:return ee}for(const oe in ee)!ee.hasOwnProperty(oe)||!st(oe)||(se[oe]=_e(se[oe],ee[oe]));return se}function st(se){return"__proto__"!==se}class Ge{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((ee,oe)=>{this.resolve=ee,this.reject=oe})}wrapCallback(ee){return(oe,Me)=>{oe?this.reject(oe):this.resolve(Me),"function"==typeof ee&&(this.promise.catch(()=>{}),1===ee.length?ee(oe):ee(oe,Me))}}}function Qe(se,ee){if(se.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Me=ee||"demo-project",z=se.iat||0,K=se.sub||se.user_id;if(!K)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const te=Object.assign({iss:`https://securetoken.google.com/${Me}`,aud:Me,iat:z,exp:z+3600,auth_time:z,sub:K,user_id:K,firebase:{sign_in_provider:"custom",identities:{}}},se);return[xe(JSON.stringify({alg:"none",type:"JWT"})),xe(JSON.stringify(te)),""].join(".")}function et(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Oe(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(et())}function Be(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(se){return!1}}function gt(){return"object"==typeof self&&self.self===self}function Je(){const se="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof se&&void 0!==se.id}function je(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ce(){return et().indexOf("Electron/")>=0}function Ne(){const se=et();return se.indexOf("MSIE ")>=0||se.indexOf("Trident/")>=0}function rt(){return et().indexOf("MSAppHost/")>=0}function me(){return!1}function ft(){return!Be()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ue(){return"object"==typeof indexedDB}function Se(){return new Promise((se,ee)=>{try{let oe=!0;const Me="validate-browser-context-for-indexeddb-analytics-module",z=self.indexedDB.open(Me);z.onsuccess=()=>{z.result.close(),oe||self.indexedDB.deleteDatabase(Me),se(!0)},z.onupgradeneeded=()=>{oe=!1},z.onerror=()=>{var K;ee((null===(K=z.error)||void 0===K?void 0:K.message)||"")}}catch(oe){ee(oe)}})}function De(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class we extends Error{constructor(ee,oe,Me){super(oe),this.code=ee,this.customData=Me,this.name="FirebaseError",Object.setPrototypeOf(this,we.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Vt.prototype.create)}}class Vt{constructor(ee,oe,Me){this.service=ee,this.serviceName=oe,this.errors=Me}create(ee,...oe){const Me=oe[0]||{},z=`${this.service}/${ee}`,K=this.errors[ee],te=K?function En(se,ee){return se.replace(fi,(oe,Me)=>{const z=ee[Me];return null!=z?String(z):`<${Me}?>`})}(K,Me):"Error";return new we(z,`${this.serviceName}: ${te} (${z}).`,Me)}}const fi=/\{\$([^}]+)}/g;function It(se){return JSON.parse(se)}function St(se){return JSON.stringify(se)}const Ln=function(se){let ee={},oe={},Me={},z="";try{const K=se.split(".");ee=It(re(K[0])||""),oe=It(re(K[1])||""),z=K[2],Me=oe.d||{},delete oe.d}catch(K){}return{header:ee,claims:oe,data:Me,signature:z}},In=function(se){const oe=Ln(se).claims;return!!oe&&"object"==typeof oe&&oe.hasOwnProperty("iat")},_n=function(se){const ee=Ln(se).claims;return"object"==typeof ee&&!0===ee.admin};function Tn(se,ee){return Object.prototype.hasOwnProperty.call(se,ee)}function Jn(se,ee){if(Object.prototype.hasOwnProperty.call(se,ee))return se[ee]}function Si(se){for(const ee in se)if(Object.prototype.hasOwnProperty.call(se,ee))return!1;return!0}function Zt(se,ee,oe){const Me={};for(const z in se)Object.prototype.hasOwnProperty.call(se,z)&&(Me[z]=ee.call(oe,se[z],z,se));return Me}function _i(se,ee){if(se===ee)return!0;const oe=Object.keys(se),Me=Object.keys(ee);for(const z of oe){if(!Me.includes(z))return!1;const K=se[z],te=ee[z];if(Vr(K)&&Vr(te)){if(!_i(K,te))return!1}else if(K!==te)return!1}for(const z of Me)if(!oe.includes(z))return!1;return!0}function Vr(se){return null!==se&&"object"==typeof se}function es(se){const ee=[];for(const[oe,Me]of Object.entries(se))Array.isArray(Me)?Me.forEach(z=>{ee.push(encodeURIComponent(oe)+"="+encodeURIComponent(z))}):ee.push(encodeURIComponent(oe)+"="+encodeURIComponent(Me));return ee.length?"&"+ee.join("&"):""}function zi(se){const ee={};return se.replace(/^\?/,"").split("&").forEach(Me=>{if(Me){const[z,K]=Me.split("=");ee[decodeURIComponent(z)]=decodeURIComponent(K)}}),ee}function Xn(se){const ee=se.indexOf("?");if(!ee)return"";const oe=se.indexOf("#",ee);return se.substring(ee,oe>0?oe:void 0)}class xr{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let ee=1;ee<this.blockSize;++ee)this.pad_[ee]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(ee,oe){oe||(oe=0);const Me=this.W_;if("string"==typeof ee)for(let bt=0;bt<16;bt++)Me[bt]=ee.charCodeAt(oe)<<24|ee.charCodeAt(oe+1)<<16|ee.charCodeAt(oe+2)<<8|ee.charCodeAt(oe+3),oe+=4;else for(let bt=0;bt<16;bt++)Me[bt]=ee[oe]<<24|ee[oe+1]<<16|ee[oe+2]<<8|ee[oe+3],oe+=4;for(let bt=16;bt<80;bt++){const Gt=Me[bt-3]^Me[bt-8]^Me[bt-14]^Me[bt-16];Me[bt]=4294967295&(Gt<<1|Gt>>>31)}let lt,Bt,z=this.chain_[0],K=this.chain_[1],te=this.chain_[2],Ee=this.chain_[3],tt=this.chain_[4];for(let bt=0;bt<80;bt++){bt<40?bt<20?(lt=Ee^K&(te^Ee),Bt=1518500249):(lt=K^te^Ee,Bt=1859775393):bt<60?(lt=K&te|Ee&(K|te),Bt=2400959708):(lt=K^te^Ee,Bt=3395469782);const Gt=(z<<5|z>>>27)+lt+tt+Bt+Me[bt]&4294967295;tt=Ee,Ee=te,te=4294967295&(K<<30|K>>>2),K=z,z=Gt}this.chain_[0]=this.chain_[0]+z&4294967295,this.chain_[1]=this.chain_[1]+K&4294967295,this.chain_[2]=this.chain_[2]+te&4294967295,this.chain_[3]=this.chain_[3]+Ee&4294967295,this.chain_[4]=this.chain_[4]+tt&4294967295}update(ee,oe){if(null==ee)return;void 0===oe&&(oe=ee.length);const Me=oe-this.blockSize;let z=0;const K=this.buf_;let te=this.inbuf_;for(;z<oe;){if(0===te)for(;z<=Me;)this.compress_(ee,z),z+=this.blockSize;if("string"==typeof ee){for(;z<oe;)if(K[te]=ee.charCodeAt(z),++te,++z,te===this.blockSize){this.compress_(K),te=0;break}}else for(;z<oe;)if(K[te]=ee[z],++te,++z,te===this.blockSize){this.compress_(K),te=0;break}}this.inbuf_=te,this.total_+=oe}digest(){const ee=[];let oe=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let z=this.blockSize-1;z>=56;z--)this.buf_[z]=255&oe,oe/=256;this.compress_(this.buf_);let Me=0;for(let z=0;z<5;z++)for(let K=24;K>=0;K-=8)ee[Me]=this.chain_[z]>>K&255,++Me;return ee}}function xt(se,ee){const oe=new hr(se,ee);return oe.subscribe.bind(oe)}class hr{constructor(ee,oe){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=oe,this.task.then(()=>{ee(this)}).catch(Me=>{this.error(Me)})}next(ee){this.forEachObserver(oe=>{oe.next(ee)})}error(ee){this.forEachObserver(oe=>{oe.error(ee)}),this.close(ee)}complete(){this.forEachObserver(ee=>{ee.complete()}),this.close()}subscribe(ee,oe,Me){let z;if(void 0===ee&&void 0===oe&&void 0===Me)throw new Error("Missing Observer.");z=function xn(se,ee){if("object"!=typeof se||null===se)return!1;for(const oe of ee)if(oe in se&&"function"==typeof se[oe])return!0;return!1}(ee,["next","error","complete"])?ee:{next:ee,error:oe,complete:Me},void 0===z.next&&(z.next=ei),void 0===z.error&&(z.error=ei),void 0===z.complete&&(z.complete=ei);const K=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?z.error(this.finalError):z.complete()}catch(te){}}),this.observers.push(z),K}unsubscribeOne(ee){void 0===this.observers||void 0===this.observers[ee]||(delete this.observers[ee],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(ee){if(!this.finalized)for(let oe=0;oe<this.observers.length;oe++)this.sendOne(oe,ee)}sendOne(ee,oe){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[ee])try{oe(this.observers[ee])}catch(Me){"undefined"!=typeof console&&console.error&&console.error(Me)}})}close(ee){this.finalized||(this.finalized=!0,void 0!==ee&&(this.finalError=ee),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ei(){}const Ei=function(se,ee,oe,Me){let z;if(Me<ee?z="at least "+ee:Me>oe&&(z=0===oe?"none":"no more than "+oe),z)throw new Error(se+" failed: Was called with "+Me+(1===Me?" argument.":" arguments.")+" Expects "+z+".")};function vi(se,ee){return`${se} failed: ${ee} argument `}function Vn(se,ee,oe,Me){if((!Me||oe)&&"function"!=typeof oe)throw new Error(vi(se,ee)+"must be a valid function.")}function Rs(se,ee,oe,Me){if((!Me||oe)&&("object"!=typeof oe||null===oe))throw new Error(vi(se,ee)+"must be a valid context object.")}const en=function(se){const ee=[];let oe=0;for(let Me=0;Me<se.length;Me++){let z=se.charCodeAt(Me);if(z>=55296&&z<=56319){const K=z-55296;Me++,U(Me<se.length,"Surrogate pair missing trail surrogate."),z=65536+(K<<10)+(se.charCodeAt(Me)-56320)}z<128?ee[oe++]=z:z<2048?(ee[oe++]=z>>6|192,ee[oe++]=63&z|128):z<65536?(ee[oe++]=z>>12|224,ee[oe++]=z>>6&63|128,ee[oe++]=63&z|128):(ee[oe++]=z>>18|240,ee[oe++]=z>>12&63|128,ee[oe++]=z>>6&63|128,ee[oe++]=63&z|128)}return ee},Dt=function(se){let ee=0;for(let oe=0;oe<se.length;oe++){const Me=se.charCodeAt(oe);Me<128?ee++:Me<2048?ee+=2:Me>=55296&&Me<=56319?(ee+=4,oe++):ee+=3}return ee};function ns(se,ee=1e3,oe=2){const Me=ee*Math.pow(oe,se),z=Math.round(.5*Me*(Math.random()-.5)*2);return Math.min(144e5,Me+z)}function Nt(se){return se&&se._delegate?se._delegate:se}function ai(se,ee){return new Promise((oe,Me)=>{se.onsuccess=z=>{oe(z.target.result)},se.onerror=z=>{var K;Me(`${ee}: ${null===(K=z.target.error)||void 0===K?void 0:K.message}`)}})}class on{constructor(ee){this._db=ee,this.objectStoreNames=this._db.objectStoreNames}transaction(ee,oe="readonly"){return new at(this._db.transaction.call(this._db,ee,oe))}createObjectStore(ee,oe){return new Ue(this._db.createObjectStore(ee,oe))}close(){this._db.close()}}class at{constructor(ee){this._transaction=ee,this.complete=new Promise((oe,Me)=>{this._transaction.oncomplete=function(){oe()},this._transaction.onerror=()=>{Me(this._transaction.error)},this._transaction.onabort=()=>{Me(this._transaction.error)}})}objectStore(ee){return new Ue(this._transaction.objectStore(ee))}}class Ue{constructor(ee){this._store=ee}index(ee){return new Xe(this._store.index(ee))}createIndex(ee,oe,Me){return new Xe(this._store.createIndex(ee,oe,Me))}get(ee){return ai(this._store.get(ee),"Error reading from IndexedDB")}put(ee,oe){return ai(this._store.put(ee,oe),"Error writing to IndexedDB")}delete(ee){return ai(this._store.delete(ee),"Error deleting from IndexedDB")}clear(){return ai(this._store.clear(),"Error clearing IndexedDB object store")}}class Xe{constructor(ee){this._index=ee}get(ee){return ai(this._index.get(ee),"Error reading from IndexedDB")}}function Ot(se,ee,oe){return new Promise((Me,z)=>{try{const K=indexedDB.open(se,ee);K.onsuccess=te=>{Me(new on(te.target.result))},K.onerror=te=>{var Ee;z(`Error opening indexedDB: ${null===(Ee=te.target.error)||void 0===Ee?void 0:Ee.message}`)},K.onupgradeneeded=te=>{oe(new on(K.result),te.oldVersion,te.newVersion,new at(K.transaction))}}catch(K){z(`Error opening indexedDB: ${K.message}`)}})}function Jt(se){return tn.apply(this,arguments)}function tn(){return(tn=(0,a.Z)(function*(se){return new Promise((ee,oe)=>{try{const Me=indexedDB.deleteDatabase(se);Me.onsuccess=()=>{ee()},Me.onerror=z=>{var K;oe(`Error deleting indexedDB database "${se}": ${null===(K=z.target.error)||void 0===K?void 0:K.message}`)}}catch(Me){oe(`Error deleting indexedDB database "${se}": ${Me.message}`)}})})).apply(this,arguments)}},1649:(Rt,He,$)=>{var a=$(5e3);let J=null;function U(){return J}const fe=new a.OlP("DocumentToken");let Te=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:function(){return function xe(){return(0,a.LFG)(ne)}()},providedIn:"platform"}),n})();const re=new a.OlP("Location Initialized");let ne=(()=>{class n extends Te{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return U().getBaseHref(this._doc)}onPopState(t){const i=U().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){const i=U().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,i,r){_e()?this._history.pushState(t,i,r):this.location.hash=r}replaceState(t,i,r){_e()?this._history.replaceState(t,i,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(fe))},n.\u0275prov=a.Yz7({token:n,factory:function(){return function st(){return new ne((0,a.LFG)(fe))}()},providedIn:"platform"}),n})();function _e(){return!!window.history.pushState}function Ge(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Qe(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function et(n){return n&&"?"!==n[0]?"?"+n:n}let Oe=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:function(){return function Be(n){const e=(0,a.LFG)(fe).location;return new Je((0,a.LFG)(Te),e&&e.origin||"")}()},providedIn:"root"}),n})();const gt=new a.OlP("appBaseHref");let Je=(()=>{class n extends Oe{constructor(t,i){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==i&&(i=this._platformLocation.getBaseHrefFromDOM()),null==i)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=i}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Ge(this._baseHref,t)}path(t=!1){const i=this._platformLocation.pathname+et(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,s){const c=this.prepareExternalUrl(r+et(s));this._platformLocation.pushState(t,i,c)}replaceState(t,i,r,s){const c=this.prepareExternalUrl(r+et(s));this._platformLocation.replaceState(t,i,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var i,r;null===(r=(i=this._platformLocation).historyGo)||void 0===r||r.call(i,t)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Te),a.LFG(gt,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),je=(()=>{class n extends Oe{constructor(t,i){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(t){const i=Ge(this._baseHref,t);return i.length>0?"#"+i:i}pushState(t,i,r,s){let c=this.prepareExternalUrl(r+et(s));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.pushState(t,i,c)}replaceState(t,i,r,s){let c=this.prepareExternalUrl(r+et(s));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.replaceState(t,i,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var i,r;null===(r=(i=this._platformLocation).historyGo)||void 0===r||r.call(i,t)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Te),a.LFG(gt,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),ce=(()=>{class n{constructor(t,i){this._subject=new a.vpe,this._urlChangeListeners=[],this._platformStrategy=t;const r=this._platformStrategy.getBaseHref();this._platformLocation=i,this._baseHref=Qe(me(r)),this._platformStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+et(i))}normalize(t){return n.stripTrailingSlash(function rt(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,me(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._platformStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+et(i)),r)}replaceState(t,i="",r=null){this._platformStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+et(i)),r)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var i,r;null===(r=(i=this._platformStrategy).historyGo)||void 0===r||r.call(i,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}))}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i,complete:r})}}return n.normalizeQueryParams=et,n.joinWithSlash=Ge,n.stripTrailingSlash=Qe,n.\u0275fac=function(t){return new(t||n)(a.LFG(Oe),a.LFG(Te))},n.\u0275prov=a.Yz7({token:n,factory:function(){return function Ne(){return new ce((0,a.LFG)(Oe),(0,a.LFG)(Te))}()},providedIn:"root"}),n})();function me(n){return n.replace(/\/index.html$/,"")}let Ai=(()=>{class n{constructor(t,i,r,s){this._iterableDiffers=t,this._keyValueDiffers=i,this._ngEl=r,this._renderer=s,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&((0,a.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(i=>this._toggleClass(i.key,i.currentValue)),t.forEachChangedItem(i=>this._toggleClass(i.key,i.currentValue)),t.forEachRemovedItem(i=>{i.previousValue&&this._toggleClass(i.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(i=>{if("string"!=typeof i.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,a.AaK)(i.item)}`);this._toggleClass(i.item,!0)}),t.forEachRemovedItem(i=>this._toggleClass(i.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(i=>this._toggleClass(i,!0)):Object.keys(t).forEach(i=>this._toggleClass(i,!!t[i])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(i=>this._toggleClass(i,!1)):Object.keys(t).forEach(i=>this._toggleClass(i,!1)))}_toggleClass(t,i){(t=t.trim())&&t.split(/\s+/g).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.ZZ4),a.Y36(a.aQg),a.Y36(a.SBq),a.Y36(a.Qsj))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class ms{constructor(e,t,i,r){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Mi=(()=>{class n{constructor(t,i,r){this._viewContainer=t,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const i=this._viewContainer;t.forEachOperation((r,s,c)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new ms(r.item,this._ngForOf,-1,-1),null===c?void 0:c);else if(null==c)i.remove(null===s?void 0:s);else if(null!==s){const h=i.get(s);i.move(h,c),Xs(h,r)}});for(let r=0,s=i.length;r<s;r++){const h=i.get(r).context;h.index=r,h.count=s,h.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{Xs(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.s_b),a.Y36(a.Rgc),a.Y36(a.ZZ4))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function Xs(n,e){n.context.$implicit=e.item}let jn=(()=>{class n{constructor(t,i){this._viewContainer=t,this._context=new Wn,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Zn("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Zn("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.s_b),a.Y36(a.Rgc))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class Wn{constructor(){this.$implicit=null,this.ngIf=null}}function Zn(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,a.AaK)(e)}'.`)}class vl{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let ji=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const i=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let i=0;i<this._defaultViews.length;i++)this._defaultViews[i].enforceState(t)}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=a.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),n})(),mr=(()=>{class n{constructor(t,i,r){this.ngSwitch=r,r._addCase(),this._view=new vl(t,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.s_b),a.Y36(a.Rgc),a.Y36(ji,9))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),n})(),wl=(()=>{class n{constructor(t,i,r){this._ngEl=t,this._differs=i,this._renderer=r,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,i){const[r,s]=t.split(".");null!=(i=null!=i&&s?`${i}${s}`:i)?this._renderer.setStyle(this._ngEl.nativeElement,r,i):this._renderer.removeStyle(this._ngEl.nativeElement,r)}_applyChanges(t){t.forEachRemovedItem(i=>this._setStyle(i.key,null)),t.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),t.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.SBq),a.Y36(a.aQg),a.Y36(a.Qsj))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),n})(),_o=(()=>{class n{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(t){if(t.ngTemplateOutlet){const i=this._viewContainerRef;this._viewRef&&i.remove(i.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?i.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&t.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.s_b))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[a.TTD]}),n})();function Br(n,e){return new a.vHH(2100,"")}class Th{createSubscription(e,t){return e.subscribe({next:t,error:i=>{throw i}})}dispose(e){e.unsubscribe()}onDestroy(e){e.unsubscribe()}}class is{createSubscription(e,t){return e.then(t,i=>{throw i})}dispose(e){}onDestroy(e){}}const Dh=new is,hu=new Th;let fu=(()=>{class n{constructor(t){this._ref=t,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,i=>this._updateLatestValue(t,i))}_selectStrategy(t){if((0,a.QGY)(t))return Dh;if((0,a.F4k)(t))return hu;throw Br()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,i){t===this._obj&&(this._latestValue=i,this._ref.markForCheck())}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.sBO,16))},n.\u0275pipe=a.Yjl({name:"async",type:n,pure:!1}),n})(),qo=(()=>{class n{transform(t,i,r){if(null==t)return null;if(!this.supports(t))throw Br();return t.slice(i,r)}supports(t){return"string"==typeof t||Array.isArray(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=a.Yjl({name:"slice",type:n,pure:!1}),n})(),to=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})();const gr="browser";function vo(n){return"server"===n}let mu=(()=>{class n{}return n.\u0275prov=(0,a.Yz7)({token:n,providedIn:"root",factory:()=>new Il((0,a.LFG)(fe),window)}),n})();class Il{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function wo(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const s=r.shadowRoot;if(s){const c=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(c)return c}r=i.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),i=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(i-s[0],r-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=bo(this.window.history)||bo(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function bo(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Zo extends class Wo extends class Le{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function ge(n){J||(J=n)}(new Zo)}onAndCancel(e,t,i){return e.addEventListener(t,i,!1),()=>{e.removeEventListener(t,i,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function dc(){return Yn=Yn||document.querySelector("base"),Yn?Yn.getAttribute("href"):null}();return null==t?null:function Co(n){Ia=Ia||document.createElement("a"),Ia.setAttribute("href",n);const e=Ia.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Yn=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function nr(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const i=t.indexOf("="),[r,s]=-1==i?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let Ia,Yn=null;const ir=new a.OlP("TRANSITION_ID"),Sl=[{provide:a.ip1,useFactory:function xi(n,e,t){return()=>{t.get(a.CZH).donePromise.then(()=>{const i=U(),r=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<r.length;s++)i.remove(r[s])})}},deps:[ir,fe,a.zs3],multi:!0}];class ss{static init(){(0,a.VLi)(new ss)}addToWindow(e){a.dqk.getAngularTestability=(i,r=!0)=>{const s=e.findTestabilityInTree(i,r);if(null==s)throw new Error("Could not find testability for element.");return s},a.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),a.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),a.dqk.frameworkStabilizers||(a.dqk.frameworkStabilizers=[]),a.dqk.frameworkStabilizers.push(i=>{const r=a.dqk.getAllAngularTestabilities();let s=r.length,c=!1;const h=function(p){c=c||p,s--,0==s&&i(c)};r.forEach(function(p){p.whenStable(h)})})}findTestabilityInTree(e,t,i){if(null==t)return null;const r=e.getTestability(t);return null!=r?r:i?U().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let Rr=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const no=new a.OlP("EventManagerPlugins");let Yo=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(r=>r.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}addGlobalEventListener(t,i,r){return this._findPluginFor(i).addGlobalEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){const i=this._eventNameToPlugin.get(t);if(i)return i;const r=this._plugins;for(let s=0;s<r.length;s++){const c=r[s];if(c.supports(t))return this._eventNameToPlugin.set(t,c),c}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(no),a.LFG(a.R0b))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();class Sa{constructor(e){this._doc=e}addGlobalEventListener(e,t,i){const r=U().getGlobalEventTarget(this._doc,e);if(!r)throw new Error(`Unsupported event target ${r} for event ${t}`);return this.addEventListener(r,t,i)}}let gs=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const i=new Set;t.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),Ps=(()=>{class n extends gs{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,i,r){t.forEach(s=>{const c=this._doc.createElement("style");c.textContent=s,r.push(i.appendChild(c))})}addHost(t){const i=[];this._addStylesToHost(this._stylesSet,t,i),this._hostNodes.set(t,i)}removeHost(t){const i=this._hostNodes.get(t);i&&i.forEach(io),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(t,r,i)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(io))}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(fe))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();function io(n){U().remove(n)}const Ft={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},qa=/%COMP%/g;function $e(n,e,t){for(let i=0;i<e.length;i++){let r=e[i];Array.isArray(r)?$e(n,r,t):(r=r.replace(qa,n),t.push(r))}return t}function an(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let ln=(()=>{class n{constructor(t,i,r){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new Fs(t)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;switch(i.encapsulation){case a.ifc.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new Ko(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(t),r}case 1:case a.ifc.ShadowDom:return new ro(this.eventManager,this.sharedStylesHost,t,i);default:if(!this.rendererByCompId.has(i.id)){const r=$e(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Yo),a.LFG(Ps),a.LFG(a.AFp))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();class Fs{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(Ft[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,i){e&&e.insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i="string"==typeof e?document.querySelector(e):e;if(!i)throw new Error(`The selector "${e}" did not match any elements`);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;const s=Ft[r];s?e.setAttributeNS(s,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){const r=Ft[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(a.JOm.DashCase|a.JOm.Important)?e.style.setProperty(t,i,r&a.JOm.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&a.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e[t]=i}setValue(e,t){e.nodeValue=t}listen(e,t,i){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,an(i)):this.eventManager.addEventListener(e,t,an(i))}}class Ko extends Fs{constructor(e,t,i,r){super(e),this.component=i;const s=$e(r+"-"+i.id,i.styles,[]);t.addStyles(s),this.contentAttr=function ld(n){return"_ngcontent-%COMP%".replace(qa,n)}(r+"-"+i.id),this.hostAttr=function vs(n){return"_nghost-%COMP%".replace(qa,n)}(r+"-"+i.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}}class ro extends Fs{constructor(e,t,i,r){super(e),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=$e(r.id,r.styles,[]);for(let c=0;c<s.length;c++){const h=document.createElement("style");h.textContent=s[c],this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let cd=(()=>{class n extends Sa{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(fe))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const hc=["alt","control","meta","shift"],Eo={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ki={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Ls={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Ma=(()=>{class n extends Sa{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,i,r){const s=n.parseEventName(i),c=n.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>U().onAndCancel(t,s.domEventName,c))}static parseEventName(t){const i=t.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const s=n._normalizeKey(i.pop());let c="";if(hc.forEach(p=>{const _=i.indexOf(p);_>-1&&(i.splice(_,1),c+=p+".")}),c+=s,0!=i.length||0===s.length)return null;const h={};return h.domEventName=r,h.fullKey=c,h}static getEventFullKey(t){let i="",r=function rr(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&ki.hasOwnProperty(e)&&(e=ki[e]))}return Eo[e]||e}(t);return r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),hc.forEach(s=>{s!=r&&Ls[s](t)&&(i+=s+".")}),i+=r,i}static eventCallback(t,i,r){return s=>{n.getEventFullKey(s)===t&&r.runGuarded(()=>i(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(fe))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const _r=(0,a.eFA)(a._c5,"browser",[{provide:a.Lbi,useValue:gr},{provide:a.g9A,useValue:function Hr(){Zo.makeCurrent(),ss.init()},multi:!0},{provide:fe,useFactory:function xa(){return(0,a.RDi)(document),document},deps:[]}]),Al=[{provide:a.zSh,useValue:"root"},{provide:a.qLn,useFactory:function Pn(){return new a.qLn},deps:[]},{provide:no,useClass:cd,multi:!0,deps:[fe,a.R0b,a.Lbi]},{provide:no,useClass:Ma,multi:!0,deps:[fe]},{provide:ln,useClass:ln,deps:[Yo,Ps,a.AFp]},{provide:a.FYo,useExisting:ln},{provide:gs,useExisting:Ps},{provide:Ps,useClass:Ps,deps:[fe]},{provide:a.dDg,useClass:a.dDg,deps:[a.R0b]},{provide:Yo,useClass:Yo,deps:[no,a.R0b]},{provide:class ti{},useClass:Rr,deps:[]}];let so=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:a.AFp,useValue:t.appId},{provide:ir,useExisting:a.AFp},Sl]}}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(n,12))},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:Al,imports:[to,a.hGG]}),n})();"undefined"!=typeof window&&window;var Pe=$(5861),yr=$(573),j=$(2090),Wi=$(9681),Nr=$(1877),Oi=$(4859);const di=(0,$(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var ni=$(4482),gi=$(5403);function ii(n,e){return(0,ni.e)((t,i)=>{let r=0;t.subscribe((0,gi.x)(i,s=>n.call(e,s,r++)&&i.next(s)))})}var Zi=$(5698);function So(n){return(0,ni.e)((e,t)=>{let i=!1;e.subscribe((0,gi.x)(t,r=>{i=!0,t.next(r)},()=>{i||t.next(n),t.complete()}))})}function Di(n=ea){return(0,ni.e)((e,t)=>{let i=!1;e.subscribe((0,gi.x)(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(n())))})}function ea(){return new di}var C=$(4671);function R(n,e){const t=arguments.length>=2;return i=>i.pipe(n?ii((r,s)=>n(r,s,i)):C.y,(0,Zi.q)(1),t?So(e):Di(()=>new di))}var I=$(7579),b=$(3269),x=$(8996);function N(...n){const e=(0,b.yG)(n);return(0,x.D)(n,e)}var G=$(8306),Q=$(6451),le=$(5363),ke=$(8421);function We(n,e){return(0,ni.e)((t,i)=>{let r=null,s=0,c=!1;const h=()=>c&&!r&&i.complete();t.subscribe((0,gi.x)(i,p=>{null==r||r.unsubscribe();let _=0;const T=s++;(0,ke.Xf)(n(p,T)).subscribe(r=(0,gi.x)(i,S=>i.next(e?e(p,S,T,_++):S),()=>{r=null,h()}))},()=>{c=!0,h()}))})}var be=$(4004),ot=$(6063);class Tt extends I.x{constructor(e=1/0,t=1/0,i=ot.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:s,_windowTime:c}=this;t||(i.push(e),!r&&i.push(s.now()+c)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:i,_buffer:r}=this,s=r.slice();for(let c=0;c<s.length&&!e.closed;c+=i?1:2)e.next(s[c]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:i,_infiniteTimeWindow:r}=this,s=(r?1:2)*e;if(e<1/0&&s<i.length&&i.splice(0,i.length-s),!r){const c=t.now();let h=0;for(let p=1;p<i.length&&i[p]<=c;p+=2)h=p;h&&i.splice(0,h+1)}}}var vn=$(3099);function hn(n,e,t){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:e=1/0,refCount:r=!1,scheduler:t}=n):i=null!=n?n:1/0,(0,vn.B)({connector:()=>new Tt(i,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}var Ht=$(576);function jt(n,e){return(0,Ht.m)(e)?We(()=>n,e):We(()=>n)}var Ni=$(9468),fn=$(5813),Bn=$(2011);$(5867);const Cu=new Map,Ec={activated:!1,tokenObservers:[]},kh={initialized:!1,enabled:!1};function Cn(n){return Cu.get(n)||Ec}function $r(n,e){Cu.set(n,e)}function Ka(){return kh}class Es{constructor(e,t,i,r,s){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=r,r>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,Pe.Z)(function*(){t.stop();try{t.pending=new j.BH,yield function Ll(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new j.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(i){t.retryPolicy(i)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const vr=new j.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Ic(n){if(!Cn(n).activated)throw vr.create("use-before-activation",{appName:n.name})}function ko(n,e){return Oh.apply(this,arguments)}function Oh(){return(Oh=(0,Pe.Z)(function*({url:n,body:e},t){const i={"Content-Type":"application/json"},r=t.getImmediate({optional:!0});if(r){const S=yield r.getHeartbeatsHeader();S&&(i["X-Firebase-Client"]=S)}const s={method:"POST",body:JSON.stringify(e),headers:i};let c,h;try{c=yield fetch(n,s)}catch(S){throw vr.create("fetch-network-error",{originalErrorMessage:S.message})}if(200!==c.status)throw vr.create("fetch-status-error",{httpStatus:c.status});try{h=yield c.json()}catch(S){throw vr.create("fetch-parse-error",{originalErrorMessage:S.message})}const p=h.ttl.match(/^([\d.]+)(s)$/);if(!p||!p[2]||isNaN(Number(p[1])))throw vr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${h.ttl}`});const _=1e3*Number(p[1]),T=Date.now();return{token:h.attestationToken,expireTimeMillis:T+_,issuedAtTimeMillis:T}})).apply(this,arguments)}function hd(n,e){const{projectId:t,appId:i,apiKey:r}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${t}/apps/${i}:exchangeDebugToken?key=${r}`,body:{debug_token:e}}}const ka="firebase-app-check-store";let Vl=null;function Bl(){return Vl||(Vl=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=i=>{n(i.target.result)},t.onerror=i=>{var r;e(vr.create("storage-open",{originalErrorMessage:null===(r=i.target.error)||void 0===r?void 0:r.message}))},t.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(ka,{keyPath:"compositeKey"})}}catch(t){e(vr.create("storage-open",{originalErrorMessage:t.message}))}}),Vl)}function O(){return(O=(0,Pe.Z)(function*(n,e){const i=(yield Bl()).transaction(ka,"readwrite"),s=i.objectStore(ka).put({compositeKey:n,value:e});return new Promise((c,h)=>{s.onsuccess=p=>{c()},i.onerror=p=>{var _;h(vr.create("storage-set",{originalErrorMessage:null===(_=p.target.error)||void 0===_?void 0:_.message}))}})})).apply(this,arguments)}const ve=new Nr.Yd("@firebase/app-check");function At(n,e){return(0,j.hl)()?function Ja(n,e){return function k(n,e){return O.apply(this,arguments)}(function de(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{ve.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function qt(){return Ka().enabled}function Ki(){return Pi.apply(this,arguments)}function Pi(){return(Pi=(0,Pe.Z)(function*(){const n=Ka();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Mc={error:"UNKNOWN_ERROR"};function Ra(n){return j.US.encodeString(JSON.stringify(n),!1)}function qr(n){return Ro.apply(this,arguments)}function Ro(){return(Ro=(0,Pe.Z)(function*(n,e=!1){const t=n.app;Ic(t);const i=Cn(t);let s,r=i.token;if(!r){const p=yield i.cachedTokenPromise;p&&yd(p)&&(r=p)}if(!e&&r&&yd(r))return{token:r.token};let h,c=!1;if(qt()){i.exchangeTokenPromise||(i.exchangeTokenPromise=ko(hd(t,yield Ki()),n.heartbeatServiceProvider).then(_=>(i.exchangeTokenPromise=void 0,_)),c=!0);const p=yield i.exchangeTokenPromise;return yield At(t,p),$r(t,Object.assign(Object.assign({},i),{token:p})),{token:p.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().then(p=>(i.exchangeTokenPromise=void 0,p)),c=!0),r=yield i.exchangeTokenPromise}catch(p){"appCheck/throttled"===p.code?ve.warn(p.message):ve.error(p),s=p}return r?(h={token:r.token},$r(t,Object.assign(Object.assign({},i),{token:r})),yield At(t,r)):h=Dv(s),c&&_d(t,h),h})).apply(this,arguments)}function yp(n,e){const t=Cn(n),i=t.tokenObservers.filter(r=>r.next!==e);0===i.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),$r(n,Object.assign(Object.assign({},t),{tokenObservers:i}))}function Ph(n){const{app:e}=n,t=Cn(e);let i=t.tokenRefresher;i||(i=function gd(n){const{app:e}=n;return new Es((0,Pe.Z)(function*(){let i;if(i=Cn(e).token?yield qr(n,!0):yield qr(n),i.error)throw i.error}),()=>!0,()=>{const t=Cn(e);if(t.token){let i=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,t.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},3e4,96e4)}(n),$r(e,Object.assign(Object.assign({},t),{tokenRefresher:i}))),!i.isRunning()&&t.isTokenAutoRefreshEnabled&&i.start()}function _d(n,e){const t=Cn(n).tokenObservers;for(const i of t)try{"EXTERNAL"===i.type&&null!=e.error?i.error(e.error):i.next(e)}catch(r){}}function yd(n){return n.expireTimeMillis-Date.now()>0}function Dv(n){return{token:Ra(Mc),error:n}}class vp{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Cn(this.app);for(const t of e)yp(this.app,t.next);return Promise.resolve()}}const Oa="app-check-internal";!function kc(){(0,Wi._registerComponent)(new Oi.wA("app-check",n=>function Iu(n,e){return new vp(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(Oa).initialize()})),(0,Wi._registerComponent)(new Oi.wA(Oa,n=>function vd(n){return{getToken:e=>qr(n,e),addTokenListener:e=>function ia(n,e,t,i){const{app:r}=n,s=Cn(r),c={next:t,error:i,type:e};if($r(r,Object.assign(Object.assign({},s),{tokenObservers:[...s.tokenObservers,c]})),s.token&&yd(s.token)){const h=s.token;Promise.resolve().then(()=>{t({token:h.token}),Ph(n)}).catch(()=>{})}s.cachedTokenPromise.then(()=>Ph(n))}(n,"INTERNAL",e),removeTokenListener:e=>yp(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Wi.registerVersion)("@firebase/app-check","0.5.6")}();class Id{constructor(){return(0,fn.vb)("app-check")}}"undefined"!=typeof window&&window;var Lt=$(127);const Ti=new a.OlP("angularfire2.auth.use-emulator"),ra=new a.OlP("angularfire2.auth.settings"),Xa=new a.OlP("angularfire2.auth.tenant-id"),Ul=new a.OlP("angularfire2.auth.langugage-code"),Au=new a.OlP("angularfire2.auth.use-device-language"),Rc=new a.OlP("angularfire.auth.persistence"),Tp=(n,e,t,i,r,s,c,h)=>(0,Bn.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const p=e.runOutsideAngular(()=>n.auth());if(t&&p.useEmulator(...t),i&&(p.tenantId=i),p.languageCode=r,s&&p.useDeviceLanguage(),c)for(const[_,T]of Object.entries(c))p.settings[_]=T;return h&&p.setPersistence(h),p},[t,i,r,s,c,h]);let Sd=(()=>{class n{constructor(t,i,r,s,c,h,p,_,T,S,P,H){const q=new I.x,ae=N(void 0).pipe((0,le.Q)(c.outsideAngular),We(()=>s.runOutsideAngular(()=>Promise.resolve().then($.bind($,5881)))),(0,be.U)(()=>(0,Bn.on)(t,s,i)),(0,be.U)(Ce=>Tp(Ce,s,h,_,T,S,p,P)),hn({bufferSize:1,refCount:!1}));if(vo(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=N(null);else{ae.pipe(R()).subscribe();const pt=ae.pipe(We(ht=>ht.getRedirectResult().then(Kt=>Kt,()=>null)),fn.iC,hn({bufferSize:1,refCount:!1})),_t=ae.pipe(We(ht=>new G.y(Kt=>({unsubscribe:s.runOutsideAngular(()=>ht.onAuthStateChanged(rn=>Kt.next(rn),rn=>Kt.error(rn),()=>Kt.complete()))})))),yt=ae.pipe(We(ht=>new G.y(Kt=>({unsubscribe:s.runOutsideAngular(()=>ht.onIdTokenChanged(rn=>Kt.next(rn),rn=>Kt.error(rn),()=>Kt.complete()))}))));this.authState=pt.pipe(jt(_t),(0,Ni.R)(c.outsideAngular),(0,le.Q)(c.insideAngular)),this.user=pt.pipe(jt(yt),(0,Ni.R)(c.outsideAngular),(0,le.Q)(c.insideAngular)),this.idToken=this.user.pipe(We(ht=>ht?(0,x.D)(ht.getIdToken()):N(null))),this.idTokenResult=this.user.pipe(We(ht=>ht?(0,x.D)(ht.getIdTokenResult()):N(null))),this.credential=(0,Q.T)(pt,q,this.authState.pipe(ii(ht=>!ht))).pipe((0,be.U)(ht=>(null==ht?void 0:ht.user)?ht:null),(0,Ni.R)(c.outsideAngular),(0,le.Q)(c.insideAngular))}return(0,Bn.pX)(this,ae,s,{spy:{apply:(Ce,pt,_t)=>{(Ce.startsWith("signIn")||Ce.startsWith("createUser"))&&_t.then(yt=>q.next(yt))}}})}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Bn.Dh),a.LFG(Bn.xv,8),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(fn.HU),a.LFG(Ti,8),a.LFG(ra,8),a.LFG(Xa,8),a.LFG(Ul,8),a.LFG(Au,8),a.LFG(Rc,8),a.LFG(Id,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Uh=(()=>{class n{constructor(){Lt.Z.registerVersion("angularfire",fn.q4.full,"auth-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[Sd]}),n})();class Wr extends I.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:i}=this;if(e)throw t;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}}const{isArray:Wg}=Array,{getPrototypeOf:Dp,prototype:Zg,keys:Yg}=Object;function Oc(n){if(1===n.length){const e=n[0];if(Wg(e))return{args:e,keys:null};if(function Kg(n){return n&&"object"==typeof n&&Dp(n)===Zg}(e)){const t=Yg(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}const{isArray:Rv}=Array;function Qi(n){return(0,be.U)(e=>function vA(n,e){return Rv(e)?n(...e):n(e)}(n,e))}function qC(n,e){return n.reduce((t,i,r)=>(t[i]=e[r],t),{})}var bA=$(9672);function ZC(n,e,t){n?(0,bA.f)(t,n,e):e()}function Ip(n,e){const t=(0,Ht.m)(n)?n:()=>n,i=r=>r.error(t());return new G.y(e?r=>e.schedule(i,0,r):i)}var Qg=$(8189);function Nv(...n){return function wA(){return(0,Qg.J)(1)}()((0,x.D)(n,(0,b.yG)(n)))}function YC(n){return new G.y(e=>{(0,ke.Xf)(n()).subscribe(e)})}var Hh=$(515),Hl=$(727);function Bs(){return(0,ni.e)((n,e)=>{let t=null;n._refCount++;const i=(0,gi.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const r=n._connection,s=t;t=null,r&&(!s||r===s)&&r.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}class Pv extends G.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,ni.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Hl.w0;const t=this.getSubject();e.add(this.source.subscribe((0,gi.x)(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Hl.w0.EMPTY)}return e}refCount(){return Bs()(this)}}function Nc(...n){const e=(0,b.yG)(n);return(0,ni.e)((t,i)=>{(e?Nv(n,t,e):Nv(n,t)).subscribe(i)})}function KC(n,e,t,i,r){return(s,c)=>{let h=t,p=e,_=0;s.subscribe((0,gi.x)(c,T=>{const S=_++;p=h?n(p,T,S):(h=!0,T),i&&c.next(p)},r&&(()=>{h&&c.next(p),c.complete()})))}}function sr(n,e){return(0,ni.e)(KC(n,e,arguments.length>=2,!0))}function sa(n){return(0,ni.e)((e,t)=>{let s,i=null,r=!1;i=e.subscribe((0,gi.x)(t,void 0,void 0,c=>{s=(0,ke.Xf)(n(c,sa(n)(e))),i?(i.unsubscribe(),i=null,s.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,s.subscribe(t))})}var Zr=$(5577);function jh(n,e){return(0,Ht.m)(e)?(0,Zr.z)(n,e,1):(0,Zr.z)(n,1)}function Fv(n){return n<=0?()=>Hh.E:(0,ni.e)((e,t)=>{let i=[];e.subscribe((0,gi.x)(t,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)t.next(r);t.complete()},void 0,()=>{i=null}))})}var br=$(8505);class Pc{constructor(e,t){this.id=e,this.url=t}}class Jg extends Pc{constructor(e,t,i="imperative",r=null){super(e,t),this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Sp extends Pc{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class JC extends Pc{constructor(e,t,i){super(e,t),this.reason=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Vv extends Pc{constructor(e,t,i){super(e,t),this.error=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class CA extends Pc{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class EA extends Pc{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Bv extends Pc{constructor(e,t,i,r,s){super(e,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class TA extends Pc{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class DA extends Pc{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ap{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class XC{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class IA{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class SA{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class AA{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class MA{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Uv{constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Mn="primary";class xA{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Gh(n){return new xA(n)}const eE="ngNavigationCancelingError";function Hv(n){const e=Error("NavigationCancelingError: "+n);return e[eE]=!0,e}function kA(n,e,t){const i=t.path.split("/");if(i.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||i.length<n.length))return null;const r={};for(let s=0;s<i.length;s++){const c=i[s],h=n[s];if(c.startsWith(":"))r[c.substring(1)]=h;else if(c!==h.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function co(n,e){const t=n?Object.keys(n):void 0,i=e?Object.keys(e):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let s=0;s<t.length;s++)if(r=t[s],!el(n[r],e[r]))return!1;return!0}function el(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),i=[...e].sort();return t.every((r,s)=>i[s]===r)}return n===e}function OA(n){return Array.prototype.concat.apply([],n)}function NA(n){return n.length>0?n[n.length-1]:null}function Us(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function Yr(n){return(0,a.CqO)(n)?n:(0,a.QGY)(n)?(0,x.D)(Promise.resolve(n)):N(n)}const Gv={exact:function zv(n,e,t){if(!Md(n.segments,e.segments)||!xp(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const i in e.children)if(!n.children[i]||!zv(n.children[i],e.children[i],t))return!1;return!0},subset:Xg},nE={exact:function Mp(n,e){return co(n,e)},subset:function iE(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>el(n[t],e[t]))},ignored:()=>!0};function $v(n,e,t){return Gv[t.paths](n.root,e.root,t.matrixParams)&&nE[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function Xg(n,e,t){return e_(n,e,e.segments,t)}function e_(n,e,t,i){if(n.segments.length>t.length){const r=n.segments.slice(0,t.length);return!(!Md(r,t)||e.hasChildren()||!xp(r,t,i))}if(n.segments.length===t.length){if(!Md(n.segments,t)||!xp(n.segments,t,i))return!1;for(const r in e.children)if(!n.children[r]||!Xg(n.children[r],e.children[r],i))return!1;return!0}{const r=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!!(Md(n.segments,r)&&xp(n.segments,r,i)&&n.children[Mn])&&e_(n.children[Mn],e,s,i)}}function xp(n,e,t){return e.every((i,r)=>nE[t](n[r].parameters,i.parameters))}class $h{constructor(e,t,i){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Gh(this.queryParams)),this._queryParamMap}toString(){return FA.serialize(this)}}class bn{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Us(t,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return t_(this)}}class Ad{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Gh(this.parameters)),this._parameterMap}toString(){return cE(this)}}function Md(n,e){return n.length===e.length&&n.every((t,i)=>t.path===e[i].path)}class sE{}class oE{parse(e){const t=new fE(e);return new $h(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${kp(e.root,!0)}`,i=function dE(n){const e=Object.keys(n).map(t=>{const i=n[t];return Array.isArray(i)?i.map(r=>`${Rp(t)}=${Rp(r)}`).join("&"):`${Rp(t)}=${Rp(i)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${i}${"string"==typeof e.fragment?`#${function Wv(n){return encodeURI(n)}(e.fragment)}`:""}`}}const FA=new oE;function t_(n){return n.segments.map(e=>cE(e)).join("/")}function kp(n,e){if(!n.hasChildren())return t_(n);if(e){const t=n.children[Mn]?kp(n.children[Mn],!1):"",i=[];return Us(n.children,(r,s)=>{s!==Mn&&i.push(`${s}:${kp(r,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}{const t=function qv(n,e){let t=[];return Us(n.children,(i,r)=>{r===Mn&&(t=t.concat(e(i,r)))}),Us(n.children,(i,r)=>{r!==Mn&&(t=t.concat(e(i,r)))}),t}(n,(i,r)=>r===Mn?[kp(n.children[Mn],!1)]:[`${r}:${kp(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Mn]?`${t_(n)}/${t[0]}`:`${t_(n)}/(${t.join("//")})`}}function aE(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Rp(n){return aE(n).replace(/%3B/gi,";")}function n_(n){return aE(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function zh(n){return decodeURIComponent(n)}function lE(n){return zh(n.replace(/\+/g,"%20"))}function cE(n){return`${n_(n.path)}${function uE(n){return Object.keys(n).map(e=>`;${n_(e)}=${n_(n[e])}`).join("")}(n.parameters)}`}const xd=/^[^\/()?;=#]+/;function Op(n){const e=n.match(xd);return e?e[0]:""}const hE=/^[^=?&#]+/,i_=/^[^&#]+/;class fE{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new bn([],{}):new bn([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[Mn]=new bn(e,t)),i}parseSegment(){const e=Op(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new Ad(zh(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Op(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const r=Op(this.remaining);r&&(i=r,this.capture(i))}e[zh(t)]=zh(i)}parseQueryParam(e){const t=function LA(n){const e=n.match(hE);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const c=function VA(n){const e=n.match(i_);return e?e[0]:""}(this.remaining);c&&(i=c,this.capture(i))}const r=lE(t),s=lE(i);if(e.hasOwnProperty(r)){let c=e[r];Array.isArray(c)||(c=[c],e[r]=c),c.push(s)}else e[r]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=Op(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let s;i.indexOf(":")>-1?(s=i.substr(0,i.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=Mn);const c=this.parseChildren();t[s]=1===Object.keys(c).length?c[Mn]:new bn([],c),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class Zv{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=r_(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){const t=r_(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Np(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return Np(e,this._root).map(t=>t.value)}}function r_(n,e){if(n===e.value)return e;for(const t of e.children){const i=r_(n,t);if(i)return i}return null}function Np(n,e){if(n===e.value)return[e];for(const t of e.children){const i=Np(n,t);if(i.length)return i.unshift(e),i}return[]}class jl{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Fc(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class Pp extends Zv{constructor(e,t){super(e),this.snapshot=t,Jv(this,e)}toString(){return this.snapshot.toString()}}function Yv(n,e){const t=function Kv(n,e){const c=new o_([],{},{},"",{},Mn,e,null,n.root,-1,{});return new Qv("",new jl(c,[]))}(n,e),i=new Wr([new Ad("",{})]),r=new Wr({}),s=new Wr({}),c=new Wr({}),h=new Wr(""),p=new kd(i,r,c,h,s,Mn,e,t.root);return p.snapshot=t.root,new Pp(new jl(p,[]),t)}class kd{constructor(e,t,i,r,s,c,h,p){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=c,this.component=h,this._futureSnapshot=p}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,be.U)(e=>Gh(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,be.U)(e=>Gh(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function s_(n,e="emptyOnly"){const t=n.pathFromRoot;let i=0;if("always"!==e)for(i=t.length-1;i>=1;){const r=t[i],s=t[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(s.component)break;i--}}return function Fp(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(i))}class o_{constructor(e,t,i,r,s,c,h,p,_,T,S){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=c,this.component=h,this.routeConfig=p,this._urlSegment=_,this._lastPathIndex=T,this._resolve=S}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Gh(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Gh(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Qv extends Zv{constructor(e,t){super(t),this.url=e,Jv(this,t)}toString(){return pE(this._root)}}function Jv(n,e){e.value._routerState=n,e.children.forEach(t=>Jv(n,t))}function pE(n){const e=n.children.length>0?` { ${n.children.map(pE).join(", ")} } `:"";return`${n.value}${e}`}function a_(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,co(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),co(e.params,t.params)||n.params.next(t.params),function RA(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!co(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),co(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Lp(n,e){const t=co(n.params,e.params)&&function rE(n,e){return Md(n,e)&&n.every((t,i)=>co(t.parameters,e[i].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||Lp(n.parent,e.parent))}function l_(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const i=t.value;i._futureSnapshot=e.value;const r=function gE(n,e,t){return e.children.map(i=>{for(const r of t.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return l_(n,i,r);return l_(n,i)})}(n,e,t);return new jl(i,r)}{if(n.shouldAttach(e.value)){const s=n.retrieve(e.value);if(null!==s){const c=s.route;return c.value._futureSnapshot=e.value,c.children=e.children.map(h=>l_(n,h)),c}}const i=function BA(n){return new kd(new Wr(n.url),new Wr(n.params),new Wr(n.queryParams),new Wr(n.fragment),new Wr(n.data),n.outlet,n.component,n)}(e.value),r=e.children.map(s=>l_(n,s));return new jl(i,r)}}function c_(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Vp(n){return"object"==typeof n&&null!=n&&n.outlets}function oa(n,e,t,i,r){let s={};if(i&&Us(i,(h,p)=>{s[p]=Array.isArray(h)?h.map(_=>`${_}`):`${h}`}),n===e)return new $h(t,s,r);const c=yE(n,e,t);return new $h(c,s,r)}function yE(n,e,t){const i={};return Us(n.children,(r,s)=>{i[s]=r===e?t:yE(r,e,t)}),new bn(n.segments,i)}class Xv{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&c_(i[0]))throw new Error("Root segment cannot have matrix parameters");const r=i.find(Vp);if(r&&r!==NA(i))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class e0{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}}function bE(n,e,t){if(n||(n=new bn([],{})),0===n.segments.length&&n.hasChildren())return u_(n,e,t);const i=function GA(n,e,t){let i=0,r=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=t.length)return s;const c=n.segments[r],h=t[i];if(Vp(h))break;const p=`${h}`,_=i<t.length-1?t[i+1]:null;if(r>0&&void 0===p)break;if(p&&_&&"object"==typeof _&&void 0===_.outlets){if(!n0(p,_,c))return s;i+=2}else{if(!n0(p,{},c))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,e,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const s=new bn(n.segments.slice(0,i.pathIndex),{});return s.children[Mn]=new bn(n.segments.slice(i.pathIndex),n.children),u_(s,0,r)}return i.match&&0===r.length?new bn(n.segments,{}):i.match&&!n.hasChildren()?cn(n,e,t):i.match?u_(n,0,r):cn(n,e,t)}function u_(n,e,t){if(0===t.length)return new bn(n.segments,{});{const i=function vE(n){return Vp(n[0])?n[0].outlets:{[Mn]:n}}(t),r={};return Us(i,(s,c)=>{"string"==typeof s&&(s=[s]),null!==s&&(r[c]=bE(n.children[c],e,s))}),Us(n.children,(s,c)=>{void 0===i[c]&&(r[c]=s)}),new bn(n.segments,r)}}function cn(n,e,t){const i=n.segments.slice(0,e);let r=0;for(;r<t.length;){const s=t[r];if(Vp(s)){const p=wE(s.outlets);return new bn(i,p)}if(0===r&&c_(t[0])){i.push(new Ad(n.segments[e].path,t0(t[0]))),r++;continue}const c=Vp(s)?s.outlets[Mn]:`${s}`,h=r<t.length-1?t[r+1]:null;c&&h&&c_(h)?(i.push(new Ad(c,t0(h))),r+=2):(i.push(new Ad(c,{})),r++)}return new bn(i,{})}function wE(n){const e={};return Us(n,(t,i)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[i]=cn(new bn([],{}),0,t))}),e}function t0(n){const e={};return Us(n,(t,i)=>e[i]=`${t}`),e}function n0(n,e,t){return n==t.path&&co(e,t.parameters)}class tl{constructor(e,t,i,r){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=r}activate(e){const t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),a_(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){const r=Fc(t);e.children.forEach(s=>{const c=s.value.outlet;this.deactivateRoutes(s,r[c],i),delete r[c]}),Us(r,(s,c)=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(e,t,i){const r=e.value,s=t?t.value:null;if(r===s)if(r.component){const c=i.getContext(r.outlet);c&&this.deactivateChildRoutes(e,t,c.children)}else this.deactivateChildRoutes(e,t,i);else s&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,s=Fc(e);for(const c of Object.keys(s))this.deactivateRouteAndItsChildren(s[c],r);if(i&&i.outlet){const c=i.outlet.detach(),h=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:c,route:e,contexts:h})}}deactivateRouteAndOutlet(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,s=Fc(e);for(const c of Object.keys(s))this.deactivateRouteAndItsChildren(s[c],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(e,t,i){const r=Fc(t);e.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new MA(s.value.snapshot))}),e.children.length&&this.forwardEvent(new SA(e.value.snapshot))}activateRoutes(e,t,i){const r=e.value,s=t?t.value:null;if(a_(r),r===s)if(r.component){const c=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,c.children)}else this.activateChildRoutes(e,t,i);else if(r.component){const c=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const h=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),c.children.onOutletReAttached(h.contexts),c.attachRef=h.componentRef,c.route=h.route.value,c.outlet&&c.outlet.attach(h.componentRef,h.route.value),a_(h.route.value),this.activateChildRoutes(e,null,c.children)}else{const h=function CE(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),p=h?h.module.componentFactoryResolver:null;c.attachRef=null,c.route=r,c.resolver=p,c.outlet&&c.outlet.activateWith(r,p),this.activateChildRoutes(e,null,c.children)}}else this.activateChildRoutes(e,null,i)}}class r0{constructor(e,t){this.routes=e,this.module=t}}function Gl(n){return"function"==typeof n}function Vc(n){return n instanceof $h}const h_=Symbol("INITIAL_VALUE");function Mu(){return We(n=>function Ov(...n){const e=(0,b.yG)(n),t=(0,b.jO)(n),{args:i,keys:r}=Oc(n);if(0===i.length)return(0,x.D)([],e);const s=new G.y(function WC(n,e,t=C.y){return i=>{ZC(e,()=>{const{length:r}=n,s=new Array(r);let c=r,h=r;for(let p=0;p<r;p++)ZC(e,()=>{const _=(0,x.D)(n[p],e);let T=!1;_.subscribe((0,gi.x)(i,S=>{s[p]=S,T||(T=!0,h--),h||i.next(t(s.slice()))},()=>{--c||i.complete()}))},i)},i)}}(i,e,r?c=>qC(r,c):C.y));return t?s.pipe(Qi(t)):s}(n.map(e=>e.pipe((0,Zi.q)(1),Nc(h_)))).pipe(sr((e,t)=>{let i=!1;return t.reduce((r,s,c)=>r!==h_?r:(s===h_&&(i=!0),i||!1!==s&&c!==t.length-1&&!Vc(s)?r:s),e)},h_),ii(e=>e!==h_),(0,be.U)(e=>Vc(e)?e:!0===e),(0,Zi.q)(1)))}class f_{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Rd,this.attachRef=null}}class Rd{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const i=this.getOrCreateContext(e);i.outlet=t,this.contexts.set(e,i)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new f_,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}let Bp=(()=>{class n{constructor(t,i,r,s,c){this.parentContexts=t,this.location=i,this.resolver=r,this.changeDetector=c,this.activated=null,this._activatedRoute=null,this.activateEvents=new a.vpe,this.deactivateEvents=new a.vpe,this.attachEvents=new a.vpe,this.detachEvents=new a.vpe,this.name=s||Mn,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const c=(i=i||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),h=this.parentContexts.getOrCreateContext(this.name).children,p=new o0(t,h,this.location.injector);this.activated=this.location.createComponent(c,this.location.length,p),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(Rd),a.Y36(a.s_b),a.Y36(a._Vd),a.$8M("name"),a.Y36(a.sBO))},n.\u0275dir=a.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class o0{constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===kd?this.route:e===Rd?this.childContexts:this.parent.get(e,t)}}let $A=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,i){1&t&&a._UZ(0,"router-outlet")},directives:[Bp],encapsulation:2}),n})();function DE(n,e=""){for(let t=0;t<n.length;t++){const i=n[t];zA(i,qA(e,i))}}function zA(n,e){n.children&&DE(n.children,e)}function qA(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function a0(n){const e=n.children&&n.children.map(a0),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Mn&&(t.component=$A),t}function aa(n){return n.outlet||Mn}function WA(n,e){const t=n.filter(i=>aa(i)===e);return t.push(...n.filter(i=>aa(i)!==e)),t}const IE={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function l0(n,e,t){var i;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},IE):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const s=(e.matcher||kA)(t,n,e);if(!s)return Object.assign({},IE);const c={};Us(s.posParams,(p,_)=>{c[_]=p.path});const h=s.consumed.length>0?Object.assign(Object.assign({},c),s.consumed[s.consumed.length-1].parameters):c;return{matched:!0,consumedSegments:s.consumed,remainingSegments:t.slice(s.consumed.length),parameters:h,positionalParamSegments:null!==(i=s.posParams)&&void 0!==i?i:{}}}function Up(n,e,t,i,r="corrected"){if(t.length>0&&function c0(n,e,t){return t.some(i=>u0(n,e,i)&&aa(i)!==Mn)}(n,t,i)){const c=new bn(e,function ZA(n,e,t,i){const r={};r[Mn]=i,i._sourceSegment=n,i._segmentIndexShift=e.length;for(const s of t)if(""===s.path&&aa(s)!==Mn){const c=new bn([],{});c._sourceSegment=n,c._segmentIndexShift=e.length,r[aa(s)]=c}return r}(n,e,i,new bn(t,n.children)));return c._sourceSegment=n,c._segmentIndexShift=e.length,{segmentGroup:c,slicedSegments:[]}}if(0===t.length&&function gN(n,e,t){return t.some(i=>u0(n,e,i))}(n,t,i)){const c=new bn(n.segments,function SE(n,e,t,i,r,s){const c={};for(const h of i)if(u0(n,t,h)&&!r[aa(h)]){const p=new bn([],{});p._sourceSegment=n,p._segmentIndexShift="legacy"===s?n.segments.length:e.length,c[aa(h)]=p}return Object.assign(Object.assign({},r),c)}(n,e,t,i,n.children,r));return c._sourceSegment=n,c._segmentIndexShift=e.length,{segmentGroup:c,slicedSegments:t}}const s=new bn(n.segments,n.children);return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:t}}function u0(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function YA(n,e,t,i){return!!(aa(n)===i||i!==Mn&&u0(e,t,n))&&("**"===n.path||l0(e,n,t).matched)}function KA(n,e,t){return 0===e.length&&!n.children[t]}class d0{constructor(e){this.segmentGroup=e||null}}class QA{constructor(e){this.urlTree=e}}function p_(n){return Ip(new d0(n))}function JA(n){return Ip(new QA(n))}class h0{constructor(e,t,i,r,s){this.configLoader=t,this.urlSerializer=i,this.urlTree=r,this.config=s,this.allowRedirects=!0,this.ngModule=e.get(a.h0i)}apply(){const e=Up(this.urlTree.root,[],[],this.config).segmentGroup,t=new bn(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,Mn).pipe((0,be.U)(s=>this.createUrlTree(m_(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(sa(s=>{if(s instanceof QA)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof d0?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,Mn).pipe((0,be.U)(r=>this.createUrlTree(m_(r),e.queryParams,e.fragment))).pipe(sa(r=>{throw r instanceof d0?this.noMatchError(r):r}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,i){const r=e.segments.length>0?new bn([],{[Mn]:e}):e;return new $h(r,t,i)}expandSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(e,t,i).pipe((0,be.U)(s=>new bn([],s))):this.expandSegment(e,i,t,i.segments,r,!0)}expandChildren(e,t,i){const r=[];for(const s of Object.keys(i.children))"primary"===s?r.unshift(s):r.push(s);return(0,x.D)(r).pipe(jh(s=>{const c=i.children[s],h=WA(t,s);return this.expandSegmentGroup(e,h,c,s).pipe((0,be.U)(p=>({segment:p,outlet:s})))}),sr((s,c)=>(s[c.outlet]=c.segment,s),{}),function QC(n,e){const t=arguments.length>=2;return i=>i.pipe(n?ii((r,s)=>n(r,s,i)):C.y,Fv(1),t?So(e):Di(()=>new di))}())}expandSegment(e,t,i,r,s,c){return(0,x.D)(i).pipe(jh(h=>this.expandSegmentAgainstRoute(e,t,i,h,r,s,c).pipe(sa(_=>{if(_ instanceof d0)return N(null);throw _}))),R(h=>!!h),sa((h,p)=>{if(h instanceof di||"EmptyError"===h.name)return KA(t,r,s)?N(new bn([],{})):p_(t);throw h}))}expandSegmentAgainstRoute(e,t,i,r,s,c,h){return YA(r,t,s,c)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,t,r,s,c):h&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,i,r,s,c):p_(t):p_(t)}expandSegmentAgainstRouteUsingRedirect(e,t,i,r,s,c){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,i,r,c):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,s,c)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,i,r){const s=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?JA(s):this.lineralizeSegments(i,s).pipe((0,Zr.z)(c=>{const h=new bn(c,{});return this.expandSegment(e,h,t,c,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,s,c){const{matched:h,consumedSegments:p,remainingSegments:_,positionalParamSegments:T}=l0(t,r,s);if(!h)return p_(t);const S=this.applyRedirectCommands(p,r.redirectTo,T);return r.redirectTo.startsWith("/")?JA(S):this.lineralizeSegments(r,S).pipe((0,Zr.z)(P=>this.expandSegment(e,t,i,P.concat(_),c,!1)))}matchSegmentAgainstRoute(e,t,i,r,s){if("**"===i.path)return i.loadChildren?(i._loadedConfig?N(i._loadedConfig):this.configLoader.load(e.injector,i)).pipe((0,be.U)(S=>(i._loadedConfig=S,new bn(r,{})))):N(new bn(r,{}));const{matched:c,consumedSegments:h,remainingSegments:p}=l0(t,i,r);return c?this.getChildConfig(e,i,r).pipe((0,Zr.z)(T=>{const S=T.module,P=T.routes,{segmentGroup:H,slicedSegments:q}=Up(t,h,p,P),ae=new bn(H.segments,H.children);if(0===q.length&&ae.hasChildren())return this.expandChildren(S,P,ae).pipe((0,be.U)(yt=>new bn(h,yt)));if(0===P.length&&0===q.length)return N(new bn(h,{}));const Ce=aa(i)===s;return this.expandSegment(S,ae,P,q,Ce?Mn:s,!0).pipe((0,be.U)(_t=>new bn(h.concat(_t.segments),_t.children)))})):p_(t)}getChildConfig(e,t,i){return t.children?N(new r0(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?N(t._loadedConfig):this.runCanLoadGuards(e.injector,t,i).pipe((0,Zr.z)(r=>r?this.configLoader.load(e.injector,t).pipe((0,be.U)(s=>(t._loadedConfig=s,s))):function yN(n){return Ip(Hv(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))}(t))):N(new r0([],e))}runCanLoadGuards(e,t,i){const r=t.canLoad;return r&&0!==r.length?N(r.map(c=>{const h=e.get(c);let p;if(function EE(n){return n&&Gl(n.canLoad)}(h))p=h.canLoad(t,i);else{if(!Gl(h))throw new Error("Invalid CanLoad guard");p=h(t,i)}return Yr(p)})).pipe(Mu(),(0,br.b)(c=>{if(!Vc(c))return;const h=Hv(`Redirecting to "${this.urlSerializer.serialize(c)}"`);throw h.url=c,h}),(0,be.U)(c=>!0===c)):N(!0)}lineralizeSegments(e,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return N(i);if(r.numberOfChildren>1||!r.children[Mn])return Ip(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e.redirectTo}'`));r=r.children[Mn]}}applyRedirectCommands(e,t,i){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,i)}applyRedirectCreatreUrlTree(e,t,i,r){const s=this.createSegmentGroup(e,t.root,i,r);return new $h(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const i={};return Us(e,(r,s)=>{if("string"==typeof r&&r.startsWith(":")){const h=r.substring(1);i[s]=t[h]}else i[s]=r}),i}createSegmentGroup(e,t,i,r){const s=this.createSegments(e,t.segments,i,r);let c={};return Us(t.children,(h,p)=>{c[p]=this.createSegmentGroup(e,h,i,r)}),new bn(s,c)}createSegments(e,t,i,r){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,r):this.findOrReturn(s,i))}findPosParam(e,t,i){const r=i[t.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return r}findOrReturn(e,t){let i=0;for(const r of t){if(r.path===e.path)return t.splice(i),r;i++}return e}}function m_(n){const e={};for(const i of Object.keys(n.children)){const s=m_(n.children[i]);(s.segments.length>0||s.hasChildren())&&(e[i]=s)}return function XA(n){if(1===n.numberOfChildren&&n.children[Mn]){const e=n.children[Mn];return new bn(n.segments.concat(e.segments),e.children)}return n}(new bn(n.segments,e))}class p0{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class qh{constructor(e,t){this.component=e,this.route=t}}function eM(n,e,t){const i=n._root;return Od(i,e?e._root:null,t,[i.value])}function Hp(n,e,t){const i=function tM(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(i?i.module.injector:t).get(n)}function Od(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=Fc(e);return n.children.forEach(c=>{(function nM(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,c=e?e.value:null,h=t?t.getContext(n.value.outlet):null;if(c&&s.routeConfig===c.routeConfig){const p=function AE(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Md(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Md(n.url,e.url)||!co(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Lp(n,e)||!co(n.queryParams,e.queryParams);default:return!Lp(n,e)}}(c,s,s.routeConfig.runGuardsAndResolvers);p?r.canActivateChecks.push(new p0(i)):(s.data=c.data,s._resolvedData=c._resolvedData),Od(n,e,s.component?h?h.children:null:t,i,r),p&&h&&h.outlet&&h.outlet.isActivated&&r.canDeactivateChecks.push(new qh(h.outlet.component,c))}else c&&jp(e,h,r),r.canActivateChecks.push(new p0(i)),Od(n,null,s.component?h?h.children:null:t,i,r)})(c,s[c.value.outlet],t,i.concat([c.value]),r),delete s[c.value.outlet]}),Us(s,(c,h)=>jp(c,t.getContext(h),r)),r}function jp(n,e,t){const i=Fc(n),r=n.value;Us(i,(s,c)=>{jp(s,r.component?e?e.children.getContext(c):null:e,t)}),t.canDeactivateChecks.push(new qh(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}class ME{}function g0(n){return new G.y(e=>e.error(n))}class y0{constructor(e,t,i,r,s,c){this.rootComponentType=e,this.config=t,this.urlTree=i,this.url=r,this.paramsInheritanceStrategy=s,this.relativeLinkResolution=c}recognize(){const e=Up(this.urlTree.root,[],[],this.config.filter(c=>void 0===c.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,Mn);if(null===t)return null;const i=new o_([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Mn,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new jl(i,t),s=new Qv(this.url,r);return this.inheritParamsAndData(s._root),s}inheritParamsAndData(e){const t=e.value,i=s_(t,this.paramsInheritanceStrategy);t.params=Object.freeze(i.params),t.data=Object.freeze(i.data),e.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(e,t,i){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,i)}processChildren(e,t){const i=[];for(const s of Object.keys(t.children)){const c=t.children[s],h=WA(e,s),p=this.processSegmentGroup(h,c,s);if(null===p)return null;i.push(...p)}const r=v0(i);return function xE(n){n.sort((e,t)=>e.value.outlet===Mn?-1:t.value.outlet===Mn?1:e.value.outlet.localeCompare(t.value.outlet))}(r),r}processSegment(e,t,i,r){for(const s of e){const c=this.processSegmentAgainstRoute(s,t,i,r);if(null!==c)return c}return KA(t,i,r)?[]:null}processSegmentAgainstRoute(e,t,i,r){if(e.redirectTo||!YA(e,t,i,r))return null;let s,c=[],h=[];if("**"===e.path){const H=i.length>0?NA(i).parameters:{};s=new o_(i,H,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,kE(e),aa(e),e.component,e,b0(t),w0(t)+i.length,C0(e))}else{const H=l0(t,e,i);if(!H.matched)return null;c=H.consumedSegments,h=H.remainingSegments,s=new o_(c,H.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,kE(e),aa(e),e.component,e,b0(t),w0(t)+c.length,C0(e))}const p=function g_(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(e),{segmentGroup:_,slicedSegments:T}=Up(t,c,h,p.filter(H=>void 0===H.redirectTo),this.relativeLinkResolution);if(0===T.length&&_.hasChildren()){const H=this.processChildren(p,_);return null===H?null:[new jl(s,H)]}if(0===p.length&&0===T.length)return[new jl(s,[])];const S=aa(e)===r,P=this.processSegment(p,_,T,S?Mn:r);return null===P?null:[new jl(s,P)]}}function sM(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function v0(n){const e=[],t=new Set;for(const i of n){if(!sM(i)){e.push(i);continue}const r=e.find(s=>i.value.routeConfig===s.value.routeConfig);void 0!==r?(r.children.push(...i.children),t.add(r)):e.push(i)}for(const i of t){const r=v0(i.children);e.push(new jl(i.value,r))}return e.filter(i=>!t.has(i))}function b0(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function w0(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function kE(n){return n.data||{}}function C0(n){return n.resolve||{}}function RE(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function OE(n){return We(e=>{const t=n(e);return t?(0,x.D)(t).pipe((0,be.U)(()=>e)):N(e)})}class cM extends class bN{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const zp=new a.OlP("ROUTES");class E0{constructor(e,t,i,r){this.injector=e,this.compiler=t,this.onLoadStartListener=i,this.onLoadEndListener=r}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const r=this.loadModuleFactory(t.loadChildren).pipe((0,be.U)(s=>{this.onLoadEndListener&&this.onLoadEndListener(t);const c=s.create(e);return new r0(OA(c.injector.get(zp,void 0,a.XFs.Self|a.XFs.Optional)).map(a0),c)}),sa(s=>{throw t._loader$=void 0,s}));return t._loader$=new Pv(r,()=>new I.x).pipe(Bs()),t._loader$}loadModuleFactory(e){return Yr(e()).pipe((0,Zr.z)(t=>t instanceof a.YKP?N(t):(0,x.D)(this.compiler.compileModuleAsync(t))))}}class dM{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function hM(n){throw n}function PE(n,e,t){return e.parse("/")}function FE(n,e){return N(null)}const LE={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},fM={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Kr=(()=>{class n{constructor(t,i,r,s,c,h,p){this.rootComponentType=t,this.urlSerializer=i,this.rootContexts=r,this.location=s,this.config=p,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new I.x,this.errorHandler=hM,this.malformedUriErrorHandler=PE,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:FE,afterPreactivation:FE},this.urlHandlingStrategy=new dM,this.routeReuseStrategy=new cM,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=c.get(a.h0i),this.console=c.get(a.c2e);const S=c.get(a.R0b);this.isNgZoneEnabled=S instanceof a.R0b&&a.R0b.isInAngularZone(),this.resetConfig(p),this.currentUrlTree=function jv(){return new $h(new bn([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new E0(c,h,P=>this.triggerEvent(new Ap(P)),P=>this.triggerEvent(new XC(P))),this.routerState=Yv(this.currentUrlTree,this.rootComponentType),this.transitions=new Wr({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const i=this.events;return t.pipe(ii(r=>0!==r.id),(0,be.U)(r=>Object.assign(Object.assign({},r),{extractedUrl:this.urlHandlingStrategy.extract(r.rawUrl)})),We(r=>{let s=!1,c=!1;return N(r).pipe((0,br.b)(h=>{this.currentNavigation={id:h.id,initialUrl:h.currentRawUrl,extractedUrl:h.extractedUrl,trigger:h.source,extras:h.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),We(h=>{const p=this.browserUrlTree.toString(),_=!this.navigated||h.extractedUrl.toString()!==p||p!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||_)&&this.urlHandlingStrategy.shouldProcessUrl(h.rawUrl))return T0(h.source)&&(this.browserUrlTree=h.extractedUrl),N(h).pipe(We(S=>{const P=this.transitions.getValue();return i.next(new Jg(S.id,this.serializeUrl(S.extractedUrl),S.source,S.restoredState)),P!==this.transitions.getValue()?Hh.E:Promise.resolve(S)}),function f0(n,e,t,i){return We(r=>function xu(n,e,t,i,r){return new h0(n,e,t,i,r).apply()}(n,e,t,r.extractedUrl,i).pipe((0,be.U)(s=>Object.assign(Object.assign({},r),{urlAfterRedirects:s}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,br.b)(S=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:S.urlAfterRedirects})}),function oM(n,e,t,i,r){return(0,Zr.z)(s=>function _0(n,e,t,i,r="emptyOnly",s="legacy"){try{const c=new y0(n,e,t,i,r,s).recognize();return null===c?g0(new ME):N(c)}catch(c){return g0(c)}}(n,e,s.urlAfterRedirects,t(s.urlAfterRedirects),i,r).pipe((0,be.U)(c=>Object.assign(Object.assign({},s),{targetSnapshot:c}))))}(this.rootComponentType,this.config,S=>this.serializeUrl(S),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,br.b)(S=>{if("eager"===this.urlUpdateStrategy){if(!S.extras.skipLocationChange){const H=this.urlHandlingStrategy.merge(S.urlAfterRedirects,S.rawUrl);this.setBrowserUrl(H,S)}this.browserUrlTree=S.urlAfterRedirects}const P=new CA(S.id,this.serializeUrl(S.extractedUrl),this.serializeUrl(S.urlAfterRedirects),S.targetSnapshot);i.next(P)}));if(_&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:P,extractedUrl:H,source:q,restoredState:ae,extras:Ce}=h,pt=new Jg(P,this.serializeUrl(H),q,ae);i.next(pt);const _t=Yv(H,this.rootComponentType).snapshot;return N(Object.assign(Object.assign({},h),{targetSnapshot:_t,urlAfterRedirects:H,extras:Object.assign(Object.assign({},Ce),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=h.rawUrl,h.resolve(null),Hh.E}),OE(h=>{const{targetSnapshot:p,id:_,extractedUrl:T,rawUrl:S,extras:{skipLocationChange:P,replaceUrl:H}}=h;return this.hooks.beforePreactivation(p,{navigationId:_,appliedUrlTree:T,rawUrlTree:S,skipLocationChange:!!P,replaceUrl:!!H})}),(0,br.b)(h=>{const p=new EA(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(h.urlAfterRedirects),h.targetSnapshot);this.triggerEvent(p)}),(0,be.U)(h=>Object.assign(Object.assign({},h),{guards:eM(h.targetSnapshot,h.currentSnapshot,this.rootContexts)})),function iM(n,e){return(0,Zr.z)(t=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:c}}=t;return 0===c.length&&0===s.length?N(Object.assign(Object.assign({},t),{guardsResult:!0})):function Gp(n,e,t,i){return(0,x.D)(n).pipe((0,Zr.z)(r=>function rM(n,e,t,i,r){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?N(s.map(h=>{const p=Hp(h,e,r);let _;if(function TE(n){return n&&Gl(n.canDeactivate)}(p))_=Yr(p.canDeactivate(n,e,t,i));else{if(!Gl(p))throw new Error("Invalid CanDeactivate guard");_=Yr(p(n,e,t,i))}return _.pipe(R())})).pipe(Mu()):N(!0)}(r.component,r.route,t,e,i)),R(r=>!0!==r,!0))}(c,i,r,n).pipe((0,Zr.z)(h=>h&&function Lc(n){return"boolean"==typeof n}(h)?function Wh(n,e,t,i){return(0,x.D)(e).pipe(jh(r=>Nv(function Zh(n,e){return null!==n&&e&&e(new IA(n)),N(!0)}(r.route.parent,i),function m0(n,e){return null!==n&&e&&e(new AA(n)),N(!0)}(r.route,i),function Yh(n,e,t){const i=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(c=>function ku(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(c)).filter(c=>null!==c).map(c=>YC(()=>N(c.guards.map(p=>{const _=Hp(p,c.node,t);let T;if(function mN(n){return n&&Gl(n.canActivateChild)}(_))T=Yr(_.canActivateChild(i,n));else{if(!Gl(_))throw new Error("Invalid CanActivateChild guard");T=Yr(_(i,n))}return T.pipe(R())})).pipe(Mu())));return N(s).pipe(Mu())}(n,r.path,t),function $p(n,e,t){const i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||0===i.length)return N(!0);const r=i.map(s=>YC(()=>{const c=Hp(s,e,t);let h;if(function s0(n){return n&&Gl(n.canActivate)}(c))h=Yr(c.canActivate(e,n));else{if(!Gl(c))throw new Error("Invalid CanActivate guard");h=Yr(c(e,n))}return h.pipe(R())}));return N(r).pipe(Mu())}(n,r.route,t))),R(r=>!0!==r,!0))}(i,s,n,e):N(h)),(0,be.U)(h=>Object.assign(Object.assign({},t),{guardsResult:h})))})}(this.ngModule.injector,h=>this.triggerEvent(h)),(0,br.b)(h=>{if(Vc(h.guardsResult)){const _=Hv(`Redirecting to "${this.serializeUrl(h.guardsResult)}"`);throw _.url=h.guardsResult,_}const p=new Bv(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(h.urlAfterRedirects),h.targetSnapshot,!!h.guardsResult);this.triggerEvent(p)}),ii(h=>!!h.guardsResult||(this.restoreHistory(h),this.cancelNavigationTransition(h,""),!1)),OE(h=>{if(h.guards.canActivateChecks.length)return N(h).pipe((0,br.b)(p=>{const _=new TA(p.id,this.serializeUrl(p.extractedUrl),this.serializeUrl(p.urlAfterRedirects),p.targetSnapshot);this.triggerEvent(_)}),We(p=>{let _=!1;return N(p).pipe(function aM(n,e){return(0,Zr.z)(t=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return N(t);let s=0;return(0,x.D)(r).pipe(jh(c=>function la(n,e,t,i){return function lM(n,e,t,i){const r=RE(n);if(0===r.length)return N({});const s={};return(0,x.D)(r).pipe((0,Zr.z)(c=>function vN(n,e,t,i){const r=Hp(n,e,i);return Yr(r.resolve?r.resolve(e,t):r(e,t))}(n[c],e,t,i).pipe((0,br.b)(h=>{s[c]=h}))),Fv(1),(0,Zr.z)(()=>RE(s).length===r.length?N(s):Hh.E))}(n._resolve,n,e,i).pipe((0,be.U)(s=>(n._resolvedData=s,n.data=Object.assign(Object.assign({},n.data),s_(n,t).resolve),null)))}(c.route,i,n,e)),(0,br.b)(()=>s++),Fv(1),(0,Zr.z)(c=>s===r.length?N(t):Hh.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,br.b)({next:()=>_=!0,complete:()=>{_||(this.restoreHistory(p),this.cancelNavigationTransition(p,"At least one route resolver didn't emit any value."))}}))}),(0,br.b)(p=>{const _=new DA(p.id,this.serializeUrl(p.extractedUrl),this.serializeUrl(p.urlAfterRedirects),p.targetSnapshot);this.triggerEvent(_)}))}),OE(h=>{const{targetSnapshot:p,id:_,extractedUrl:T,rawUrl:S,extras:{skipLocationChange:P,replaceUrl:H}}=h;return this.hooks.afterPreactivation(p,{navigationId:_,appliedUrlTree:T,rawUrlTree:S,skipLocationChange:!!P,replaceUrl:!!H})}),(0,be.U)(h=>{const p=function mE(n,e,t){const i=l_(n,e._root,t?t._root:void 0);return new Pp(i,e)}(this.routeReuseStrategy,h.targetSnapshot,h.currentRouterState);return Object.assign(Object.assign({},h),{targetRouterState:p})}),(0,br.b)(h=>{this.currentUrlTree=h.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(h.urlAfterRedirects,h.rawUrl),this.routerState=h.targetRouterState,"deferred"===this.urlUpdateStrategy&&(h.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,h),this.browserUrlTree=h.urlAfterRedirects)}),((n,e,t)=>(0,be.U)(i=>(new tl(e,i.targetRouterState,i.currentRouterState,t).activate(n),i)))(this.rootContexts,this.routeReuseStrategy,h=>this.triggerEvent(h)),(0,br.b)({next(){s=!0},complete(){s=!0}}),function Lv(n){return(0,ni.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}(()=>{var h;s||c||this.cancelNavigationTransition(r,`Navigation ID ${r.id} is not equal to the current navigation id ${this.navigationId}`),(null===(h=this.currentNavigation)||void 0===h?void 0:h.id)===r.id&&(this.currentNavigation=null)}),sa(h=>{if(c=!0,function tE(n){return n&&n[eE]}(h)){const p=Vc(h.url);p||(this.navigated=!0,this.restoreHistory(r,!0));const _=new JC(r.id,this.serializeUrl(r.extractedUrl),h.message);i.next(_),p?setTimeout(()=>{const T=this.urlHandlingStrategy.merge(h.url,this.rawUrlTree),S={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||T0(r.source)};this.scheduleNavigation(T,"imperative",null,S,{resolve:r.resolve,reject:r.reject,promise:r.promise})},0):r.resolve(!1)}else{this.restoreHistory(r,!0);const p=new Vv(r.id,this.serializeUrl(r.extractedUrl),h);i.next(p);try{r.resolve(this.errorHandler(h))}catch(_){r.reject(_)}}return Hh.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const i="popstate"===t.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{var r;const s={replaceUrl:!0},c=(null===(r=t.state)||void 0===r?void 0:r.navigationId)?t.state:null;if(c){const p=Object.assign({},c);delete p.navigationId,delete p.\u0275routerPageId,0!==Object.keys(p).length&&(s.state=p)}const h=this.parseUrl(t.url);this.scheduleNavigation(h,i,c,s)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){DE(t),this.config=t.map(a0),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,i={}){const{relativeTo:r,queryParams:s,fragment:c,queryParamsHandling:h,preserveFragment:p}=i,_=r||this.routerState.root,T=p?this.currentUrlTree.fragment:c;let S=null;switch(h){case"merge":S=Object.assign(Object.assign({},this.currentUrlTree.queryParams),s);break;case"preserve":S=this.currentUrlTree.queryParams;break;default:S=s||null}return null!==S&&(S=this.removeEmptyProps(S)),function _E(n,e,t,i,r){if(0===t.length)return oa(e.root,e.root,e.root,i,r);const s=function UA(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Xv(!0,0,n);let e=0,t=!1;const i=n.reduce((r,s,c)=>{if("object"==typeof s&&null!=s){if(s.outlets){const h={};return Us(s.outlets,(p,_)=>{h[_]="string"==typeof p?p.split("/"):p}),[...r,{outlets:h}]}if(s.segmentPath)return[...r,s.segmentPath]}return"string"!=typeof s?[...r,s]:0===c?(s.split("/").forEach((h,p)=>{0==p&&"."===h||(0==p&&""===h?t=!0:".."===h?e++:""!=h&&r.push(h))}),r):[...r,s]},[]);return new Xv(t,e,i)}(t);if(s.toRoot())return oa(e.root,e.root,new bn([],{}),i,r);const c=function HA(n,e,t){if(n.isAbsolute)return new e0(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const s=t.snapshot._urlSegment;return new e0(s,s===e.root,0)}const i=c_(n.commands[0])?0:1;return function jA(n,e,t){let i=n,r=e,s=t;for(;s>r;){if(s-=r,i=i.parent,!i)throw new Error("Invalid number of '../'");r=i.segments.length}return new e0(i,!1,r-s)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+i,n.numberOfDoubleDots)}(s,e,n),h=c.processChildren?u_(c.segmentGroup,c.index,s.commands):bE(c.segmentGroup,c.index,s.commands);return oa(e.root,c.segmentGroup,h,i,r)}(_,this.currentUrlTree,t,S,null!=T?T:null)}navigateByUrl(t,i={skipLocationChange:!1}){const r=Vc(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,i)}navigate(t,i={skipLocationChange:!1}){return function VE(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let i;try{i=this.urlSerializer.parse(t)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,t)}return i}isActive(t,i){let r;if(r=!0===i?Object.assign({},LE):!1===i?Object.assign({},fM):i,Vc(t))return $v(this.currentUrlTree,t,r);const s=this.parseUrl(t);return $v(this.currentUrlTree,s,r)}removeEmptyProps(t){return Object.keys(t).reduce((i,r)=>{const s=t[r];return null!=s&&(i[r]=s),i},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new Sp(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,i,r,s,c){var h,p;if(this.disposed)return Promise.resolve(!1);let _,T,S;c?(_=c.resolve,T=c.reject,S=c.promise):S=new Promise((q,ae)=>{_=q,T=ae});const P=++this.navigationId;let H;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(r=this.location.getState()),H=r&&r.\u0275routerPageId?r.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?null!==(h=this.browserPageId)&&void 0!==h?h:0:(null!==(p=this.browserPageId)&&void 0!==p?p:0)+1):H=0,this.setTransition({id:P,targetPageId:H,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:s,resolve:_,reject:T,promise:S,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),S.catch(q=>Promise.reject(q))}setBrowserUrl(t,i){const r=this.urlSerializer.serialize(t),s=Object.assign(Object.assign({},i.extras.state),this.generateNgRouterState(i.id,i.targetPageId));this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",s):this.location.go(r,"",s)}restoreHistory(t,i=!1){var r,s;if("computed"===this.canceledNavigationResolution){const c=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(r=this.currentNavigation)||void 0===r?void 0:r.finalUrl)||0===c?this.currentUrlTree===(null===(s=this.currentNavigation)||void 0===s?void 0:s.finalUrl)&&0===c&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(c)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,i){const r=new JC(t.id,this.serializeUrl(t.extractedUrl),i);this.triggerEvent(r),t.resolve(!1)}generateNgRouterState(t,i){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}}return n.\u0275fac=function(t){a.$Z()},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();function T0(n){return"imperative"!==n}let D0=(()=>{class n{constructor(t,i,r,s,c){this.router=t,this.route=i,this.tabIndexAttribute=r,this.renderer=s,this.el=c,this.commands=null,this.onChanges=new I.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){if(null!=this.tabIndexAttribute)return;const i=this.renderer,r=this.el.nativeElement;null!==t?i.setAttribute(r,"tabindex",t):i.removeAttribute(r,"tabindex")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const t={skipLocationChange:Ru(this.skipLocationChange),replaceUrl:Ru(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Ru(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(Kr),a.Y36(kd),a.$8M("tabindex"),a.Y36(a.Qsj),a.Y36(a.SBq))},n.\u0275dir=a.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,i){1&t&&a.NdJ("click",function(){return i.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[a.TTD]}),n})(),Hs=(()=>{class n{constructor(t,i,r){this.router=t,this.route=i,this.locationStrategy=r,this.commands=null,this.href=null,this.onChanges=new I.x,this.subscription=t.events.subscribe(s=>{s instanceof Sp&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:null}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,i,r,s,c){if(0!==t||i||r||s||c||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const h={skipLocationChange:Ru(this.skipLocationChange),replaceUrl:Ru(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,h),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Ru(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(Kr),a.Y36(kd),a.Y36(Oe))},n.\u0275dir=a.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,i){1&t&&a.NdJ("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&t&&a.uIk("target",i.target)("href",i.href,a.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[a.TTD]}),n})();function Ru(n){return""===n||!!n}let BE=(()=>{class n{constructor(t,i,r,s,c,h){this.router=t,this.element=i,this.renderer=r,this.cdr=s,this.link=c,this.linkWithHref=h,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new a.vpe,this.routerEventsSubscription=t.events.subscribe(p=>{p instanceof Sp&&this.update()})}ngAfterContentInit(){N(this.links.changes,this.linksWithHrefs.changes,N(null)).pipe((0,Qg.J)()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var t;null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe();const i=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=(0,x.D)(i).pipe((0,Qg.J)()).subscribe(r=>{this.isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(t){const i=Array.isArray(t)?t:t.split(" ");this.classes=i.filter(r=>!!r)}ngOnChanges(t){this.update()}ngOnDestroy(){var t;this.routerEventsSubscription.unsubscribe(),null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const t=this.hasActiveLinks();this.isActive!==t&&(this.isActive=t,this.cdr.markForCheck(),this.classes.forEach(i=>{t?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),this.isActiveChange.emit(t))})}isLinkActive(t){const i=function pM(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return r=>!!r.urlTree&&t.isActive(r.urlTree,i)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.linkWithHref&&t(this.linkWithHref)||this.links.some(t)||this.linksWithHrefs.some(t)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(Kr),a.Y36(a.SBq),a.Y36(a.Qsj),a.Y36(a.sBO),a.Y36(D0,8),a.Y36(Hs,8))},n.\u0275dir=a.lG2({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(t,i,r){if(1&t&&(a.Suo(r,D0,5),a.Suo(r,Hs,5)),2&t){let s;a.iGM(s=a.CRH())&&(i.links=s),a.iGM(s=a.CRH())&&(i.linksWithHrefs=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[a.TTD]}),n})();class mM{}class HE{preload(e,t){return N(null)}}let jE=(()=>{class n{constructor(t,i,r,s){this.router=t,this.injector=r,this.preloadingStrategy=s,this.loader=new E0(r,i,p=>t.triggerEvent(new Ap(p)),p=>t.triggerEvent(new XC(p)))}setUpPreloading(){this.subscription=this.router.events.pipe(ii(t=>t instanceof Sp),jh(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(a.h0i);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){const r=[];for(const s of i)if(s.loadChildren&&!s.canLoad&&s._loadedConfig){const c=s._loadedConfig;r.push(this.processRoutes(c.module,c.routes))}else s.loadChildren&&!s.canLoad?r.push(this.preloadConfig(t,s)):s.children&&r.push(this.processRoutes(t,s.children));return(0,x.D)(r).pipe((0,Qg.J)(),(0,be.U)(s=>{}))}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>(i._loadedConfig?N(i._loadedConfig):this.loader.load(t.injector,i)).pipe((0,Zr.z)(s=>(i._loadedConfig=s,this.processRoutes(s.module,s.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Kr),a.LFG(a.Sil),a.LFG(a.zs3),a.LFG(mM))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),I0=(()=>{class n{constructor(t,i,r={}){this.router=t,this.viewportScroller=i,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Jg?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Sp&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Uv&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){this.router.triggerEvent(new Uv(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){a.$Z()},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const Nd=new a.OlP("ROUTER_CONFIGURATION"),$E=new a.OlP("ROUTER_FORROOT_GUARD"),__=[ce,{provide:sE,useClass:oE},{provide:Kr,useFactory:function gM(n,e,t,i,r,s,c={},h,p){const _=new Kr(null,n,e,t,i,r,OA(s));return h&&(_.urlHandlingStrategy=h),p&&(_.routeReuseStrategy=p),function x0(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(c,_),c.enableTracing&&_.events.subscribe(T=>{var S,P;null===(S=console.group)||void 0===S||S.call(console,`Router Event: ${T.constructor.name}`),console.log(T.toString()),console.log(T),null===(P=console.groupEnd)||void 0===P||P.call(console)}),_},deps:[sE,Rd,ce,a.zs3,a.Sil,zp,Nd,[class uM{},new a.FiY],[class NE{},new a.FiY]]},Rd,{provide:kd,useFactory:function wN(n){return n.routerState.root},deps:[Kr]},jE,HE,class UE{preload(e,t){return t().pipe(sa(()=>N(null)))}},{provide:Nd,useValue:{enableTracing:!1}}];function S0(){return new a.PXZ("Router",Kr)}let zE=(()=>{class n{constructor(t,i){}static forRoot(t,i){return{ngModule:n,providers:[__,WE(t),{provide:$E,useFactory:qE,deps:[[Kr,new a.FiY,new a.tp0]]},{provide:Nd,useValue:i||{}},{provide:Oe,useFactory:M0,deps:[Te,[new a.tBr(gt),new a.FiY],Nd]},{provide:I0,useFactory:A0,deps:[Kr,mu,Nd]},{provide:mM,useExisting:i&&i.preloadingStrategy?i.preloadingStrategy:HE},{provide:a.PXZ,multi:!0,useFactory:S0},[k0,{provide:a.ip1,multi:!0,useFactory:ZE,deps:[k0]},{provide:R0,useFactory:YE,deps:[k0]},{provide:a.tb,multi:!0,useExisting:R0}]]}}static forChild(t){return{ngModule:n,providers:[WE(t)]}}}return n.\u0275fac=function(t){return new(t||n)(a.LFG($E,8),a.LFG(Kr,8))},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})();function A0(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new I0(n,e,t)}function M0(n,e,t={}){return t.useHash?new je(n,e):new Je(n,e)}function qE(n){return"guarded"}function WE(n){return[{provide:a.deG,multi:!0,useValue:n},{provide:zp,multi:!0,useValue:n}]}let k0=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new I.x}appInitializer(){return this.injector.get(re,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let i=null;const r=new Promise(h=>i=h),s=this.injector.get(Kr),c=this.injector.get(Nd);return"disabled"===c.initialNavigation?(s.setUpLocationChangeListener(),i(!0)):"enabled"===c.initialNavigation||"enabledBlocking"===c.initialNavigation?(s.hooks.afterPreactivation=()=>this.initNavigation?N(null):(this.initNavigation=!0,i(!0),this.resultOfPreactivationDone),s.initialNavigation()):i(!0),r})}bootstrapListener(t){const i=this.injector.get(Nd),r=this.injector.get(jE),s=this.injector.get(I0),c=this.injector.get(Kr),h=this.injector.get(a.z2F);t===h.components[0]&&(("enabledNonBlocking"===i.initialNavigation||void 0===i.initialNavigation)&&c.initialNavigation(),r.setUpPreloading(),s.init(),c.resetRootComponentType(h.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(a.zs3))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();function ZE(n){return n.appInitializer.bind(n)}function YE(n){return n.bootstrapListener.bind(n)}const R0=new a.OlP("Router Initializer");var ca=$(4986);function Kh(){return(0,ni.e)((n,e)=>{let t,i=!1;n.subscribe((0,gi.x)(e,r=>{const s=t;t=r,i&&e.next([s,r]),i=!0}))})}function y_(n,e=C.y){return n=null!=n?n:yM,(0,ni.e)((t,i)=>{let r,s=!0;t.subscribe((0,gi.x)(i,c=>{const h=e(c);(s||!n(r,h))&&(s=!1,r=h,i.next(c))}))})}function yM(n,e){return n===e}$(5881);var Et,Qh=$(3942),QE="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},nl={},O0=O0||{},nn=QE||self;function qp(){}function v_(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Jh(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var Wp="closure_uid_"+(1e9*Math.random()>>>0),bM=0;function wM(n,e,t){return n.call.apply(n.bind,arguments)}function JE(n,e,t){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(e,r)}}return function(){return n.apply(e,arguments)}}function or(n,e,t){return(or=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?wM:JE).apply(null,arguments)}function Zp(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var i=t.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function Ts(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(i,r,s){for(var c=Array(arguments.length-2),h=2;h<arguments.length;h++)c[h-2]=arguments[h];return e.prototype[r].apply(i,c)}}function Ou(){this.s=this.s,this.o=this.o}var CM={};Ou.prototype.s=!1,Ou.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function vM(n){return Object.prototype.hasOwnProperty.call(n,Wp)&&n[Wp]||(n[Wp]=++bM)}(this);delete CM[n]}},Ou.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const XE=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},eT=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const i=n.length,r="string"==typeof n?n.split(""):n;for(let s=0;s<i;s++)s in r&&e.call(t,r[s],s,n)};function il(n){return Array.prototype.concat.apply([],arguments)}function Yp(n){const e=n.length;if(0<e){const t=Array(e);for(let i=0;i<e;i++)t[i]=n[i];return t}return[]}function Kp(n){return/^[\s\xa0]*$/.test(n)}var uo,N0=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function js(n,e){return-1!=n.indexOf(e)}function b_(n,e){return n<e?-1:n>e?1:0}e:{var tT=nn.navigator;if(tT){var nT=tT.userAgent;if(nT){uo=nT;break e}}uo=""}function P0(n,e,t){for(const i in n)e.call(t,n[i],i,n)}function F0(n){const e={};for(const t in n)e[t]=n[t];return e}var TM="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function L0(n,e){let t,i;for(let r=1;r<arguments.length;r++){for(t in i=arguments[r],i)n[t]=i[t];for(let s=0;s<TM.length;s++)t=TM[s],Object.prototype.hasOwnProperty.call(i,t)&&(n[t]=i[t])}}function V0(n){return V0[" "](n),n}V0[" "]=qp;var Oo,n,CN=js(uo,"Opera"),Qp=js(uo,"Trident")||js(uo,"MSIE"),w_=js(uo,"Edge"),B0=w_||Qp,U0=js(uo,"Gecko")&&!(js(uo.toLowerCase(),"webkit")&&!js(uo,"Edge"))&&!(js(uo,"Trident")||js(uo,"MSIE"))&&!js(uo,"Edge"),iT=js(uo.toLowerCase(),"webkit")&&!js(uo,"Edge");function IM(){var n=nn.document;return n?n.documentMode:void 0}e:{var rT="",sT=(n=uo,U0?/rv:([^\);]+)(\)|;)/.exec(n):w_?/Edge\/([\d\.]+)/.exec(n):Qp?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):iT?/WebKit\/(\S+)/.exec(n):CN?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(sT&&(rT=sT?sT[1]:""),Qp){var C_=IM();if(null!=C_&&C_>parseFloat(rT)){Oo=String(C_);break e}}Oo=rT}var oT={};var lT=nn.document&&Qp&&(IM()||parseInt(Oo,10))||void 0,j0=function(){if(!nn.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{nn.addEventListener("test",qp,e),nn.removeEventListener("test",qp,e)}catch(t){}return n}();function Gs(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function Pd(n,e){if(Gs.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(U0){e:{try{V0(e.nodeName);var r=!0;break e}catch(s){}r=!1}r||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:AM[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Pd.Z.h.call(this)}}Gs.prototype.h=function(){this.defaultPrevented=!0},Ts(Pd,Gs);var AM={2:"touch",3:"pen",4:"mouse"};Pd.prototype.h=function(){Pd.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Jp="closure_listenable_"+(1e6*Math.random()|0),MM=0;function xM(n,e,t,i,r){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!i,this.ia=r,this.key=++MM,this.ca=this.fa=!1}function E_(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function T_(n){this.src=n,this.g={},this.h=0}function ef(n,e){var t=e.type;if(t in n.g){var s,i=n.g[t],r=XE(i,e);(s=0<=r)&&Array.prototype.splice.call(i,r,1),s&&(E_(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function Nu(n,e,t,i){for(var r=0;r<n.length;++r){var s=n[r];if(!s.ca&&s.listener==e&&s.capture==!!t&&s.ia==i)return r}return-1}T_.prototype.add=function(n,e,t,i,r){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var c=Nu(n,e,i,r);return-1<c?(e=n[c],t||(e.fa=!1)):((e=new xM(e,this.src,s,!!i,r)).fa=t,n.push(e)),e};var G0="closure_lm_"+(1e6*Math.random()|0),Fd={};function cT(n,e,t,i,r){if(i&&i.once)return rl(n,e,t,i,r);if(Array.isArray(e)){for(var s=0;s<e.length;s++)cT(n,e[s],t,i,r);return null}return t=Fu(t),n&&n[Jp]?n.N(e,t,Jh(i)?!!i.capture:!!i,r):uT(n,e,t,!1,i,r)}function uT(n,e,t,i,r,s){if(!e)throw Error("Invalid event type");var c=Jh(r)?!!r.capture:!!r,h=No(n);if(h||(n[G0]=h=new T_(n)),(t=h.add(e,t,i,c,s)).proxy)return t;if(i=function $0(){var e=D_;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=i,i.src=n,i.listener=t,n.addEventListener)j0||(r=c),void 0===r&&(r=!1),n.addEventListener(e.toString(),i,r);else if(n.attachEvent)n.attachEvent(Pu(e.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return t}function rl(n,e,t,i,r){if(Array.isArray(e)){for(var s=0;s<e.length;s++)rl(n,e[s],t,i,r);return null}return t=Fu(t),n&&n[Jp]?n.O(e,t,Jh(i)?!!i.capture:!!i,r):uT(n,e,t,!0,i,r)}function tf(n,e,t,i,r){if(Array.isArray(e))for(var s=0;s<e.length;s++)tf(n,e[s],t,i,r);else i=Jh(i)?!!i.capture:!!i,t=Fu(t),n&&n[Jp]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=Nu(s=n.g[e],t,i,r))&&(E_(s[t]),Array.prototype.splice.call(s,t,1),0==s.length&&(delete n.g[e],n.h--))):n&&(n=No(n))&&(e=n.g[e.toString()],n=-1,e&&(n=Nu(e,t,i,r)),(t=-1<n?e[n]:null)&&ls(t))}function ls(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[Jp])ef(e.i,n);else{var t=n.type,i=n.proxy;e.removeEventListener?e.removeEventListener(t,i,n.capture):e.detachEvent?e.detachEvent(Pu(t),i):e.addListener&&e.removeListener&&e.removeListener(i),(t=No(e))?(ef(t,n),0==t.h&&(t.src=null,e[G0]=null)):E_(n)}}}function Pu(n){return n in Fd?Fd[n]:Fd[n]="on"+n}function D_(n,e){if(n.ca)n=!0;else{e=new Pd(e,this);var t=n.listener,i=n.ia||n.src;n.fa&&ls(n),n=t.call(i,e)}return n}function No(n){return(n=n[G0])instanceof T_?n:null}var Xp="__closure_events_fn_"+(1e9*Math.random()>>>0);function Fu(n){return"function"==typeof n?n:(n[Xp]||(n[Xp]=function(e){return n.handleEvent(e)}),n[Xp])}function Ji(){Ou.call(this),this.i=new T_(this),this.P=this,this.I=null}function ar(n,e){var t,i=n.I;if(i)for(t=[];i;i=i.I)t.push(i);if(n=n.P,i=e.type||e,"string"==typeof e)e=new Gs(e,n);else if(e instanceof Gs)e.target=e.target||n;else{var r=e;L0(e=new Gs(i,n),r)}if(r=!0,t)for(var s=t.length-1;0<=s;s--){var c=e.g=t[s];r=Bc(c,i,!0,e)&&r}if(r=Bc(c=e.g=n,i,!0,e)&&r,r=Bc(c,i,!1,e)&&r,t)for(s=0;s<t.length;s++)r=Bc(c=e.g=t[s],i,!1,e)&&r}function Bc(n,e,t,i){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var r=!0,s=0;s<e.length;++s){var c=e[s];if(c&&!c.ca&&c.capture==t){var h=c.listener,p=c.ia||c.src;c.fa&&ef(n.i,c),r=!1!==h.call(p,i)&&r}}return r&&!i.defaultPrevented}Ts(Ji,Ou),Ji.prototype[Jp]=!0,Ji.prototype.removeEventListener=function(n,e,t,i){tf(this,n,e,t,i)},Ji.prototype.M=function(){if(Ji.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],i=0;i<t.length;i++)E_(t[i]);delete n.g[e],n.h--}}this.I=null},Ji.prototype.N=function(n,e,t,i){return this.i.add(String(n),e,!1,t,i)},Ji.prototype.O=function(n,e,t,i){return this.i.add(String(n),e,!0,t,i)};var Lu=nn.JSON.stringify;function nf(){var n=z0;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var S_,Ld=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new sf,n=>n.reset());class sf{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function dT(n){nn.setTimeout(()=>{throw n},0)}function I_(n,e){S_||function hT(){var n=nn.Promise.resolve(void 0);S_=function(){n.then(fT)}}(),A_||(S_(),A_=!0),z0.add(n,e)}var A_=!1,z0=new class rf{constructor(){this.h=this.g=null}add(e,t){const i=Ld.get();i.set(e,t),this.h?this.h.next=i:this.g=i,this.h=i}};function fT(){for(var n;n=nf();){try{n.h.call(n.g)}catch(t){dT(t)}var e=Ld;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}A_=!1}function em(n,e){Ji.call(this),this.h=n||1,this.g=e||nn,this.j=or(this.kb,this),this.l=Date.now()}function M_(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function q0(n,e,t){if("function"==typeof n)t&&(n=or(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=or(n.handleEvent,n)}return 2147483647<Number(e)?-1:nn.setTimeout(n,e||0)}function W0(n){n.g=q0(()=>{n.g=null,n.i&&(n.i=!1,W0(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Ts(em,Ji),(Et=em.prototype).da=!1,Et.S=null,Et.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),ar(this,"tick"),this.da&&(M_(this),this.start()))}},Et.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Et.M=function(){em.Z.M.call(this),M_(this),delete this.g};class kM extends Ou{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:W0(this)}M(){super.M(),this.g&&(nn.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function af(n){Ou.call(this),this.h=n,this.g={}}Ts(af,Ou);var Z0=[];function pT(n,e,t,i){Array.isArray(t)||(t&&(Z0[0]=t.toString()),t=Z0);for(var r=0;r<t.length;r++){var s=cT(e,t[r],i||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function mT(n){P0(n.g,function(e,t){this.g.hasOwnProperty(t)&&ls(e)},n),n.g={}}function tm(){this.g=!0}function lf(n,e,t,i){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function EN(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var i=t[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var s=r[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var c=1;c<r.length;c++)r[c]=""}}}return Lu(t)}catch(h){return e}}(n,t)+(i?" "+i:"")})}af.prototype.M=function(){af.Z.M.call(this),mT(this)},af.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},tm.prototype.Aa=function(){this.g=!1},tm.prototype.info=function(){};var Vd={},x_=null;function cf(){return x_=x_||new Ji}function _T(n){Gs.call(this,Vd.Ma,n)}function k_(n){const e=cf();ar(e,new _T(e,n))}function NM(n,e){Gs.call(this,Vd.STAT_EVENT,n),this.stat=e}function Po(n){const e=cf();ar(e,new NM(e,n))}function yT(n,e){Gs.call(this,Vd.Na,n),this.size=e}function uf(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return nn.setTimeout(function(){n()},e)}Vd.Ma="serverreachability",Ts(_T,Gs),Vd.STAT_EVENT="statevent",Ts(NM,Gs),Vd.Na="timingevent",Ts(yT,Gs);var Y0={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},vT={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Vu(){}function K0(){}Vu.prototype.h=null;var Q0,nm={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function R_(){Gs.call(this,"d")}function df(){Gs.call(this,"c")}function im(){}function rm(n,e,t,i){this.l=n,this.j=e,this.m=t,this.X=i||1,this.V=new af(this),this.P=PM,this.W=new em(n=B0?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new wT}function wT(){this.i=null,this.g="",this.h=!1}Ts(R_,Gs),Ts(df,Gs),Ts(im,Vu),im.prototype.g=function(){return new XMLHttpRequest},im.prototype.i=function(){return{}},Q0=new im;var PM=45e3,J0={},O_={};function N_(n,e,t){n.K=1,n.v=am(Na(e)),n.s=t,n.U=!0,CT(n,null)}function CT(n,e){n.F=Date.now(),P_(n),n.A=Na(n.v);var t=n.A,i=n.X;Array.isArray(i)||(i=[String(i)]),ab(t.h,"t",i),n.C=0,t=n.l.H,n.h=new wT,n.g=Eb(n.l,t?e:null,!n.s),0<n.O&&(n.L=new kM(or(n.Ia,n,n.g),n.O)),pT(n.V,n.g,"readystatechange",n.gb),e=n.H?F0(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),k_(1),function RM(n,e,t,i,r,s){n.info(function(){if(n.g)if(s)for(var c="",h=s.split("&"),p=0;p<h.length;p++){var _=h[p].split("=");if(1<_.length){var T=_[0];_=_[1];var S=T.split("_");c=2<=S.length&&"type"==S[1]?c+(T+"=")+_+"&":c+(T+"=redacted&")}}else c=null;else c=s;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+"\n"+t+"\n"+c})}(n.j,n.u,n.A,n.m,n.X,n.s)}function X0(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function eb(n,e,t){let r,i=!0;for(;!n.I&&n.C<t.length;){if(r=tb(n,t),r==O_){4==e&&(n.o=4,Po(14),i=!1),lf(n.j,n.m,null,"[Incomplete Response]");break}if(r==J0){n.o=4,Po(15),lf(n.j,n.m,t,"[Invalid Chunk]"),i=!1;break}lf(n.j,n.m,r,null),B_(n,r)}X0(n)&&r!=O_&&r!=J0&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Po(16),i=!1),n.i=n.i&&i,i?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),vf(e),e.L=!0,Po(11))):(lf(n.j,n.m,t,"[Invalid Chunked Response]"),sl(n),V_(n))}function tb(n,e){var t=n.C,i=e.indexOf("\n",t);return-1==i?O_:(t=Number(e.substring(t,i)),isNaN(t)?J0:(i+=1)+t>e.length?O_:(e=e.substr(i,t),n.C=i+t,e))}function P_(n){n.Y=Date.now()+n.P,F_(n,n.P)}function F_(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=uf(or(n.eb,n),e)}function L_(n){n.B&&(nn.clearTimeout(n.B),n.B=null)}function V_(n){0==n.l.G||n.I||vb(n.l,n)}function sl(n){L_(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,M_(n.W),mT(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function B_(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||cb(t.i,n)))if(t.I=n.N,!n.J&&cb(t.i,n)&&3==t.G){try{var i=t.Ca.g.parse(e)}catch(_){i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0])e:if(t.u)t.ta=r[1],0<t.ta-t.U&&37500>r[2]&&t.N&&0==t.A&&!t.v&&(t.v=uf(or(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<n.F))break e;gm(t),W_(t)}mm(t),Po(18)}if(1>=xT(t.i)&&t.ka){try{t.ka()}catch(_){}t.ka=void 0}}else Uu(t,11)}else if((n.J||t.g==n)&&gm(t),!Kp(e))for(r=t.Ca.g.parse(e),e=0;e<r.length;e++){let _=r[e];if(t.U=_[0],_=_[1],2==t.G)if("c"==_[0]){t.J=_[1],t.la=_[2];const T=_[3];null!=T&&(t.ma=T,t.h.info("VER="+t.ma));const S=_[4];null!=S&&(t.za=S,t.h.info("SVER="+t.za));const P=_[5];null!=P&&"number"==typeof P&&0<P&&(t.K=i=1.5*P,t.h.info("backChannelRequestTimeoutMs_="+i)),i=t;const H=n.g;if(H){const q=H.g?H.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(q){var s=i.i;!s.g&&(js(q,"spdy")||js(q,"quic")||js(q,"h2"))&&(s.j=s.l,s.g=new Set,s.h&&(G_(s,s.h),s.h=null))}if(i.D){const ae=H.g?H.g.getResponseHeader("X-HTTP-Session-Id"):null;ae&&(i.sa=ae,Fi(i.F,i.D,ae))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var c=n;if((i=t).oa=Cb(i,i.H?i.la:null,i.W),c.J){kT(i.i,c);var h=c,p=i.K;p&&h.setTimeout(p),h.B&&(L_(h),P_(h)),i.g=c}else _b(i);0<t.l.length&&hm(t)}else"stop"!=_[0]&&"close"!=_[0]||Uu(t,7);else 3==t.G&&("stop"==_[0]||"close"==_[0]?"stop"==_[0]?Uu(t,7):jd(t):"noop"!=_[0]&&t.j&&t.j.wa(_),t.A=0)}k_(4)}catch(_){}}function sm(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(v_(n)||"string"==typeof n)eT(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(v_(n)||"string"==typeof n){t=[];for(var i=n.length,r=0;r<i;r++)t.push(r)}else for(r in t=[],i=0,n)t[i++]=r;i=function nb(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(v_(n)){for(var e=[],t=n.length,i=0;i<t;i++)e.push(n[i]);return e}for(i in e=[],t=0,n)e[t++]=n[i];return e}(n),r=i.length;for(var s=0;s<r;s++)e.call(void 0,i[s],t&&t[s],n)}}function hf(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var i=0;i<t;i+=2)this.set(arguments[i],arguments[i+1])}else if(n)if(n instanceof hf)for(t=n.T(),i=0;i<t.length;i++)this.set(t[i],n.get(t[i]));else for(i in n)this.set(i,n[i])}function ff(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var i=n.g[e];$l(n.h,i)&&(n.g[t++]=i),e++}n.g.length=t}if(n.i!=n.g.length){var r={};for(t=e=0;e<n.g.length;)$l(r,i=n.g[e])||(n.g[t++]=i,r[i]=1),e++;n.g.length=t}}function $l(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(Et=rm.prototype).setTimeout=function(n){this.P=n},Et.gb=function(n){n=n.target;const e=this.L;e&&3==Wl(n)?e.l():this.Ia(n)},Et.Ia=function(n){try{if(n==this.g)e:{const T=Wl(this.g);var e=this.g.Da();const S=this.g.ba();if(!(3>T)&&(3!=T||B0||this.g&&(this.h.h||this.g.ga()||PT(this.g)))){this.I||4!=T||7==e||k_(8==e||0>=S?3:2),L_(this);var t=this.g.ba();this.N=t;t:if(X0(this)){var i=PT(this.g);n="";var r=i.length,s=4==Wl(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){sl(this),V_(this);var c="";break t}this.h.i=new nn.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,n+=this.h.i.decode(i[e],{stream:s&&e==r-1});i.splice(0,r),this.h.g+=n,this.C=0,c=this.h.g}else c=this.g.ga();if(this.i=200==t,function gT(n,e,t,i,r,s,c){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+"\n"+t+"\n"+s+" "+c})}(this.j,this.u,this.A,this.m,this.X,T,t),this.i){if(this.$&&!this.J){t:{if(this.g){var h,p=this.g;if((h=p.g?p.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Kp(h)){var _=h;break t}}_=null}if(!(t=_)){this.i=!1,this.o=3,Po(12),sl(this),V_(this);break e}lf(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,B_(this,t)}this.U?(eb(this,T,c),B0&&this.i&&3==T&&(pT(this.V,this.W,"tick",this.fb),this.W.start())):(lf(this.j,this.m,c,null),B_(this,c)),4==T&&sl(this),this.i&&!this.I&&(4==T?vb(this.l,this):(this.i=!1,P_(this)))}else 400==t&&0<c.indexOf("Unknown SID")?(this.o=3,Po(12)):(this.o=0,Po(13)),sl(this),V_(this)}}}catch(T){}},Et.fb=function(){if(this.g){var n=Wl(this.g),e=this.g.ga();this.C<e.length&&(L_(this),eb(this,n,e),this.i&&4!=n&&P_(this))}},Et.cancel=function(){this.I=!0,sl(this)},Et.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function OM(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(k_(3),Po(17)),sl(this),this.o=2,V_(this)):F_(this,this.Y-n)},(Et=hf.prototype).R=function(){ff(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},Et.T=function(){return ff(this),this.g.concat()},Et.get=function(n,e){return $l(this.h,n)?this.h[n]:e},Et.set=function(n,e){$l(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},Et.forEach=function(n,e){for(var t=this.T(),i=0;i<t.length;i++){var r=t[i],s=this.get(r);n.call(e,s,r,this)}};var U_=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Bd(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof Bd){this.g=void 0!==e?e:n.g,Ud(this,n.j),this.s=n.s,pf(this,n.i),om(this,n.m),this.l=n.l,e=n.h;var t=new gf;t.i=e.i,e.g&&(t.g=new hf(e.g),t.h=e.h),H_(this,t),this.o=n.o}else n&&(t=String(n).match(U_))?(this.g=!!e,Ud(this,t[1]||"",!0),this.s=lm(t[2]||""),pf(this,t[3]||"",!0),om(this,t[4]),this.l=lm(t[5]||"",!0),H_(this,t[6]||"",!0),this.o=lm(t[7]||"")):(this.g=!!e,this.h=new gf(null,this.g))}function Na(n){return new Bd(n)}function Ud(n,e,t){n.j=t?lm(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function pf(n,e,t){n.i=t?lm(e,!0):e}function om(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function H_(n,e,t){e instanceof gf?(n.h=e,function ST(n,e){e&&!n.j&&(zl(n),n.i=null,n.g.forEach(function(t,i){var r=i.toLowerCase();i!=r&&(sb(this,i),ab(this,r,t))},n)),n.j=e}(n.h,n.g)):(t||(e=mf(e,DT)),n.h=new gf(e,n.g))}function Fi(n,e,t){n.h.set(e,t)}function am(n){return Fi(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function lm(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function mf(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,ET),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function ET(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Bd.prototype.toString=function(){var n=[],e=this.j;e&&n.push(mf(e,j_,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(mf(e,j_,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(mf(t,"/"==t.charAt(0)?FM:TT,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",mf(t,IT)),n.join("")};var j_=/[#\/\?@]/g,TT=/[#\?:]/g,FM=/[#\?]/g,DT=/[#\?@]/g,IT=/#/g;function gf(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function zl(n){n.g||(n.g=new hf,n.h=0,n.i&&function TN(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var i=n[t].indexOf("="),r=null;if(0<=i){var s=n[t].substring(0,i);r=n[t].substring(i+1)}else s=n[t];e(s,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function sb(n,e){zl(n),e=Hd(n,e),$l(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,$l((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&ff(n)))}function ob(n,e){return zl(n),e=Hd(n,e),$l(n.g.h,e)}function ab(n,e,t){sb(n,e),0<t.length&&(n.i=null,n.g.set(Hd(n,e),Yp(t)),n.h+=t.length)}function Hd(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function lb(n){this.l=n||MT,n=nn.PerformanceNavigationTiming?0<(n=nn.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(nn.g&&nn.g.Ea&&nn.g.Ea()&&nn.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Et=gf.prototype).add=function(n,e){zl(this),this.i=null,n=Hd(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},Et.forEach=function(n,e){zl(this),this.g.forEach(function(t,i){eT(t,function(r){n.call(e,r,i,this)},this)},this)},Et.T=function(){zl(this);for(var n=this.g.R(),e=this.g.T(),t=[],i=0;i<e.length;i++)for(var r=n[i],s=0;s<r.length;s++)t.push(e[i]);return t},Et.R=function(n){zl(this);var e=[];if("string"==typeof n)ob(this,n)&&(e=il(e,this.g.get(Hd(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=il(e,n[t])}return e},Et.set=function(n,e){return zl(this),this.i=null,ob(this,n=Hd(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},Et.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},Et.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var i=e[t],r=encodeURIComponent(String(i));i=this.R(i);for(var s=0;s<i.length;s++){var c=r;""!==i[s]&&(c+="="+encodeURIComponent(String(i[s]))),n.push(c)}}return this.i=n.join("&")};var MT=10;function LM(n){return!!n.h||!!n.g&&n.g.size>=n.j}function xT(n){return n.h?1:n.g?n.g.size:0}function cb(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function G_(n,e){n.g?n.g.add(e):n.h=e}function kT(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function Pr(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return Yp(n.i)}function $_(){}function VM(){this.g=new $_}function BM(n,e,t){const i=t||"";try{sm(n,function(r,s){let c=r;Jh(r)&&(c=Lu(r)),e.push(i+s+"="+encodeURIComponent(c))})}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function z_(n,e,t,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch(s){}}function _f(n){this.l=n.$b||null,this.j=n.ib||!1}function cm(n,e){Ji.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=Bu,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}lb.prototype.cancel=function(){if(this.i=Pr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},$_.prototype.stringify=function(n){return nn.JSON.stringify(n,void 0)},$_.prototype.parse=function(n){return nn.JSON.parse(n,void 0)},Ts(_f,Vu),_f.prototype.g=function(){return new cm(this.l,this.j)},_f.prototype.i=function(n){return function(){return n}}({}),Ts(cm,Ji);var Bu=0;function OT(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function um(n){n.readyState=4,n.l=null,n.j=null,n.A=null,yf(n)}function yf(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(Et=cm.prototype).open=function(n,e){if(this.readyState!=Bu)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,yf(this)},Et.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||nn).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},Et.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,um(this)),this.readyState=Bu},Et.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,yf(this)),this.g&&(this.readyState=3,yf(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==nn.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;OT(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},Et.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?um(this):yf(this),3==this.readyState&&OT(this)}},Et.Ua=function(n){this.g&&(this.response=this.responseText=n,um(this))},Et.Ta=function(n){this.g&&(this.response=n,um(this))},Et.ha=function(){this.g&&um(this)},Et.setRequestHeader=function(n,e){this.v.append(n,e)},Et.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},Et.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(cm.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var UM=nn.JSON.parse;function wr(n){Ji.call(this),this.headers=new hf,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=HM,this.K=this.L=!1}Ts(wr,Ji);var HM="",ub=/^https?$/i,db=["POST","PUT"];function jM(n){return"content-type"==n.toLowerCase()}function NT(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,ol(n),Fo(n)}function ol(n){n.D||(n.D=!0,ar(n,"complete"),ar(n,"error"))}function Pa(n){if(n.h&&void 0!==O0&&(!n.C[1]||4!=Wl(n)||2!=n.ba()))if(n.v&&4==Wl(n))q0(n.Fa,0,n);else if(ar(n,"readystatechange"),4==Wl(n)){n.h=!1;try{const h=n.ba();e:switch(h){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var i;if(i=0===h){var r=String(n.H).match(U_)[1]||null;if(!r&&nn.self&&nn.self.location){var s=nn.self.location.protocol;r=s.substr(0,s.length-1)}i=!ub.test(r?r.toLowerCase():"")}t=i}if(t)ar(n,"complete"),ar(n,"success");else{n.m=6;try{var c=2<Wl(n)?n.g.statusText:""}catch(p){c=""}n.j=c+" ["+n.ba()+"]",ol(n)}}finally{Fo(n)}}}function Fo(n,e){if(n.g){hb(n);const t=n.g,i=n.C[0]?qp:null;n.g=null,n.C=null,e||ar(n,"ready");try{t.onreadystatechange=i}catch(r){}}}function hb(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(nn.clearTimeout(n.A),n.A=null)}function Wl(n){return n.g?n.g.readyState:0}function PT(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case HM:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function fb(n,e,t){e:{for(i in t){var i=!1;break e}i=!0}i||(t=function GM(n){let e="";return P0(n,function(t,i){e+=i,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Fi(n,e,t))}function dm(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function q_(n){this.za=0,this.l=[],this.h=new tm,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=dm("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=dm("baseRetryDelayMs",5e3,n),this.$a=dm("retryDelaySeedMs",1e4,n),this.Ya=dm("forwardChannelMaxRetries",2,n),this.ra=dm("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new lb(n&&n.concurrentRequestLimit),this.Ca=new VM,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function jd(n){if(pb(n),3==n.G){var e=n.V++,t=Na(n.F);Fi(t,"SID",n.J),Fi(t,"RID",e),Fi(t,"TYPE","terminate"),pm(n,t),(e=new rm(n,n.h,e,void 0)).K=2,e.v=am(Na(t)),t=!1,nn.navigator&&nn.navigator.sendBeacon&&(t=nn.navigator.sendBeacon(e.v.toString(),"")),!t&&nn.Image&&((new Image).src=e.v,t=!0),t||(e.g=Eb(e.l,null),e.g.ea(e.v)),e.F=Date.now(),P_(e)}wb(n)}function W_(n){n.g&&(vf(n),n.g.cancel(),n.g=null)}function pb(n){W_(n),n.u&&(nn.clearTimeout(n.u),n.u=null),gm(n),n.i.cancel(),n.m&&("number"==typeof n.m&&nn.clearTimeout(n.m),n.m=null)}function mb(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&hm(n)}function hm(n){LM(n.i)||n.m||(n.m=!0,I_(n.Ha,n),n.C=0)}function fm(n,e){var t;t=e?e.m:n.V++;const i=Na(n.F);Fi(i,"SID",n.J),Fi(i,"RID",t),Fi(i,"AID",n.U),pm(n,i),n.o&&n.s&&fb(i,n.o,n.s),t=new rm(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=gb(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),G_(n.i,t),N_(t,i,e)}function pm(n,e){n.j&&sm({},function(t,i){Fi(e,i,t)})}function gb(n,e,t){t=Math.min(n.l.length,t);var i=n.j?or(n.j.Oa,n.j,n):null;e:{var r=n.l;let s=-1;for(;;){const c=["count="+t];-1==s?0<t?(s=r[0].h,c.push("ofs="+s)):s=0:c.push("ofs="+s);let h=!0;for(let p=0;p<t;p++){let _=r[p].h;const T=r[p].g;if(_-=s,0>_)s=Math.max(0,r[p].h-100),h=!1;else try{BM(T,c,"req"+_+"_")}catch(S){i&&i(T)}}if(h){i=c.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,i}function _b(n){n.g||n.u||(n.Y=1,I_(n.Ga,n),n.A=0)}function mm(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=uf(or(n.Ga,n),bb(n,n.A)),n.A++,0))}function vf(n){null!=n.B&&(nn.clearTimeout(n.B),n.B=null)}function yb(n){n.g=new rm(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=Na(n.oa);Fi(e,"RID","rpc"),Fi(e,"SID",n.J),Fi(e,"CI",n.N?"0":"1"),Fi(e,"AID",n.U),pm(n,e),Fi(e,"TYPE","xmlhttp"),n.o&&n.s&&fb(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=am(Na(e)),t.s=null,t.U=!0,CT(t,n)}function gm(n){null!=n.v&&(nn.clearTimeout(n.v),n.v=null)}function vb(n,e){var t=null;if(n.g==e){gm(n),vf(n),n.g=null;var i=2}else{if(!cb(n.i,e))return;t=e.D,kT(n.i,e),i=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==i){t=e.s?e.s.length:0,e=Date.now()-e.F;var r=n.C;ar(i=cf(),new yT(i,t,e,r)),hm(n)}else _b(n);else if(3==(r=e.o)||0==r&&0<n.I||!(1==i&&function FT(n,e){return!(xT(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=uf(or(n.Ha,n,e),bb(n,n.C)),n.C++,0)))}(n,e)||2==i&&mm(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),r){case 1:Uu(n,5);break;case 4:Uu(n,10);break;case 3:Uu(n,6);break;default:Uu(n,2)}}function bb(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function Uu(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var i=or(n.jb,n);t||(t=new Bd("//www.google.com/images/cleardot.gif"),nn.location&&"http"==nn.location.protocol||Ud(t,"https"),am(t)),function RT(n,e){const t=new tm;if(nn.Image){const i=new Image;i.onload=Zp(z_,t,i,"TestLoadImage: loaded",!0,e),i.onerror=Zp(z_,t,i,"TestLoadImage: error",!1,e),i.onabort=Zp(z_,t,i,"TestLoadImage: abort",!1,e),i.ontimeout=Zp(z_,t,i,"TestLoadImage: timeout",!1,e),nn.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else e(!1)}(t.toString(),i)}else Po(2);n.G=0,n.j&&n.j.va(e),wb(n),pb(n)}function wb(n){n.G=0,n.I=-1,n.j&&((0!=Pr(n.i).length||0!=n.l.length)&&(n.i.i.length=0,Yp(n.l),n.l.length=0),n.j.ua())}function Cb(n,e,t){let i=function ib(n){return n instanceof Bd?Na(n):new Bd(n,void 0)}(t);if(""!=i.i)e&&pf(i,e+"."+i.i),om(i,i.m);else{const r=nn.location;i=function rb(n,e,t,i){var r=new Bd(null,void 0);return n&&Ud(r,n),e&&pf(r,e),t&&om(r,t),i&&(r.l=i),r}(r.protocol,e?e+"."+r.hostname:r.hostname,+r.port,t)}return n.aa&&P0(n.aa,function(r,s){Fi(i,s,r)}),t=n.sa,(e=n.D)&&t&&Fi(i,e,t),Fi(i,"VER",n.ma),pm(n,i),i}function Eb(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new wr(t&&n.Ba&&!n.qa?new _f({ib:!0}):n.qa)).L=n.H,e}function LT(){}function Z_(){if(Qp&&!(10<=Number(lT)))throw Error("Environmental error: no available transport.")}function ua(n,e){Ji.call(this),this.g=new q_(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!Kp(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Kp(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new bf(this)}function VT(n){R_.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function BT(){df.call(this),this.status=1}function bf(n){this.g=n}(Et=wr.prototype).ea=function(n,e,t,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Q0.g(),this.C=function bT(n){return n.h||(n.h=n.i())}(this.u?this.u:Q0),this.g.onreadystatechange=or(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(s){return void NT(this,s)}n=t||"";const r=new hf(this.headers);i&&sm(i,function(s,c){r.set(c,s)}),i=function EM(n){e:{var e=jM;const t=n.length,i="string"==typeof n?n.split(""):n;for(let r=0;r<t;r++)if(r in i&&e.call(void 0,i[r],r,n)){e=r;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(r.T()),t=nn.FormData&&n instanceof nn.FormData,!(0<=XE(db,e))||i||t||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),r.forEach(function(s,c){this.g.setRequestHeader(c,s)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{hb(this),0<this.B&&((this.K=function ql(n){return Qp&&function aT(){return function DM(n){var e=oT;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=N0(String(Oo)).split("."),t=N0("9").split("."),i=Math.max(e.length,t.length);for(let c=0;0==n&&c<i;c++){var r=e[c]||"",s=t[c]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==r[0].length&&0==s[0].length)break;n=b_(0==r[1].length?0:parseInt(r[1],10),0==s[1].length?0:parseInt(s[1],10))||b_(0==r[2].length,0==s[2].length)||b_(r[2],s[2]),r=r[3],s=s[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=or(this.pa,this)):this.A=q0(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){NT(this,s)}},Et.pa=function(){void 0!==O0&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ar(this,"timeout"),this.abort(8))},Et.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,ar(this,"complete"),ar(this,"abort"),Fo(this))},Et.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Fo(this,!0)),wr.Z.M.call(this)},Et.Fa=function(){this.s||(this.F||this.v||this.l?Pa(this):this.cb())},Et.cb=function(){Pa(this)},Et.ba=function(){try{return 2<Wl(this)?this.g.status:-1}catch(n){return-1}},Et.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},Et.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),UM(e)}},Et.Da=function(){return this.m},Et.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(Et=q_.prototype).ma=8,Et.G=1,Et.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(e){}},Et.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const r=new rm(this,this.h,n,void 0);let s=this.s;if(this.P&&(s?(s=F0(s),L0(s,this.P)):s=this.P),null===this.o&&(r.H=s),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var i=this.l[t];if(void 0===(i="__data__"in i.g&&"string"==typeof(i=i.g.__data__)?i.length:void 0))break;if(4096<(e+=i)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=gb(this,r,e),Fi(t=Na(this.F),"RID",n),Fi(t,"CVER",22),this.D&&Fi(t,"X-HTTP-Session-Id",this.D),pm(this,t),this.o&&s&&fb(t,this.o,s),G_(this.i,r),this.Ra&&Fi(t,"TYPE","init"),this.ja?(Fi(t,"$req",e),Fi(t,"SID","null"),r.$=!0,N_(r,t,null)):N_(r,t,e),this.G=2}}else 3==this.G&&(n?fm(this,n):0==this.l.length||LM(this.i)||fm(this))},Et.Ga=function(){if(this.u=null,yb(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=uf(or(this.bb,this),n)}},Et.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Po(10),W_(this),yb(this))},Et.ab=function(){null!=this.v&&(this.v=null,W_(this),mm(this),Po(19))},Et.jb=function(n){n?(this.h.info("Successfully pinged google.com"),Po(2)):(this.h.info("Failed to ping google.com"),Po(1))},(Et=LT.prototype).xa=function(){},Et.wa=function(){},Et.va=function(){},Et.ua=function(){},Et.Oa=function(){},Z_.prototype.g=function(n,e){return new ua(n,e)},Ts(ua,Ji),ua.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),I_(or(n.hb,n,e))),Po(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=Cb(n,null,n.W),hm(n)},ua.prototype.close=function(){jd(this.g)},ua.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,mb(this.g,e)}else this.v?((e={}).__data__=Lu(n),mb(this.g,e)):mb(this.g,n)},ua.prototype.M=function(){this.g.j=null,delete this.j,jd(this.g),delete this.g,ua.Z.M.call(this)},Ts(VT,R_),Ts(BT,df),Ts(bf,LT),bf.prototype.xa=function(){ar(this.g,"a")},bf.prototype.wa=function(n){ar(this.g,new VT(n))},bf.prototype.va=function(n){ar(this.g,new BT(n))},bf.prototype.ua=function(){ar(this.g,"b")},Z_.prototype.createWebChannel=Z_.prototype.g,ua.prototype.send=ua.prototype.u,ua.prototype.open=ua.prototype.m,ua.prototype.close=ua.prototype.close,Y0.NO_ERROR=0,Y0.TIMEOUT=8,Y0.HTTP_ERROR=6,vT.COMPLETE="complete",K0.EventType=nm,nm.OPEN="a",nm.CLOSE="b",nm.ERROR="c",nm.MESSAGE="d",Ji.prototype.listen=Ji.prototype.N,wr.prototype.listenOnce=wr.prototype.O,wr.prototype.getLastError=wr.prototype.La,wr.prototype.getLastErrorCode=wr.prototype.Da,wr.prototype.getStatus=wr.prototype.ba,wr.prototype.getResponseJson=wr.prototype.Qa,wr.prototype.getResponseText=wr.prototype.ga,wr.prototype.send=wr.prototype.ea;var $M=nl.createWebChannelTransport=function(){return new Z_},zM=nl.getStatEventTarget=function(){return cf()},Tb=nl.ErrorCode=Y0,qM=nl.EventType=vT,WM=nl.Event=Vd,UT=nl.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},ZM=nl.FetchXmlHttpFactory=_f,Y_=nl.WebChannel=K0,YM=nl.XhrIo=wr;const HT="@firebase/firestore";class Ds{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ds.UNAUTHENTICATED=new Ds(null),Ds.GOOGLE_CREDENTIALS=new Ds("google-credentials-uid"),Ds.FIRST_PARTY=new Ds("first-party-uid"),Ds.MOCK_USER=new Ds("mock-user");let wf="9.6.11";const Uc=new Nr.Yd("@firebase/firestore");function K_(){return Uc.logLevel}function nt(n,...e){if(Uc.logLevel<=Nr.in.DEBUG){const t=e.map(Q_);Uc.debug(`Firestore (${wf}): ${n}`,...t)}}function Cr(n,...e){if(Uc.logLevel<=Nr.in.ERROR){const t=e.map(Q_);Uc.error(`Firestore (${wf}): ${n}`,...t)}}function Cf(n,...e){if(Uc.logLevel<=Nr.in.WARN){const t=e.map(Q_);Uc.warn(`Firestore (${wf}): ${n}`,...t)}}function Q_(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function Mt(n="Unexpected state"){const e=`FIRESTORE (${wf}) INTERNAL ASSERTION FAILED: `+n;throw Cr(e),new Error(e)}function Xt(n,e){n||Mt()}function mt(n,e){return n}const Ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ze extends j.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class cs{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Gd{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class DN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Ds.UNAUTHENTICATED))}shutdown(){}}class Ib{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class IN{constructor(e){this.t=e,this.currentUser=Ds.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var i=this;let r=this.i;const s=_=>this.i!==r?(r=this.i,t(_)):Promise.resolve();let c=new cs;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new cs,e.enqueueRetryable(()=>s(this.currentUser))};const h=()=>{const _=c;e.enqueueRetryable((0,Pe.Z)(function*(){yield _.promise,yield s(i.currentUser)}))},p=_=>{nt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.auth.addAuthTokenListener(this.o),h()};this.t.onInit(_=>p(_)),setTimeout(()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?p(_):(nt("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new cs)}},0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(nt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Xt("string"==typeof i.accessToken),new Gd(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Xt(null===e||"string"==typeof e),new Ds(e)}}class GT{constructor(e,t,i){this.type="FirstParty",this.user=Ds.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const r=e.auth.getAuthHeaderValueForFirstParty([]);r&&this.headers.set("Authorization",r),i&&this.headers.set("X-Goog-Iam-Authorization-Token",i)}}class $T{constructor(e,t,i){this.h=e,this.l=t,this.m=i}getToken(){return Promise.resolve(new GT(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Ds.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class KM{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class zt{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,t){const i=s=>{null!=s.error&&nt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const c=s.token!==this.p;return this.p=s.token,nt("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>i(s))};const r=s=>{nt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.g.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.g.getImmediate({optional:!0});s?r(s):nt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Xt("string"==typeof t.token),this.p=t.token,new KM(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class da{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.I(i),this.T=i=>t.writeSequenceNumber(i))}I(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function QM(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}da.A=-1;class _m{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const r=QM(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<t&&(i+=e.charAt(r[s]%e.length))}return i}}function mn(n,e){return n<e?-1:n>e?1:0}function Hc(n,e,t){return n.length===e.length&&n.every((i,r)=>t(i,e[r]))}function ym(n){return n+"\0"}class gn{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ze(Ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ze(Ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Ze(Ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ze(Ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return gn.fromMillis(Date.now())}static fromDate(e){return gn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new gn(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?mn(this.nanoseconds,e.nanoseconds):mn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Qt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Qt(e)}static min(){return new Qt(new gn(0,0))}static max(){return new Qt(new gn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function Sb(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function $d(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function zT(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class Ef{constructor(e,t,i){void 0===t?t=0:t>e.length&&Mt(),void 0===i?i=e.length-t:i>e.length-t&&Mt(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return 0===Ef.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ef?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let r=0;r<i;r++){const s=e.get(r),c=t.get(r);if(s<c)return-1;if(s>c)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Un extends Ef{construct(e,t,i){return new Un(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new Ze(Ie.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(r=>r.length>0))}return new Un(t)}static emptyPath(){return new Un([])}}const qT=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qr extends Ef{construct(e,t,i){return new Qr(e,t,i)}static isValidIdentifier(e){return qT.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Qr(["__name__"])}static fromServerFormat(e){const t=[];let i="",r=0;const s=()=>{if(0===i.length)throw new Ze(Ie.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let c=!1;for(;r<e.length;){const h=e[r];if("\\"===h){if(r+1===e.length)throw new Ze(Ie.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[r+1];if("\\"!==p&&"."!==p&&"`"!==p)throw new Ze(Ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=p,r+=2}else"`"===h?(c=!c,r++):"."!==h||c?(i+=h,r++):(s(),r++)}if(s(),c)throw new Ze(Ie.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Qr(t)}static emptyPath(){return new Qr([])}}class Tf{constructor(e){this.fields=e,e.sort(Qr.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Hc(this.fields,e.fields,(t,i)=>t.isEqual(i))}}class Jr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Jr(t)}static fromUint8Array(e){const t=function(i){let r="";for(let s=0;s<i.length;++s)r+=String.fromCharCode(i[s]);return r}(e);return new Jr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let i=0;i<e.length;i++)t[i]=e.charCodeAt(i);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return mn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Jr.EMPTY_BYTE_STRING=new Jr("");const vm=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Hu(n){if(Xt(!!n),"string"==typeof n){let e=0;const t=vm.exec(n);if(Xt(!!t),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:lr(n.seconds),nanos:lr(n.nanos)}}function lr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function zd(n){return"string"==typeof n?Jr.fromBase64String(n):Jr.fromUint8Array(n)}function Df(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Ab(n){const e=n.mapValue.fields.__previous_value__;return Df(e)?Ab(e):e}function If(n){const e=Hu(n.mapValue.fields.__local_write_time__.timestampValue);return new gn(e.seconds,e.nanos)}class WT{constructor(e,t,i,r,s,c,h,p){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=c,this.autoDetectLongPolling=h,this.useFetchStreams=p}}class jc{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new jc("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof jc&&e.projectId===this.projectId&&e.database===this.database}}function al(n){return null==n}function Gc(n){return 0===n&&1/n==-1/0}function ZT(n){return"number"==typeof n&&Number.isInteger(n)&&!Gc(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class dt{constructor(e){this.path=e}static fromPath(e){return new dt(Un.fromString(e))}static fromName(e){return new dt(Un.fromString(e).popFirst(5))}static empty(){return new dt(Un.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Un.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Un.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new dt(new Un(e.slice()))}}const YT={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Mb={nullValue:"NULL_VALUE"};function ju(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Df(n)?4:kb(n)?9:10:Mt()}function ll(n,e){if(n===e)return!0;const t=ju(n);if(t!==ju(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return If(n).isEqual(If(e));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const s=Hu(i.timestampValue),c=Hu(r.timestampValue);return s.seconds===c.seconds&&s.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return r=e,zd(n.bytesValue).isEqual(zd(r.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,r){return lr(i.geoPointValue.latitude)===lr(r.geoPointValue.latitude)&&lr(i.geoPointValue.longitude)===lr(r.geoPointValue.longitude)}(n,e);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return lr(i.integerValue)===lr(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const s=lr(i.doubleValue),c=lr(r.doubleValue);return s===c?Gc(s)===Gc(c):isNaN(s)&&isNaN(c)}return!1}(n,e);case 9:return Hc(n.arrayValue.values||[],e.arrayValue.values||[],ll);case 10:return function(i,r){const s=i.mapValue.fields||{},c=r.mapValue.fields||{};if(Sb(s)!==Sb(c))return!1;for(const h in s)if(s.hasOwnProperty(h)&&(void 0===c[h]||!ll(s[h],c[h])))return!1;return!0}(n,e);default:return Mt()}var r}function bm(n,e){return void 0!==(n.values||[]).find(t=>ll(t,e))}function $c(n,e){if(n===e)return 0;const t=ju(n),i=ju(e);if(t!==i)return mn(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return mn(n.booleanValue,e.booleanValue);case 2:return function(r,s){const c=lr(r.integerValue||r.doubleValue),h=lr(s.integerValue||s.doubleValue);return c<h?-1:c>h?1:c===h?0:isNaN(c)?isNaN(h)?0:-1:1}(n,e);case 3:return KT(n.timestampValue,e.timestampValue);case 4:return KT(If(n),If(e));case 5:return mn(n.stringValue,e.stringValue);case 6:return function(r,s){const c=zd(r),h=zd(s);return c.compareTo(h)}(n.bytesValue,e.bytesValue);case 7:return function(r,s){const c=r.split("/"),h=s.split("/");for(let p=0;p<c.length&&p<h.length;p++){const _=mn(c[p],h[p]);if(0!==_)return _}return mn(c.length,h.length)}(n.referenceValue,e.referenceValue);case 8:return function(r,s){const c=mn(lr(r.latitude),lr(s.latitude));return 0!==c?c:mn(lr(r.longitude),lr(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(r,s){const c=r.values||[],h=s.values||[];for(let p=0;p<c.length&&p<h.length;++p){const _=$c(c[p],h[p]);if(_)return _}return mn(c.length,h.length)}(n.arrayValue,e.arrayValue);case 10:return function(r,s){const c=r.fields||{},h=Object.keys(c),p=s.fields||{},_=Object.keys(p);h.sort(),_.sort();for(let T=0;T<h.length&&T<_.length;++T){const S=mn(h[T],_[T]);if(0!==S)return S;const P=$c(c[h[T]],p[_[T]]);if(0!==P)return P}return mn(h.length,_.length)}(n.mapValue,e.mapValue);default:throw Mt()}}function KT(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return mn(n,e);const t=Hu(n),i=Hu(e),r=mn(t.seconds,i.seconds);return 0!==r?r:mn(t.nanos,i.nanos)}function Sf(n){return QT(n)}function QT(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=Hu(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?zd(n.bytesValue).toBase64():"referenceValue"in n?dt.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(i){let r="[",s=!0;for(const c of i.values||[])s?s=!1:r+=",",r+=QT(c);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let s="{",c=!0;for(const h of r)c?c=!1:s+=",",s+=`${h}:${QT(i.fields[h])}`;return s+"}"}(n.mapValue):Mt();var e}function Af(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function JT(n){return!!n&&"integerValue"in n}function J_(n){return!!n&&"arrayValue"in n}function xb(n){return!!n&&"nullValue"in n}function wm(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function X_(n){return!!n&&"mapValue"in n}function Cm(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return $d(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=Cm(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Cm(n.arrayValue.values[t]);return e}return Object.assign({},n)}function kb(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function Em(n){return"nullValue"in n?Mb:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Af(jc.empty(),dt.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:Mt()}function XM(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Af(jc.empty(),dt.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?YT:Mt()}function XT(n,e){return void 0===n?e:void 0===e||$c(n,e)>0?n:e}function eD(n,e){return void 0===n?e:void 0===e||$c(n,e)<0?n:e}class $s{constructor(e){this.value=e}static empty(){return new $s({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!X_(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Cm(t)}setAll(e){let t=Qr.emptyPath(),i={},r=[];e.forEach((c,h)=>{if(!t.isImmediateParentOf(h)){const p=this.getFieldsMap(t);this.applyChanges(p,i,r),i={},r=[],t=h.popLast()}c?i[h.lastSegment()]=Cm(c):r.push(h.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,i,r)}delete(e){const t=this.field(e.popLast());X_(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ll(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];X_(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){$d(t,(r,s)=>e[r]=s);for(const r of i)delete e[r]}clone(){return new $s(Cm(this.value))}}function tD(n){const e=[];return $d(n.fields,(t,i)=>{const r=new Qr([t]);if(X_(i)){const s=tD(i.mapValue).fields;if(0===s.length)e.push(r);else for(const c of s)e.push(r.child(c))}else e.push(r)}),new Tf(e)}class Ii{constructor(e,t,i,r,s,c){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.data=s,this.documentState=c}static newInvalidDocument(e){return new Ii(e,0,Qt.min(),Qt.min(),$s.empty(),0)}static newFoundDocument(e,t,i){return new Ii(e,1,t,Qt.min(),i,0)}static newNoDocument(e,t){return new Ii(e,2,t,Qt.min(),$s.empty(),0)}static newUnknownDocument(e,t){return new Ii(e,3,t,Qt.min(),$s.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=$s.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=$s.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Ii&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ii(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ey{constructor(e,t,i,r){this.indexId=e,this.collectionGroup=t,this.fields=i,this.indexState=r}}function Rb(n){return n.fields.find(e=>2===e.kind)}function Fa(n){return n.fields.filter(e=>2!==e.kind)}ey.UNKNOWN_ID=-1;class ty{constructor(e,t){this.fieldPath=e,this.kind=t}}class Mf{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Mf(0,zc.min())}}function nD(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=Qt.fromTimestamp(1e9===i?new gn(t+1,0):new gn(t,i));return new zc(r,dt.empty(),e)}function iD(n){return new zc(n.readTime,n.key,-1)}class zc{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new zc(Qt.min(),dt.empty(),-1)}static max(){return new zc(Qt.max(),dt.empty(),-1)}}function rD(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=dt.comparator(n.documentKey,e.documentKey),0!==t?t:mn(n.largestBatchId,e.largestBatchId))}class ex{constructor(e,t=null,i=[],r=[],s=null,c=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=c,this.endAt=h,this.P=null}}function ny(n,e=null,t=[],i=[],r=null,s=null,c=null){return new ex(n,e,t,i,r,s,c)}function qd(n){const e=mt(n);if(null===e.P){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>{return(r=i).field.canonicalString()+r.op.toString()+Sf(r.value);var r}).join(","),t+="|ob:",t+=e.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),al(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Sf(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Sf(i)).join(",")),e.P=t}return e.P}function xf(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<n.orderBy.length;r++)if(!cD(n.orderBy[r],e.orderBy[r]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let r=0;r<n.filters.length;r++)if((t=n.filters[r]).op!==(i=e.filters[r]).op||!t.field.isEqual(i.field)||!ll(t.value,i.value))return!1;var t,i;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!dD(n.startAt,e.startAt)&&dD(n.endAt,e.endAt)}function iy(n){return dt.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function ry(n,e){return n.filters.filter(t=>t instanceof Is&&t.field.isEqual(e))}function oD(n,e,t){let i,r=!0;for(const s of ry(n,e)){let c,h=!0;switch(s.op){case"<":case"<=":c=Em(s.value);break;case"==":case"in":case">=":c=s.value;break;case">":c=s.value,h=!1;break;case"!=":case"not-in":c=Mb}XT(i,c)===c&&(i=c,r=h)}if(null!==t)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(e)){const c=t.position[s];XT(i,c)===c&&(i=c,r=t.inclusive);break}return{value:i,inclusive:r}}function sy(n,e,t){let i,r=!0;for(const s of ry(n,e)){let c,h=!0;switch(s.op){case">=":case">":c=XM(s.value),h=!1;break;case"==":case"in":case"<=":c=s.value;break;case"<":c=s.value,h=!1;break;case"!=":case"not-in":c=YT}eD(i,c)===c&&(i=c,r=h)}if(null!==t)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(e)){const c=t.position[s];eD(i,c)===c&&(i=c,r=t.inclusive);break}return{value:i,inclusive:r}}class Is extends class{}{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?"in"===t||"not-in"===t?this.V(e,t,i):new aD(e,t,i):"array-contains"===t?new ix(e,i):"in"===t?new rx(e,i):"not-in"===t?new sx(e,i):"array-contains-any"===t?new ox(e,i):new Is(e,t,i)}static V(e,t,i){return"in"===t?new tx(e,i):new nx(e,i)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v($c(t,this.value)):null!==t&&ju(this.value)===ju(t)&&this.v($c(t,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Mt()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class aD extends Is{constructor(e,t,i){super(e,t,i),this.key=dt.fromName(i.referenceValue)}matches(e){const t=dt.comparator(e.key,this.key);return this.v(t)}}class tx extends Is{constructor(e,t){super(e,"in",t),this.keys=lD(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class nx extends Is{constructor(e,t){super(e,"not-in",t),this.keys=lD(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function lD(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(i=>dt.fromName(i.referenceValue))}class ix extends Is{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return J_(t)&&bm(t.arrayValue,this.value)}}class rx extends Is{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&bm(this.value.arrayValue,t)}}class sx extends Is{constructor(e,t){super(e,"not-in",t)}matches(e){if(bm(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!bm(this.value.arrayValue,t)}}class ox extends Is{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!J_(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>bm(this.value.arrayValue,i))}}class Gu{constructor(e,t){this.position=e,this.inclusive=t}}class Wd{constructor(e,t="asc"){this.field=e,this.dir=t}}function cD(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function uD(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){const s=e[r],c=n.position[r];if(i=s.field.isKeyField()?dt.comparator(dt.fromName(c.referenceValue),t.key):$c(c,t.data.field(s.field)),"desc"===s.dir&&(i*=-1),0!==i)break}return i}function dD(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!ll(n.position[t],e.position[t]))return!1;return!0}class Zl{constructor(e,t=null,i=[],r=[],s=null,c="F",h=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=c,this.startAt=h,this.endAt=p,this.D=null,this.C=null}}function hD(n,e,t,i,r,s,c,h){return new Zl(n,e,t,i,r,s,c,h)}function kf(n){return new Zl(n)}function oy(n){return!al(n.limit)&&"F"===n.limitType}function Rf(n){return!al(n.limit)&&"L"===n.limitType}function Tm(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function ay(n){for(const e of n.filters)if(e.S())return e.field;return null}function Dm(n){return null!==n.collectionGroup}function Of(n){const e=mt(n);if(null===e.D){e.D=[];const t=ay(e),i=Tm(e);if(null!==t&&null===i)t.isKeyField()||e.D.push(new Wd(t)),e.D.push(new Wd(Qr.keyField(),"asc"));else{let r=!1;for(const s of e.explicitOrderBy)e.D.push(s),s.field.isKeyField()&&(r=!0);if(!r){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.D.push(new Wd(Qr.keyField(),s))}}}return e.D}function La(n){const e=mt(n);if(!e.C)if("F"===e.limitType)e.C=ny(e.path,e.collectionGroup,Of(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const s of Of(e))t.push(new Wd(s.field,"desc"===s.dir?"asc":"desc"));const i=e.endAt?new Gu(e.endAt.position,!e.endAt.inclusive):null,r=e.startAt?new Gu(e.startAt.position,!e.startAt.inclusive):null;e.C=ny(e.path,e.collectionGroup,t,e.filters,e.limit,i,r)}return e.C}function ly(n,e,t){return new Zl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Im(n,e){return xf(La(n),La(e))&&n.limitType===e.limitType}function Ob(n){return`${qd(La(n))}|lt:${n.limitType}`}function Nb(n){return`Query(target=${function sD(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(i=t).field.canonicalString()} ${i.op} ${Sf(i.value)}`;var i}).join(", ")}]`),al(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(i=t).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>Sf(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>Sf(t)).join(",")),`Target(${e})`}(La(n))}; limitType=${n.limitType})`}function cy(n,e){return e.isFoundDocument()&&function(t,i){const r=i.key.path;return null!==t.collectionGroup?i.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(r):dt.isDocumentKey(t.path)?t.path.isEqual(r):t.path.isImmediateParentOf(r)}(n,e)&&function(t,i){for(const r of t.explicitOrderBy)if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,e)&&function(t,i){for(const r of t.filters)if(!r.matches(i))return!1;return!0}(n,e)&&(i=e,!((t=n).startAt&&!function(r,s,c){const h=uD(r,s,c);return r.inclusive?h<=0:h<0}(t.startAt,Of(t),i)||t.endAt&&!function(r,s,c){const h=uD(r,s,c);return r.inclusive?h>=0:h>0}(t.endAt,Of(t),i)));var t,i}function fD(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Pb(n){return(e,t)=>{let i=!1;for(const r of Of(n)){const s=AN(r,e,t);if(0!==s)return s;i=i||r.field.isKeyField()}return 0}}function AN(n,e,t){const i=n.field.isKeyField()?dt.comparator(e.key,t.key):function(r,s,c){const h=s.data.field(r),p=c.data.field(r);return null!==h&&null!==p?$c(h,p):Mt()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Mt()}}function pD(n,e){if(n.N){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Gc(e)?"-0":e}}function Sm(n){return{integerValue:""+n}}function mD(n,e){return ZT(e)?Sm(e):pD(n,e)}class qc{constructor(){this._=void 0}}function Am(n,e,t){return n instanceof Zd?function(i,r){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&(s.fields.__previous_value__=r),{mapValue:s}}(t,e):n instanceof Yd?gD(n,e):n instanceof Kd?_D(n,e):function(i,r){const s=lx(i,r),c=Fb(s)+Fb(i.k);return JT(s)&&JT(i.k)?Sm(c):pD(i.M,c)}(n,e)}function ax(n,e,t){return n instanceof Yd?gD(n,e):n instanceof Kd?_D(n,e):t}function lx(n,e){return n instanceof Qd?JT(t=e)||(i=t)&&"doubleValue"in i?e:{integerValue:0}:null;var i,t}class Zd extends qc{}class Yd extends qc{constructor(e){super(),this.elements=e}}function gD(n,e){const t=uy(e);for(const i of n.elements)t.some(r=>ll(r,i))||t.push(i);return{arrayValue:{values:t}}}class Kd extends qc{constructor(e){super(),this.elements=e}}function _D(n,e){let t=uy(e);for(const i of n.elements)t=t.filter(r=>!ll(r,i));return{arrayValue:{values:t}}}class Qd extends qc{constructor(e,t){super(),this.M=e,this.k=t}}function Fb(n){return lr(n.integerValue||n.doubleValue)}function uy(n){return J_(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class $u{constructor(e,t){this.field=e,this.transform=t}}class cx{constructor(e,t){this.version=e,this.transformResults=t}}class Er{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Er}static exists(e){return new Er(void 0,e)}static updateTime(e){return new Er(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function xm(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class dy{}function ux(n,e,t){n instanceof Rm?function(i,r,s){const c=i.value.clone(),h=Jd(i.fieldTransforms,r,s.transformResults);c.setAll(h),r.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(n,e,t):n instanceof Va?function(i,r,s){if(!xm(i.precondition,r))return void r.convertToUnknownDocument(s.version);const c=Jd(i.fieldTransforms,r,s.transformResults),h=r.data;h.setAll(Lb(i)),h.setAll(c),r.convertToFoundDocument(s.version,h).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function km(n,e,t){var r;n instanceof Rm?function(i,r,s){if(!xm(i.precondition,r))return;const c=i.value.clone(),h=fx(i.fieldTransforms,s,r);c.setAll(h),r.convertToFoundDocument(yD(r),c).setHasLocalMutations()}(n,e,t):n instanceof Va?function(i,r,s){if(!xm(i.precondition,r))return;const c=fx(i.fieldTransforms,s,r),h=r.data;h.setAll(Lb(i)),h.setAll(c),r.convertToFoundDocument(yD(r),h).setHasLocalMutations()}(n,e,t):xm(n.precondition,r=e)&&r.convertToNoDocument(Qt.min())}function dx(n,e){let t=null;for(const i of n.fieldTransforms){const r=e.data.field(i.field),s=lx(i.transform,r||null);null!=s&&(null==t&&(t=$s.empty()),t.set(i.field,s))}return t||null}function hx(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===i||t&&i&&Hc(t,i,(r,s)=>function Mm(n,e){return n.field.isEqual(e.field)&&(i=e.transform,(t=n.transform)instanceof Yd&&i instanceof Yd||t instanceof Kd&&i instanceof Kd?Hc(t.elements,i.elements,ll):t instanceof Qd&&i instanceof Qd?ll(t.k,i.k):t instanceof Zd&&i instanceof Zd);var t,i}(r,s))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,i}function yD(n){return n.isFoundDocument()?n.version:Qt.min()}class Rm extends dy{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}}class Va extends dy{constructor(e,t,i,r,s=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}}function Lb(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function Jd(n,e,t){const i=new Map;Xt(n.length===t.length);for(let r=0;r<t.length;r++){const s=n[r],c=s.transform,h=e.data.field(s.field);i.set(s.field,ax(c,h,t[r]))}return i}function fx(n,e,t){const i=new Map;for(const r of n){const s=r.transform,c=t.data.field(r.field);i.set(r.field,Am(s,c,e))}return i}class Nf extends dy{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class Vb extends dy{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class MN{constructor(e){this.count=e}}var Tr,Kn;function Bb(n){switch(n){default:return Mt();case Ie.CANCELLED:case Ie.UNKNOWN:case Ie.DEADLINE_EXCEEDED:case Ie.RESOURCE_EXHAUSTED:case Ie.INTERNAL:case Ie.UNAVAILABLE:case Ie.UNAUTHENTICATED:return!1;case Ie.INVALID_ARGUMENT:case Ie.NOT_FOUND:case Ie.ALREADY_EXISTS:case Ie.PERMISSION_DENIED:case Ie.FAILED_PRECONDITION:case Ie.ABORTED:case Ie.OUT_OF_RANGE:case Ie.UNIMPLEMENTED:case Ie.DATA_LOSS:return!0}}function hy(n){if(void 0===n)return Cr("GRPC error has no .code"),Ie.UNKNOWN;switch(n){case Tr.OK:return Ie.OK;case Tr.CANCELLED:return Ie.CANCELLED;case Tr.UNKNOWN:return Ie.UNKNOWN;case Tr.DEADLINE_EXCEEDED:return Ie.DEADLINE_EXCEEDED;case Tr.RESOURCE_EXHAUSTED:return Ie.RESOURCE_EXHAUSTED;case Tr.INTERNAL:return Ie.INTERNAL;case Tr.UNAVAILABLE:return Ie.UNAVAILABLE;case Tr.UNAUTHENTICATED:return Ie.UNAUTHENTICATED;case Tr.INVALID_ARGUMENT:return Ie.INVALID_ARGUMENT;case Tr.NOT_FOUND:return Ie.NOT_FOUND;case Tr.ALREADY_EXISTS:return Ie.ALREADY_EXISTS;case Tr.PERMISSION_DENIED:return Ie.PERMISSION_DENIED;case Tr.FAILED_PRECONDITION:return Ie.FAILED_PRECONDITION;case Tr.ABORTED:return Ie.ABORTED;case Tr.OUT_OF_RANGE:return Ie.OUT_OF_RANGE;case Tr.UNIMPLEMENTED:return Ie.UNIMPLEMENTED;case Tr.DATA_LOSS:return Ie.DATA_LOSS;default:return Mt()}}(Kn=Tr||(Tr={}))[Kn.OK=0]="OK",Kn[Kn.CANCELLED=1]="CANCELLED",Kn[Kn.UNKNOWN=2]="UNKNOWN",Kn[Kn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Kn[Kn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Kn[Kn.NOT_FOUND=5]="NOT_FOUND",Kn[Kn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Kn[Kn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Kn[Kn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Kn[Kn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Kn[Kn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Kn[Kn.ABORTED=10]="ABORTED",Kn[Kn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Kn[Kn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Kn[Kn.INTERNAL=13]="INTERNAL",Kn[Kn.UNAVAILABLE=14]="UNAVAILABLE",Kn[Kn.DATA_LOSS=15]="DATA_LOSS";class zu{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0!==i)for(const[r,s]of i)if(this.equalsFn(r,e))return s}has(e){return void 0!==this.get(e)}set(e,t){const i=this.mapKeyFn(e),r=this.inner[i];if(void 0===r)return this.inner[i]=[[e,t]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return void(r[s]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return 1===i.length?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){$d(this.inner,(t,i)=>{for(const[r,s]of i)e(r,s)})}isEmpty(){return zT(this.inner)}size(){return this.innerSize}}class cr{constructor(e,t){this.comparator=e,this.root=t||Ss.EMPTY}insert(e,t){return new cr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ss.BLACK,null,null))}remove(e){return new cr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ss.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(0===i)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(0===r)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Om(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Om(this.root,e,this.comparator,!1)}getReverseIterator(){return new Om(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Om(this.root,e,this.comparator,!0)}}class Om{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?i(e.key,t):1,t&&r&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ss{constructor(e,t,i,r,s){this.key=e,this.value=t,this.color=null!=i?i:Ss.RED,this.left=null!=r?r:Ss.EMPTY,this.right=null!=s?s:Ss.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,s){return new Ss(null!=e?e:this.key,null!=t?t:this.value,null!=i?i:this.color,null!=r?r:this.left,null!=s?s:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this;const s=i(e,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(e,t,i),null):0===s?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Ss.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Ss.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ss.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ss.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Mt();const e=this.left.check();if(e!==this.right.check())throw Mt();return e+(this.isRed()?0:1)}}Ss.EMPTY=null,Ss.RED=!0,Ss.BLACK=!1,Ss.EMPTY=new class{constructor(){this.size=0}get key(){throw Mt()}get value(){throw Mt()}get color(){throw Mt()}get left(){throw Mt()}get right(){throw Mt()}copy(n,e,t,i,r){return this}insert(n,e,t){return new Ss(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Li{constructor(e){this.comparator=e,this.data=new cr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new vD(this.data.getIterator())}getIteratorFrom(e){return new vD(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof Li)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const r=t.getNext().key,s=i.getNext().key;if(0!==this.comparator(r,s))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Li(this.comparator);return t.data=e,t}}class vD{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Pf(n){return n.hasNext()?n.getNext():void 0}const px=new cr(dt.comparator);function Ba(){return px}const mx=new cr(dt.comparator);function Xd(){return mx}function Ff(){return new zu(n=>n.toString(),(n,e)=>n.isEqual(e))}const bD=new cr(dt.comparator),wD=new Li(dt.comparator);function ri(...n){let e=wD;for(const t of n)e=e.add(t);return e}const CD=new Li(mn);function Nm(){return CD}class Pm{constructor(e,t,i,r,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t){const i=new Map;return i.set(e,Lf.createSynthesizedTargetChangeForCurrentChange(e,t)),new Pm(Qt.min(),i,Nm(),Ba(),ri())}}class Lf{constructor(e,t,i,r,s){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t){return new Lf(Jr.EMPTY_BYTE_STRING,t,ri(),ri(),ri())}}class Fm{constructor(e,t,i,r){this.O=e,this.removedTargetIds=t,this.key=i,this.F=r}}class Ub{constructor(e,t){this.targetId=e,this.$=t}}class Hb{constructor(e,t,i=Jr.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}}class ED{constructor(){this.B=0,this.L=fy(),this.U=Jr.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}get current(){return this.q}get resumeToken(){return this.U}get G(){return 0!==this.B}get j(){return this.K}W(e){e.approximateByteSize()>0&&(this.K=!0,this.U=e)}H(){let e=ri(),t=ri(),i=ri();return this.L.forEach((r,s)=>{switch(s){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:Mt()}}),new Lf(this.U,this.q,e,t,i)}J(){this.K=!1,this.L=fy()}Y(e,t){this.K=!0,this.L=this.L.insert(e,t)}X(e){this.K=!0,this.L=this.L.remove(e)}Z(){this.B+=1}tt(){this.B-=1}et(){this.K=!0,this.q=!0}}class Lm{constructor(e){this.nt=e,this.st=new Map,this.it=Ba(),this.rt=TD(),this.ot=new Li(mn)}ut(e){for(const t of e.O)e.F&&e.F.isFoundDocument()?this.at(t,e.F):this.ct(t,e.key,e.F);for(const t of e.removedTargetIds)this.ct(t,e.key,e.F)}ht(e){this.forEachTarget(e,t=>{const i=this.lt(t);switch(e.state){case 0:this.ft(t)&&i.W(e.resumeToken);break;case 1:i.tt(),i.G||i.J(),i.W(e.resumeToken);break;case 2:i.tt(),i.G||this.removeTarget(t);break;case 3:this.ft(t)&&(i.et(),i.W(e.resumeToken));break;case 4:this.ft(t)&&(this.dt(t),i.W(e.resumeToken));break;default:Mt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((i,r)=>{this.ft(r)&&t(r)})}_t(e){const t=e.targetId,i=e.$.count,r=this.wt(t);if(r){const s=r.target;if(iy(s))if(0===i){const c=new dt(s.path);this.ct(t,c,Ii.newNoDocument(c,Qt.min()))}else Xt(1===i);else this.gt(t)!==i&&(this.dt(t),this.ot=this.ot.add(t))}}yt(e){const t=new Map;this.st.forEach((s,c)=>{const h=this.wt(c);if(h){if(s.current&&iy(h.target)){const p=new dt(h.target.path);null!==this.it.get(p)||this.It(c,p)||this.ct(c,p,Ii.newNoDocument(p,e))}s.j&&(t.set(c,s.H()),s.J())}});let i=ri();this.rt.forEach((s,c)=>{let h=!0;c.forEachWhile(p=>{const _=this.wt(p);return!_||2===_.purpose||(h=!1,!1)}),h&&(i=i.add(s))}),this.it.forEach((s,c)=>c.setReadTime(e));const r=new Pm(e,t,this.ot,this.it,i);return this.it=Ba(),this.rt=TD(),this.ot=new Li(mn),r}at(e,t){if(!this.ft(e))return;const i=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,i),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Tt(t.key).add(e))}ct(e,t,i){if(!this.ft(e))return;const r=this.lt(e);this.It(e,t)?r.Y(t,1):r.X(t),this.rt=this.rt.insert(t,this.Tt(t).delete(e)),i&&(this.it=this.it.insert(t,i))}removeTarget(e){this.st.delete(e)}gt(e){const t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Z(e){this.lt(e).Z()}lt(e){let t=this.st.get(e);return t||(t=new ED,this.st.set(e,t)),t}Tt(e){let t=this.rt.get(e);return t||(t=new Li(mn),this.rt=this.rt.insert(e,t)),t}ft(e){const t=null!==this.wt(e);return t||nt("WatchChangeAggregator","Detected inactive target",e),t}wt(e){const t=this.st.get(e);return t&&t.G?null:this.nt.Et(e)}dt(e){this.st.set(e,new ED),this.nt.getRemoteKeysForTarget(e).forEach(t=>{this.ct(e,t,null)})}It(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}function TD(){return new cr(dt.comparator)}function fy(){return new cr(dt.comparator)}const Yl={asc:"ASCENDING",desc:"DESCENDING"},gx={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class jb{constructor(e,t){this.databaseId=e,this.N=t}}function Wc(n,e){return n.N?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function DD(n,e){return n.N?e.toBase64():e.toUint8Array()}function _x(n,e){return Wc(n,e.toTimestamp())}function us(n){return Xt(!!n),Qt.fromTimestamp(function(e){const t=Hu(e);return new gn(t.seconds,t.nanos)}(n))}function Vf(n,e){return(t=n,new Un(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function Vm(n){const e=Un.fromString(n);return Xt(Zb(e)),e}function Bm(n,e){return Vf(n.databaseId,e.path)}function Kl(n,e){const t=Vm(e);if(t.get(1)!==n.databaseId.projectId)throw new Ze(Ie.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ze(Ie.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new dt($b(t))}function py(n,e){return Vf(n.databaseId,e)}function Gb(n){const e=Vm(n);return 4===e.length?Un.emptyPath():$b(e)}function eh(n){return new Un(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function $b(n){return Xt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function ID(n,e,t){return{name:Bm(n,e),fields:t.value.mapValue.fields}}function SD(n,e,t){const i=Kl(n,e.name),r=us(e.updateTime),s=new $s({mapValue:{fields:e.fields}}),c=Ii.newFoundDocument(i,r,s);return t&&c.setHasCommittedMutations(),t?c.setHasCommittedMutations():c}function th(n,e){let t;if(e instanceof Rm)t={update:ID(n,e.key,e.value)};else if(e instanceof Nf)t={delete:Bm(n,e.key)};else if(e instanceof Va)t={update:ID(n,e.key,e.data),updateMask:vx(e.fieldMask)};else{if(!(e instanceof Vb))return Mt();t={verify:Bm(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(r,s){const c=s.transform;if(c instanceof Zd)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Yd)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Kd)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Qd)return{fieldPath:s.field.canonicalString(),increment:c.k};throw Mt()}(0,i))),e.precondition.isNone||(t.currentDocument=void 0!==(r=e.precondition).updateTime?{updateTime:_x(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:Mt()),t;var r}function my(n,e){const t=e.currentDocument?void 0!==(r=e.currentDocument).updateTime?Er.updateTime(us(r.updateTime)):void 0!==r.exists?Er.exists(r.exists):Er.none():Er.none(),i=e.updateTransforms?e.updateTransforms.map(r=>function(s,c){let h=null;"setToServerValue"in c?(Xt("REQUEST_TIME"===c.setToServerValue),h=new Zd):"appendMissingElements"in c?h=new Yd(c.appendMissingElements.values||[]):"removeAllFromArray"in c?h=new Kd(c.removeAllFromArray.values||[]):"increment"in c?h=new Qd(s,c.increment):Mt();const p=Qr.fromServerFormat(c.fieldPath);return new $u(p,h)}(n,r)):[];var r;if(e.update){const r=Kl(n,e.update.name),s=new $s({mapValue:{fields:e.update.fields}});if(e.updateMask){const c=new Tf((e.updateMask.fieldPaths||[]).map(_=>Qr.fromServerFormat(_)));return new Va(r,s,c,t,i)}return new Rm(r,s,t,i)}if(e.delete){const r=Kl(n,e.delete);return new Nf(r,t)}if(e.verify){const r=Kl(n,e.verify);return new Vb(r,t)}return Mt()}function gy(n,e){return{documents:[py(n,e.path)]}}function AD(n,e){const t={structuredQuery:{}},i=e.path;null!==e.collectionGroup?(t.parent=py(n,i),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=py(n,i.popLast()),t.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(p){if(0===p.length)return;const _=p.map(T=>function(S){if("=="===S.op){if(wm(S.value))return{unaryFilter:{field:nh(S.field),op:"IS_NAN"}};if(xb(S.value))return{unaryFilter:{field:nh(S.field),op:"IS_NULL"}}}else if("!="===S.op){if(wm(S.value))return{unaryFilter:{field:nh(S.field),op:"IS_NOT_NAN"}};if(xb(S.value))return{unaryFilter:{field:nh(S.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:nh(S.field),op:Wb(S.op),value:S.value}}}(T));return 1===_.length?_[0]:{compositeFilter:{op:"AND",filters:_}}}(e.filters);r&&(t.structuredQuery.where=r);const s=function(p){if(0!==p.length)return p.map(_=>{return{field:nh((T=_).field),direction:kD(T.dir)};var T})}(e.orderBy);s&&(t.structuredQuery.orderBy=s);const c=(_=e.limit,n.N||al(_)?_:{value:_});var _,h,p;return null!==c&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt={before:(h=e.startAt).inclusive,values:h.position}),e.endAt&&(t.structuredQuery.endAt={before:!(p=e.endAt).inclusive,values:p.position}),t}function MD(n){let e=Gb(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let r=null;if(i>0){Xt(1===i);const T=t.from[0];T.allDescendants?r=T.collectionId:e=e.child(T.collectionId)}let s=[];t.where&&(s=xD(t.where));let c=[];t.orderBy&&(c=t.orderBy.map(T=>{return new Wd(ih((S=T).field),function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction));var S}));let h=null;t.limit&&(h=function(T){let S;return S="object"==typeof T?T.value:T,al(S)?null:S}(t.limit));let p=null;var T;t.startAt&&(p=new Gu((T=t.startAt).values||[],!!T.before));let _=null;return t.endAt&&(_=function(T){return new Gu(T.values||[],!T.before)}(t.endAt)),hD(e,r,c,s,h,"F",p,_)}function xD(n){return n?void 0!==n.unaryFilter?[OD(n)]:void 0!==n.fieldFilter?[RD(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>xD(e)).reduce((e,t)=>e.concat(t)):Mt():[]}function kD(n){return Yl[n]}function Wb(n){return gx[n]}function nh(n){return{fieldPath:n.canonicalString()}}function ih(n){return Qr.fromServerFormat(n.fieldPath)}function RD(n){return Is.create(ih(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Mt()}}(n.fieldFilter.op),n.fieldFilter.value)}function OD(n){switch(n.unaryFilter.op){case"IS_NAN":const e=ih(n.unaryFilter.field);return Is.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=ih(n.unaryFilter.field);return Is.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=ih(n.unaryFilter.field);return Is.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const r=ih(n.unaryFilter.field);return Is.create(r,"!=",{nullValue:"NULL_VALUE"});default:return Mt()}}function vx(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Zb(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function zs(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Yb(e)),e=bx(n.get(t),e);return Yb(e)}function bx(n,e){let t=e;const i=n.length;for(let r=0;r<i;r++){const s=n.charAt(r);switch(s){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=s}}return t}function Yb(n){return n+"\x01\x01"}function cl(n){const e=n.length;if(Xt(e>=2),2===e)return Xt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),Un.emptyPath();const t=e-2,i=[];let r="";for(let s=0;s<e;){const c=n.indexOf("\x01",s);switch((c<0||c>t)&&Mt(),n.charAt(c+1)){case"\x01":const h=n.substring(s,c);let p;0===r.length?p=h:(r+=h,p=r,r=""),i.push(p);break;case"\x10":r+=n.substring(s,c),r+="\0";break;case"\x11":r+=n.substring(s,c+1);break;default:Mt()}s=c+2}return new Un(i)}const qs=["userId","batchId"];function Zc(n,e){return[n,zs(e)]}function ND(n,e,t){return[n,zs(e),t]}const wx={},kN=["prefixPath","collectionGroup","readTime","documentId"],Um=["prefixPath","collectionGroup","documentId"],Cx=["collectionGroup","readTime","prefixPath","documentId"],Kb=["canonicalId","targetId"],Ex=["targetId","path"],PD=["path","targetId"],Tx=["collectionId","parent"],Dx=["indexId","uid"],Qb=["uid","sequenceNumber"],FD=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],LD=["indexId","uid","orderedDocumentKey"],_y=["userId","collectionPath","documentId"],Jb=["userId","collectionPath","largestBatchId"],RN=["userId","collectionGroup","largestBatchId"],Xb=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Ix=[...Xb,"documentOverlays"],ew=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],yy=[...ew,"indexConfiguration","indexState","indexEntries"],tw="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class VD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class Fe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Mt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Fe((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(t,s).next(i,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Fe?t:Fe.resolve(t)}catch(t){return Fe.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Fe.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Fe.reject(t)}static resolve(e){return new Fe((t,i)=>{t(e)})}static reject(e){return new Fe((t,i)=>{i(e)})}static waitFor(e){return new Fe((t,i)=>{let r=0,s=0,c=!1;e.forEach(h=>{++r,h.next(()=>{++s,c&&s===r&&t()},p=>i(p))}),c=!0,s===r&&t()})}static or(e){let t=Fe.resolve(!1);for(const i of e)t=t.next(r=>r?Fe.resolve(r):i());return t}static forEach(e,t){const i=[];return e.forEach((r,s)=>{i.push(t.call(this,r,s))}),this.waitFor(i)}}class Bf{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.At=new cs,this.transaction.oncomplete=()=>{this.At.resolve()},this.transaction.onabort=()=>{t.error?this.At.reject(new Hm(e,t.error)):this.At.resolve()},this.transaction.onerror=i=>{const r=vy(i.target.error);this.At.reject(new Hm(e,r))}}static open(e,t,i,r){try{return new Bf(t,e.transaction(r,i))}catch(s){throw new Hm(t,s)}}get Rt(){return this.At.promise}abort(e){e&&this.At.reject(e),this.aborted||(nt("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}Pt(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new BD(t)}}class Ql{constructor(e,t,i){this.name=e,this.version=t,this.bt=i,12.2===Ql.Vt((0,j.z$)())&&Cr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return nt("SimpleDb","Removing database:",e),rh(window.indexedDB.deleteDatabase(e)).toPromise()}static vt(){if(!(0,j.hl)())return!1;if(Ql.St())return!0;const e=(0,j.z$)(),t=Ql.Vt(e),i=0<t&&t<10,r=Ql.Dt(e),s=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||s)}static St(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Ct)}static xt(e,t){return e.store(t)}static Vt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static Dt(e){const t=e.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}Nt(e){var t=this;return(0,Pe.Z)(function*(){return t.db||(nt("SimpleDb","Opening database:",t.name),t.db=yield new Promise((i,r)=>{const s=indexedDB.open(t.name,t.version);s.onsuccess=c=>{i(c.target.result)},s.onblocked=()=>{r(new Hm(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=c=>{const h=c.target.error;r("VersionError"===h.name?new Ze(Ie.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===h.name?new Ze(Ie.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+h):new Hm(e,h))},s.onupgradeneeded=c=>{nt("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',c.oldVersion),t.bt.kt(c.target.result,s.transaction,c.oldVersion,t.version).next(()=>{nt("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.Mt&&(t.db.onversionchange=i=>t.Mt(i)),t.db})()}Ot(e){this.Mt=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,i,r){var s=this;return(0,Pe.Z)(function*(){const c="readonly"===t;let h=0;for(;;){++h;try{s.db=yield s.Nt(e);const p=Bf.open(s.db,e,c?"readonly":"readwrite",i),_=r(p).next(T=>(p.Pt(),T)).catch(T=>(p.abort(T),Fe.reject(T))).toPromise();return _.catch(()=>{}),yield p.Rt,_}catch(p){const _="FirebaseError"!==p.name&&h<3;if(nt("SimpleDb","Transaction failed with error:",p.message,"Retrying:",_),s.close(),!_)return Promise.reject(p)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Sx{constructor(e){this.Ft=e,this.$t=!1,this.Bt=null}get isDone(){return this.$t}get Lt(){return this.Bt}set cursor(e){this.Ft=e}done(){this.$t=!0}Ut(e){this.Bt=e}delete(){return rh(this.Ft.delete())}}class Hm extends Ze{constructor(e,t){super(Ie.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function qu(n){return"IndexedDbTransactionError"===n.name}class BD{constructor(e){this.store=e}put(e,t){let i;return void 0!==t?(nt("SimpleDb","PUT",this.store.name,e,t),i=this.store.put(t,e)):(nt("SimpleDb","PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),rh(i)}add(e){return nt("SimpleDb","ADD",this.store.name,e,e),rh(this.store.add(e))}get(e){return rh(this.store.get(e)).next(t=>(void 0===t&&(t=null),nt("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return nt("SimpleDb","DELETE",this.store.name,e),rh(this.store.delete(e))}count(){return nt("SimpleDb","COUNT",this.store.name),rh(this.store.count())}qt(e,t){const i=this.options(e,t);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),s=[];return this.Kt(r,(c,h)=>{s.push(h)}).next(()=>s)}{const r=this.store.getAll(i.range);return new Fe((s,c)=>{r.onerror=h=>{c(h.target.error)},r.onsuccess=h=>{s(h.target.result)}})}}Gt(e,t){const i=this.store.getAll(e,null===t?void 0:t);return new Fe((r,s)=>{i.onerror=c=>{s(c.target.error)},i.onsuccess=c=>{r(c.target.result)}})}Qt(e,t){nt("SimpleDb","DELETE ALL",this.store.name);const i=this.options(e,t);i.jt=!1;const r=this.cursor(i);return this.Kt(r,(s,c,h)=>h.delete())}Wt(e,t){let i;t?i=e:(i={},t=e);const r=this.cursor(i);return this.Kt(r,t)}zt(e){const t=this.cursor({});return new Fe((i,r)=>{t.onerror=s=>{const c=vy(s.target.error);r(c)},t.onsuccess=s=>{const c=s.target.result;c?e(c.primaryKey,c.value).next(h=>{h?c.continue():i()}):i()}})}Kt(e,t){const i=[];return new Fe((r,s)=>{e.onerror=c=>{s(c.target.error)},e.onsuccess=c=>{const h=c.target.result;if(!h)return void r();const p=new Sx(h),_=t(h.primaryKey,h.value,p);if(_ instanceof Fe){const T=_.catch(S=>(p.done(),Fe.reject(S)));i.push(T)}p.isDone?r():null===p.Lt?h.continue():h.continue(p.Lt)}}).next(()=>Fe.waitFor(i))}options(e,t){let i;return void 0!==e&&("string"==typeof e?i=e:t=e),{index:i,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const i=this.store.index(e.index);return e.jt?i.openKeyCursor(e.range,t):i.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function rh(n){return new Fe((e,t)=>{n.onsuccess=i=>{e(i.target.result)},n.onerror=i=>{const r=vy(i.target.error);t(r)}})}let nw=!1;function vy(n){const e=Ql.Vt((0,j.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const i=new Ze("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return nw||(nw=!0,setTimeout(()=>{throw i},0)),i}}return n}class UD extends VD{constructor(e,t){super(),this.Ht=e,this.currentSequenceNumber=t}}function ds(n,e){const t=mt(n);return Ql.xt(t.Ht,e)}class by{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(e.key)&&ux(s,e,i[r])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&km(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&km(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const i=e.get(t.key),r=i;this.applyToLocalView(r),i.isValidDocument()||r.convertToNoDocument(Qt.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ri())}isEqual(e){return this.batchId===e.batchId&&Hc(this.mutations,e.mutations,(t,i)=>hx(t,i))&&Hc(this.baseMutations,e.baseMutations,(t,i)=>hx(t,i))}}class iw{constructor(e,t,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=r}static from(e,t,i){Xt(e.mutations.length===i.length);let r=bD;const s=e.mutations;for(let c=0;c<s.length;c++)r=r.insert(s[c].key,i[c].version);return new iw(e,t,i,r)}}class wy{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Yc{constructor(e,t,i,r,s=Qt.min(),c=Qt.min(),h=Jr.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=h}withSequenceNumber(e){return new Yc(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Yc(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Yc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class rw{constructor(e){this.Jt=e}}function jD(n,e){const t=e.key,i={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Cy(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())i.document={name:Bm(r=n.Jt,(s=e).key),fields:s.data.value.mapValue.fields,updateTime:Wc(r,s.version.toTimestamp())};else if(e.isNoDocument())i.noDocument={path:t.path.toArray(),readTime:Uf(e.version)};else{if(!e.isUnknownDocument())return Mt();i.unknownDocument={path:t.path.toArray(),version:Uf(e.version)}}var r,s;return i}function Cy(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Uf(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Wu(n){const e=new gn(n.seconds,n.nanoseconds);return Qt.fromTimestamp(e)}function jm(n,e){const t=(e.baseMutations||[]).map(s=>my(n.Jt,s));for(let s=0;s<e.mutations.length-1;++s){const c=e.mutations[s];s+1<e.mutations.length&&void 0!==e.mutations[s+1].transform&&(c.updateTransforms=e.mutations[s+1].transform.fieldTransforms,e.mutations.splice(s+1,1),++s)}const i=e.mutations.map(s=>my(n.Jt,s)),r=gn.fromMillis(e.localWriteTimeMs);return new by(e.batchId,r,t,i)}function Ey(n){const e=Wu(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Wu(n.lastLimboFreeSnapshotVersion):Qt.min();let i;var r;return void 0!==n.query.documents?(Xt(1===(r=n.query).documents.length),i=La(kf(Gb(r.documents[0])))):i=La(MD(n.query)),new Yc(i,n.targetId,0,n.lastListenSequenceNumber,e,t,Jr.fromBase64String(n.resumeToken))}function Ax(n,e){const t=Uf(e.snapshotVersion),i=Uf(e.lastLimboFreeSnapshotVersion);let r;r=iy(e.target)?gy(n.Jt,e.target):AD(n.Jt,e.target);const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:qd(e.target),readTime:t,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function sw(n){const e=MD({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?ly(e,e.limit,"L"):e}function ow(n,e){return new wy(e.largestBatchId,my(n.Jt,e.overlayMutation))}function Mx(n,e){const t=e.path.lastSegment();return[n,zs(e.path.popLast()),t]}class xx{getBundleMetadata(e,t){return kx(e).get(t).next(i=>{if(i)return{id:(r=i).bundleId,createTime:Wu(r.createTime),version:r.version};var r})}saveBundleMetadata(e,t){return kx(e).put({bundleId:(i=t).id,createTime:Uf(us(i.createTime)),version:i.version});var i}getNamedQuery(e,t){return Gm(e).get(t).next(i=>{if(i)return{name:(r=i).name,query:sw(r.bundledQuery),readTime:Wu(r.readTime)};var r})}saveNamedQuery(e,t){return Gm(e).put({name:(i=t).name,readTime:Uf(us(i.readTime)),bundledQuery:i.bundledQuery});var i}}function kx(n){return ds(n,"bundles")}function Gm(n){return ds(n,"namedQueries")}class GD{constructor(e,t){this.M=e,this.userId=t}static Yt(e,t){return new GD(e,t.uid||"")}getOverlay(e,t){return Hf(e).get(Mx(this.userId,t)).next(i=>i?ow(this.M,i):null)}saveOverlays(e,t,i){const r=[];return i.forEach((s,c)=>{const h=new wy(t,c);r.push(this.Xt(e,h))}),Fe.waitFor(r)}removeOverlaysForBatchId(e,t,i){const r=new Set;t.forEach(c=>r.add(zs(c.getCollectionPath())));const s=[];return r.forEach(c=>{const h=IDBKeyRange.bound([this.userId,c,i],[this.userId,c,i+1],!1,!0);s.push(Hf(e).Qt("collectionPathOverlayIndex",h))}),Fe.waitFor(s)}getOverlaysForCollection(e,t,i){const r=Ff(),s=zs(t),c=IDBKeyRange.bound([this.userId,s,i],[this.userId,s,Number.POSITIVE_INFINITY],!0);return Hf(e).qt("collectionPathOverlayIndex",c).next(h=>{for(const p of h){const _=ow(this.M,p);r.set(_.getKey(),_)}return r})}getOverlaysForCollectionGroup(e,t,i,r){const s=Ff();let c;const h=IDBKeyRange.bound([this.userId,t,i],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Hf(e).Wt({index:"collectionGroupOverlayIndex",range:h},(p,_,T)=>{const S=ow(this.M,_);s.size()<r||S.largestBatchId===c?(s.set(S.getKey(),S),c=S.largestBatchId):T.done()}).next(()=>s)}Xt(e,t){return Hf(e).put(function(i,r,s){const[c,h,p]=Mx(r,s.mutation.key);return{userId:r,collectionPath:h,documentId:p,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:th(i.Jt,s.mutation)}}(this.M,this.userId,t))}}function Hf(n){return ds(n,"documentOverlays")}class Kc{constructor(){}Zt(e,t){this.te(e,t),t.ee()}te(e,t){if("nullValue"in e)this.ne(t,5);else if("booleanValue"in e)this.ne(t,10),t.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(t,15),t.se(lr(e.integerValue));else if("doubleValue"in e){const i=lr(e.doubleValue);isNaN(i)?this.ne(t,13):(this.ne(t,15),Gc(i)?t.se(0):t.se(i))}else if("timestampValue"in e){const i=e.timestampValue;this.ne(t,20),"string"==typeof i?t.ie(i):(t.ie(`${i.seconds||""}`),t.se(i.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,t),this.oe(t);else if("bytesValue"in e)this.ne(t,30),t.ue(zd(e.bytesValue)),this.oe(t);else if("referenceValue"in e)this.ae(e.referenceValue,t);else if("geoPointValue"in e){const i=e.geoPointValue;this.ne(t,45),t.se(i.latitude||0),t.se(i.longitude||0)}else"mapValue"in e?kb(e)?this.ne(t,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,t),this.oe(t)):"arrayValue"in e?(this.he(e.arrayValue,t),this.oe(t)):Mt()}re(e,t){this.ne(t,25),this.le(e,t)}le(e,t){t.ie(e)}ce(e,t){const i=e.fields||{};this.ne(t,55);for(const r of Object.keys(i))this.re(r,t),this.te(i[r],t)}he(e,t){const i=e.values||[];this.ne(t,50);for(const r of i)this.te(r,t)}ae(e,t){this.ne(t,37),dt.fromName(e).path.forEach(i=>{this.ne(t,60),this.le(i,t)})}ne(e,t){e.se(t)}oe(e){e.se(2)}}function $D(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function aw(n){const e=64-function(t){let i=0;for(let r=0;r<8;++r){const s=$D(255&t[r]);if(i+=s,8!==s)break}return i}(n);return Math.ceil(e/8)}Kc.fe=new Kc;class ON{constructor(){this.buffer=new Uint8Array(1024),this.position=0}de(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this._e(i.value),i=t.next();this.we()}me(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.ge(i.value),i=t.next();this.ye()}pe(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this._e(i);else if(i<2048)this._e(960|i>>>6),this._e(128|63&i);else if(t<"\ud800"||"\udbff"<t)this._e(480|i>>>12),this._e(128|63&i>>>6),this._e(128|63&i);else{const r=t.codePointAt(0);this._e(240|r>>>18),this._e(128|63&r>>>12),this._e(128|63&r>>>6),this._e(128|63&r)}}this.we()}Ie(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.ge(i);else if(i<2048)this.ge(960|i>>>6),this.ge(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.ge(480|i>>>12),this.ge(128|63&i>>>6),this.ge(128|63&i);else{const r=t.codePointAt(0);this.ge(240|r>>>18),this.ge(128|63&r>>>12),this.ge(128|63&r>>>6),this.ge(128|63&r)}}this.ye()}Te(e){const t=this.Ee(e),i=aw(t);this.Ae(1+i),this.buffer[this.position++]=255&i;for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=255&t[r]}Re(e){const t=this.Ee(e),i=aw(t);this.Ae(1+i),this.buffer[this.position++]=~(255&i);for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}Pe(){this.be(255),this.be(255)}Ve(){this.ve(255),this.ve(255)}reset(){this.position=0}seed(e){this.Ae(e.length),this.buffer.set(e,this.position),this.position+=e.length}Se(){return this.buffer.slice(0,this.position)}Ee(e){const t=function(r){const s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,r,!1),new Uint8Array(s.buffer)}(e),i=0!=(128&t[0]);t[0]^=i?255:128;for(let r=1;r<t.length;++r)t[r]^=i?255:0;return t}_e(e){const t=255&e;0===t?(this.be(0),this.be(255)):255===t?(this.be(255),this.be(0)):this.be(t)}ge(e){const t=255&e;0===t?(this.ve(0),this.ve(255)):255===t?(this.ve(255),this.ve(0)):this.ve(e)}we(){this.be(0),this.be(1)}ye(){this.ve(0),this.ve(1)}be(e){this.Ae(1),this.buffer[this.position++]=e}ve(e){this.Ae(1),this.buffer[this.position++]=~e}Ae(e){const t=e+this.position;if(t<=this.buffer.length)return;let i=2*this.buffer.length;i<t&&(i=t);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class lw{constructor(e){this.De=e}ue(e){this.De.de(e)}ie(e){this.De.pe(e)}se(e){this.De.Te(e)}ee(){this.De.Pe()}}class zD{constructor(e){this.De=e}ue(e){this.De.me(e)}ie(e){this.De.Ie(e)}se(e){this.De.Re(e)}ee(){this.De.Ve()}}class $m{constructor(){this.De=new ON,this.Ce=new lw(this.De),this.xe=new zD(this.De)}seed(e){this.De.seed(e)}Ne(e){return 0===e?this.Ce:this.xe}Se(){return this.De.Se()}reset(){this.De.reset()}}class Qc{constructor(e,t,i,r){this.indexId=e,this.documentKey=t,this.arrayValue=i,this.directionalValue=r}ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,i=new Uint8Array(t);return i.set(this.directionalValue,0),t!==e?i.set([0],this.directionalValue.length):++i[i.length-1],new Qc(this.indexId,this.documentKey,this.arrayValue,i)}}function jf(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=qD(n.arrayValue,e.arrayValue),0!==t?t:(t=qD(n.directionalValue,e.directionalValue),0!==t?t:dt.comparator(n.documentKey,e.documentKey)))}function qD(n,e){for(let t=0;t<n.length&&t<e.length;++t){const i=n[t]-e[t];if(0!==i)return i}return n.length-e.length}class Rx{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Me=e.orderBy,this.Oe=[];for(const t of e.filters){const i=t;i.S()?this.Fe=i:this.Oe.push(i)}}$e(e){const t=Rb(e);if(void 0!==t&&!this.Be(t))return!1;const i=Fa(e);let r=0,s=0;for(;r<i.length&&this.Be(i[r]);++r);if(r===i.length)return!0;if(void 0!==this.Fe){const c=i[r];if(!this.Le(this.Fe,c)||!this.Ue(this.Me[s++],c))return!1;++r}for(;r<i.length;++r){const c=i[r];if(s>=this.Me.length||!this.Ue(this.Me[s++],c))return!1}return!0}Be(e){for(const t of this.Oe)if(this.Le(t,e))return!0;return!1}Le(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Ue(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class cw{constructor(){this.qe=new uw}addToCollectionParentIndex(e,t){return this.qe.add(t),Fe.resolve()}getCollectionParents(e,t){return Fe.resolve(this.qe.getEntries(t))}addFieldIndex(e,t){return Fe.resolve()}deleteFieldIndex(e,t){return Fe.resolve()}getDocumentsMatchingTarget(e,t){return Fe.resolve(null)}getFieldIndex(e,t){return Fe.resolve(null)}getFieldIndexes(e,t){return Fe.resolve([])}getNextCollectionGroupToUpdate(e){return Fe.resolve(null)}updateCollectionGroup(e,t,i){return Fe.resolve()}updateIndexEntries(e,t){return Fe.resolve()}}class uw{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new Li(Un.comparator),s=!r.has(i);return this.index[t]=r.add(i),s}has(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new Li(Un.comparator)).toArray()}}const zm=new Uint8Array(0);class NN{constructor(e,t){this.user=e,this.databaseId=t,this.Ke=new uw,this.Ge=new zu(i=>qd(i),(i,r)=>xf(i,r)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Ke.has(t)){const i=t.lastSegment(),r=t.popLast();e.addOnCommittedListener(()=>{this.Ke.add(t)});const s={collectionId:i,parent:zs(r)};return Ox(e).put(s)}return Fe.resolve()}getCollectionParents(e,t){const i=[],r=IDBKeyRange.bound([t,""],[ym(t),""],!1,!0);return Ox(e).qt(r).next(s=>{for(const c of s){if(c.collectionId!==t)break;i.push(cl(c.parent))}return i})}addFieldIndex(e,t){const i=Ty(e),r={indexId:(s=t).indexId,collectionGroup:s.collectionGroup,fields:s.fields.map(c=>[c.fieldPath.canonicalString(),c.kind])};var s;return delete r.indexId,i.add(r).next()}deleteFieldIndex(e,t){const i=Ty(e),r=Dy(e),s=qm(e);return i.delete(t.indexId).next(()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const i=qm(e);let r=!0;const s=new Map;return Fe.forEach(this.Qe(t),c=>this.getFieldIndex(e,c).next(h=>{r&&(r=!!h),s.set(c,h)})).next(()=>{if(r){let c=ri();const h=[];return Fe.forEach(s,(p,_)=>{var T;nt("IndexedDbIndexManager",`Using index ${T=p,`id=${T.indexId}|cg=${T.collectionGroup}|f=${T.fields.map(yt=>`${yt.fieldPath}:${yt.kind}`).join(",")}`} to execute ${qd(t)}`);const S=function(yt,ht){const Kt=Rb(ht);if(void 0===Kt)return null;for(const rn of ry(yt,Kt.fieldPath))switch(rn.op){case"array-contains-any":return rn.value.arrayValue.values||[];case"array-contains":return[rn.value]}return null}(_,p),P=function(yt,ht){const Kt=new Map;for(const rn of Fa(ht))for(const $n of ry(yt,rn.fieldPath))switch($n.op){case"==":case"in":Kt.set(rn.fieldPath.canonicalString(),$n.value);break;case"not-in":case"!=":return Kt.set(rn.fieldPath.canonicalString(),$n.value),Array.from(Kt.values())}return null}(_,p),H=function(yt,ht){const Kt=[];let rn=!0;for(const $n of Fa(ht)){const Sr=0===$n.kind?oD(yt,$n.fieldPath,yt.startAt):sy(yt,$n.fieldPath,yt.startAt);if(!Sr.value)return null;Kt.push(Sr.value),rn&&(rn=Sr.inclusive)}return new Gu(Kt,rn)}(_,p),q=function(yt,ht){const Kt=[];let rn=!0;for(const $n of Fa(ht)){const Sr=0===$n.kind?sy(yt,$n.fieldPath,yt.endAt):oD(yt,$n.fieldPath,yt.endAt);if(!Sr.value)return null;Kt.push(Sr.value),rn&&(rn=Sr.inclusive)}return new Gu(Kt,rn)}(_,p),ae=this.je(p,_,H),Ce=this.je(p,_,q),pt=this.We(p,_,P),_t=this.ze(p.indexId,S,ae,!!H&&H.inclusive,Ce,!!q&&q.inclusive,pt);return Fe.forEach(_t,yt=>i.Gt(yt,t.limit).next(ht=>{ht.forEach(Kt=>{const rn=dt.fromSegments(Kt.documentKey);c.has(rn)||(c=c.add(rn),h.push(rn))})}))}).next(()=>h)}return Fe.resolve(null)})}Qe(e){let t=this.Ge.get(e);return t||(t=[e],this.Ge.set(e,t),t)}ze(e,t,i,r,s,c,h){const p=(null!=t?t.length:1)*Math.max(null!=i?i.length:1,null!=s?s.length:1),_=p/(null!=t?t.length:1),T=[];for(let S=0;S<p;++S){const P=t?this.He(t[S/_]):zm,H=i?this.Je(e,P,i[S%_],r):this.Ye(e),q=s?this.Xe(e,P,s[S%_],c):this.Ye(e+1);T.push(...this.createRange(H,q,h.map(ae=>this.Je(e,P,ae,!0))))}return T}Je(e,t,i,r){const s=new Qc(e,dt.empty(),t,i);return r?s:s.ke()}Xe(e,t,i,r){const s=new Qc(e,dt.empty(),t,i);return r?s.ke():s}Ye(e){return new Qc(e,dt.empty(),zm,zm)}getFieldIndex(e,t){const i=new Rx(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next(s=>{const c=s.filter(h=>i.$e(h));return c.sort((h,p)=>p.fields.length-h.fields.length),c.length>0?c[0]:null})}Ze(e,t){const i=new $m;for(const r of Fa(e)){const s=t.data.field(r.fieldPath);if(null==s)return null;const c=i.Ne(r.kind);Kc.fe.Zt(s,c)}return i.Se()}He(e){const t=new $m;return Kc.fe.Zt(e,t.Ne(0)),t.Se()}tn(e,t){const i=new $m;return Kc.fe.Zt(Af(this.databaseId,t),i.Ne(function(r){const s=Fa(r);return 0===s.length?0:s[s.length-1].kind}(e))),i.Se()}We(e,t,i){if(null===i)return[];let r=[];r.push(new $m);let s=0;for(const c of Fa(e)){const h=i[s++];for(const p of r)if(this.en(t,c.fieldPath)&&J_(h))r=this.nn(r,c,h);else{const _=p.Ne(c.kind);Kc.fe.Zt(h,_)}}return this.sn(r)}je(e,t,i){return null==i?null:this.We(e,t,i.position)}sn(e){const t=[];for(let i=0;i<e.length;++i)t[i]=e[i].Se();return t}nn(e,t,i){const r=[...e],s=[];for(const c of i.arrayValue.values||[])for(const h of r){const p=new $m;p.seed(h.Se()),Kc.fe.Zt(c,p.Ne(t.kind)),s.push(p)}return s}en(e,t){return!!e.filters.find(i=>i instanceof Is&&i.field.isEqual(t)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(e,t){const i=Ty(e),r=Dy(e);return(t?i.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)):i.qt()).next(s=>{const c=[];return Fe.forEach(s,h=>r.get([h.indexId,this.uid]).next(p=>{c.push(function(_,T){const S=T?new Mf(T.sequenceNumber,new zc(Wu(T.readTime),new dt(cl(T.documentKey)),T.largestBatchId)):Mf.empty(),P=_.fields.map(([H,q])=>new ty(Qr.fromServerFormat(H),q));return new ey(_.indexId,_.collectionGroup,P,S)}(h,p))})).next(()=>c)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((i,r)=>{const s=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==s?s:mn(i.collectionGroup,r.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,i){const r=Ty(e),s=Dy(e);return this.rn(e).next(c=>r.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(h=>Fe.forEach(h,p=>{return s.put({indexId:p.indexId,uid:this.user.uid||"",sequenceNumber:c,readTime:Uf((P=i).readTime),documentKey:zs(P.documentKey.path),largestBatchId:P.largestBatchId});var P})))}updateIndexEntries(e,t){const i=new Map;return Fe.forEach(t,(r,s)=>{const c=i.get(r.collectionGroup);return(c?Fe.resolve(c):this.getFieldIndexes(e,r.collectionGroup)).next(h=>(i.set(r.collectionGroup,h),Fe.forEach(h,p=>this.on(e,r,p).next(_=>{const T=this.un(s,p);return _.isEqual(T)?Fe.resolve():this.an(e,s,p,_,T)}))))})}cn(e,t,i,r){return qm(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.tn(i,t.key),documentKey:t.key.path.toArray()})}hn(e,t,i,r){return qm(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.tn(i,t.key),t.key.path.toArray()])}on(e,t,i){const r=qm(e);let s=new Li(jf);return r.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.tn(i,t)])},(c,h)=>{s=s.add(new Qc(i.indexId,t,h.arrayValue,h.directionalValue))}).next(()=>s)}un(e,t){let i=new Li(jf);const r=this.Ze(t,e);if(null==r)return i;const s=Rb(t);if(null!=s){const c=e.data.field(s.fieldPath);if(J_(c))for(const h of c.arrayValue.values||[])i=i.add(new Qc(t.indexId,e.key,this.He(h),r))}else i=i.add(new Qc(t.indexId,e.key,zm,r));return i}an(e,t,i,r,s){nt("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const c=[];return function(h,p,_,T,S){const P=h.getIterator(),H=p.getIterator();let q=Pf(P),ae=Pf(H);for(;q||ae;){let Ce=!1,pt=!1;if(q&&ae){const _t=_(q,ae);_t<0?pt=!0:_t>0&&(Ce=!0)}else null!=q?pt=!0:Ce=!0;Ce?(T(ae),ae=Pf(H)):pt?(S(q),q=Pf(P)):(q=Pf(P),ae=Pf(H))}}(r,s,jf,h=>{c.push(this.cn(e,t,i,h))},h=>{c.push(this.hn(e,t,i,h))}),Fe.waitFor(c)}rn(e){let t=1;return Dy(e).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,s)=>{s.done(),t=r.sequenceNumber+1}).next(()=>t)}createRange(e,t,i){i=i.sort((c,h)=>jf(c,h)).filter((c,h,p)=>!h||0!==jf(c,p[h-1]));const r=[];r.push(e);for(const c of i){const h=jf(c,e),p=jf(c,t);if(0===h)r[0]=e.ke();else if(h>0&&p<0)r.push(c),r.push(c.ke());else if(p>0)break}r.push(t);const s=[];for(let c=0;c<r.length;c+=2)s.push(IDBKeyRange.bound([r[c].indexId,this.uid,r[c].arrayValue,r[c].directionalValue,zm,[]],[r[c+1].indexId,this.uid,r[c+1].arrayValue,r[c+1].directionalValue,zm,[]]));return s}}function Ox(n){return ds(n,"collectionParents")}function qm(n){return ds(n,"indexEntries")}function Ty(n){return ds(n,"indexConfiguration")}function Dy(n){return ds(n,"indexState")}const Nx={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Lo{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new Lo(e,Lo.DEFAULT_COLLECTION_PERCENTILE,Lo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Iy(n,e,t){const i=n.store("mutations"),r=n.store("documentMutations"),s=[],c=IDBKeyRange.only(t.batchId);let h=0;const p=i.Wt({range:c},(T,S,P)=>(h++,P.delete()));s.push(p.next(()=>{Xt(1===h)}));const _=[];for(const T of t.mutations){const S=ND(e,T.key.path,t.batchId);s.push(r.delete(S)),_.push(T.key)}return Fe.waitFor(s).next(()=>_)}function Sy(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw Mt();e=n.noDocument}return JSON.stringify(e).length}Lo.DEFAULT_COLLECTION_PERCENTILE=10,Lo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Lo.DEFAULT=new Lo(41943040,Lo.DEFAULT_COLLECTION_PERCENTILE,Lo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Lo.DISABLED=new Lo(-1,0,0);class ha{constructor(e,t,i,r){this.userId=e,this.M=t,this.indexManager=i,this.referenceDelegate=r,this.ln={}}static Yt(e,t,i,r){Xt(""!==e.uid);const s=e.isAuthenticated()?e.uid:"";return new ha(s,t,i,r)}checkEmpty(e){let t=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Jl(e).Wt({index:"userMutationsIndex",range:i},(r,s,c)=>{t=!1,c.done()}).next(()=>t)}addMutationBatch(e,t,i,r){const s=Gf(e),c=Jl(e);return c.add({}).next(h=>{Xt("number"==typeof h);const p=new by(h,t,i,r),_=function(P,H,q){const ae=q.baseMutations.map(pt=>th(P.Jt,pt)),Ce=q.mutations.map(pt=>th(P.Jt,pt));return{userId:H,batchId:q.batchId,localWriteTimeMs:q.localWriteTime.toMillis(),baseMutations:ae,mutations:Ce}}(this.M,this.userId,p),T=[];let S=new Li((P,H)=>mn(P.canonicalString(),H.canonicalString()));for(const P of r){const H=ND(this.userId,P.key.path,h);S=S.add(P.key.path.popLast()),T.push(c.put(_)),T.push(s.put(H,wx))}return S.forEach(P=>{T.push(this.indexManager.addToCollectionParentIndex(e,P))}),e.addOnCommittedListener(()=>{this.ln[h]=p.keys()}),Fe.waitFor(T).next(()=>p)})}lookupMutationBatch(e,t){return Jl(e).get(t).next(i=>i?(Xt(i.userId===this.userId),jm(this.M,i)):null)}fn(e,t){return this.ln[t]?Fe.resolve(this.ln[t]):this.lookupMutationBatch(e,t).next(i=>{if(i){const r=i.keys();return this.ln[t]=r,r}return null})}getNextMutationBatchAfterBatchId(e,t){const i=t+1,r=IDBKeyRange.lowerBound([this.userId,i]);let s=null;return Jl(e).Wt({index:"userMutationsIndex",range:r},(c,h,p)=>{h.userId===this.userId&&(Xt(h.batchId>=i),s=jm(this.M,h)),p.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return Jl(e).Wt({index:"userMutationsIndex",range:t,reverse:!0},(r,s,c)=>{i=s.batchId,c.done()}).next(()=>i)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Jl(e).qt("userMutationsIndex",t).next(i=>i.map(r=>jm(this.M,r)))}getAllMutationBatchesAffectingDocumentKey(e,t){const i=Zc(this.userId,t.path),r=IDBKeyRange.lowerBound(i),s=[];return Gf(e).Wt({range:r},(c,h,p)=>{const[_,T,S]=c,P=cl(T);if(_===this.userId&&t.path.isEqual(P))return Jl(e).get(S).next(H=>{if(!H)throw Mt();Xt(H.userId===this.userId),s.push(jm(this.M,H))});p.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Li(mn);const r=[];return t.forEach(s=>{const c=Zc(this.userId,s.path),h=IDBKeyRange.lowerBound(c),p=Gf(e).Wt({range:h},(_,T,S)=>{const[P,H,q]=_,ae=cl(H);P===this.userId&&s.path.isEqual(ae)?i=i.add(q):S.done()});r.push(p)}),Fe.waitFor(r).next(()=>this.dn(e,i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1,s=Zc(this.userId,i),c=IDBKeyRange.lowerBound(s);let h=new Li(mn);return Gf(e).Wt({range:c},(p,_,T)=>{const[S,P,H]=p,q=cl(P);S===this.userId&&i.isPrefixOf(q)?q.length===r&&(h=h.add(H)):T.done()}).next(()=>this.dn(e,h))}dn(e,t){const i=[],r=[];return t.forEach(s=>{r.push(Jl(e).get(s).next(c=>{if(null===c)throw Mt();Xt(c.userId===this.userId),i.push(jm(this.M,c))}))}),Fe.waitFor(r).next(()=>i)}removeMutationBatch(e,t){return Iy(e.Ht,this.userId,t).next(i=>(e.addOnCommittedListener(()=>{this._n(t.batchId)}),Fe.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(e,r))))}_n(e){delete this.ln[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return Fe.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return Gf(e).Wt({range:i},(s,c,h)=>{if(s[0]===this.userId){const p=cl(s[1]);r.push(p)}else h.done()}).next(()=>{Xt(0===r.length)})})}containsKey(e,t){return WD(e,this.userId,t)}wn(e){return ZD(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function WD(n,e,t){const i=Zc(e,t.path),r=i[1],s=IDBKeyRange.lowerBound(i);let c=!1;return Gf(n).Wt({range:s,jt:!0},(h,p,_)=>{const[T,S,P]=h;T===e&&S===r&&(c=!0),_.done()}).next(()=>c)}function Jl(n){return ds(n,"mutations")}function Gf(n){return ds(n,"documentMutations")}function ZD(n){return ds(n,"mutationQueues")}class Jc{constructor(e){this.mn=e}next(){return this.mn+=2,this.mn}static gn(){return new Jc(0)}static yn(){return new Jc(-1)}}class YD{constructor(e,t){this.referenceDelegate=e,this.M=t}allocateTargetId(e){return this.pn(e).next(t=>{const i=new Jc(t.highestTargetId);return t.highestTargetId=i.next(),this.In(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.pn(e).next(t=>Qt.fromTimestamp(new gn(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.pn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,i){return this.pn(e).next(r=>(r.highestListenSequenceNumber=t,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.In(e,r)))}addTargetData(e,t){return this.Tn(e,t).next(()=>this.pn(e).next(i=>(i.targetCount+=1,this.En(t,i),this.In(e,i))))}updateTargetData(e,t){return this.Tn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>sh(e).delete(t.targetId)).next(()=>this.pn(e)).next(i=>(Xt(i.targetCount>0),i.targetCount-=1,this.In(e,i)))}removeTargets(e,t,i){let r=0;const s=[];return sh(e).Wt((c,h)=>{const p=Ey(h);p.sequenceNumber<=t&&null===i.get(p.targetId)&&(r++,s.push(this.removeTargetData(e,p)))}).next(()=>Fe.waitFor(s)).next(()=>r)}forEachTarget(e,t){return sh(e).Wt((i,r)=>{const s=Ey(r);t(s)})}pn(e){return KD(e).get("targetGlobalKey").next(t=>(Xt(null!==t),t))}In(e,t){return KD(e).put("targetGlobalKey",t)}Tn(e,t){return sh(e).put(Ax(this.M,t))}En(e,t){let i=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,i=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,i=!0),i}getTargetCount(e){return this.pn(e).next(t=>t.targetCount)}getTargetData(e,t){const i=qd(t),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let s=null;return sh(e).Wt({range:r,index:"queryTargetsIndex"},(c,h,p)=>{const _=Ey(h);xf(t,_.target)&&(s=_,p.done())}).next(()=>s)}addMatchingKeys(e,t,i){const r=[],s=Xc(e);return t.forEach(c=>{const h=zs(c.path);r.push(s.put({targetId:i,path:h})),r.push(this.referenceDelegate.addReference(e,i,c))}),Fe.waitFor(r)}removeMatchingKeys(e,t,i){const r=Xc(e);return Fe.forEach(t,s=>{const c=zs(s.path);return Fe.waitFor([r.delete([i,c]),this.referenceDelegate.removeReference(e,i,s)])})}removeMatchingKeysForTargetId(e,t){const i=Xc(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(e,t){const i=IDBKeyRange.bound([t],[t+1],!1,!0),r=Xc(e);let s=ri();return r.Wt({range:i,jt:!0},(c,h,p)=>{const _=cl(c[1]),T=new dt(_);s=s.add(T)}).next(()=>s)}containsKey(e,t){const i=zs(t.path),r=IDBKeyRange.bound([i],[ym(i)],!1,!0);let s=0;return Xc(e).Wt({index:"documentTargetsIndex",jt:!0,range:r},([c,h],p,_)=>{0!==c&&(s++,_.done())}).next(()=>s>0)}Et(e,t){return sh(e).get(t).next(i=>i?Ey(i):null)}}function sh(n){return ds(n,"targets")}function KD(n){return ds(n,"targetGlobal")}function Xc(n){return ds(n,"targetDocuments")}function oh(n){return dw.apply(this,arguments)}function dw(){return dw=(0,Pe.Z)(function*(n){if(n.code!==Ie.FAILED_PRECONDITION||n.message!==tw)throw n;nt("LocalStore","Unexpectedly lost primary lease")}),dw.apply(this,arguments)}function QD([n,e],[t,i]){const r=mn(n,t);return 0===r?mn(e,i):r}class hw{constructor(e){this.An=e,this.buffer=new Li(QD),this.Rn=0}Pn(){return++this.Rn}bn(e){const t=[e,this.Pn()];if(this.buffer.size<this.An)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();QD(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class ul{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.Vn=!1,this.vn=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Sn(e)}stop(){this.vn&&(this.vn.cancel(),this.vn=null)}get started(){return null!==this.vn}Sn(e){var t=this;const i=this.Vn?3e5:6e4;nt("LruGarbageCollector",`Garbage collection scheduled in ${i}ms`),this.vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",i,(0,Pe.Z)(function*(){t.vn=null,t.Vn=!0;try{yield e.collectGarbage(t.garbageCollector)}catch(r){qu(r)?nt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield oh(r)}yield t.Sn(e)}))}}class Px{constructor(e,t){this.Dn=e,this.params=t}calculateTargetCount(e,t){return this.Dn.Cn(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(0===t)return Fe.resolve(da.A);const i=new hw(t);return this.Dn.forEachTarget(e,r=>i.bn(r.sequenceNumber)).next(()=>this.Dn.xn(e,r=>i.bn(r))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.Dn.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.Dn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(nt("LruGarbageCollector","Garbage collection skipped; disabled"),Fe.resolve(Nx)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(nt("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Nx):this.Nn(e,t))}getCacheSize(e){return this.Dn.getCacheSize(e)}Nn(e,t){let i,r,s,c,h,p,_;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(S=>(S>this.params.maximumSequenceNumbersToCollect?(nt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),r=this.params.maximumSequenceNumbersToCollect):r=S,c=Date.now(),this.nthSequenceNumber(e,r))).next(S=>(i=S,h=Date.now(),this.removeTargets(e,i,t))).next(S=>(s=S,p=Date.now(),this.removeOrphanedDocuments(e,i))).next(S=>(_=Date.now(),K_()<=Nr.in.DEBUG&&nt("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${c-T}ms\n\tDetermined least recently used ${r} in `+(h-c)+`ms\n\tRemoved ${s} targets in `+(p-h)+`ms\n\tRemoved ${S} documents in `+(_-p)+`ms\nTotal Duration: ${_-T}ms`),Fe.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:s,documentsRemoved:S})))}}class PN{constructor(e,t){this.db=e,this.garbageCollector=new Px(this,t)}Cn(e){const t=this.kn(e);return this.db.getTargetCache().getTargetCount(e).next(i=>t.next(r=>i+r))}kn(e){let t=0;return this.xn(e,i=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}xn(e,t){return this.Mn(e,(i,r)=>t(r))}addReference(e,t,i){return Ay(e,i)}removeReference(e,t,i){return Ay(e,i)}removeTargets(e,t,i){return this.db.getTargetCache().removeTargets(e,t,i)}markPotentiallyOrphaned(e,t){return Ay(e,t)}On(e,t){return function(i,r){let s=!1;return ZD(i).zt(c=>WD(i,c,r).next(h=>(h&&(s=!0),Fe.resolve(!h)))).next(()=>s)}(e,t)}removeOrphanedDocuments(e,t){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let s=0;return this.Mn(e,(c,h)=>{if(h<=t){const p=this.On(e,c).next(_=>{if(!_)return s++,i.getEntry(e,c).next(()=>(i.removeEntry(c,Qt.min()),Xc(e).delete([0,zs(c.path)])))});r.push(p)}}).next(()=>Fe.waitFor(r)).next(()=>i.apply(e)).next(()=>s)}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,i)}updateLimboDocument(e,t){return Ay(e,t)}Mn(e,t){const i=Xc(e);let r,s=da.A;return i.Wt({index:"documentTargetsIndex"},([c,h],{path:p,sequenceNumber:_})=>{0===c?(s!==da.A&&t(new dt(cl(r)),s),s=_,r=p):s=da.A}).next(()=>{s!==da.A&&t(new dt(cl(r)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Ay(n,e){return Xc(n).put((i=n.currentSequenceNumber,{targetId:0,path:zs(e.path),sequenceNumber:i}));var i}class fw{constructor(){this.changes=new zu(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Ii.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return void 0!==i?Fe.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Fx{constructor(e){this.M=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,i){return ah(e).put(i)}removeEntry(e,t,i){return ah(e).delete(function(r,s){const c=r.path.toArray();return[c.slice(0,c.length-2),c[c.length-2],Cy(s),c[c.length-1]]}(t,i))}updateMetadata(e,t){return this.getMetadata(e).next(i=>(i.byteSize+=t,this.Fn(e,i)))}getEntry(e,t){let i=Ii.newInvalidDocument(t);return ah(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(My(t))},(r,s)=>{i=this.$n(t,s)}).next(()=>i)}Bn(e,t){let i={size:0,document:Ii.newInvalidDocument(t)};return ah(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(My(t))},(r,s)=>{i={document:this.$n(t,s),size:Sy(s)}}).next(()=>i)}getEntries(e,t){let i=Ba();return this.Ln(e,t,(r,s)=>{const c=this.$n(r,s);i=i.insert(r,c)}).next(()=>i)}Un(e,t){let i=Ba(),r=new cr(dt.comparator);return this.Ln(e,t,(s,c)=>{const h=this.$n(s,c);i=i.insert(s,h),r=r.insert(s,Sy(c))}).next(()=>({documents:i,qn:r}))}Ln(e,t,i){if(t.isEmpty())return Fe.resolve();let r=new Li(JD);t.forEach(p=>r=r.add(p));const s=IDBKeyRange.bound(My(r.first()),My(r.last())),c=r.getIterator();let h=c.getNext();return ah(e).Wt({index:"documentKeyIndex",range:s},(p,_,T)=>{const S=dt.fromSegments([..._.prefixPath,_.collectionGroup,_.documentId]);for(;h&&JD(h,S)<0;)i(h,null),h=c.getNext();h&&h.isEqual(S)&&(i(h,_),h=c.hasNext()?c.getNext():null),h?T.Ut(My(h)):T.done()}).next(()=>{for(;h;)i(h,null),h=c.hasNext()?c.getNext():null})}getAllFromCollection(e,t,i){const r=[t.popLast().toArray(),t.lastSegment(),Cy(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],s=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return ah(e).qt(IDBKeyRange.bound(r,s,!0)).next(c=>{let h=Ba();for(const p of c){const _=this.$n(dt.fromSegments(p.prefixPath.concat(p.collectionGroup,p.documentId)),p);h=h.insert(_.key,_)}return h})}getAllFromCollectionGroup(e,t,i,r){let s=Ba();const c=mw(t,i),h=mw(t,zc.max());return ah(e).Wt({index:"collectionGroupIndex",range:IDBKeyRange.bound(c,h,!0)},(p,_,T)=>{const S=this.$n(dt.fromSegments(_.prefixPath.concat(_.collectionGroup,_.documentId)),_);s=s.insert(S.key,S),s.size===r&&T.done()}).next(()=>s)}newChangeBuffer(e){return new Lx(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return pw(e).get("remoteDocumentGlobalKey").next(t=>(Xt(!!t),t))}Fn(e,t){return pw(e).put("remoteDocumentGlobalKey",t)}$n(e,t){if(t){const i=function HD(n,e){let t;if(e.document)t=SD(n.Jt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const i=dt.fromSegments(e.noDocument.path),r=Wu(e.noDocument.readTime);t=Ii.newNoDocument(i,r),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return Mt();{const i=dt.fromSegments(e.unknownDocument.path),r=Wu(e.unknownDocument.version);t=Ii.newUnknownDocument(i,r)}}return e.readTime&&t.setReadTime(function(i){const r=new gn(i[0],i[1]);return Qt.fromTimestamp(r)}(e.readTime)),t}(this.M,t);if(!i.isNoDocument()||!i.version.isEqual(Qt.min()))return i}return Ii.newInvalidDocument(e)}}class Lx extends fw{constructor(e,t){super(),this.Kn=e,this.trackRemovals=t,this.Gn=new zu(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(e){const t=[];let i=0,r=new Li((s,c)=>mn(s.canonicalString(),c.canonicalString()));return this.changes.forEach((s,c)=>{const h=this.Gn.get(s);if(t.push(this.Kn.removeEntry(e,s,h.readTime)),c.isValidDocument()){const p=jD(this.Kn.M,c);r=r.add(s.path.popLast()),i+=Sy(p)-h.size,t.push(this.Kn.addEntry(e,s,p))}else if(i-=h.size,this.trackRemovals){const p=jD(this.Kn.M,c.convertToNoDocument(Qt.min()));t.push(this.Kn.addEntry(e,s,p))}}),r.forEach(s=>{t.push(this.Kn.indexManager.addToCollectionParentIndex(e,s))}),t.push(this.Kn.updateMetadata(e,i)),Fe.waitFor(t)}getFromCache(e,t){return this.Kn.Bn(e,t).next(i=>(this.Gn.set(t,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(e,t){return this.Kn.Un(e,t).next(({documents:i,qn:r})=>(r.forEach((s,c)=>{this.Gn.set(s,{size:c,readTime:i.get(s).readTime})}),i))}}function pw(n){return ds(n,"remoteDocumentGlobal")}function ah(n){return ds(n,"remoteDocumentsV14")}function My(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function mw(n,e){const t=e.documentKey.path.toArray();return[n,Cy(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function JD(n,e){const t=n.path.toArray(),i=e.path.toArray();let r=0;for(let s=0;s<t.length-2&&s<i.length-2;++s)if(r=mn(t[s],i[s]),r)return r;return r=mn(t.length,i.length),r||(r=mn(t[t.length-2],i[i.length-2]),r||mn(t[t.length-1],i[i.length-1]))}class Vx{constructor(e){this.M=e}kt(e,t,i,r){const s=new Bf("createOrUpgrade",t);var h;i<1&&r>=1&&(e.createObjectStore("owner"),(h=e).createObjectStore("mutationQueues",{keyPath:"userId"}),h.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",qs,{unique:!0}),h.createObjectStore("documentMutations"),XD(e),function(h){h.createObjectStore("remoteDocuments")}(e));let c=Fe.resolve();return i<3&&r>=3&&(0!==i&&(function(h){h.deleteObjectStore("targetDocuments"),h.deleteObjectStore("targets"),h.deleteObjectStore("targetGlobal")}(e),XD(e)),c=c.next(()=>function(h){const p=h.store("targetGlobal"),_={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Qt.min().toTimestamp(),targetCount:0};return p.put("targetGlobalKey",_)}(s))),i<4&&r>=4&&(0!==i&&(c=c.next(()=>function(h,p){return p.store("mutations").qt().next(_=>{h.deleteObjectStore("mutations"),h.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",qs,{unique:!0});const T=p.store("mutations"),S=_.map(P=>T.put(P));return Fe.waitFor(S)})}(e,s))),c=c.next(()=>{!function(h){h.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),i<5&&r>=5&&(c=c.next(()=>this.Qn(s))),i<6&&r>=6&&(c=c.next(()=>(function(h){h.createObjectStore("remoteDocumentGlobal")}(e),this.jn(s)))),i<7&&r>=7&&(c=c.next(()=>this.Wn(s))),i<8&&r>=8&&(c=c.next(()=>this.zn(e,s))),i<9&&r>=9&&(c=c.next(()=>{!function(h){h.objectStoreNames.contains("remoteDocumentChanges")&&h.deleteObjectStore("remoteDocumentChanges")}(e)})),i<10&&r>=10&&(c=c.next(()=>this.Hn(s))),i<11&&r>=11&&(c=c.next(()=>{(function(h){h.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(h){h.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),i<12&&r>=12&&(c=c.next(()=>{!function(h){const p=h.createObjectStore("documentOverlays",{keyPath:_y});p.createIndex("collectionPathOverlayIndex",Jb,{unique:!1}),p.createIndex("collectionGroupOverlayIndex",RN,{unique:!1})}(e)})),i<13&&r>=13&&(c=c.next(()=>function(h){const p=h.createObjectStore("remoteDocumentsV14",{keyPath:kN});p.createIndex("documentKeyIndex",Um),p.createIndex("collectionGroupIndex",Cx)}(e)).next(()=>this.Jn(e,s)).next(()=>e.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(c=c.next(()=>{!function(h){h.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),h.createObjectStore("indexState",{keyPath:Dx}).createIndex("sequenceNumberIndex",Qb,{unique:!1}),h.createObjectStore("indexEntries",{keyPath:FD}).createIndex("documentKeyIndex",LD,{unique:!1})}(e)})),c}jn(e){let t=0;return e.store("remoteDocuments").Wt((i,r)=>{t+=Sy(r)}).next(()=>{const i={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}Qn(e){const t=e.store("mutationQueues"),i=e.store("mutations");return t.qt().next(r=>Fe.forEach(r,s=>{const c=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return i.qt("userMutationsIndex",c).next(h=>Fe.forEach(h,p=>{Xt(p.userId===s.userId);const _=jm(this.M,p);return Iy(e,s.userId,_).next(()=>{})}))}))}Wn(e){const t=e.store("targetDocuments"),i=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(r=>{const s=[];return i.Wt((c,h)=>{const p=new Un(c),_=[0,zs(p)];s.push(t.get(_).next(T=>T?Fe.resolve():t.put({targetId:0,path:zs(p),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>Fe.waitFor(s))})}zn(e,t){e.createObjectStore("collectionParents",{keyPath:Tx});const i=t.store("collectionParents"),r=new uw,s=c=>{if(r.add(c)){const h=c.lastSegment(),p=c.popLast();return i.put({collectionId:h,parent:zs(p)})}};return t.store("remoteDocuments").Wt({jt:!0},(c,h)=>{const p=new Un(c);return s(p.popLast())}).next(()=>t.store("documentMutations").Wt({jt:!0},([c,h,p],_)=>{const T=cl(h);return s(T.popLast())}))}Hn(e){const t=e.store("targets");return t.Wt((i,r)=>{const s=Ey(r),c=Ax(this.M,s);return t.put(c)})}Jn(e,t){const i=t.store("remoteDocuments"),r=[];return i.Wt((s,c)=>{const h=t.store("remoteDocumentsV14"),p=(_=c,_.document?new dt(Un.fromString(_.document.name).popFirst(5)):_.noDocument?dt.fromSegments(_.noDocument.path):_.unknownDocument?dt.fromSegments(_.unknownDocument.path):Mt()).path.toArray();var _;const T={prefixPath:p.slice(0,p.length-2),collectionGroup:p[p.length-2],documentId:p[p.length-1],readTime:c.readTime||[0,0],unknownDocument:c.unknownDocument,noDocument:c.noDocument,document:c.document,hasCommittedMutations:!!c.hasCommittedMutations};r.push(h.put(T))}).next(()=>Fe.waitFor(r))}}function XD(n){n.createObjectStore("targetDocuments",{keyPath:Ex}).createIndex("documentTargetsIndex",PD,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Kb,{unique:!0}),n.createObjectStore("targetGlobal")}const xy="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Wm{constructor(e,t,i,r,s,c,h,p,_,T,S=13){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=i,this.Yn=s,this.window=c,this.document=h,this.Xn=_,this.Zn=T,this.ts=S,this.es=null,this.ns=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ss=null,this.inForeground=!1,this.rs=null,this.os=null,this.us=Number.NEGATIVE_INFINITY,this.cs=P=>Promise.resolve(),!Wm.vt())throw new Ze(Ie.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new PN(this,r),this.hs=t+"main",this.M=new rw(p),this.ls=new Ql(this.hs,this.ts,new Vx(this.M)),this.fs=new YD(this.referenceDelegate,this.M),this.ds=new Fx(this.M),this._s=new xx,this.window&&this.window.localStorage?this.ws=this.window.localStorage:(this.ws=null,!1===T&&Cr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.gs().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ze(Ie.FAILED_PRECONDITION,xy);return this.ys(),this.ps(),this.Is(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.fs.getHighestSequenceNumber(e))}).then(e=>{this.es=new da(e,this.Xn)}).then(()=>{this.ns=!0}).catch(e=>(this.ls&&this.ls.close(),Promise.reject(e)))}Ts(e){var t=this;return this.cs=function(){var i=(0,Pe.Z)(function*(r){if(t.started)return e(r)});return function(r){return i.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ls.Ot(function(){var t=(0,Pe.Z)(function*(i){null===i.newVersion&&(yield e())});return function(i){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Yn.enqueueAndForget((0,Pe.Z)(function*(){t.started&&(yield t.gs())})))}gs(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Zm(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Es(e).next(t=>{t||(this.isPrimary=!1,this.Yn.enqueueRetryable(()=>this.cs(!1)))})}).next(()=>this.As(e)).next(t=>this.isPrimary&&!t?this.Rs(e).next(()=>!1):!!t&&this.Ps(e).next(()=>!0))).catch(e=>{if(qu(e))return nt("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return nt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Yn.enqueueRetryable(()=>this.cs(e)),this.isPrimary=e})}Es(e){return lh(e).get("owner").next(t=>Fe.resolve(this.bs(t)))}Vs(e){return Zm(e).delete(this.clientId)}vs(){var e=this;return(0,Pe.Z)(function*(){if(e.isPrimary&&!e.Ss(e.us,18e5)){e.us=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=ds(i,"clientMetadata");return r.qt().next(s=>{const c=e.Ds(s,18e5),h=s.filter(p=>-1===c.indexOf(p));return Fe.forEach(h,p=>r.delete(p.clientId)).next(()=>h)})}).catch(()=>[]);if(e.ws)for(const i of t)e.ws.removeItem(e.Cs(i.clientId))}})()}Is(){this.os=this.Yn.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.gs().then(()=>this.vs()).then(()=>this.Is()))}bs(e){return!!e&&e.ownerId===this.clientId}As(e){return this.Zn?Fe.resolve(!0):lh(e).get("owner").next(t=>{if(null!==t&&this.Ss(t.leaseTimestampMs,5e3)&&!this.xs(t.ownerId)){if(this.bs(t)&&this.networkEnabled)return!0;if(!this.bs(t)){if(!t.allowTabSynchronization)throw new Ze(Ie.FAILED_PRECONDITION,xy);return!1}}return!(!this.networkEnabled||!this.inForeground)||Zm(e).qt().next(i=>void 0===this.Ds(i,5e3).find(r=>{if(this.clientId!==r.clientId){const c=!this.inForeground&&r.inForeground,h=this.networkEnabled===r.networkEnabled;if(!this.networkEnabled&&r.networkEnabled||c&&h)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&nt("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,Pe.Z)(function*(){e.ns=!1,e.Ns(),e.os&&(e.os.cancel(),e.os=null),e.ks(),e.Ms(),yield e.ls.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const i=new UD(t,da.A);return e.Rs(i).next(()=>e.Vs(i))}),e.ls.close(),e.Os()})()}Ds(e,t){return e.filter(i=>this.Ss(i.updateTimeMs,t)&&!this.xs(i.clientId))}Fs(){return this.runTransaction("getActiveClients","readonly",e=>Zm(e).qt().next(t=>this.Ds(t,18e5).map(i=>i.clientId)))}get started(){return this.ns}getMutationQueue(e,t){return ha.Yt(e,this.M,t,this.referenceDelegate)}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getIndexManager(e){return new NN(e,this.M.Jt.databaseId)}getDocumentOverlayCache(e){return GD.Yt(this.M,e)}getBundleCache(){return this._s}runTransaction(e,t,i){nt("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",s=14===(c=this.ts)?yy:13===c?ew:12===c?Ix:11===c?Xb:void Mt();var c;let h;return this.ls.runTransaction(e,r,s,p=>(h=new UD(p,this.es?this.es.next():da.A),"readwrite-primary"===t?this.Es(h).next(_=>!!_||this.As(h)).next(_=>{if(!_)throw Cr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Yn.enqueueRetryable(()=>this.cs(!1)),new Ze(Ie.FAILED_PRECONDITION,tw);return i(h)}).next(_=>this.Ps(h).next(()=>_)):this.$s(h).next(()=>i(h)))).then(p=>(h.raiseOnCommittedEvent(),p))}$s(e){return lh(e).get("owner").next(t=>{if(null!==t&&this.Ss(t.leaseTimestampMs,5e3)&&!this.xs(t.ownerId)&&!this.bs(t)&&!(this.Zn||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Ze(Ie.FAILED_PRECONDITION,xy)})}Ps(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return lh(e).put("owner",t)}static vt(){return Ql.vt()}Rs(e){const t=lh(e);return t.get("owner").next(i=>this.bs(i)?(nt("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):Fe.resolve())}Ss(e,t){const i=Date.now();return!(e<i-t||e>i&&(Cr(`Detected an update time that is in the future: ${e} > ${i}`),1))}ys(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.rs=()=>{this.Yn.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.gs()))},this.document.addEventListener("visibilitychange",this.rs),this.inForeground="visible"===this.document.visibilityState)}ks(){this.rs&&(this.document.removeEventListener("visibilitychange",this.rs),this.rs=null)}ps(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ss=()=>{this.Ns(),(0,j.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Yn.enterRestrictedMode(!0),this.Yn.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ss))}Ms(){this.ss&&(this.window.removeEventListener("pagehide",this.ss),this.ss=null)}xs(e){var t;try{const i=null!==(null===(t=this.ws)||void 0===t?void 0:t.getItem(this.Cs(e)));return nt("IndexedDbPersistence",`Client '${e}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return Cr("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}Ns(){if(this.ws)try{this.ws.setItem(this.Cs(this.clientId),String(Date.now()))}catch(e){Cr("Failed to set zombie client id.",e)}}Os(){if(this.ws)try{this.ws.removeItem(this.Cs(this.clientId))}catch(e){}}Cs(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function lh(n){return ds(n,"owner")}function Zm(n){return ds(n,"clientMetadata")}function gw(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class eI{constructor(e,t,i){this.ds=e,this.Bs=t,this.indexManager=i}Ls(e,t){return this.Bs.getAllMutationBatchesAffectingDocumentKey(e,t).next(i=>this.Us(e,t,i))}Us(e,t,i){return this.ds.getEntry(e,t).next(r=>{for(const s of i)s.applyToLocalView(r);return r})}qs(e,t){e.forEach((i,r)=>{for(const s of t)s.applyToLocalView(r)})}Ks(e,t){return this.ds.getEntries(e,t).next(i=>this.Gs(e,i).next(()=>i))}Gs(e,t){return this.Bs.getAllMutationBatchesAffectingDocumentKeys(e,t).next(i=>this.qs(t,i))}Qs(e,t,i){return dt.isDocumentKey((r=t).path)&&null===r.collectionGroup&&0===r.filters.length?this.js(e,t.path):Dm(t)?this.Ws(e,t,i):this.zs(e,t,i);var r}js(e,t){return this.Ls(e,new dt(t)).next(i=>{let r=Xd();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}Ws(e,t,i){const r=t.collectionGroup;let s=Xd();return this.indexManager.getCollectionParents(e,r).next(c=>Fe.forEach(c,h=>{const p=(_=t,T=h.child(r),new Zl(T,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt));var _,T;return this.zs(e,p,i).next(_=>{_.forEach((T,S)=>{s=s.insert(T,S)})})}).next(()=>s))}zs(e,t,i){let r;return this.ds.getAllFromCollection(e,t.path,i).next(s=>(r=s,this.Bs.getAllMutationBatchesAffectingQuery(e,t))).next(s=>{for(const c of s)for(const h of c.mutations){const p=h.key;let _=r.get(p);null==_&&(_=Ii.newInvalidDocument(p),r=r.insert(p,_)),km(h,_,c.localWriteTime),_.isFoundDocument()||(r=r.remove(p))}}).next(()=>(r.forEach((s,c)=>{cy(t,c)||(r=r.remove(s))}),r))}}class ky{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.Hs=i,this.Js=r}static Ys(e,t){let i=ri(),r=ri();for(const s of t.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new ky(e,t.fromCache,i,r)}}class tI{Xs(e){this.Zs=e}Qs(e,t,i,r){return 0===(s=t).filters.length&&null===s.limit&&null==s.startAt&&null==s.endAt&&(0===s.explicitOrderBy.length||1===s.explicitOrderBy.length&&s.explicitOrderBy[0].field.isKeyField())||i.isEqual(Qt.min())?this.ti(e,t):this.Zs.Ks(e,r).next(s=>{const c=this.ei(t,s);return(oy(t)||Rf(t))&&this.ni(t.limitType,c,r,i)?this.ti(e,t):(K_()<=Nr.in.DEBUG&&nt("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Nb(t)),this.Zs.Qs(e,t,nD(i,-1)).next(h=>(c.forEach(p=>{h=h.insert(p.key,p)}),h)))});var s}ei(e,t){let i=new Li(Pb(e));return t.forEach((r,s)=>{cy(e,s)&&(i=i.add(s))}),i}ni(e,t,i,r){if(i.size!==t.size)return!0;const s="F"===e?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}ti(e,t){return K_()<=Nr.in.DEBUG&&nt("QueryEngine","Using full collection scan to execute query:",Nb(t)),this.Zs.Qs(e,t,zc.min())}}class Bx{constructor(e,t,i,r){this.persistence=e,this.si=t,this.M=r,this.ii=new cr(mn),this.ri=new zu(s=>qd(s),xf),this.oi=new Map,this.ui=e.getRemoteDocumentCache(),this.fs=e.getTargetCache(),this._s=e.getBundleCache(),this.ai(i)}ai(e){this.indexManager=this.persistence.getIndexManager(e),this.Bs=this.persistence.getMutationQueue(e,this.indexManager),this.ci=new eI(this.ui,this.Bs,this.indexManager),this.ui.setIndexManager(this.indexManager),this.si.Xs(this.ci)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.ii))}}function Ux(n,e,t,i){return new Bx(n,e,t,i)}function Hx(n,e){return Ry.apply(this,arguments)}function Ry(){return Ry=(0,Pe.Z)(function*(n,e){const t=mt(n);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let r;return t.Bs.getAllMutationBatches(i).next(s=>(r=s,t.ai(e),t.Bs.getAllMutationBatches(i))).next(s=>{const c=[],h=[];let p=ri();for(const _ of r){c.push(_.batchId);for(const T of _.mutations)p=p.add(T.key)}for(const _ of s){h.push(_.batchId);for(const T of _.mutations)p=p.add(T.key)}return t.ci.Ks(i,p).next(_=>({hi:_,removedBatchIds:c,addedBatchIds:h}))})})}),Ry.apply(this,arguments)}function jx(n,e){const t=mt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),s=t.ui.newChangeBuffer({trackRemovals:!0});return function(c,h,p,_){const T=p.batch,S=T.keys();let P=Fe.resolve();return S.forEach(H=>{P=P.next(()=>_.getEntry(h,H)).next(q=>{const ae=p.docVersions.get(H);Xt(null!==ae),q.version.compareTo(ae)<0&&(T.applyToRemoteDocument(q,p),q.isValidDocument()&&(q.setReadTime(p.commitVersion),_.addEntry(q)))})}),P.next(()=>c.Bs.removeMutationBatch(h,T))}(t,i,e,s).next(()=>s.apply(i)).next(()=>t.Bs.performConsistencyCheck(i)).next(()=>t.ci.Ks(i,r))})}function nI(n){const e=mt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.fs.getLastRemoteSnapshotVersion(t))}function Gx(n,e){const t=mt(n),i=e.snapshotVersion;let r=t.ii;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const c=t.ui.newChangeBuffer({trackRemovals:!0});r=t.ii;const h=[];e.targetChanges.forEach((_,T)=>{const S=r.get(T);if(!S)return;h.push(t.fs.removeMatchingKeys(s,_.removedDocuments,T).next(()=>t.fs.addMatchingKeys(s,_.addedDocuments,T)));let P=S.withSequenceNumber(s.currentSequenceNumber);var H,q,ae;e.targetMismatches.has(T)?P=P.withResumeToken(Jr.EMPTY_BYTE_STRING,Qt.min()).withLastLimboFreeSnapshotVersion(Qt.min()):_.resumeToken.approximateByteSize()>0&&(P=P.withResumeToken(_.resumeToken,i)),r=r.insert(T,P),q=P,ae=_,(0===(H=S).resumeToken.approximateByteSize()||q.snapshotVersion.toMicroseconds()-H.snapshotVersion.toMicroseconds()>=3e8||ae.addedDocuments.size+ae.modifiedDocuments.size+ae.removedDocuments.size>0)&&h.push(t.fs.updateTargetData(s,P))});let p=Ba();if(e.documentUpdates.forEach(_=>{e.resolvedLimboDocuments.has(_)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(s,_))}),h.push($x(s,c,e.documentUpdates).next(_=>{p=_})),!i.isEqual(Qt.min())){const _=t.fs.getLastRemoteSnapshotVersion(s).next(T=>t.fs.setTargetsMetadata(s,s.currentSequenceNumber,i));h.push(_)}return Fe.waitFor(h).next(()=>c.apply(s)).next(()=>t.ci.Gs(s,p)).next(()=>p)}).then(s=>(t.ii=r,s))}function $x(n,e,t){let i=ri();return t.forEach(r=>i=i.add(r)),e.getEntries(n,i).next(r=>{let s=Ba();return t.forEach((c,h)=>{const p=r.get(c);h.isNoDocument()&&h.version.isEqual(Qt.min())?(e.removeEntry(c,h.readTime),s=s.insert(c,h)):!p.isValidDocument()||h.version.compareTo(p.version)>0||0===h.version.compareTo(p.version)&&p.hasPendingWrites?(e.addEntry(h),s=s.insert(c,h)):nt("LocalStore","Ignoring outdated watch update for ",c,". Current version:",p.version," Watch version:",h.version)}),s})}function FN(n,e){const t=mt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===e&&(e=-1),t.Bs.getNextMutationBatchAfterBatchId(i,e)))}function Ym(n,e){const t=mt(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return t.fs.getTargetData(i,e).next(s=>s?(r=s,Fe.resolve(r)):t.fs.allocateTargetId(i).next(c=>(r=new Yc(e,c,0,i.currentSequenceNumber),t.fs.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=t.ii.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.ii=t.ii.insert(i.targetId,i),t.ri.set(e,i.targetId)),i})}function Km(n,e,t){return iI.apply(this,arguments)}function iI(){return iI=(0,Pe.Z)(function*(n,e,t){const i=mt(n),r=i.ii.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",s,c=>i.persistence.referenceDelegate.removeTarget(c,r)))}catch(c){if(!qu(c))throw c;nt("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}i.ii=i.ii.remove(e),i.ri.delete(r.target)}),iI.apply(this,arguments)}function Oy(n,e,t){const i=mt(n);let r=Qt.min(),s=ri();return i.persistence.runTransaction("Execute query","readonly",c=>function(h,p,_){const T=mt(h),S=T.ri.get(_);return void 0!==S?Fe.resolve(T.ii.get(S)):T.fs.getTargetData(p,_)}(i,c,La(e)).next(h=>{if(h)return r=h.lastLimboFreeSnapshotVersion,i.fs.getMatchingKeysForTargetId(c,h.targetId).next(p=>{s=p})}).next(()=>i.si.Qs(c,e,t?r:Qt.min(),t?s:ri())).next(h=>(sI(i,fD(e),h),{documents:h,li:s})))}function Qm(n,e){const t=mt(n),i=mt(t.fs),r=t.ii.get(e);return r?Promise.resolve(r.target):t.persistence.runTransaction("Get target data","readonly",s=>i.Et(s,e).next(c=>c?c.target:null))}function rI(n,e){const t=mt(n),i=t.oi.get(e)||Qt.min();return t.persistence.runTransaction("Get new document changes","readonly",r=>t.ui.getAllFromCollectionGroup(r,e,nD(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(sI(t,e,r),r))}function sI(n,e,t){let i=Qt.min();t.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),n.oi.set(e,i)}function eu(){return eu=(0,Pe.Z)(function*(n,e,t,i){const r=mt(n);let s=ri(),c=Ba();for(const _ of t){const T=e.fi(_.metadata.name);_.document&&(s=s.add(T));const S=e.di(_);S.setReadTime(e._i(_.metadata.readTime)),c=c.insert(T,S)}const h=r.ui.newChangeBuffer({trackRemovals:!0}),p=yield Ym(r,(_=i,La(kf(Un.fromString(`__bundle__/docs/${_}`)))));var _;return r.persistence.runTransaction("Apply bundle documents","readwrite",_=>$x(_,h,c).next(T=>(h.apply(_),T)).next(T=>r.fs.removeMatchingKeysForTargetId(_,p.targetId).next(()=>r.fs.addMatchingKeys(_,s,p.targetId)).next(()=>r.ci.Gs(_,T)).next(()=>T)))}),eu.apply(this,arguments)}function aI(n,e){return Jm.apply(this,arguments)}function Jm(){return Jm=(0,Pe.Z)(function*(n,e,t=ri()){const i=yield Ym(n,La(sw(e.bundledQuery))),r=mt(n);return r.persistence.runTransaction("Save named query","readwrite",s=>{const c=us(e.readTime);if(i.snapshotVersion.compareTo(c)>=0)return r._s.saveNamedQuery(s,e);const h=i.withResumeToken(Jr.EMPTY_BYTE_STRING,c);return r.ii=r.ii.insert(h.targetId,h),r.fs.updateTargetData(s,h).next(()=>r.fs.removeMatchingKeysForTargetId(s,i.targetId)).next(()=>r.fs.addMatchingKeys(s,t,i.targetId)).next(()=>r._s.saveNamedQuery(s,e))})}),Jm.apply(this,arguments)}class _w{constructor(e){this.M=e,this.wi=new Map,this.mi=new Map}getBundleMetadata(e,t){return Fe.resolve(this.wi.get(t))}saveBundleMetadata(e,t){var i;return this.wi.set(t.id,{id:(i=t).id,version:i.version,createTime:us(i.createTime)}),Fe.resolve()}getNamedQuery(e,t){return Fe.resolve(this.mi.get(t))}saveNamedQuery(e,t){return this.mi.set(t.name,{name:(i=t).name,query:sw(i.bundledQuery),readTime:us(i.readTime)}),Fe.resolve();var i}}class zx{constructor(){this.overlays=new cr(dt.comparator),this.gi=new Map}getOverlay(e,t){return Fe.resolve(this.overlays.get(t))}saveOverlays(e,t,i){return i.forEach((r,s)=>{this.Xt(e,t,s)}),Fe.resolve()}removeOverlaysForBatchId(e,t,i){const r=this.gi.get(i);return void 0!==r&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.gi.delete(i)),Fe.resolve()}getOverlaysForCollection(e,t,i){const r=Ff(),s=t.length+1,c=new dt(t.child("")),h=this.overlays.getIteratorFrom(c);for(;h.hasNext();){const p=h.getNext().value,_=p.getKey();if(!t.isPrefixOf(_.path))break;_.path.length===s&&p.largestBatchId>i&&r.set(p.getKey(),p)}return Fe.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let s=new cr((_,T)=>_-T);const c=this.overlays.getIterator();for(;c.hasNext();){const _=c.getNext().value;if(_.getKey().getCollectionGroup()===t&&_.largestBatchId>i){let T=s.get(_.largestBatchId);null===T&&(T=Ff(),s=s.insert(_.largestBatchId,T)),T.set(_.getKey(),_)}}const h=Ff(),p=s.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((_,T)=>h.set(_,T)),!(h.size()>=r)););return Fe.resolve(h)}Xt(e,t,i){if(null===i)return;const r=this.overlays.get(i.key);if(null!==r){const c=this.gi.get(r.largestBatchId).delete(i.key);this.gi.set(r.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new wy(t,i));let s=this.gi.get(t);void 0===s&&(s=ri(),this.gi.set(t,s)),this.gi.set(t,s.add(i.key))}}class Xm{constructor(){this.yi=new Li(Fr.pi),this.Ii=new Li(Fr.Ti)}isEmpty(){return this.yi.isEmpty()}addReference(e,t){const i=new Fr(e,t);this.yi=this.yi.add(i),this.Ii=this.Ii.add(i)}Ei(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.Ai(new Fr(e,t))}Ri(e,t){e.forEach(i=>this.removeReference(i,t))}Pi(e){const t=new dt(new Un([])),i=new Fr(t,e),r=new Fr(t,e+1),s=[];return this.Ii.forEachInRange([i,r],c=>{this.Ai(c),s.push(c.key)}),s}bi(){this.yi.forEach(e=>this.Ai(e))}Ai(e){this.yi=this.yi.delete(e),this.Ii=this.Ii.delete(e)}Vi(e){const t=new dt(new Un([])),i=new Fr(t,e),r=new Fr(t,e+1);let s=ri();return this.Ii.forEachInRange([i,r],c=>{s=s.add(c.key)}),s}containsKey(e){const t=new Fr(e,0),i=this.yi.firstAfterOrEqual(t);return null!==i&&e.isEqual(i.key)}}class Fr{constructor(e,t){this.key=e,this.vi=t}static pi(e,t){return dt.comparator(e.key,t.key)||mn(e.vi,t.vi)}static Ti(e,t){return mn(e.vi,t.vi)||dt.comparator(e.key,t.key)}}class Ny{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.Bs=[],this.Si=1,this.Di=new Li(Fr.pi)}checkEmpty(e){return Fe.resolve(0===this.Bs.length)}addMutationBatch(e,t,i,r){const s=this.Si;this.Si++;const c=new by(s,t,i,r);this.Bs.push(c);for(const h of r)this.Di=this.Di.add(new Fr(h.key,s)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return Fe.resolve(c)}lookupMutationBatch(e,t){return Fe.resolve(this.Ci(t))}getNextMutationBatchAfterBatchId(e,t){const r=this.xi(t+1),s=r<0?0:r;return Fe.resolve(this.Bs.length>s?this.Bs[s]:null)}getHighestUnacknowledgedBatchId(){return Fe.resolve(0===this.Bs.length?-1:this.Si-1)}getAllMutationBatches(e){return Fe.resolve(this.Bs.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Fr(t,0),r=new Fr(t,Number.POSITIVE_INFINITY),s=[];return this.Di.forEachInRange([i,r],c=>{const h=this.Ci(c.vi);s.push(h)}),Fe.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Li(mn);return t.forEach(r=>{const s=new Fr(r,0),c=new Fr(r,Number.POSITIVE_INFINITY);this.Di.forEachInRange([s,c],h=>{i=i.add(h.vi)})}),Fe.resolve(this.Ni(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1;let s=i;dt.isDocumentKey(s)||(s=s.child(""));const c=new Fr(new dt(s),0);let h=new Li(mn);return this.Di.forEachWhile(p=>{const _=p.key.path;return!!i.isPrefixOf(_)&&(_.length===r&&(h=h.add(p.vi)),!0)},c),Fe.resolve(this.Ni(h))}Ni(e){const t=[];return e.forEach(i=>{const r=this.Ci(i);null!==r&&t.push(r)}),t}removeMutationBatch(e,t){Xt(0===this.ki(t.batchId,"removed")),this.Bs.shift();let i=this.Di;return Fe.forEach(t.mutations,r=>{const s=new Fr(r.key,t.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Di=i})}_n(e){}containsKey(e,t){const i=new Fr(t,0),r=this.Di.firstAfterOrEqual(i);return Fe.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return Fe.resolve()}ki(e,t){return this.xi(e)}xi(e){return 0===this.Bs.length?0:e-this.Bs[0].batchId}Ci(e){const t=this.xi(e);return t<0||t>=this.Bs.length?null:this.Bs[t]}}class LN{constructor(e){this.Mi=e,this.docs=new cr(dt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,r=this.docs.get(i),s=r?r.size:0,c=this.Mi(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:c}),this.size+=c-s,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return Fe.resolve(i?i.document.mutableCopy():Ii.newInvalidDocument(t))}getEntries(e,t){let i=Ba();return t.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():Ii.newInvalidDocument(r))}),Fe.resolve(i)}getAllFromCollection(e,t,i){let r=Ba();const s=new dt(t.child("")),c=this.docs.getIteratorFrom(s);for(;c.hasNext();){const{key:h,value:{document:p}}=c.getNext();if(!t.isPrefixOf(h.path))break;h.path.length>t.length+1||rD(iD(p),i)<=0||(r=r.insert(p.key,p.mutableCopy()))}return Fe.resolve(r)}getAllFromCollectionGroup(e,t,i,r){Mt()}Oi(e,t){return Fe.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new VN(this)}getSize(e){return Fe.resolve(this.size)}}class VN extends fw{constructor(e){super(),this.Kn=e}applyChanges(e){const t=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?t.push(this.Kn.addEntry(e,r)):this.Kn.removeEntry(i)}),Fe.waitFor(t)}getFromCache(e,t){return this.Kn.getEntry(e,t)}getAllFromCache(e,t){return this.Kn.getEntries(e,t)}}class BN{constructor(e){this.persistence=e,this.Fi=new zu(t=>qd(t),xf),this.lastRemoteSnapshotVersion=Qt.min(),this.highestTargetId=0,this.$i=0,this.Bi=new Xm,this.targetCount=0,this.Li=Jc.gn()}forEachTarget(e,t){return this.Fi.forEach((i,r)=>t(r)),Fe.resolve()}getLastRemoteSnapshotVersion(e){return Fe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Fe.resolve(this.$i)}allocateTargetId(e){return this.highestTargetId=this.Li.next(),Fe.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.$i&&(this.$i=t),Fe.resolve()}Tn(e){this.Fi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Li=new Jc(t),this.highestTargetId=t),e.sequenceNumber>this.$i&&(this.$i=e.sequenceNumber)}addTargetData(e,t){return this.Tn(t),this.targetCount+=1,Fe.resolve()}updateTargetData(e,t){return this.Tn(t),Fe.resolve()}removeTargetData(e,t){return this.Fi.delete(t.target),this.Bi.Pi(t.targetId),this.targetCount-=1,Fe.resolve()}removeTargets(e,t,i){let r=0;const s=[];return this.Fi.forEach((c,h)=>{h.sequenceNumber<=t&&null===i.get(h.targetId)&&(this.Fi.delete(c),s.push(this.removeMatchingKeysForTargetId(e,h.targetId)),r++)}),Fe.waitFor(s).next(()=>r)}getTargetCount(e){return Fe.resolve(this.targetCount)}getTargetData(e,t){const i=this.Fi.get(t)||null;return Fe.resolve(i)}addMatchingKeys(e,t,i){return this.Bi.Ei(t,i),Fe.resolve()}removeMatchingKeys(e,t,i){this.Bi.Ri(t,i);const r=this.persistence.referenceDelegate,s=[];return r&&t.forEach(c=>{s.push(r.markPotentiallyOrphaned(e,c))}),Fe.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.Bi.Pi(t),Fe.resolve()}getMatchingKeysForTargetId(e,t){const i=this.Bi.Vi(t);return Fe.resolve(i)}containsKey(e,t){return Fe.resolve(this.Bi.containsKey(t))}}class UN{constructor(e,t){this.Ui={},this.overlays={},this.es=new da(0),this.ns=!1,this.ns=!0,this.referenceDelegate=e(this),this.fs=new BN(this),this.indexManager=new cw,this.ds=new LN(i=>this.referenceDelegate.qi(i)),this.M=new rw(t),this._s=new _w(this.M)}start(){return Promise.resolve()}shutdown(){return this.ns=!1,Promise.resolve()}get started(){return this.ns}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new zx,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Ui[e.toKey()];return i||(i=new Ny(t,this.referenceDelegate),this.Ui[e.toKey()]=i),i}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getBundleCache(){return this._s}runTransaction(e,t,i){nt("MemoryPersistence","Starting transaction:",e);const r=new lI(this.es.next());return this.referenceDelegate.Ki(),i(r).next(s=>this.referenceDelegate.Gi(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Qi(e,t){return Fe.or(Object.values(this.Ui).map(i=>()=>i.containsKey(e,t)))}}class lI extends VD{constructor(e){super(),this.currentSequenceNumber=e}}class yw{constructor(e){this.persistence=e,this.ji=new Xm,this.Wi=null}static zi(e){return new yw(e)}get Hi(){if(this.Wi)return this.Wi;throw Mt()}addReference(e,t,i){return this.ji.addReference(i,t),this.Hi.delete(i.toString()),Fe.resolve()}removeReference(e,t,i){return this.ji.removeReference(i,t),this.Hi.add(i.toString()),Fe.resolve()}markPotentiallyOrphaned(e,t){return this.Hi.add(t.toString()),Fe.resolve()}removeTarget(e,t){this.ji.Pi(t.targetId).forEach(r=>this.Hi.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(r=>{r.forEach(s=>this.Hi.add(s.toString()))}).next(()=>i.removeTargetData(e,t))}Ki(){this.Wi=new Set}Gi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Fe.forEach(this.Hi,i=>{const r=dt.fromPath(i);return this.Ji(e,r).next(s=>{s||t.removeEntry(r,Qt.min())})}).next(()=>(this.Wi=null,t.apply(e)))}updateLimboDocument(e,t){return this.Ji(e,t).next(i=>{i?this.Hi.delete(t.toString()):this.Hi.add(t.toString())})}qi(e){return 0}Ji(e,t){return Fe.or([()=>Fe.resolve(this.ji.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Qi(e,t)])}}function cI(n,e){return`firestore_clients_${n}_${e}`}function uI(n,e,t){let i=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(i+=`_${e.uid}`),i}function vw(n,e){return`firestore_targets_${n}_${e}`}class eg{constructor(e,t,i,r){this.user=e,this.batchId=t,this.state=i,this.error=r}static Yi(e,t,i){const r=JSON.parse(i);let s,c="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return c&&r.error&&(c="string"==typeof r.error.message&&"string"==typeof r.error.code,c&&(s=new Ze(r.error.code,r.error.message))),c?new eg(e,t,r.state,s):(Cr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${i}`),null)}Xi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class $f{constructor(e,t,i){this.targetId=e,this.state=t,this.error=i}static Yi(e,t){const i=JSON.parse(t);let r,s="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return s&&i.error&&(s="string"==typeof i.error.message&&"string"==typeof i.error.code,s&&(r=new Ze(i.error.code,i.error.message))),s?new $f(e,i.state,r):(Cr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Xi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class tg{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Yi(e,t){const i=JSON.parse(t);let r="object"==typeof i&&i.activeTargetIds instanceof Array,s=Nm();for(let c=0;r&&c<i.activeTargetIds.length;++c)r=ZT(i.activeTargetIds[c]),s=s.add(i.activeTargetIds[c]);return r?new tg(e,s):(Cr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class bw{constructor(e,t){this.clientId=e,this.onlineState=t}static Yi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new bw(t.clientId,t.onlineState):(Cr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class ww{constructor(){this.activeTargetIds=Nm()}Zi(e){this.activeTargetIds=this.activeTargetIds.add(e)}tr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Xi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Py{constructor(e,t,i,r,s){this.window=e,this.Yn=t,this.persistenceKey=i,this.er=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.nr=this.sr.bind(this),this.ir=new cr(mn),this.started=!1,this.rr=[];const c=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.ur=cI(this.persistenceKey,this.er),this.ar=`firestore_sequence_number_${this.persistenceKey}`,this.ir=this.ir.insert(this.er,new ww),this.cr=new RegExp(`^firestore_clients_${c}_([^_]*)$`),this.hr=new RegExp(`^firestore_mutations_${c}_(\\d+)(?:_(.*))?$`),this.lr=new RegExp(`^firestore_targets_${c}_(\\d+)$`),this.dr=`firestore_online_state_${this.persistenceKey}`,this._r=function(h){return`firestore_bundle_loaded_v2_${h}`}(this.persistenceKey),this.window.addEventListener("storage",this.nr)}static vt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Pe.Z)(function*(){const t=yield e.syncEngine.Fs();for(const r of t){if(r===e.er)continue;const s=e.getItem(cI(e.persistenceKey,r));if(s){const c=tg.Yi(r,s);c&&(e.ir=e.ir.insert(c.clientId,c))}}e.wr();const i=e.storage.getItem(e.dr);if(i){const r=e.mr(i);r&&e.gr(r)}for(const r of e.rr)e.sr(r);e.rr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ar,JSON.stringify(e))}getAllActiveQueryTargets(){return this.yr(this.ir)}isActiveQueryTarget(e){let t=!1;return this.ir.forEach((i,r)=>{r.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.pr(e,"pending")}updateMutationState(e,t,i){this.pr(e,t,i),this.Ir(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(vw(this.persistenceKey,e));if(i){const r=$f.Yi(e,i);r&&(t=r.state)}}return this.Tr.Zi(e),this.wr(),t}removeLocalQueryTarget(e){this.Tr.tr(e),this.wr()}isLocalQueryTarget(e){return this.Tr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(vw(this.persistenceKey,e))}updateQueryState(e,t,i){this.Er(e,t,i)}handleUserChange(e,t,i){t.forEach(r=>{this.Ir(r)}),this.currentUser=e,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(e){this.Ar(e)}notifyBundleLoaded(e){this.Rr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.nr),this.removeItem(this.ur),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return nt("SharedClientState","READ",e,t),t}setItem(e,t){nt("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){nt("SharedClientState","REMOVE",e),this.storage.removeItem(e)}sr(e){var t=this;const i=e;if(i.storageArea===this.storage){if(nt("SharedClientState","EVENT",i.key,i.newValue),i.key===this.ur)return void Cr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Yn.enqueueRetryable((0,Pe.Z)(function*(){if(t.started){if(null!==i.key)if(t.cr.test(i.key)){if(null==i.newValue){const r=t.Pr(i.key);return t.br(r,null)}{const r=t.Vr(i.key,i.newValue);if(r)return t.br(r.clientId,r)}}else if(t.hr.test(i.key)){if(null!==i.newValue){const r=t.vr(i.key,i.newValue);if(r)return t.Sr(r)}}else if(t.lr.test(i.key)){if(null!==i.newValue){const r=t.Dr(i.key,i.newValue);if(r)return t.Cr(r)}}else if(i.key===t.dr){if(null!==i.newValue){const r=t.mr(i.newValue);if(r)return t.gr(r)}}else if(i.key===t.ar){const r=function(s){let c=da.A;if(null!=s)try{const h=JSON.parse(s);Xt("number"==typeof h),c=h}catch(h){Cr("SharedClientState","Failed to read sequence number from WebStorage",h)}return c}(i.newValue);r!==da.A&&t.sequenceNumberHandler(r)}else if(i.key===t._r){const r=t.Nr(i.newValue);yield Promise.all(r.map(s=>t.syncEngine.kr(s)))}}else t.rr.push(i)}))}}get Tr(){return this.ir.get(this.er)}wr(){this.setItem(this.ur,this.Tr.Xi())}pr(e,t,i){const r=new eg(this.currentUser,e,t,i),s=uI(this.persistenceKey,this.currentUser,e);this.setItem(s,r.Xi())}Ir(e){const t=uI(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Ar(e){this.storage.setItem(this.dr,JSON.stringify({clientId:this.er,onlineState:e}))}Er(e,t,i){const r=vw(this.persistenceKey,e),s=new $f(e,t,i);this.setItem(r,s.Xi())}Rr(e){const t=JSON.stringify(Array.from(e));this.setItem(this._r,t)}Pr(e){const t=this.cr.exec(e);return t?t[1]:null}Vr(e,t){const i=this.Pr(e);return tg.Yi(i,t)}vr(e,t){const i=this.hr.exec(e),r=Number(i[1]);return eg.Yi(new Ds(void 0!==i[2]?i[2]:null),r,t)}Dr(e,t){const i=this.lr.exec(e),r=Number(i[1]);return $f.Yi(r,t)}mr(e){return bw.Yi(e)}Nr(e){return JSON.parse(e)}Sr(e){var t=this;return(0,Pe.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Mr(e.batchId,e.state,e.error);nt("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Cr(e){return this.syncEngine.Or(e.targetId,e.state,e.error)}br(e,t){const i=t?this.ir.insert(e,t):this.ir.remove(e),r=this.yr(this.ir),s=this.yr(i),c=[],h=[];return s.forEach(p=>{r.has(p)||c.push(p)}),r.forEach(p=>{s.has(p)||h.push(p)}),this.syncEngine.Fr(c,h).then(()=>{this.ir=i})}gr(e){this.ir.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}yr(e){let t=Nm();return e.forEach((i,r)=>{t=t.unionWith(r.activeTargetIds)}),t}}class Fy{constructor(){this.$r=new ww,this.Br={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e){return this.$r.Zi(e),this.Br[e]||"not-current"}updateQueryState(e,t,i){this.Br[e]=t}removeLocalQueryTarget(e){this.$r.tr(e)}isLocalQueryTarget(e){return this.$r.activeTargetIds.has(e)}clearQueryState(e){delete this.Br[e]}getAllActiveQueryTargets(){return this.$r.activeTargetIds}isActiveQueryTarget(e){return this.$r.activeTargetIds.has(e)}start(){return this.$r=new ww,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class HN{Lr(e){}shutdown(){}}class Cw{constructor(){this.Ur=()=>this.qr(),this.Kr=()=>this.Gr(),this.Qr=[],this.jr()}Lr(e){this.Qr.push(e)}shutdown(){window.removeEventListener("online",this.Ur),window.removeEventListener("offline",this.Kr)}jr(){window.addEventListener("online",this.Ur),window.addEventListener("offline",this.Kr)}qr(){nt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Qr)e(0)}Gr(){nt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Qr)e(1)}static vt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const Ew={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class qx{constructor(e){this.Wr=e.Wr,this.zr=e.zr}Hr(e){this.Jr=e}Yr(e){this.Xr=e}onMessage(e){this.Zr=e}close(){this.zr()}send(e){this.Wr(e)}eo(){this.Jr()}no(e){this.Xr(e)}so(e){this.Zr(e)}}class Wx extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.io=(e.ssl?"https":"http")+"://"+e.host,this.ro="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}oo(e,t,i,r,s){const c=this.uo(e,t);nt("RestConnection","Sending: ",c,i);const h={};return this.ao(h,r,s),this.co(e,c,h,i).then(p=>(nt("RestConnection","Received: ",p),p),p=>{throw Cf("RestConnection",`${e} failed with error: `,p,"url: ",c,"request:",i),p})}ho(e,t,i,r,s){return this.oo(e,t,i,r,s)}ao(e,t,i){e["X-Goog-Api-Client"]="gl-js/ fire/"+wf,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((r,s)=>e[s]=r),i&&i.headers.forEach((r,s)=>e[s]=r)}uo(e,t){return`${this.io}/v1/${t}:${Ew[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}co(e,t,i,r){return new Promise((s,c)=>{const h=new YM;h.listenOnce(qM.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case Tb.NO_ERROR:const _=h.getResponseJson();nt("Connection","XHR received:",JSON.stringify(_)),s(_);break;case Tb.TIMEOUT:nt("Connection",'RPC "'+e+'" timed out'),c(new Ze(Ie.DEADLINE_EXCEEDED,"Request time out"));break;case Tb.HTTP_ERROR:const T=h.getStatus();if(nt("Connection",'RPC "'+e+'" failed with status:',T,"response text:",h.getResponseText()),T>0){const S=h.getResponseJson().error;if(S&&S.status&&S.message){const P=function(H){const q=H.toLowerCase().replace(/_/g,"-");return Object.values(Ie).indexOf(q)>=0?q:Ie.UNKNOWN}(S.status);c(new Ze(P,S.message))}else c(new Ze(Ie.UNKNOWN,"Server responded with status "+h.getStatus()))}else c(new Ze(Ie.UNAVAILABLE,"Connection failed."));break;default:Mt()}}finally{nt("Connection",'RPC "'+e+'" completed.')}});const p=JSON.stringify(r);h.send(t,"POST",p,i,15)})}lo(e,t,i){const r=[this.io,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=$M(),c=zM(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(h.xmlHttpFactory=new ZM({})),this.ao(h.initMessageHeaders,t,i),(0,j.uI)()||(0,j.b$)()||(0,j.d)()||(0,j.w1)()||(0,j.Mn)()||(0,j.ru)()||(h.httpHeadersOverwriteParam="$httpHeaders");const p=r.join("");nt("Connection","Creating WebChannel: "+p,h);const _=s.createWebChannel(p,h);let T=!1,S=!1;const P=new qx({Wr:q=>{S?nt("Connection","Not sending because WebChannel is closed:",q):(T||(nt("Connection","Opening WebChannel transport."),_.open(),T=!0),nt("Connection","WebChannel sending:",q),_.send(q))},zr:()=>_.close()}),H=(q,ae,Ce)=>{q.listen(ae,pt=>{try{Ce(pt)}catch(_t){setTimeout(()=>{throw _t},0)}})};return H(_,Y_.EventType.OPEN,()=>{S||nt("Connection","WebChannel transport opened.")}),H(_,Y_.EventType.CLOSE,()=>{S||(S=!0,nt("Connection","WebChannel transport closed"),P.no())}),H(_,Y_.EventType.ERROR,q=>{S||(S=!0,Cf("Connection","WebChannel transport errored:",q),P.no(new Ze(Ie.UNAVAILABLE,"The operation could not be completed")))}),H(_,Y_.EventType.MESSAGE,q=>{var ae;if(!S){const Ce=q.data[0];Xt(!!Ce);const pt=Ce,_t=pt.error||(null===(ae=pt[0])||void 0===ae?void 0:ae.error);if(_t){nt("Connection","WebChannel received error:",_t);const yt=_t.status;let ht=function(rn){const $n=Tr[rn];if(void 0!==$n)return hy($n)}(yt),Kt=_t.message;void 0===ht&&(ht=Ie.INTERNAL,Kt="Unknown error status: "+yt+" with message "+_t.message),S=!0,P.no(new Ze(ht,Kt)),_.close()}else nt("Connection","WebChannel received:",Ce),P.so(Ce)}}),H(c,WM.STAT_EVENT,q=>{q.stat===UT.PROXY?nt("Connection","Detected buffering proxy"):q.stat===UT.NOPROXY&&nt("Connection","Detected no buffering proxy")}),setTimeout(()=>{P.eo()},0),P}}function Zx(){return"undefined"!=typeof window?window:null}function Tw(){return"undefined"!=typeof document?document:null}function ng(n){return new jb(n,!0)}class Dw{constructor(e,t,i=1e3,r=1.5,s=6e4){this.Yn=e,this.timerId=t,this.fo=i,this._o=r,this.wo=s,this.mo=0,this.yo=null,this.po=Date.now(),this.reset()}reset(){this.mo=0}Io(){this.mo=this.wo}To(e){this.cancel();const t=Math.floor(this.mo+this.Eo()),i=Math.max(0,Date.now()-this.po),r=Math.max(0,t-i);r>0&&nt("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.mo} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.yo=this.Yn.enqueueAfterDelay(this.timerId,r,()=>(this.po=Date.now(),e())),this.mo*=this._o,this.mo<this.fo&&(this.mo=this.fo),this.mo>this.wo&&(this.mo=this.wo)}Ao(){null!==this.yo&&(this.yo.skipDelay(),this.yo=null)}cancel(){null!==this.yo&&(this.yo.cancel(),this.yo=null)}Eo(){return(Math.random()-.5)*this.mo}}class Yx{constructor(e,t,i,r,s,c,h,p){this.Yn=e,this.Ro=i,this.Po=r,this.bo=s,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=h,this.listener=p,this.state=0,this.Vo=0,this.vo=null,this.So=null,this.stream=null,this.Do=new Dw(e,t)}Co(){return 1===this.state||5===this.state||this.xo()}xo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.No()}stop(){var e=this;return(0,Pe.Z)(function*(){e.Co()&&(yield e.close(0))})()}ko(){this.state=0,this.Do.reset()}Mo(){this.xo()&&null===this.vo&&(this.vo=this.Yn.enqueueAfterDelay(this.Ro,6e4,()=>this.Oo()))}Fo(e){this.$o(),this.stream.send(e)}Oo(){var e=this;return(0,Pe.Z)(function*(){if(e.xo())return e.close(0)})()}$o(){this.vo&&(this.vo.cancel(),this.vo=null)}Bo(){this.So&&(this.So.cancel(),this.So=null)}close(e,t){var i=this;return(0,Pe.Z)(function*(){i.$o(),i.Bo(),i.Do.cancel(),i.Vo++,4!==e?i.Do.reset():t&&t.code===Ie.RESOURCE_EXHAUSTED?(Cr(t.toString()),Cr("Using maximum backoff delay to prevent overloading the backend."),i.Do.Io()):t&&t.code===Ie.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Lo(),i.stream.close(),i.stream=null),i.state=e,yield i.listener.Yr(t)})()}Lo(){}auth(){this.state=1;const e=this.Uo(this.Vo),t=this.Vo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Vo===t&&this.qo(i,r)},i=>{e(()=>{const r=new Ze(Ie.UNKNOWN,"Fetching auth token failed: "+i.message);return this.Ko(r)})})}qo(e,t){const i=this.Uo(this.Vo);this.stream=this.Go(e,t),this.stream.Hr(()=>{i(()=>(this.state=2,this.So=this.Yn.enqueueAfterDelay(this.Po,1e4,()=>(this.xo()&&(this.state=3),Promise.resolve())),this.listener.Hr()))}),this.stream.Yr(r=>{i(()=>this.Ko(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}No(){var e=this;this.state=5,this.Do.To((0,Pe.Z)(function*(){e.state=0,e.start()}))}Ko(e){return nt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Uo(e){return t=>{this.Yn.enqueueAndForget(()=>this.Vo===e?t():(nt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class jN extends Yx{constructor(e,t,i,r,s,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,c),this.M=s}Go(e,t){return this.bo.lo("Listen",e,t)}onMessage(e){this.Do.reset();const t=function zb(n,e){let t;if("targetChange"in e){const i="NO_CHANGE"===(p=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===p?1:"REMOVE"===p?2:"CURRENT"===p?3:"RESET"===p?4:Mt(),r=e.targetChange.targetIds||[],s=function(p,_){return p.N?(Xt(void 0===_||"string"==typeof _),Jr.fromBase64String(_||"")):(Xt(void 0===_||_ instanceof Uint8Array),Jr.fromUint8Array(_||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,h=c&&function(p){const _=void 0===p.code?Ie.UNKNOWN:hy(p.code);return new Ze(_,p.message||"")}(c);t=new Hb(i,r,s,h||null)}else if("documentChange"in e){const i=e.documentChange,r=Kl(n,i.document.name),s=us(i.document.updateTime),c=new $s({mapValue:{fields:i.document.fields}}),h=Ii.newFoundDocument(r,s,c);t=new Fm(i.targetIds||[],i.removedTargetIds||[],h.key,h)}else if("documentDelete"in e){const i=e.documentDelete,r=Kl(n,i.document),s=i.readTime?us(i.readTime):Qt.min(),c=Ii.newNoDocument(r,s);t=new Fm([],i.removedTargetIds||[],c.key,c)}else if("documentRemove"in e){const i=e.documentRemove,r=Kl(n,i.document);t=new Fm([],i.removedTargetIds||[],r,null)}else{if(!("filter"in e))return Mt();{const i=e.filter,s=new MN(i.count||0);t=new Ub(i.targetId,s)}}var p;return t}(this.M,e),i=function(r){if(!("targetChange"in r))return Qt.min();const s=r.targetChange;return s.targetIds&&s.targetIds.length?Qt.min():s.readTime?us(s.readTime):Qt.min()}(e);return this.listener.Qo(t,i)}jo(e){const t={};t.database=eh(this.M),t.addTarget=function(r,s){let c;const h=s.target;return c=iy(h)?{documents:gy(r,h)}:{query:AD(r,h)},c.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?c.resumeToken=DD(r,s.resumeToken):s.snapshotVersion.compareTo(Qt.min())>0&&(c.readTime=Wc(r,s.snapshotVersion.toTimestamp())),c}(this.M,e);const i=function yx(n,e){const t=function(i,r){switch(r){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Mt()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);i&&(t.labels=i),this.Fo(t)}Wo(e){const t={};t.database=eh(this.M),t.removeTarget=e,this.Fo(t)}}class GN extends Yx{constructor(e,t,i,r,s,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,r,c),this.M=s,this.zo=!1}get Ho(){return this.zo}start(){this.zo=!1,this.lastStreamToken=void 0,super.start()}Lo(){this.zo&&this.Jo([])}Go(e,t){return this.bo.lo("Write",e,t)}onMessage(e){if(Xt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.zo){this.Do.reset();const t=function qb(n,e){return n&&n.length>0?(Xt(void 0!==e),n.map(t=>function(i,r){let s=us(i.updateTime?i.updateTime:r);return s.isEqual(Qt.min())&&(s=us(r)),new cx(s,i.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),i=us(e.commitTime);return this.listener.Yo(i,t)}return Xt(!e.writeResults||0===e.writeResults.length),this.zo=!0,this.listener.Xo()}Zo(){const e={};e.database=eh(this.M),this.Fo(e)}Jo(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>th(this.M,i))};this.Fo(t)}}class $N extends class{}{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.bo=i,this.M=r,this.tu=!1}eu(){if(this.tu)throw new Ze(Ie.FAILED_PRECONDITION,"The client has already been terminated.")}oo(e,t,i){return this.eu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,s])=>this.bo.oo(e,t,i,r,s)).catch(r=>{throw"FirebaseError"===r.name?(r.code===Ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new Ze(Ie.UNKNOWN,r.toString())})}ho(e,t,i){return this.eu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,s])=>this.bo.ho(e,t,i,r,s)).catch(r=>{throw"FirebaseError"===r.name?(r.code===Ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new Ze(Ie.UNKNOWN,r.toString())})}terminate(){this.tu=!0}}class zN{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.nu=0,this.su=null,this.iu=!0}ru(){0===this.nu&&(this.ou("Unknown"),this.su=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.su=null,this.uu("Backend didn't respond within 10 seconds."),this.ou("Offline"),Promise.resolve())))}au(e){"Online"===this.state?this.ou("Unknown"):(this.nu++,this.nu>=1&&(this.cu(),this.uu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ou("Offline")))}set(e){this.cu(),this.nu=0,"Online"===e&&(this.iu=!1),this.ou(e)}ou(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}uu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.iu?(Cr(t),this.iu=!1):nt("OnlineStateTracker",t)}cu(){null!==this.su&&(this.su.cancel(),this.su=null)}}class Kx{constructor(e,t,i,r,s){var c=this;this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.hu=[],this.lu=new Map,this.fu=new Set,this.du=[],this._u=s,this._u.Lr(h=>{i.enqueueAndForget((0,Pe.Z)(function*(){var p;v(c)&&(nt("RemoteStore","Restarting streams for network reachability change."),yield(p=(0,Pe.Z)(function*(_){const T=mt(_);T.fu.add(4),yield ig(T),T.wu.set("Unknown"),T.fu.delete(4),yield Ly(T)}),function(_){return p.apply(this,arguments)})(c))}))}),this.wu=new zN(i,r)}}function Ly(n){return dI.apply(this,arguments)}function dI(){return dI=(0,Pe.Z)(function*(n){if(v(n))for(const e of n.du)yield e(!0)}),dI.apply(this,arguments)}function ig(n){return hI.apply(this,arguments)}function hI(){return hI=(0,Pe.Z)(function*(n){for(const e of n.du)yield e(!1)}),hI.apply(this,arguments)}function o(n,e){const t=mt(n);t.lu.has(e.targetId)||(t.lu.set(e.targetId,e),m(t)?f(t):By(t).xo()&&u(t,e))}function l(n,e){const t=mt(n),i=By(t);t.lu.delete(e),i.xo()&&d(t,e),0===t.lu.size&&(i.xo()?i.Mo():v(t)&&t.wu.set("Unknown"))}function u(n,e){n.mu.Z(e.targetId),By(n).jo(e)}function d(n,e){n.mu.Z(e),By(n).Wo(e)}function f(n){n.mu=new Lm({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.lu.get(e)||null}),By(n).start(),n.wu.ru()}function m(n){return v(n)&&!By(n).Co()&&n.lu.size>0}function v(n){return 0===mt(n).fu.size}function E(n){n.mu=void 0}function M(n){return F.apply(this,arguments)}function F(){return F=(0,Pe.Z)(function*(n){n.lu.forEach((e,t)=>{u(n,e)})}),F.apply(this,arguments)}function V(n,e){return Y.apply(this,arguments)}function Y(){return Y=(0,Pe.Z)(function*(n,e){E(n),m(n)?(n.wu.au(e),f(n)):n.wu.set("Unknown")}),Y.apply(this,arguments)}function ie(n,e,t){return he.apply(this,arguments)}function he(){return he=(0,Pe.Z)(function*(n,e,t){if(n.wu.set("Online"),e instanceof Hb&&2===e.state&&e.cause)try{yield(i=(0,Pe.Z)(function*(r,s){const c=s.cause;for(const h of s.targetIds)r.lu.has(h)&&(yield r.remoteSyncer.rejectListen(h,c),r.lu.delete(h),r.mu.removeTarget(h))}),function(r,s){return i.apply(this,arguments)})(n,e)}catch(i){nt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield Ve(n,i)}else if(e instanceof Fm?n.mu.ut(e):e instanceof Ub?n.mu._t(e):n.mu.ht(e),!t.isEqual(Qt.min()))try{const i=yield nI(n.localStore);t.compareTo(i)>=0&&(yield function(r,s){const c=r.mu.yt(s);return c.targetChanges.forEach((h,p)=>{if(h.resumeToken.approximateByteSize()>0){const _=r.lu.get(p);_&&r.lu.set(p,_.withResumeToken(h.resumeToken,s))}}),c.targetMismatches.forEach(h=>{const p=r.lu.get(h);if(!p)return;r.lu.set(h,p.withResumeToken(Jr.EMPTY_BYTE_STRING,p.snapshotVersion)),d(r,h);const _=new Yc(p.target,h,1,p.sequenceNumber);u(r,_)}),r.remoteSyncer.applyRemoteEvent(c)}(n,t))}catch(i){nt("RemoteStore","Failed to raise snapshot:",i),yield Ve(n,i)}var i}),he.apply(this,arguments)}function Ve(n,e,t){return it.apply(this,arguments)}function it(){return it=(0,Pe.Z)(function*(n,e,t){if(!qu(e))throw e;n.fu.add(1),yield ig(n),n.wu.set("Offline"),t||(t=()=>nI(n.localStore)),n.asyncQueue.enqueueRetryable((0,Pe.Z)(function*(){nt("RemoteStore","Retrying IndexedDB access"),yield t(),n.fu.delete(1),yield Ly(n)}))}),it.apply(this,arguments)}function ut(n,e){return e().catch(t=>Ve(n,t,e))}function wt(n){return ze.apply(this,arguments)}function ze(){return ze=(0,Pe.Z)(function*(n){const e=mt(n),t=zf(e);let i=e.hu.length>0?e.hu[e.hu.length-1].batchId:-1;for(;Ut(e);)try{const r=yield FN(e.localStore,i);if(null===r){0===e.hu.length&&t.Mo();break}i=r.batchId,kn(e,r)}catch(r){yield Ve(e,r)}si(e)&&Vo(e)}),ze.apply(this,arguments)}function Ut(n){return v(n)&&n.hu.length<10}function kn(n,e){n.hu.push(e);const t=zf(n);t.xo()&&t.Ho&&t.Jo(e.mutations)}function si(n){return v(n)&&!zf(n).Co()&&n.hu.length>0}function Vo(n){zf(n).start()}function ch(n){return rg.apply(this,arguments)}function rg(){return rg=(0,Pe.Z)(function*(n){zf(n).Zo()}),rg.apply(this,arguments)}function Iw(n){return sg.apply(this,arguments)}function sg(){return sg=(0,Pe.Z)(function*(n){const e=zf(n);for(const t of n.hu)e.Jo(t.mutations)}),sg.apply(this,arguments)}function Sw(n,e,t){return og.apply(this,arguments)}function og(){return og=(0,Pe.Z)(function*(n,e,t){const i=n.hu.shift(),r=iw.from(i,e,t);yield ut(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield wt(n)}),og.apply(this,arguments)}function Aw(n,e){return ag.apply(this,arguments)}function ag(){return ag=(0,Pe.Z)(function*(n,e){var t;e&&zf(n).Ho&&(yield(t=(0,Pe.Z)(function*(i,r){if(Bb(s=r.code)&&s!==Ie.ABORTED){const c=i.hu.shift();zf(i).ko(),yield ut(i,()=>i.remoteSyncer.rejectFailedWrite(c.batchId,r)),yield wt(i)}var s}),function(i,r){return t.apply(this,arguments)})(n,e)),si(n)&&Vo(n)}),ag.apply(this,arguments)}function Vy(n,e){return lg.apply(this,arguments)}function lg(){return lg=(0,Pe.Z)(function*(n,e){const t=mt(n);t.asyncQueue.verifyOperationInProgress(),nt("RemoteStore","RemoteStore received new credentials");const i=v(t);t.fu.add(3),yield ig(t),i&&t.wu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.fu.delete(3),yield Ly(t)}),lg.apply(this,arguments)}function Qx(n,e){return Jx.apply(this,arguments)}function Jx(){return Jx=(0,Pe.Z)(function*(n,e){const t=mt(n);e?(t.fu.delete(2),yield Ly(t)):e||(t.fu.add(2),yield ig(t),t.wu.set("Unknown"))}),Jx.apply(this,arguments)}function By(n){return n.gu||(n.gu=function(e,t,i){const r=mt(e);return r.eu(),new jN(t,r.bo,r.authCredentials,r.appCheckCredentials,r.M,i)}(n.datastore,n.asyncQueue,{Hr:M.bind(null,n),Yr:V.bind(null,n),Qo:ie.bind(null,n)}),n.du.push(function(){var e=(0,Pe.Z)(function*(t){t?(n.gu.ko(),m(n)?f(n):n.wu.set("Unknown")):(yield n.gu.stop(),E(n))});return function(t){return e.apply(this,arguments)}}())),n.gu}function zf(n){return n.yu||(n.yu=function(e,t,i){const r=mt(e);return r.eu(),new GN(t,r.bo,r.authCredentials,r.appCheckCredentials,r.M,i)}(n.datastore,n.asyncQueue,{Hr:ch.bind(null,n),Yr:Aw.bind(null,n),Xo:Iw.bind(null,n),Yo:Sw.bind(null,n)}),n.du.push(function(){var e=(0,Pe.Z)(function*(t){t?(n.yu.ko(),yield wt(n)):(yield n.yu.stop(),n.hu.length>0&&(nt("RemoteStore",`Stopping write stream with ${n.hu.length} pending writes`),n.hu=[]))});return function(t){return e.apply(this,arguments)}}())),n.yu}class Xx{constructor(e,t,i,r,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new cs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}static createAndSchedule(e,t,i,r,s){const c=Date.now()+i,h=new Xx(e,t,c,r,s);return h.start(i),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ze(Ie.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Uy(n,e){if(Cr("AsyncQueue",`${e}: ${n}`),qu(n))return new Ze(Ie.UNAVAILABLE,`${e}: ${n}`);throw n}class Hy{constructor(e){this.comparator=e?(t,i)=>e(t,i)||dt.comparator(t.key,i.key):(t,i)=>dt.comparator(t.key,i.key),this.keyedMap=Xd(),this.sortedSet=new cr(this.comparator)}static emptySet(e){return new Hy(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Hy)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const r=t.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const i=new Hy;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class qN{constructor(){this.pu=new cr(dt.comparator)}track(e){const t=e.doc.key,i=this.pu.get(t);i?0!==e.type&&3===i.type?this.pu=this.pu.insert(t,e):3===e.type&&1!==i.type?this.pu=this.pu.insert(t,{type:i.type,doc:e.doc}):2===e.type&&2===i.type?this.pu=this.pu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===i.type?this.pu=this.pu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===i.type?this.pu=this.pu.remove(t):1===e.type&&2===i.type?this.pu=this.pu.insert(t,{type:1,doc:i.doc}):0===e.type&&1===i.type?this.pu=this.pu.insert(t,{type:2,doc:e.doc}):Mt():this.pu=this.pu.insert(t,e)}Iu(){const e=[];return this.pu.inorderTraversal((t,i)=>{e.push(i)}),e}}class jy{constructor(e,t,i,r,s,c,h,p){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=c,this.syncStateChanged=h,this.excludesMetadataChanges=p}static fromInitialDocuments(e,t,i,r){const s=[];return t.forEach(c=>{s.push({type:0,doc:c})}),new jy(e,t,Hy.emptySet(t),s,i,r,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Im(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}}class zH{constructor(){this.Tu=void 0,this.listeners=[]}}class qH{constructor(){this.queries=new zu(e=>Ob(e),Im),this.onlineState="Unknown",this.Eu=new Set}}function ek(n,e){return tk.apply(this,arguments)}function tk(){return tk=(0,Pe.Z)(function*(n,e){const t=mt(n),i=e.query;let r=!1,s=t.queries.get(i);if(s||(r=!0,s=new zH),r)try{s.Tu=yield t.onListen(i)}catch(c){const h=Uy(c,`Initialization of query '${Nb(e.query)}' failed`);return void e.onError(h)}t.queries.set(i,s),s.listeners.push(e),e.Au(t.onlineState),s.Tu&&e.Ru(s.Tu)&&rk(t)}),tk.apply(this,arguments)}function nk(n,e){return ik.apply(this,arguments)}function ik(){return ik=(0,Pe.Z)(function*(n,e){const t=mt(n),i=e.query;let r=!1;const s=t.queries.get(i);if(s){const c=s.listeners.indexOf(e);c>=0&&(s.listeners.splice(c,1),r=0===s.listeners.length)}if(r)return t.queries.delete(i),t.onUnlisten(i)}),ik.apply(this,arguments)}function WH(n,e){const t=mt(n);let i=!1;for(const r of e){const c=t.queries.get(r.query);if(c){for(const h of c.listeners)h.Ru(r)&&(i=!0);c.Tu=r}}i&&rk(t)}function ZH(n,e,t){const i=mt(n),r=i.queries.get(e);if(r)for(const s of r.listeners)s.onError(t);i.queries.delete(e)}function rk(n){n.Eu.forEach(e=>{e.next()})}class sk{constructor(e,t,i){this.query=e,this.Pu=t,this.bu=!1,this.Vu=null,this.onlineState="Unknown",this.options=i||{}}Ru(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)3!==r.type&&i.push(r);e=new jy(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.bu?this.vu(e)&&(this.Pu.next(e),t=!0):this.Su(e,this.onlineState)&&(this.Du(e),t=!0),this.Vu=e,t}onError(e){this.Pu.error(e)}Au(e){this.onlineState=e;let t=!1;return this.Vu&&!this.bu&&this.Su(this.Vu,e)&&(this.Du(this.Vu),t=!0),t}Su(e,t){return!e.fromCache||!(this.options.Cu&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}vu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Vu&&this.Vu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Du(e){e=jy.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Pu.next(e)}}class YH{constructor(e,t){this.payload=e,this.byteLength=t}xu(){return"metadata"in this.payload}}class WN{constructor(e){this.M=e}fi(e){return Kl(this.M,e)}di(e){return e.metadata.exists?SD(this.M,e.document,!1):Ii.newNoDocument(this.fi(e.metadata.name),this._i(e.metadata.readTime))}_i(e){return us(e)}}class KH{constructor(e,t,i){this.Nu=e,this.localStore=t,this.M=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=ZN(e)}ku(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const i=Un.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Mu(e){const t=new Map,i=new WN(this.M);for(const r of e)if(r.metadata.queries){const s=i.fi(r.metadata.name);for(const c of r.metadata.queries){const h=(t.get(c)||ri()).add(s);t.set(c,h)}}return t}complete(){var e=this;return(0,Pe.Z)(function*(){const t=yield function oI(n,e,t,i){return eu.apply(this,arguments)}(e.localStore,new WN(e.M),e.documents,e.Nu.id),i=e.Mu(e.documents);for(const r of e.queries)yield aI(e.localStore,r,i.get(r.name));return e.progress.taskState="Success",{progress:e.progress,Ou:e.collectionGroups,Fu:t}})()}}function ZN(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class YN{constructor(e){this.key=e}}class KN{constructor(e){this.key=e}}class QN{constructor(e,t){this.query=e,this.$u=t,this.Bu=null,this.current=!1,this.Lu=ri(),this.mutatedKeys=ri(),this.Uu=Pb(e),this.qu=new Hy(this.Uu)}get Ku(){return this.$u}Gu(e,t){const i=t?t.Qu:new qN,r=t?t.qu:this.qu;let s=t?t.mutatedKeys:this.mutatedKeys,c=r,h=!1;const p=oy(this.query)&&r.size===this.query.limit?r.last():null,_=Rf(this.query)&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((T,S)=>{const P=r.get(T),H=cy(this.query,S)?S:null,q=!!P&&this.mutatedKeys.has(P.key),ae=!!H&&(H.hasLocalMutations||this.mutatedKeys.has(H.key)&&H.hasCommittedMutations);let Ce=!1;P&&H?P.data.isEqual(H.data)?q!==ae&&(i.track({type:3,doc:H}),Ce=!0):this.ju(P,H)||(i.track({type:2,doc:H}),Ce=!0,(p&&this.Uu(H,p)>0||_&&this.Uu(H,_)<0)&&(h=!0)):!P&&H?(i.track({type:0,doc:H}),Ce=!0):P&&!H&&(i.track({type:1,doc:P}),Ce=!0,(p||_)&&(h=!0)),Ce&&(H?(c=c.add(H),s=ae?s.add(T):s.delete(T)):(c=c.delete(T),s=s.delete(T)))}),oy(this.query)||Rf(this.query))for(;c.size>this.query.limit;){const T=oy(this.query)?c.last():c.first();c=c.delete(T.key),s=s.delete(T.key),i.track({type:1,doc:T})}return{qu:c,Qu:i,ni:h,mutatedKeys:s}}ju(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i){const r=this.qu;this.qu=e.qu,this.mutatedKeys=e.mutatedKeys;const s=e.Qu.Iu();s.sort((_,T)=>function(S,P){const H=q=>{switch(q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Mt()}};return H(S)-H(P)}(_.type,T.type)||this.Uu(_.doc,T.doc)),this.Wu(i);const c=t?this.zu():[],h=0===this.Lu.size&&this.current?1:0,p=h!==this.Bu;return this.Bu=h,0!==s.length||p?{snapshot:new jy(this.query,e.qu,r,s,e.mutatedKeys,0===h,p,!1),Hu:c}:{Hu:c}}Au(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({qu:this.qu,Qu:new qN,mutatedKeys:this.mutatedKeys,ni:!1},!1)):{Hu:[]}}Ju(e){return!this.$u.has(e)&&!!this.qu.has(e)&&!this.qu.get(e).hasLocalMutations}Wu(e){e&&(e.addedDocuments.forEach(t=>this.$u=this.$u.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.$u=this.$u.delete(t)),this.current=e.current)}zu(){if(!this.current)return[];const e=this.Lu;this.Lu=ri(),this.qu.forEach(i=>{this.Ju(i.key)&&(this.Lu=this.Lu.add(i.key))});const t=[];return e.forEach(i=>{this.Lu.has(i)||t.push(new KN(i))}),this.Lu.forEach(i=>{e.has(i)||t.push(new YN(i))}),t}Yu(e){this.$u=e.li,this.Lu=ri();const t=this.Gu(e.documents);return this.applyChanges(t,!0)}Xu(){return jy.fromInitialDocuments(this.query,this.qu,this.mutatedKeys,0===this.Bu)}}class QH{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class JH{constructor(e){this.key=e,this.Zu=!1}}class XH{constructor(e,t,i,r,s,c){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=c,this.ta={},this.ea=new zu(h=>Ob(h),Im),this.na=new Map,this.sa=new Set,this.ia=new cr(dt.comparator),this.ra=new Map,this.oa=new Xm,this.ua={},this.aa=new Map,this.ca=Jc.yn(),this.onlineState="Unknown",this.ha=void 0}get isPrimaryClient(){return!0===this.ha}}function ej(n,e){return ok.apply(this,arguments)}function ok(){return ok=(0,Pe.Z)(function*(n,e){const t=Mk(n);let i,r;const s=t.ea.get(e);if(s)i=s.targetId,t.sharedClientState.addLocalQueryTarget(i),r=s.view.Xu();else{const c=yield Ym(t.localStore,La(e));t.isPrimaryClient&&o(t.remoteStore,c);const h=t.sharedClientState.addLocalQueryTarget(c.targetId);i=c.targetId,r=yield ak(t,e,i,"current"===h)}return r}),ok.apply(this,arguments)}function ak(n,e,t,i){return lk.apply(this,arguments)}function lk(){return lk=(0,Pe.Z)(function*(n,e,t,i){n.la=(T,S,P)=>{return(H=(0,Pe.Z)(function*(q,ae,Ce,pt){let _t=ae.view.Gu(Ce);_t.ni&&(_t=yield Oy(q.localStore,ae.query,!1).then(({documents:Kt})=>ae.view.Gu(Kt,_t)));const yt=pt&&pt.targetChanges.get(ae.targetId),ht=ae.view.applyChanges(_t,q.isPrimaryClient,yt);return yk(q,ae.targetId,ht.Hu),ht.snapshot}),function(q,ae,Ce,pt){return H.apply(this,arguments)})(n,T,S,P);var H};const r=yield Oy(n.localStore,e,!0),s=new QN(e,r.li),c=s.Gu(r.documents),h=Lf.createSynthesizedTargetChangeForCurrentChange(t,i&&"Offline"!==n.onlineState),p=s.applyChanges(c,n.isPrimaryClient,h);yk(n,t,p.Hu);const _=new QH(e,t,s);return n.ea.set(e,_),n.na.has(t)?n.na.get(t).push(e):n.na.set(t,[e]),p.snapshot}),lk.apply(this,arguments)}function tj(n,e){return ck.apply(this,arguments)}function ck(){return ck=(0,Pe.Z)(function*(n,e){const t=mt(n),i=t.ea.get(e),r=t.na.get(i.targetId);if(r.length>1)return t.na.set(i.targetId,r.filter(s=>!Im(s,e))),void t.ea.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(i.targetId),t.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Km(t.localStore,i.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(i.targetId),l(t.remoteStore,i.targetId),Gy(t,i.targetId)}).catch(oh))):(Gy(t,i.targetId),yield Km(t.localStore,i.targetId,!0))}),ck.apply(this,arguments)}function uk(){return uk=(0,Pe.Z)(function*(n,e,t){const i=xk(n);try{const r=yield function(s,c){const h=mt(s),p=gn.now(),_=c.reduce((S,P)=>S.add(P.key),ri());let T;return h.persistence.runTransaction("Locally write mutations","readwrite",S=>h.ci.Ks(S,_).next(P=>{T=P;const H=[];for(const q of c){const ae=dx(q,T.get(q.key));null!=ae&&H.push(new Va(q.key,ae,tD(ae.value.mapValue),Er.exists(!0)))}return h.Bs.addMutationBatch(S,p,H,c)})).then(S=>(S.applyToLocalDocumentSet(T),{batchId:S.batchId,changes:T}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(s,c,h){let p=s.ua[s.currentUser.toKey()];p||(p=new cr(mn)),p=p.insert(c,h),s.ua[s.currentUser.toKey()]=p}(i,r.batchId,t),yield uh(i,r.changes),yield wt(i.remoteStore)}catch(r){const s=Uy(r,"Failed to persist write");t.reject(s)}}),uk.apply(this,arguments)}function JN(n,e){return dk.apply(this,arguments)}function dk(){return dk=(0,Pe.Z)(function*(n,e){const t=mt(n);try{const i=yield Gx(t.localStore,e);e.targetChanges.forEach((r,s)=>{const c=t.ra.get(s);c&&(Xt(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?c.Zu=!0:r.modifiedDocuments.size>0?Xt(c.Zu):r.removedDocuments.size>0&&(Xt(c.Zu),c.Zu=!1))}),yield uh(t,i,e)}catch(i){yield oh(i)}}),dk.apply(this,arguments)}function XN(n,e,t){const i=mt(n);if(i.isPrimaryClient&&0===t||!i.isPrimaryClient&&1===t){const r=[];i.ea.forEach((s,c)=>{const h=c.view.Au(e);h.snapshot&&r.push(h.snapshot)}),function(s,c){const h=mt(s);h.onlineState=c;let p=!1;h.queries.forEach((_,T)=>{for(const S of T.listeners)S.Au(c)&&(p=!0)}),p&&rk(h)}(i.eventManager,e),r.length&&i.ta.Qo(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function ij(n,e,t){return hk.apply(this,arguments)}function hk(){return hk=(0,Pe.Z)(function*(n,e,t){const i=mt(n);i.sharedClientState.updateQueryState(e,"rejected",t);const r=i.ra.get(e),s=r&&r.key;if(s){let c=new cr(dt.comparator);c=c.insert(s,Ii.newNoDocument(s,Qt.min()));const h=ri().add(s),p=new Pm(Qt.min(),new Map,new Li(mn),c,h);yield JN(i,p),i.ia=i.ia.remove(s),i.ra.delete(e),vk(i)}else yield Km(i.localStore,e,!1).then(()=>Gy(i,e,t)).catch(oh)}),hk.apply(this,arguments)}function rj(n,e){return fk.apply(this,arguments)}function fk(){return fk=(0,Pe.Z)(function*(n,e){const t=mt(n),i=e.batch.batchId;try{const r=yield jx(t.localStore,e);_k(t,i,null),gk(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield uh(t,r)}catch(r){yield oh(r)}}),fk.apply(this,arguments)}function sj(n,e,t){return pk.apply(this,arguments)}function pk(){return pk=(0,Pe.Z)(function*(n,e,t){const i=mt(n);try{const r=yield function(s,c){const h=mt(s);return h.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let _;return h.Bs.lookupMutationBatch(p,c).next(T=>(Xt(null!==T),_=T.keys(),h.Bs.removeMutationBatch(p,T))).next(()=>h.Bs.performConsistencyCheck(p)).next(()=>h.ci.Ks(p,_))})}(i.localStore,e);_k(i,e,t),gk(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield uh(i,r)}catch(r){yield oh(r)}}),pk.apply(this,arguments)}function mk(){return mk=(0,Pe.Z)(function*(n,e){const t=mt(n);v(t.remoteStore)||nt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(s){const c=mt(s);return c.persistence.runTransaction("Get highest unacknowledged batch id","readonly",h=>c.Bs.getHighestUnacknowledgedBatchId(h))}(t.localStore);if(-1===i)return void e.resolve();const r=t.aa.get(i)||[];r.push(e),t.aa.set(i,r)}catch(i){const r=Uy(i,"Initialization of waitForPendingWrites() operation failed");e.reject(r)}}),mk.apply(this,arguments)}function gk(n,e){(n.aa.get(e)||[]).forEach(t=>{t.resolve()}),n.aa.delete(e)}function _k(n,e,t){const i=mt(n);let r=i.ua[i.currentUser.toKey()];if(r){const s=r.get(e);s&&(t?s.reject(t):s.resolve(),r=r.remove(e)),i.ua[i.currentUser.toKey()]=r}}function Gy(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.na.get(e))n.ea.delete(i),t&&n.ta.fa(i,t);n.na.delete(e),n.isPrimaryClient&&n.oa.Pi(e).forEach(i=>{n.oa.containsKey(i)||eP(n,i)})}function eP(n,e){n.sa.delete(e.path.canonicalString());const t=n.ia.get(e);null!==t&&(l(n.remoteStore,t),n.ia=n.ia.remove(e),n.ra.delete(t),vk(n))}function yk(n,e,t){for(const i of t)i instanceof YN?(n.oa.addReference(i.key,e),aj(n,i)):i instanceof KN?(nt("SyncEngine","Document no longer in limbo: "+i.key),n.oa.removeReference(i.key,e),n.oa.containsKey(i.key)||eP(n,i.key)):Mt()}function aj(n,e){const t=e.key,i=t.path.canonicalString();n.ia.get(t)||n.sa.has(i)||(nt("SyncEngine","New document in limbo: "+t),n.sa.add(i),vk(n))}function vk(n){for(;n.sa.size>0&&n.ia.size<n.maxConcurrentLimboResolutions;){const e=n.sa.values().next().value;n.sa.delete(e);const t=new dt(Un.fromString(e)),i=n.ca.next();n.ra.set(i,new JH(t)),n.ia=n.ia.insert(t,i),o(n.remoteStore,new Yc(La(kf(t.path)),i,2,da.A))}}function uh(n,e,t){return bk.apply(this,arguments)}function bk(){return bk=(0,Pe.Z)(function*(n,e,t){const i=mt(n),r=[],s=[],c=[];var h;i.ea.isEmpty()||(i.ea.forEach((h,p)=>{c.push(i.la(p,e,t).then(_=>{if(_){i.isPrimaryClient&&i.sharedClientState.updateQueryState(p.targetId,_.fromCache?"not-current":"current"),r.push(_);const T=ky.Ys(p.targetId,_);s.push(T)}}))}),yield Promise.all(c),i.ta.Qo(r),yield(h=(0,Pe.Z)(function*(p,_){const T=mt(p);try{yield T.persistence.runTransaction("notifyLocalViewChanges","readwrite",S=>Fe.forEach(_,P=>Fe.forEach(P.Hs,H=>T.persistence.referenceDelegate.addReference(S,P.targetId,H)).next(()=>Fe.forEach(P.Js,H=>T.persistence.referenceDelegate.removeReference(S,P.targetId,H)))))}catch(S){if(!qu(S))throw S;nt("LocalStore","Failed to update sequence numbers: "+S)}for(const S of _){const P=S.targetId;if(!S.fromCache){const H=T.ii.get(P),ae=H.withLastLimboFreeSnapshotVersion(H.snapshotVersion);T.ii=T.ii.insert(P,ae)}}}),function(p,_){return h.apply(this,arguments)})(i.localStore,s))}),bk.apply(this,arguments)}function lj(n,e){return wk.apply(this,arguments)}function wk(){return wk=(0,Pe.Z)(function*(n,e){const t=mt(n);if(!t.currentUser.isEqual(e)){nt("SyncEngine","User change. New user:",e.toKey());const i=yield Hx(t.localStore,e);t.currentUser=e,(r=t).aa.forEach(c=>{c.forEach(h=>{h.reject(new Ze(Ie.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.aa.clear(),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield uh(t,i.hi)}var r}),wk.apply(this,arguments)}function cj(n,e){const t=mt(n),i=t.ra.get(e);if(i&&i.Zu)return ri().add(i.key);{let r=ri();const s=t.na.get(e);if(!s)return r;for(const c of s){const h=t.ea.get(c);r=r.unionWith(h.view.Ku)}return r}}function uj(n,e){return Ck.apply(this,arguments)}function Ck(){return Ck=(0,Pe.Z)(function*(n,e){const t=mt(n),i=yield Oy(t.localStore,e.query,!0),r=e.view.Yu(i);return t.isPrimaryClient&&yk(t,e.targetId,r.Hu),r}),Ck.apply(this,arguments)}function dj(n,e){return Ek.apply(this,arguments)}function Ek(){return Ek=(0,Pe.Z)(function*(n,e){const t=mt(n);return rI(t.localStore,e).then(i=>uh(t,i))}),Ek.apply(this,arguments)}function hj(n,e,t,i){return Tk.apply(this,arguments)}function Tk(){return Tk=(0,Pe.Z)(function*(n,e,t,i){const r=mt(n),s=yield function(c,h){const p=mt(c),_=mt(p.Bs);return p.persistence.runTransaction("Lookup mutation documents","readonly",T=>_.fn(T,h).next(S=>S?p.ci.Ks(T,S):Fe.resolve(null)))}(r.localStore,e);var h;null!==s?("pending"===t?yield wt(r.remoteStore):"acknowledged"===t||"rejected"===t?(_k(r,e,i||null),gk(r,e),h=e,mt(mt(r.localStore).Bs)._n(h)):Mt(),yield uh(r,s)):nt("SyncEngine","Cannot apply mutation batch with id: "+e)}),Tk.apply(this,arguments)}function Dk(){return Dk=(0,Pe.Z)(function*(n,e){const t=mt(n);if(Mk(t),xk(t),!0===e&&!0!==t.ha){const i=t.sharedClientState.getAllActiveQueryTargets(),r=yield tP(t,i.toArray());t.ha=!0,yield Qx(t.remoteStore,!0);for(const s of r)o(t.remoteStore,s)}else if(!1===e&&!1!==t.ha){const i=[];let r=Promise.resolve();t.na.forEach((s,c)=>{t.sharedClientState.isLocalQueryTarget(c)?i.push(c):r=r.then(()=>(Gy(t,c),Km(t.localStore,c,!0))),l(t.remoteStore,c)}),yield r,yield tP(t,i),function(s){const c=mt(s);c.ra.forEach((h,p)=>{l(c.remoteStore,p)}),c.oa.bi(),c.ra=new Map,c.ia=new cr(dt.comparator)}(t),t.ha=!1,yield Qx(t.remoteStore,!1)}}),Dk.apply(this,arguments)}function tP(n,e,t){return Ik.apply(this,arguments)}function Ik(){return Ik=(0,Pe.Z)(function*(n,e,t){const i=mt(n),r=[],s=[];for(const c of e){let h;const p=i.na.get(c);if(p&&0!==p.length){h=yield Ym(i.localStore,La(p[0]));for(const _ of p){const T=i.ea.get(_),S=yield uj(i,T);S.snapshot&&s.push(S.snapshot)}}else{const _=yield Qm(i.localStore,c);h=yield Ym(i.localStore,_),yield ak(i,nP(_),c,!1)}r.push(h)}return i.ta.Qo(s),r}),Ik.apply(this,arguments)}function nP(n){return hD(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function pj(n){const e=mt(n);return mt(mt(e.localStore).persistence).Fs()}function mj(n,e,t,i){return Sk.apply(this,arguments)}function Sk(){return Sk=(0,Pe.Z)(function*(n,e,t,i){const r=mt(n);if(r.ha)return void nt("SyncEngine","Ignoring unexpected query state notification.");const s=r.na.get(e);if(s&&s.length>0)switch(t){case"current":case"not-current":{const c=yield rI(r.localStore,fD(s[0])),h=Pm.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield uh(r,c,h);break}case"rejected":yield Km(r.localStore,e,!0),Gy(r,e,i);break;default:Mt()}}),Sk.apply(this,arguments)}function gj(n,e,t){return Ak.apply(this,arguments)}function Ak(){return Ak=(0,Pe.Z)(function*(n,e,t){const i=Mk(n);if(i.ha){for(const r of e){if(i.na.has(r)){nt("SyncEngine","Adding an already active target "+r);continue}const s=yield Qm(i.localStore,r),c=yield Ym(i.localStore,s);yield ak(i,nP(s),c.targetId,!1),o(i.remoteStore,c)}for(const r of t)i.na.has(r)&&(yield Km(i.localStore,r,!1).then(()=>{l(i.remoteStore,r),Gy(i,r)}).catch(oh))}}),Ak.apply(this,arguments)}function Mk(n){const e=mt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=JN.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=cj.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=ij.bind(null,e),e.ta.Qo=WH.bind(null,e.eventManager),e.ta.fa=ZH.bind(null,e.eventManager),e}function xk(n){const e=mt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=rj.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=sj.bind(null,e),e}class iP{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,Pe.Z)(function*(){t.M=ng(e.databaseInfo.databaseId),t.sharedClientState=t._a(e),t.persistence=t.wa(e),yield t.persistence.start(),t.gcScheduler=t.ma(e),t.localStore=t.ga(e)})()}ma(e){return null}ga(e){return Ux(this.persistence,new tI,e.initialUser,this.M)}wa(e){return new UN(yw.zi,this.M)}_a(e){return new Fy}terminate(){var e=this;return(0,Pe.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class rP extends iP{constructor(e,t,i){super(),this.ya=e,this.cacheSizeBytes=t,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,i=this;return(0,Pe.Z)(function*(){yield t().call(i,e),yield i.ya.initialize(i,e),yield xk(i.ya.syncEngine),yield wt(i.ya.remoteStore),yield i.persistence.Ts(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(i.localStore),Promise.resolve()))})()}ga(e){return Ux(this.persistence,new tI,e.initialUser,this.M)}ma(e){return new ul(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}wa(e){const t=gw(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?Lo.withCacheSize(this.cacheSizeBytes):Lo.DEFAULT;return new Wm(this.synchronizeTabs,t,e.clientId,i,e.asyncQueue,Zx(),Tw(),this.M,this.sharedClientState,!!this.forceOwnership)}_a(e){return new Fy}}class yj extends rP{constructor(e,t){super(e,t,!1),this.ya=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,i=this;return(0,Pe.Z)(function*(){yield t().call(i,e);const r=i.ya.syncEngine;i.sharedClientState instanceof Py&&(i.sharedClientState.syncEngine={Mr:hj.bind(null,r),Or:mj.bind(null,r),Fr:gj.bind(null,r),Fs:pj.bind(null,r),kr:dj.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.Ts(function(){var s=(0,Pe.Z)(function*(c){yield function fj(n,e){return Dk.apply(this,arguments)}(i.ya.syncEngine,c),i.gcScheduler&&(c&&!i.gcScheduler.started?i.gcScheduler.start(i.localStore):c||i.gcScheduler.stop())});return function(c){return s.apply(this,arguments)}}())})()}_a(e){const t=Zx();if(!Py.vt(t))throw new Ze(Ie.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=gw(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Py(t,e.asyncQueue,i,e.clientId,e.initialUser)}}class kk{initialize(e,t){var i=this;return(0,Pe.Z)(function*(){i.localStore||(i.localStore=e.localStore,i.sharedClientState=e.sharedClientState,i.datastore=i.createDatastore(t),i.remoteStore=i.createRemoteStore(t),i.eventManager=i.createEventManager(t),i.syncEngine=i.createSyncEngine(t,!e.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>XN(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=lj.bind(null,i.syncEngine),yield Qx(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(e){return new qH}createDatastore(e){const t=ng(e.databaseInfo.databaseId),i=new Wx(e.databaseInfo);return new $N(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return t=this.localStore,i=this.datastore,r=e.asyncQueue,s=h=>XN(this.syncEngine,h,0),c=Cw.vt()?new Cw:new HN,new Kx(t,i,r,s,c);var t,i,r,s,c}createSyncEngine(e,t){return function(i,r,s,c,h,p,_){const T=new XH(i,r,s,c,h,p);return _&&(T.ha=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,Pe.Z)(function*(t){const i=mt(t);nt("RemoteStore","RemoteStore shutting down."),i.fu.add(5),yield ig(i),i._u.shutdown(),i.wu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function sP(n,e=10240){let t=0;return{read:()=>(0,Pe.Z)(function*(){if(t<n.byteLength){const i={value:n.slice(t,t+e),done:!1};return t+=e,i}return{done:!0}})(),cancel:()=>(0,Pe.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class fI{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.pa(this.observer.next,e)}error(e){this.observer.error?this.pa(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Ia(){this.muted=!0}pa(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class vj{constructor(e,t){this.Ta=e,this.M=t,this.metadata=new cs,this.buffer=new Uint8Array,this.Ea=new TextDecoder("utf-8"),this.Aa().then(i=>{i&&i.xu()?this.metadata.resolve(i.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==i?void 0:i.payload)}`))},i=>this.metadata.reject(i))}close(){return this.Ta.cancel()}getMetadata(){var e=this;return(0,Pe.Z)(function*(){return e.metadata.promise})()}da(){var e=this;return(0,Pe.Z)(function*(){return yield e.getMetadata(),e.Aa()})()}Aa(){var e=this;return(0,Pe.Z)(function*(){const t=yield e.Ra();if(null===t)return null;const i=e.Ea.decode(t),r=Number(i);isNaN(r)&&e.Pa(`length string (${i}) is not valid number`);const s=yield e.ba(r);return new YH(JSON.parse(s),t.length+r)})()}Va(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Ra(){var e=this;return(0,Pe.Z)(function*(){for(;e.Va()<0&&!(yield e.va()););if(0===e.buffer.length)return null;const t=e.Va();t<0&&e.Pa("Reached the end of bundle when a length string is expected.");const i=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),i})()}ba(e){var t=this;return(0,Pe.Z)(function*(){for(;t.buffer.length<e;)(yield t.va())&&t.Pa("Reached the end of bundle when more is expected.");const i=t.Ea.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),i})()}Pa(e){throw this.Ta.cancel(),new Error(`Invalid bundle format: ${e}`)}va(){var e=this;return(0,Pe.Z)(function*(){const t=yield e.Ta.read();if(!t.done){const i=new Uint8Array(e.buffer.length+t.value.length);i.set(e.buffer),i.set(t.value,e.buffer.length),e.buffer=i}return t.done})()}}class bj{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,Pe.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Ze(Ie.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,Pe.Z)(function*(s,c){const h=mt(s),p=eh(h.M)+"/documents",_={documents:c.map(H=>Bm(h.M,H))},T=yield h.ho("BatchGetDocuments",p,_),S=new Map;T.forEach(H=>{const q=function xN(n,e){return"found"in e?function(t,i){Xt(!!i.found);const r=Kl(t,i.found.name),s=us(i.found.updateTime),c=new $s({mapValue:{fields:i.found.fields}});return Ii.newFoundDocument(r,s,c)}(n,e):"missing"in e?function(t,i){Xt(!!i.missing),Xt(!!i.readTime);const r=Kl(t,i.missing),s=us(i.readTime);return Ii.newNoDocument(r,s)}(n,e):Mt()}(h.M,H);S.set(q.key.toString(),q)});const P=[];return c.forEach(H=>{const q=S.get(H.toString());Xt(!!q),P.push(q)}),P}),function(s,c){return r.apply(this,arguments)})(t.datastore,e);var r;return i.forEach(r=>t.recordVersion(r)),i})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(e.toString())}delete(e){this.write(new Nf(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Pe.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var i;e.mutations.forEach(i=>{t.delete(i.key.toString())}),t.forEach((i,r)=>{const s=dt.fromPath(r);e.mutations.push(new Vb(s,e.precondition(s)))}),yield(i=(0,Pe.Z)(function*(r,s){const c=mt(r),h=eh(c.M)+"/documents",p={writes:s.map(_=>th(c.M,_))};yield c.oo("Commit",h,p)}),function(r,s){return i.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Mt();t=Qt.min()}const i=this.readVersions.get(e.key.toString());if(i){if(!t.isEqual(i))throw new Ze(Ie.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?Er.updateTime(t):Er.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Qt.min()))throw new Ze(Ie.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Er.updateTime(t)}return Er.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class wj{constructor(e,t,i,r){this.asyncQueue=e,this.datastore=t,this.updateFunction=i,this.deferred=r,this.Sa=5,this.Do=new Dw(this.asyncQueue,"transaction_retry")}run(){this.Sa-=1,this.Da()}Da(){var e=this;this.Do.To((0,Pe.Z)(function*(){const t=new bj(e.datastore),i=e.Ca(t);i&&i.then(r=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(r)}).catch(s=>{e.xa(s)}))}).catch(r=>{e.xa(r)})}))}Ca(e){try{const t=this.updateFunction(e);return!al(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}xa(e){this.Sa>0&&this.Na(e)?(this.Sa-=1,this.asyncQueue.enqueueAndForget(()=>(this.Da(),Promise.resolve()))):this.deferred.reject(e)}Na(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!Bb(t)}return!1}}class Cj{constructor(e,t,i,r){var s=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=Ds.UNAUTHENTICATED,this.clientId=_m.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var c=(0,Pe.Z)(function*(h){nt("FirestoreClient","Received user=",h.uid),yield s.authCredentialListener(h),s.user=h});return function(h){return c.apply(this,arguments)}}()),this.appCheckCredentials.start(i,c=>(nt("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}getConfiguration(){var e=this;return(0,Pe.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ze(Ie.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new cs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Pe.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=Uy(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}function oP(n,e){return Rk.apply(this,arguments)}function Rk(){return Rk=(0,Pe.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),nt("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(function(){var r=(0,Pe.Z)(function*(s){i.isEqual(s)||(yield Hx(e.localStore,s),i=s)});return function(s){return r.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),Rk.apply(this,arguments)}function aP(n,e){return Ok.apply(this,arguments)}function Ok(){return Ok=(0,Pe.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield Nk(n);nt("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield e.initialize(t,i),n.setCredentialChangeListener(r=>Vy(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,s)=>Vy(e.remoteStore,s)),n.onlineComponents=e}),Ok.apply(this,arguments)}function Nk(n){return Pk.apply(this,arguments)}function Pk(){return Pk=(0,Pe.Z)(function*(n){return n.offlineComponents||(nt("FirestoreClient","Using default OfflineComponentProvider"),yield oP(n,new iP)),n.offlineComponents}),Pk.apply(this,arguments)}function pI(n){return Fk.apply(this,arguments)}function Fk(){return Fk=(0,Pe.Z)(function*(n){return n.onlineComponents||(nt("FirestoreClient","Using default OnlineComponentProvider"),yield aP(n,new kk)),n.onlineComponents}),Fk.apply(this,arguments)}function lP(n){return Nk(n).then(e=>e.persistence)}function Lk(n){return Nk(n).then(e=>e.localStore)}function cP(n){return pI(n).then(e=>e.remoteStore)}function Vk(n){return pI(n).then(e=>e.syncEngine)}function $y(n){return Bk.apply(this,arguments)}function Bk(){return Bk=(0,Pe.Z)(function*(n){const e=yield pI(n),t=e.eventManager;return t.onListen=ej.bind(null,e.syncEngine),t.onUnlisten=tj.bind(null,e.syncEngine),t}),Bk.apply(this,arguments)}function uP(n,e,t={}){const i=new cs;return n.asyncQueue.enqueueAndForget((0,Pe.Z)(function*(){return function(r,s,c,h,p){const _=new fI({next:S=>{s.enqueueAndForget(()=>nk(r,T));const P=S.docs.has(c);!P&&S.fromCache?p.reject(new Ze(Ie.UNAVAILABLE,"Failed to get document because the client is offline.")):P&&S.fromCache&&h&&"server"===h.source?p.reject(new Ze(Ie.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(S)},error:S=>p.reject(S)}),T=new sk(kf(c.path),_,{includeMetadataChanges:!0,Cu:!0});return ek(r,T)}(yield $y(n),n.asyncQueue,e,t,i)})),i.promise}function dP(n,e,t={}){const i=new cs;return n.asyncQueue.enqueueAndForget((0,Pe.Z)(function*(){return function(r,s,c,h,p){const _=new fI({next:S=>{s.enqueueAndForget(()=>nk(r,T)),S.fromCache&&"server"===h.source?p.reject(new Ze(Ie.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(S)},error:S=>p.reject(S)}),T=new sk(c,_,{includeMetadataChanges:!0,Cu:!0});return ek(r,T)}(yield $y(n),n.asyncQueue,e,t,i)})),i.promise}const hP=new Map;function Uk(n,e,t){if(!t)throw new Ze(Ie.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function fP(n,e,t,i){if(!0===e&&!0===i)throw new Ze(Ie.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function pP(n){if(!dt.isDocumentKey(n))throw new Ze(Ie.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function mP(n){if(dt.isDocumentKey(n))throw new Ze(Ie.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function mI(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":Mt()}function Qn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ze(Ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=mI(n);throw new Ze(Ie.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function gP(n,e){if(e<=0)throw new Ze(Ie.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class _P{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Ze(Ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Ze(Ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,fP("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Mw{constructor(e,t,i){this._authCredentials=t,this._appCheckCredentials=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new _P({}),this._settingsFrozen=!1,e instanceof jc?this._databaseId=e:(this._app=e,this._databaseId=function(r){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new Ze(Ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new jc(r.options.projectId)}(e))}get app(){if(!this._app)throw new Ze(Ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Ze(Ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new _P(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new DN;switch(t.type){case"gapi":const i=t.client;return Xt(!("object"!=typeof i||null===i||!i.auth||!i.auth.getAuthHeaderValueForFirstParty)),new $T(i,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Ze(Ie.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=hP.get(e);t&&(nt("ComponentProvider","Removing Datastore"),hP.delete(e),t.terminate())}(this),Promise.resolve()}}class Xi{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Zu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Xi(this.firestore,e,this._key)}}class Bo{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Bo(this.firestore,e,this._query)}}class Zu extends Bo{constructor(e,t,i){super(e,t,kf(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Xi(this.firestore,null,new dt(e))}withConverter(e){return new Zu(this.firestore,e,this._path)}}function yP(n,e,...t){if(n=(0,j.m9)(n),Uk("collection","path",e),n instanceof Mw){const i=Un.fromString(e,...t);return mP(i),new Zu(n,null,i)}{if(!(n instanceof Xi||n instanceof Zu))throw new Ze(Ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Un.fromString(e,...t));return mP(i),new Zu(n.firestore,null,i)}}function gI(n,e,...t){if(n=(0,j.m9)(n),1===arguments.length&&(e=_m.R()),Uk("doc","path",e),n instanceof Mw){const i=Un.fromString(e,...t);return pP(i),new Xi(n,null,new dt(i))}{if(!(n instanceof Xi||n instanceof Zu))throw new Ze(Ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Un.fromString(e,...t));return pP(i),new Xi(n.firestore,n instanceof Zu?n.converter:null,new dt(i))}}function vP(n,e){return n=(0,j.m9)(n),e=(0,j.m9)(e),(n instanceof Xi||n instanceof Zu)&&(e instanceof Xi||e instanceof Zu)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function bP(n,e){return n=(0,j.m9)(n),e=(0,j.m9)(e),n instanceof Bo&&e instanceof Bo&&n.firestore===e.firestore&&Im(n._query,e._query)&&n.converter===e.converter}class Oj{constructor(){this.ka=Promise.resolve(),this.Ma=[],this.Oa=!1,this.Fa=[],this.$a=null,this.Ba=!1,this.La=!1,this.Ua=[],this.Do=new Dw(this,"async_queue_retry"),this.qa=()=>{const t=Tw();t&&nt("AsyncQueue","Visibility state changed to "+t.visibilityState),this.Do.Ao()};const e=Tw();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.qa)}get isShuttingDown(){return this.Oa}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ka(),this.Ga(e)}enterRestrictedMode(e){if(!this.Oa){this.Oa=!0,this.La=e||!1;const t=Tw();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.qa)}}enqueue(e){if(this.Ka(),this.Oa)return new Promise(()=>{});const t=new cs;return this.Ga(()=>this.Oa&&this.La?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ma.push(e),this.Qa()))}Qa(){var e=this;return(0,Pe.Z)(function*(){if(0!==e.Ma.length){try{yield e.Ma[0](),e.Ma.shift(),e.Do.reset()}catch(t){if(!qu(t))throw t;nt("AsyncQueue","Operation failed with retryable error: "+t)}e.Ma.length>0&&e.Do.To(()=>e.Qa())}})()}Ga(e){const t=this.ka.then(()=>(this.Ba=!0,e().catch(i=>{throw this.$a=i,this.Ba=!1,Cr("INTERNAL UNHANDLED ERROR: ",function(s){let c=s.message||"";return s.stack&&(c=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),c}(i)),i}).then(i=>(this.Ba=!1,i))));return this.ka=t,t}enqueueAfterDelay(e,t,i){this.Ka(),this.Ua.indexOf(e)>-1&&(t=0);const r=Xx.createAndSchedule(this,e,t,i,s=>this.ja(s));return this.Fa.push(r),r}Ka(){this.$a&&Mt()}verifyOperationInProgress(){}Wa(){var e=this;return(0,Pe.Z)(function*(){let t;do{t=e.ka,yield t}while(t!==e.ka)})()}za(e){for(const t of this.Fa)if(t.timerId===e)return!0;return!1}Ha(e){return this.Wa().then(()=>{this.Fa.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.Fa)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Wa()})}Ja(e){this.Ua.push(e)}ja(e){const t=this.Fa.indexOf(e);this.Fa.splice(t,1)}}function Hk(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const i=e;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class Nj{constructor(){this._progressObserver={},this._taskCompletionResolver=new cs,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,i){this._progressObserver={next:e,error:t,complete:i}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class ur extends Mw{constructor(e,t,i){super(e,t,i),this.type="firestore",this._queue=new Oj,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||wP(this),this._firestoreClient.terminate()}}function hs(n){return n._firestoreClient||wP(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function wP(n){var e;const t=n._freezeSettings(),i=(s=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new WT(n._databaseId,s,n._persistenceKey,(h=t).host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,h.useFetchStreams));var s,h;n._firestoreClient=new Cj(n._authCredentials,n._appCheckCredentials,n._queue,i)}function CP(n,e,t){const i=new cs;return n.asyncQueue.enqueue((0,Pe.Z)(function*(){try{yield oP(n,t),yield aP(n,e),i.resolve()}catch(r){if(!("FirebaseError"===(s=r).name?s.code===Ie.FAILED_PRECONDITION||s.code===Ie.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&s instanceof DOMException)||22===s.code||20===s.code||11===s.code))throw r;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r)}var s})).then(()=>i.promise)}function EP(n){if(n._initialized||n._terminated)throw new Ze(Ie.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class dh{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Ze(Ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Yu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Yu(Jr.fromBase64String(e))}catch(t){throw new Ze(Ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Yu(Jr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class cg{constructor(e){this._methodName=e}}class _I{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ze(Ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ze(Ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return mn(this._lat,e._lat)||mn(this._long,e._long)}}const $j=/^__.*__$/;class zj{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return null!==this.fieldMask?new Va(e,this.data,this.fieldMask,t,this.fieldTransforms):new Rm(e,this.data,t,this.fieldTransforms)}}class TP{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new Va(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function DP(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Mt()}}class yI{constructor(e,t,i,r,s,c){this.settings=e,this.databaseId=t,this.M=i,this.ignoreUndefinedProperties=r,void 0===s&&this.Ya(),this.fieldTransforms=s||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Xa(){return this.settings.Xa}Za(e){return new yI(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}tc(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Za({path:i,ec:!1});return r.nc(e),r}sc(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Za({path:i,ec:!1});return r.Ya(),r}ic(e){return this.Za({path:void 0,ec:!0})}rc(e){return wI(e,this.settings.methodName,this.settings.oc||!1,this.path,this.settings.uc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Ya(){if(this.path)for(let e=0;e<this.path.length;e++)this.nc(this.path.get(e))}nc(e){if(0===e.length)throw this.rc("Document fields must not be empty");if(DP(this.Xa)&&$j.test(e))throw this.rc('Document fields cannot begin and end with "__"')}}class qj{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.M=i||ng(e)}ac(e,t,i,r=!1){return new yI({Xa:e,methodName:t,uc:i,path:Qr.emptyPath(),ec:!1,oc:r},this.databaseId,this.M,this.ignoreUndefinedProperties)}}function ug(n){const e=n._freezeSettings(),t=ng(n._databaseId);return new qj(n._databaseId,!!e.ignoreUndefinedProperties,t)}function vI(n,e,t,i,r,s={}){const c=n.ac(s.merge||s.mergeFields?2:0,e,t,r);zk("Data must be an object, but it was:",c,i);const h=AP(i,c);let p,_;if(s.merge)p=new Tf(c.fieldMask),_=c.fieldTransforms;else if(s.mergeFields){const T=[];for(const S of s.mergeFields){const P=qk(e,S,t);if(!c.contains(P))throw new Ze(Ie.INVALID_ARGUMENT,`Field '${P}' is specified in your field mask but missing from your input data.`);xP(T,P)||T.push(P)}p=new Tf(T),_=c.fieldTransforms.filter(S=>p.covers(S.field))}else p=null,_=c.fieldTransforms;return new zj(new $s(h),p,_)}class xw extends cg{_toFieldTransform(e){if(2!==e.Xa)throw e.rc(1===e.Xa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof xw}}function IP(n,e,t){return new yI({Xa:3,uc:e.settings.uc,methodName:n._methodName,ec:t},e.databaseId,e.M,e.ignoreUndefinedProperties)}class jk extends cg{_toFieldTransform(e){return new $u(e.path,new Zd)}isEqual(e){return e instanceof jk}}class Wj extends cg{constructor(e,t){super(e),this.cc=t}_toFieldTransform(e){const t=IP(this,e,!0),i=this.cc.map(s=>dg(s,t)),r=new Yd(i);return new $u(e.path,r)}isEqual(e){return this===e}}class Zj extends cg{constructor(e,t){super(e),this.cc=t}_toFieldTransform(e){const t=IP(this,e,!0),i=this.cc.map(s=>dg(s,t)),r=new Kd(i);return new $u(e.path,r)}isEqual(e){return this===e}}class Yj extends cg{constructor(e,t){super(e),this.hc=t}_toFieldTransform(e){const t=new Qd(e.M,mD(e.M,this.hc));return new $u(e.path,t)}isEqual(e){return this===e}}function Gk(n,e,t,i){const r=n.ac(1,e,t);zk("Data must be an object, but it was:",r,i);const s=[],c=$s.empty();$d(i,(p,_)=>{const T=bI(e,p,t);_=(0,j.m9)(_);const S=r.sc(T);if(_ instanceof xw)s.push(T);else{const P=dg(_,S);null!=P&&(s.push(T),c.set(T,P))}});const h=new Tf(s);return new TP(c,h,r.fieldTransforms)}function $k(n,e,t,i,r,s){const c=n.ac(1,e,t),h=[qk(e,i,t)],p=[r];if(s.length%2!=0)throw new Ze(Ie.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let P=0;P<s.length;P+=2)h.push(qk(e,s[P])),p.push(s[P+1]);const _=[],T=$s.empty();for(let P=h.length-1;P>=0;--P)if(!xP(_,h[P])){const H=h[P];let q=p[P];q=(0,j.m9)(q);const ae=c.sc(H);if(q instanceof xw)_.push(H);else{const Ce=dg(q,ae);null!=Ce&&(_.push(H),T.set(H,Ce))}}const S=new Tf(_);return new TP(T,S,c.fieldTransforms)}function SP(n,e,t,i=!1){return dg(t,n.ac(i?4:3,e))}function dg(n,e){if(MP(n=(0,j.m9)(n)))return zk("Unsupported field value:",e,n),AP(n,e);if(n instanceof cg)return function(t,i){if(!DP(i.Xa))throw i.rc(`${t._methodName}() can only be used with update() and set()`);if(!i.path)throw i.rc(`${t._methodName}() is not currently supported inside arrays`);const r=t._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.ec&&4!==e.Xa)throw e.rc("Nested arrays are not supported");return function(t,i){const r=[];let s=0;for(const c of t){let h=dg(c,i.ic(s));null==h&&(h={nullValue:"NULL_VALUE"}),r.push(h),s++}return{arrayValue:{values:r}}}(n,e)}return function(t,i){if(null===(t=(0,j.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return mD(i.M,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const r=gn.fromDate(t);return{timestampValue:Wc(i.M,r)}}if(t instanceof gn){const r=new gn(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Wc(i.M,r)}}if(t instanceof _I)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Yu)return{bytesValue:DD(i.M,t._byteString)};if(t instanceof Xi){const r=i.databaseId,s=t.firestore._databaseId;if(!s.isEqual(r))throw i.rc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:Vf(t.firestore._databaseId||i.databaseId,t._key.path)}}throw i.rc(`Unsupported field value: ${mI(t)}`)}(n,e)}function AP(n,e){const t={};return zT(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):$d(n,(i,r)=>{const s=dg(r,e.tc(i));null!=s&&(t[i]=s)}),{mapValue:{fields:t}}}function MP(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof gn||n instanceof _I||n instanceof Yu||n instanceof Xi||n instanceof cg)}function zk(n,e,t){if(!MP(t)||"object"!=typeof(i=t)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=mI(t);throw e.rc("an object"===i?n+" a custom object":n+" "+i)}var i}function qk(n,e,t){if((e=(0,j.m9)(e))instanceof dh)return e._internalPath;if("string"==typeof e)return bI(n,e);throw wI("Field path arguments must be of type string or ",n,!1,void 0,t)}const Kj=new RegExp("[~\\*/\\[\\]]");function bI(n,e,t){if(e.search(Kj)>=0)throw wI(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new dh(...e.split("."))._internalPath}catch(i){throw wI(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function wI(n,e,t,i,r){const s=i&&!i.isEmpty(),c=void 0!==r;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let p="";return(s||c)&&(p+=" (found",s&&(p+=` in field ${i}`),c&&(p+=` in document ${r}`),p+=")"),new Ze(Ie.INVALID_ARGUMENT,h+n+p)}function xP(n,e){return n.some(t=>t.isEqual(e))}class kw{constructor(e,t,i,r,s){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Xi(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Qj(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(CI("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Qj extends kw{data(){return super.data()}}function CI(n,e){return"string"==typeof e?bI(n,e):e instanceof dh?e._internalPath:e._delegate._internalPath}class hg{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class hh extends kw{constructor(e,t,i,r,s,c){super(e,t,i,r,c),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Rw(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(CI("DocumentSnapshot.get",e));if(null!==i)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class Rw extends hh{data(e={}){return super.data(e)}}class qf{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new hg(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new Rw(this._firestore,this._userDataWriter,i.key,i,new hg(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ze(Ie.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(c=>({type:"added",doc:new Rw(i._firestore,i._userDataWriter,c.doc.key,c.doc,new hg(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:s++}))}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>r||3!==c.type).map(c=>{const h=new Rw(i._firestore,i._userDataWriter,c.doc.key,c.doc,new hg(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let p=-1,_=-1;return 0!==c.type&&(p=s.indexOf(c.doc.key),s=s.delete(c.doc.key)),1!==c.type&&(s=s.add(c.doc),_=s.indexOf(c.doc.key)),{type:Jj(c.type),doc:h,oldIndex:p,newIndex:_}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Jj(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Mt()}}function kP(n,e){return n instanceof hh&&e instanceof hh?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof qf&&e instanceof qf&&n._firestore===e._firestore&&bP(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function RP(n){if(Rf(n)&&0===n.explicitOrderBy.length)throw new Ze(Ie.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ow{}function Wf(n,...e){for(const t of e)n=t._apply(n);return n}class Xj extends Ow{constructor(e,t,i){super(),this.lc=e,this.fc=t,this.dc=i,this.type="where"}_apply(e){const t=ug(e.firestore),i=function(r,s,c,h,p,_,T){let S;if(p.isKeyField()){if("array-contains"===_||"array-contains-any"===_)throw new Ze(Ie.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if("in"===_||"not-in"===_){VP(T,_);const H=[];for(const q of T)H.push(LP(h,r,q));S={arrayValue:{values:H}}}else S=LP(h,r,T)}else"in"!==_&&"not-in"!==_&&"array-contains-any"!==_||VP(T,_),S=SP(c,"where",T,"in"===_||"not-in"===_);const P=Is.create(p,_,S);return function(H,q){if(q.S()){const Ce=ay(H);if(null!==Ce&&!Ce.isEqual(q.field))throw new Ze(Ie.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Ce.toString()}' and '${q.field.toString()}'`);const pt=Tm(H);null!==pt&&BP(0,q.field,pt)}const ae=function(Ce,pt){for(const _t of Ce.filters)if(pt.indexOf(_t.op)>=0)return _t.op;return null}(H,function(Ce){switch(Ce){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(q.op));if(null!==ae)throw new Ze(Ie.INVALID_ARGUMENT,ae===q.op?`Invalid query. You cannot use more than one '${q.op.toString()}' filter.`:`Invalid query. You cannot use '${q.op.toString()}' filters with '${ae.toString()}' filters.`)}(r,P),P}(e._query,0,t,e.firestore._databaseId,this.lc,this.fc,this.dc);return new Bo(e.firestore,e.converter,function(r,s){const c=r.filters.concat([s]);return new Zl(r.path,r.collectionGroup,r.explicitOrderBy.slice(),c,r.limit,r.limitType,r.startAt,r.endAt)}(e._query,i))}}class t3 extends Ow{constructor(e,t){super(),this.lc=e,this._c=t,this.type="orderBy"}_apply(e){const t=function(i,r,s){if(null!==i.startAt)throw new Ze(Ie.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new Ze(Ie.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const c=new Wd(r,s);return function(h,p){if(null===Tm(h)){const _=ay(h);null!==_&&BP(0,_,p.field)}}(i,c),c}(e._query,this.lc,this._c);return new Bo(e.firestore,e.converter,function(i,r){const s=i.explicitOrderBy.concat([r]);return new Zl(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}class OP extends Ow{constructor(e,t,i){super(),this.type=e,this.wc=t,this.mc=i}_apply(e){return new Bo(e.firestore,e.converter,ly(e._query,this.wc,this.mc))}}class NP extends Ow{constructor(e,t,i){super(),this.type=e,this.gc=t,this.yc=i}_apply(e){const t=FP(e,this.type,this.gc,this.yc);return new Bo(e.firestore,e.converter,(r=t,new Zl((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,r,i.endAt)));var i,r}}class PP extends Ow{constructor(e,t,i){super(),this.type=e,this.gc=t,this.yc=i}_apply(e){const t=FP(e,this.type,this.gc,this.yc);return new Bo(e.firestore,e.converter,(r=t,new Zl((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,r)));var i,r}}function FP(n,e,t,i){if(t[0]=(0,j.m9)(t[0]),t[0]instanceof kw)return function(r,s,c,h,p){if(!h)throw new Ze(Ie.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${c}().`);const _=[];for(const T of Of(r))if(T.field.isKeyField())_.push(Af(s,h.key));else{const S=h.data.field(T.field);if(Df(S))throw new Ze(Ie.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+T.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===S){const P=T.field.canonicalString();throw new Ze(Ie.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${P}' (used as the orderBy) does not exist.`)}_.push(S)}return new Gu(_,p)}(n._query,n.firestore._databaseId,e,t[0]._document,i);{const r=ug(n.firestore);return function(s,c,h,p,_,T){const S=s.explicitOrderBy;if(_.length>S.length)throw new Ze(Ie.INVALID_ARGUMENT,`Too many arguments provided to ${p}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const P=[];for(let H=0;H<_.length;H++){const q=_[H];if(S[H].field.isKeyField()){if("string"!=typeof q)throw new Ze(Ie.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${p}(), but got a ${typeof q}`);if(!Dm(s)&&-1!==q.indexOf("/"))throw new Ze(Ie.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${p}() must be a plain document ID, but '${q}' contains a slash.`);const ae=s.path.child(Un.fromString(q));if(!dt.isDocumentKey(ae))throw new Ze(Ie.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${p}() must result in a valid document path, but '${ae}' is not because it contains an odd number of segments.`);const Ce=new dt(ae);P.push(Af(c,Ce))}else{const ae=SP(h,p,q);P.push(ae)}}return new Gu(P,T)}(n._query,n.firestore._databaseId,r,e,t,i)}}function LP(n,e,t){if("string"==typeof(t=(0,j.m9)(t))){if(""===t)throw new Ze(Ie.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Dm(e)&&-1!==t.indexOf("/"))throw new Ze(Ie.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(Un.fromString(t));if(!dt.isDocumentKey(i))throw new Ze(Ie.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Af(n,new dt(i))}if(t instanceof Xi)return Af(n,t._key);throw new Ze(Ie.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${mI(t)}.`)}function VP(n,e){if(!Array.isArray(n)||0===n.length)throw new Ze(Ie.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new Ze(Ie.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function BP(n,e,t){if(!t.isEqual(e))throw new Ze(Ie.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class Wk{convertValue(e,t="none"){switch(ju(e)){case 0:return null;case 1:return e.booleanValue;case 2:return lr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(zd(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Mt()}}convertObject(e,t){const i={};return $d(e.fields,(r,s)=>{i[r]=this.convertValue(s,t)}),i}convertGeoPoint(e){return new _I(lr(e.latitude),lr(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=Ab(e);return null==i?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(If(e));default:return null}}convertTimestamp(e){const t=Hu(e);return new gn(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=Un.fromString(e);Xt(Zb(i));const r=new jc(i.get(1),i.get(3)),s=new dt(i.popFirst(5));return r.isEqual(t)||Cr(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}function EI(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}class u3 extends Wk{constructor(e){super(),this.firestore=e}convertBytes(e){return new Yu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Xi(this.firestore,null,t)}}class UP{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=ug(e)}set(e,t,i){this._verifyNotCommitted();const r=Zf(e,this._firestore),s=EI(r.converter,t,i),c=vI(this._dataReader,"WriteBatch.set",r._key,s,null!==r.converter,i);return this._mutations.push(c.toMutation(r._key,Er.none())),this}update(e,t,i,...r){this._verifyNotCommitted();const s=Zf(e,this._firestore);let c;return c="string"==typeof(t=(0,j.m9)(t))||t instanceof dh?$k(this._dataReader,"WriteBatch.update",s._key,t,i,r):Gk(this._dataReader,"WriteBatch.update",s._key,t),this._mutations.push(c.toMutation(s._key,Er.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Zf(e,this._firestore);return this._mutations=this._mutations.concat(new Nf(t._key,Er.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ze(Ie.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Zf(n,e){if((n=(0,j.m9)(n)).firestore!==e)throw new Ze(Ie.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class fg extends Wk{constructor(e){super(),this.firestore=e}convertBytes(e){return new Yu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Xi(this.firestore,null,t)}}function HP(n,e,t){n=Qn(n,Xi);const i=Qn(n.firestore,ur),r=EI(n.converter,e,t);return zy(i,[vI(ug(i),"setDoc",n._key,r,null!==n.converter,t).toMutation(n._key,Er.none())])}function jP(n,e,t,...i){n=Qn(n,Xi);const r=Qn(n.firestore,ur),s=ug(r);let c;return c="string"==typeof(e=(0,j.m9)(e))||e instanceof dh?$k(s,"updateDoc",n._key,e,t,i):Gk(s,"updateDoc",n._key,e),zy(r,[c.toMutation(n._key,Er.exists(!0))])}function GP(n,...e){var t,i,r;n=(0,j.m9)(n);let s={includeMetadataChanges:!1},c=0;"object"!=typeof e[c]||Hk(e[c])||(s=e[c],c++);const h={includeMetadataChanges:s.includeMetadataChanges};if(Hk(e[c])){const S=e[c];e[c]=null===(t=S.next)||void 0===t?void 0:t.bind(S),e[c+1]=null===(i=S.error)||void 0===i?void 0:i.bind(S),e[c+2]=null===(r=S.complete)||void 0===r?void 0:r.bind(S)}let p,_,T;if(n instanceof Xi)_=Qn(n.firestore,ur),T=kf(n._key.path),p={next:S=>{e[c]&&e[c](Zk(_,n,S))},error:e[c+1],complete:e[c+2]};else{const S=Qn(n,Bo);_=Qn(S.firestore,ur),T=S._query;const P=new fg(_);p={next:H=>{e[c]&&e[c](new qf(_,P,S,H))},error:e[c+1],complete:e[c+2]},RP(n._query)}return function(S,P,H,q){const ae=new fI(q),Ce=new sk(P,ae,H);return S.asyncQueue.enqueueAndForget((0,Pe.Z)(function*(){return ek(yield $y(S),Ce)})),()=>{ae.Ia(),S.asyncQueue.enqueueAndForget((0,Pe.Z)(function*(){return nk(yield $y(S),Ce)}))}}(hs(_),T,h,p)}function zy(n,e){return function(t,i){const r=new cs;return t.asyncQueue.enqueueAndForget((0,Pe.Z)(function*(){return function nj(n,e,t){return uk.apply(this,arguments)}(yield Vk(t),i,r)})),r.promise}(hs(n),e)}function Zk(n,e,t){const i=t.docs.get(e._key),r=new fg(n);return new hh(n,r,e._key,i,new hg(t.hasPendingWrites,t.fromCache),e.converter)}class b3 extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=ug(e)}get(e){const t=Zf(e,this._firestore),i=new u3(this._firestore);return this._transaction.lookup([t._key]).then(r=>{if(!r||1!==r.length)return Mt();const s=r[0];if(s.isFoundDocument())return new kw(this._firestore,i,s.key,s,t.converter);if(s.isNoDocument())return new kw(this._firestore,i,t._key,null,t.converter);throw Mt()})}set(e,t,i){const r=Zf(e,this._firestore),s=EI(r.converter,t,i),c=vI(this._dataReader,"Transaction.set",r._key,s,null!==r.converter,i);return this._transaction.set(r._key,c),this}update(e,t,i,...r){const s=Zf(e,this._firestore);let c;return c="string"==typeof(t=(0,j.m9)(t))||t instanceof dh?$k(this._dataReader,"Transaction.update",s._key,t,i,r):Gk(this._dataReader,"Transaction.update",s._key,t),this._transaction.update(s._key,c),this}delete(e){const t=Zf(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Zf(e,this._firestore),i=new fg(this._firestore);return super.get(e).then(r=>new hh(this._firestore,i,t._key,r._document,new hg(!1,!1),t.converter))}}function Yk(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Ze("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function zP(){if("undefined"==typeof Uint8Array)throw new Ze("unimplemented","Uint8Arrays are not available in this environment.")}function qP(){if(!function JM(){return"undefined"!=typeof atob}())throw new Ze("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){wf=Wi.SDK_VERSION,(0,Wi._registerComponent)(new Oi.wA("firestore",(t,{options:i})=>{const r=t.getProvider("app").getImmediate(),s=new ur(r,new IN(t.getProvider("auth-internal")),new zt(t.getProvider("app-check-internal")));return i=Object.assign({useFetchStreams:e},i),s._setSettings(i),s},"PUBLIC")),(0,Wi.registerVersion)(HT,"3.4.8",n),(0,Wi.registerVersion)(HT,"3.4.8","esm2017")}();class Nw{constructor(e){this._delegate=e}static fromBase64String(e){return qP(),new Nw(Yu.fromBase64String(e))}static fromUint8Array(e){return zP(),new Nw(Yu.fromUint8Array(e))}toBase64(){return qP(),this._delegate.toBase64()}toUint8Array(){return zP(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Kk(n){return function M3(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const i of e)if(i in t&&"function"==typeof t[i])return!0;return!1}(n,["next","error","complete"])}class x3{enableIndexedDbPersistence(e,t){return function Fj(n,e){EP(n=Qn(n,ur));const t=hs(n),i=n._freezeSettings(),r=new kk;return CP(t,r,new rP(r,i.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function Lj(n){EP(n=Qn(n,ur));const e=hs(n),t=n._freezeSettings(),i=new kk;return CP(e,i,new yj(i,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function Vj(n){if(n._initialized&&!n._terminated)throw new Ze(Ie.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new cs;return n._queue.enqueueAndForgetEvenWhileRestricted((0,Pe.Z)(function*(){try{yield(t=(0,Pe.Z)(function*(i){if(!Ql.vt())return Promise.resolve();const r=i+"main";yield Ql.delete(r)}),function(i){return t.apply(this,arguments)})(gw(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class WP{constructor(e,t,i){this._delegate=t,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},e instanceof jc||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Cf("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,i={}){!function kj(n,e,t,i={}){var r;const s=(n=Qn(n,Mw))._getSettings();if("firestore.googleapis.com"!==s.host&&s.host!==e&&Cf("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},s),{host:`${e}:${t}`,ssl:!1})),i.mockUserToken){let c,h;if("string"==typeof i.mockUserToken)c=i.mockUserToken,h=Ds.MOCK_USER;else{c=(0,j.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const p=i.mockUserToken.sub||i.mockUserToken.user_id;if(!p)throw new Ze(Ie.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new Ds(p)}n._authCredentials=new Ib(new Gd(c,h))}}(this._delegate,e,t,i)}enableNetwork(){return function Uj(n){return function Ej(n){return n.asyncQueue.enqueue((0,Pe.Z)(function*(){const e=yield lP(n),t=yield cP(n);return e.setNetworkEnabled(!0),function(i){const r=mt(i);return r.fu.delete(0),Ly(r)}(t)}))}(hs(n=Qn(n,ur)))}(this._delegate)}disableNetwork(){return function Hj(n){return function Tj(n){return n.asyncQueue.enqueue((0,Pe.Z)(function*(){const e=yield lP(n),t=yield cP(n);return e.setNetworkEnabled(!1),(i=(0,Pe.Z)(function*(r){const s=mt(r);s.fu.add(0),yield ig(s),s.wu.set("Offline")}),function(r){return i.apply(this,arguments)})(t);var i}))}(hs(n=Qn(n,ur)))}(this._delegate)}enablePersistence(e){let t=!1,i=!1;return e&&(t=!!e.synchronizeTabs,i=!!e.experimentalForceOwningTab,fP("synchronizeTabs",t,"experimentalForceOwningTab",i)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function Bj(n){return function(e){const t=new cs;return e.asyncQueue.enqueueAndForget((0,Pe.Z)(function*(){return function oj(n,e){return mk.apply(this,arguments)}(yield Vk(e),t)})),t.promise}(hs(n=Qn(n,ur)))}(this._delegate)}onSnapshotsInSync(e){return function v3(n,e){return function Sj(n,e){const t=new fI(e);return n.asyncQueue.enqueueAndForget((0,Pe.Z)(function*(){return i=yield $y(n),r=t,mt(i).Eu.add(r),void r.next();var i,r})),()=>{t.Ia(),n.asyncQueue.enqueueAndForget((0,Pe.Z)(function*(){return i=yield $y(n),r=t,void mt(i).Eu.delete(r);var i,r}))}}(hs(n=Qn(n,ur)),Hk(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Ze("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new qy(this,yP(this._delegate,e))}catch(t){throw fa(t,"collection()","Firestore.collection()")}}doc(e){try{return new Xl(this,gI(this._delegate,e))}catch(t){throw fa(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new pa(this,function Rj(n,e){if(n=Qn(n,Mw),Uk("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Ze(Ie.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Bo(n,null,(t=e,new Zl(Un.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw fa(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function w3(n,e){return function Aj(n,e){const t=new cs;return n.asyncQueue.enqueueAndForget((0,Pe.Z)(function*(){const i=yield(r=n,pI(r).then(s=>s.datastore));var r;new wj(n.asyncQueue,i,e,t).run()})),t.promise}(hs(n=Qn(n,ur)),t=>e(new b3(n,t)))}(this._delegate,t=>e(new ZP(this,t)))}batch(){return hs(this._delegate),new YP(new UP(this._delegate,e=>zy(this._delegate,e)))}loadBundle(e){return function jj(n,e){const t=hs(n=Qn(n,ur)),i=new Nj;return function Mj(n,e,t,i){const r=function(s,c){let h;return h="string"==typeof s?(new TextEncoder).encode(s):s,p=function(p,_){if(p instanceof Uint8Array)return sP(p,_);if(p instanceof ArrayBuffer)return sP(new Uint8Array(p),_);if(p instanceof ReadableStream)return p.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(h),new vj(p,c);var p}(t,ng(e));n.asyncQueue.enqueueAndForget((0,Pe.Z)(function*(){!function _j(n,e,t){const i=mt(n);var r;(r=(0,Pe.Z)(function*(s,c,h){try{const p=yield c.getMetadata();if(yield function(P,H){const q=mt(P),ae=us(H.createTime);return q.persistence.runTransaction("hasNewerBundle","readonly",Ce=>q._s.getBundleMetadata(Ce,H.id)).then(Ce=>!!Ce&&Ce.createTime.compareTo(ae)>=0)}(s.localStore,p))return yield c.close(),h._completeWith({taskState:"Success",documentsLoaded:(P=p).totalDocuments,bytesLoaded:P.totalBytes,totalDocuments:P.totalDocuments,totalBytes:P.totalBytes}),Promise.resolve(new Set);h._updateProgress(ZN(p));const _=new KH(p,s.localStore,c.M);let T=yield c.da();for(;T;){const P=yield _.ku(T);P&&h._updateProgress(P),T=yield c.da()}const S=yield _.complete();return yield uh(s,S.Fu,void 0),yield function(P,H){const q=mt(P);return q.persistence.runTransaction("Save bundle","readwrite",ae=>q._s.saveBundleMetadata(ae,H))}(s.localStore,p),h._completeWith(S.progress),Promise.resolve(S.Ou)}catch(p){return Cf("SyncEngine",`Loading bundle failed with ${p}`),h._failWith(p),Promise.resolve(new Set)}var P}),function(s,c,h){return r.apply(this,arguments)})(i,e,t).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield Vk(n),r,i)}))}(t,n._databaseId,e,i),i}(this._delegate,e)}namedQuery(e){return function Gj(n,e){return function xj(n,e){return n.asyncQueue.enqueue((0,Pe.Z)(function*(){return function(t,i){const r=mt(t);return r.persistence.runTransaction("Get named query","readonly",s=>r._s.getNamedQuery(s,i))}(yield Lk(n),e)}))}(hs(n=Qn(n,ur)),e).then(t=>t?new Bo(n,null,t.query):null)}(this._delegate,e).then(t=>t?new pa(this,t):null)}}class TI extends Wk{constructor(e){super(),this.firestore=e}convertBytes(e){return new Nw(new Yu(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Xl.forKey(t,this.firestore,null)}}class ZP{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new TI(e)}get(e){const t=mg(e);return this._delegate.get(t).then(i=>new Pw(this._firestore,new hh(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,t.converter)))}set(e,t,i){const r=mg(e);return i?(Yk("Transaction.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const s=mg(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,i,...r),this}delete(e){const t=mg(e);return this._delegate.delete(t),this}}class YP{constructor(e){this._delegate=e}set(e,t,i){const r=mg(e);return i?(Yk("WriteBatch.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const s=mg(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,i,...r),this}delete(e){const t=mg(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class pg{constructor(e,t,i){this._firestore=e,this._userDataWriter=t,this._delegate=i}fromFirestore(e,t){const i=new Rw(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Fw(this._firestore,i),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const i=pg.INSTANCES;let r=i.get(e);r||(r=new WeakMap,i.set(e,r));let s=r.get(t);return s||(s=new pg(e,new TI(e),t),r.set(t,s)),s}}pg.INSTANCES=new WeakMap;class Xl{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new TI(e)}static forPath(e,t,i){if(e.length%2!=0)throw new Ze("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Xl(t,new Xi(t._delegate,i,new dt(e)))}static forKey(e,t,i){return new Xl(t,new Xi(t._delegate,i,e))}get id(){return this._delegate.id}get parent(){return new qy(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new qy(this.firestore,yP(this._delegate,e))}catch(t){throw fa(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,j.m9)(e))instanceof Xi&&vP(this._delegate,e)}set(e,t){t=Yk("DocumentReference.set",t);try{return t?HP(this._delegate,e,t):HP(this._delegate,e)}catch(i){throw fa(i,"setDoc()","DocumentReference.set()")}}update(e,t,...i){try{return 1===arguments.length?jP(this._delegate,e):jP(this._delegate,e,t,...i)}catch(r){throw fa(r,"updateDoc()","DocumentReference.update()")}}delete(){return function _3(n){return zy(Qn(n.firestore,ur),[new Nf(n._key,Er.none())])}(this._delegate)}onSnapshot(...e){const t=KP(e),i=QP(e,r=>new Pw(this.firestore,new hh(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return GP(this._delegate,t,i)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function h3(n){n=Qn(n,Xi);const e=Qn(n.firestore,ur),t=hs(e),i=new fg(e);return function Dj(n,e){const t=new cs;return n.asyncQueue.enqueueAndForget((0,Pe.Z)(function*(){return(i=(0,Pe.Z)(function*(r,s,c){try{const h=yield function(p,_){const T=mt(p);return T.persistence.runTransaction("read document","readonly",S=>T.ci.Ls(S,_))}(r,s);h.isFoundDocument()?c.resolve(h):h.isNoDocument()?c.resolve(null):c.reject(new Ze(Ie.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(h){const p=Uy(h,`Failed to get document '${s} from cache`);c.reject(p)}}),function(r,s,c){return i.apply(this,arguments)})(yield Lk(n),e,t);var i})),t.promise}(t,n._key).then(r=>new hh(e,i,n._key,r,new hg(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function f3(n){n=Qn(n,Xi);const e=Qn(n.firestore,ur);return uP(hs(e),n._key,{source:"server"}).then(t=>Zk(e,n,t))}(this._delegate):function d3(n){n=Qn(n,Xi);const e=Qn(n.firestore,ur);return uP(hs(e),n._key).then(t=>Zk(e,n,t))}(this._delegate),t.then(i=>new Pw(this.firestore,new hh(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(e){return new Xl(this.firestore,this._delegate.withConverter(e?pg.getInstance(this.firestore,e):null))}}function fa(n,e,t){return n.message=n.message.replace(e,t),n}function KP(n){for(const e of n)if("object"==typeof e&&!Kk(e))return e;return{}}function QP(n,e){var t,i;let r;return r=Kk(n[0])?n[0]:Kk(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:s=>{r.next&&r.next(e(s))},error:null===(t=r.error)||void 0===t?void 0:t.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class Pw{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Xl(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return kP(this._delegate,e._delegate)}}class Fw extends Pw{data(e){const t=this._delegate.data(e);return function Db(n,e){n||Mt()}(void 0!==t),t}}class pa{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new TI(e)}where(e,t,i){try{return new pa(this.firestore,Wf(this._delegate,function e3(n,e,t){const i=e,r=CI("where",n);return new Xj(r,i,t)}(e,t,i)))}catch(r){throw fa(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new pa(this.firestore,Wf(this._delegate,function n3(n,e="asc"){const t=e,i=CI("orderBy",n);return new t3(i,t)}(e,t)))}catch(i){throw fa(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new pa(this.firestore,Wf(this._delegate,function r3(n){return gP("limit",n),new OP("limit",n,"F")}(e)))}catch(t){throw fa(t,"limit()","Query.limit()")}}limitToLast(e){try{return new pa(this.firestore,Wf(this._delegate,function s3(n){return gP("limitToLast",n),new OP("limitToLast",n,"L")}(e)))}catch(t){throw fa(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new pa(this.firestore,Wf(this._delegate,function o3(...n){return new NP("startAt",n,!0)}(...e)))}catch(t){throw fa(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new pa(this.firestore,Wf(this._delegate,function a3(...n){return new NP("startAfter",n,!1)}(...e)))}catch(t){throw fa(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new pa(this.firestore,Wf(this._delegate,function l3(...n){return new PP("endBefore",n,!1)}(...e)))}catch(t){throw fa(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new pa(this.firestore,Wf(this._delegate,function c3(...n){return new PP("endAt",n,!0)}(...e)))}catch(t){throw fa(t,"endAt()","Query.endAt()")}}isEqual(e){return bP(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function m3(n){n=Qn(n,Bo);const e=Qn(n.firestore,ur),t=hs(e),i=new fg(e);return function Ij(n,e){const t=new cs;return n.asyncQueue.enqueueAndForget((0,Pe.Z)(function*(){return(i=(0,Pe.Z)(function*(r,s,c){try{const h=yield Oy(r,s,!0),p=new QN(s,h.li),_=p.Gu(h.documents),T=p.applyChanges(_,!1);c.resolve(T.snapshot)}catch(h){const p=Uy(h,`Failed to execute query '${s} against cache`);c.reject(p)}}),function(r,s,c){return i.apply(this,arguments)})(yield Lk(n),e,t);var i})),t.promise}(t,n._query).then(r=>new qf(e,i,n,r))}(this._delegate):"server"===(null==e?void 0:e.source)?function g3(n){n=Qn(n,Bo);const e=Qn(n.firestore,ur),t=hs(e),i=new fg(e);return dP(t,n._query,{source:"server"}).then(r=>new qf(e,i,n,r))}(this._delegate):function p3(n){n=Qn(n,Bo);const e=Qn(n.firestore,ur),t=hs(e),i=new fg(e);return RP(n._query),dP(t,n._query).then(r=>new qf(e,i,n,r))}(this._delegate),t.then(i=>new Qk(this.firestore,new qf(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...e){const t=KP(e),i=QP(e,r=>new Qk(this.firestore,new qf(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return GP(this._delegate,t,i)}withConverter(e){return new pa(this.firestore,this._delegate.withConverter(e?pg.getInstance(this.firestore,e):null))}}class R3{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Fw(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Qk{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new pa(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Fw(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new R3(this._firestore,t))}forEach(e,t){this._delegate.forEach(i=>{e.call(t,new Fw(this._firestore,i))})}isEqual(e){return kP(this._delegate,e._delegate)}}class qy extends pa{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Xl(this.firestore,e):null}doc(e){try{return new Xl(this.firestore,void 0===e?gI(this._delegate):gI(this._delegate,e))}catch(t){throw fa(t,"doc()","CollectionReference.doc()")}}add(e){return function y3(n,e){const t=Qn(n.firestore,ur),i=gI(n),r=EI(n.converter,e);return zy(t,[vI(ug(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,Er.exists(!1))]).then(()=>i)}(this._delegate,e).then(t=>new Xl(this.firestore,t))}isEqual(e){return vP(this._delegate,e._delegate)}withConverter(e){return new qy(this.firestore,this._delegate.withConverter(e?pg.getInstance(this.firestore,e):null))}}function mg(n){return Qn(n,Xi)}class Jk{constructor(...e){this._delegate=new dh(...e)}static documentId(){return new Jk(Qr.keyField().canonicalString())}isEqual(e){return(e=(0,j.m9)(e))instanceof dh&&this._delegate._internalPath.isEqual(e._internalPath)}}class gg{constructor(e){this._delegate=e}static serverTimestamp(){const e=function E3(){return new jk("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new gg(e)}static delete(){const e=function C3(){return new xw("deleteField")}();return e._methodName="FieldValue.delete",new gg(e)}static arrayUnion(...e){const t=function T3(...n){return new Wj("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new gg(t)}static arrayRemove(...e){const t=function D3(...n){return new Zj("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new gg(t)}static increment(e){const t=function I3(n){return new Yj("increment",n)}(e);return t._methodName="FieldValue.increment",new gg(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const O3={Firestore:WP,GeoPoint:_I,Timestamp:gn,Blob:Nw,Transaction:ZP,WriteBatch:YP,DocumentReference:Xl,DocumentSnapshot:Pw,Query:pa,QueryDocumentSnapshot:Fw,QuerySnapshot:Qk,CollectionReference:qy,FieldPath:Jk,FieldValue:gg,setLogLevel:function k3(n){!function jT(n){Uc.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function JP(n,e){return function F3(n,e=ca.z){return new G.y(t=>{let i;return null!=e?e.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},t)}):i=n.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=i&&i()}})}(n,e)}function Xk(n,e){return JP(n,e).pipe((0,be.U)(t=>({payload:t,type:"query"})))}function DI(n,e){return Xk(n,e).pipe(Nc(void 0),Kh(),(0,be.U)(([t,i])=>{const r=i.payload.docChanges(),s=r.map(c=>({type:c.type,payload:c}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((c,h)=>{const p=r.find(T=>T.doc.ref.isEqual(c.ref)),_=null==t?void 0:t.payload.docs.find(T=>T.ref.isEqual(c.ref));p&&JSON.stringify(p.doc.metadata)===JSON.stringify(c.metadata)||!p&&_&&JSON.stringify(_.metadata)===JSON.stringify(c.metadata)||s.push({type:"modified",payload:{oldIndex:h,newIndex:h,type:"modified",doc:c}})}),s}))}function XP(n,e,t){return DI(n,t).pipe(sr((i,r)=>function V3(n,e,t){return e.forEach(i=>{t.indexOf(i.type)>-1&&(n=function B3(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return e1(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return e1(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return e1(n,e.oldIndex,1)}return n}(n,i))}),n}(i,r.map(s=>s.payload),e),[]),y_(),(0,be.U)(i=>i.map(r=>({type:r.type,payload:r}))))}function e1(n,e,t,...i){const r=n.slice();return r.splice(e,t,...i),r}function eF(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}!function P3(n){(function N3(n,e){n.INTERNAL.registerComponent(new Oi.wA("firestore-compat",t=>{const i=t.getProvider("app-compat").getImmediate(),r=t.getProvider("firestore").getImmediate();return e(i,r)},"PUBLIC").setServiceProps(Object.assign({},O3)))})(n,(e,t)=>new WP(e,t,new x3)),n.registerVersion("@firebase/firestore-compat","0.1.17")}(Qh.Z);class tF{constructor(e,t,i){this.ref=e,this.query=t,this.afs=i}stateChanges(e){let t=DI(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,be.U)(i=>i.filter(r=>e.indexOf(r.type)>-1)))),t.pipe(Nc(void 0),Kh(),ii(([i,r])=>r.length>0||!i),(0,be.U)(([i,r])=>r),fn.iC)}auditTrail(e){return this.stateChanges(e).pipe(sr((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=eF(e);return XP(this.query,t,this.afs.schedulers.outsideAngular).pipe(fn.iC)}valueChanges(e={}){return Xk(this.query,this.afs.schedulers.outsideAngular).pipe((0,be.U)(t=>t.payload.docs.map(i=>e.idField?Object.assign(Object.assign({},i.data()),{[e.idField]:i.id}):i.data())),fn.iC)}get(e){return(0,x.D)(this.query.get(e)).pipe(fn.iC)}add(e){return this.ref.add(e)}doc(e){return new nF(this.ref.doc(e),this.afs)}}class nF{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const i=this.ref.collection(e),{ref:r,query:s}=sF(i,t);return new tF(r,s,this.afs)}snapshotChanges(){return function L3(n,e){return JP(n,e).pipe(Nc(void 0),Kh(),(0,be.U)(([t,i])=>i.exists?(null==t?void 0:t.exists)?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(fn.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,be.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,x.D)(this.ref.get(e)).pipe(fn.iC)}}class U3{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?DI(this.query,this.afs.schedulers.outsideAngular).pipe((0,be.U)(t=>t.filter(i=>e.indexOf(i.type)>-1)),ii(t=>t.length>0),fn.iC):DI(this.query,this.afs.schedulers.outsideAngular).pipe(fn.iC)}auditTrail(e){return this.stateChanges(e).pipe(sr((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=eF(e);return XP(this.query,t,this.afs.schedulers.outsideAngular).pipe(fn.iC)}valueChanges(e={}){return Xk(this.query,this.afs.schedulers.outsideAngular).pipe((0,be.U)(i=>i.payload.docs.map(r=>e.idField?Object.assign({[e.idField]:r.id},r.data()):r.data())),fn.iC)}get(e){return(0,x.D)(this.query.get(e)).pipe(fn.iC)}}const iF=new a.OlP("angularfire2.enableFirestorePersistence"),rF=new a.OlP("angularfire2.firestore.persistenceSettings"),H3=new a.OlP("angularfire2.firestore.settings"),j3=new a.OlP("angularfire2.firestore.use-emulator");function sF(n,e=(t=>t)){return{query:e(n),ref:n}}let t1=(()=>{class n{constructor(t,i,r,s,c,h,p,_,T,S,P,H,q,ae,Ce,pt,_t){this.schedulers=p;const yt=(0,Bn.on)(t,h,i),ht=T;S&&Tp(yt,h,P,q,ae,Ce,H,pt),[this.firestore,this.persistenceEnabled$]=(0,Bn.cc)(`${yt.name}.firestore`,"AngularFirestore",yt.name,()=>{const Kt=h.runOutsideAngular(()=>yt.firestore());if(s&&Kt.settings(s),ht&&Kt.useEmulator(...ht),r&&!vo(c)){const rn=()=>{try{return(0,x.D)(Kt.enablePersistence(_||void 0).then(()=>!0,()=>!1))}catch($n){return"undefined"!=typeof console&&console.warn($n),N(!1)}};return[Kt,h.runOutsideAngular(rn)]}return[Kt,N(!1)]},[s,ht,r])}collection(t,i){let r;r="string"==typeof t?this.firestore.collection(t):t;const{ref:s,query:c}=sF(r,i),h=this.schedulers.ngZone.run(()=>s);return new tF(h,c,this)}collectionGroup(t,i){const r=i||(c=>c),s=this.firestore.collectionGroup(t);return new U3(r(s),this)}doc(t){let i;i="string"==typeof t?this.firestore.doc(t):t;const r=this.schedulers.ngZone.run(()=>i);return new nF(r,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Bn.Dh),a.LFG(Bn.xv,8),a.LFG(iF,8),a.LFG(H3,8),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(fn.HU),a.LFG(rF,8),a.LFG(j3,8),a.LFG(Sd,8),a.LFG(Ti,8),a.LFG(ra,8),a.LFG(Xa,8),a.LFG(Ul,8),a.LFG(Au,8),a.LFG(Rc,8),a.LFG(Id,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),G3=(()=>{class n{constructor(){Lt.Z.registerVersion("angularfire",fn.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:iF,useValue:!0},{provide:rF,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[t1]}),n})(),II=(()=>{class n{constructor(t,i,r,s){this.afAuth=t,this.router=i,this.ngZone=r,this.afs=s,this.signInOut()}signInOut(){var t=this;this.afAuth.authState.subscribe(function(){var i=(0,Pe.Z)(function*(r){if(console.log(r,"useruseruseruser"),r){console.log(r,"useruseruseruser inside"),t.userData=r,localStorage.setItem("user",JSON.stringify(t.userData));let s={displayName:t.userData.displayName,email:t.userData.email,photoURL:t.userData.photoURL,uid:t.userData.uid};console.log(r.uid,"User does not exist");let c=t.afs.doc("users/"+r.uid);try{(yield t.afs.collection("users",p=>p.where("uid","==",r.uid))).valueChanges().subscribe(p=>{console.log(p,"fsd afsadf sdafsad fsda fsdfsd"),0===p.length?(console.log("data empty"),c.set(s),localStorage.setItem("loginuser",JSON.stringify(s))):(console.log("User does exist"),localStorage.setItem("loginuser",JSON.stringify(p[0])))})}catch(h){console.log(h,"eratssa")}}else console.log(r," else testData"),localStorage.setItem("user","null"),JSON.parse(localStorage.getItem("user")),localStorage.setItem("loginuser","null"),JSON.parse(localStorage.getItem("loginuser"))});return function(r){return i.apply(this,arguments)}}())}docExists(t){return console.log(t,"pathpath"),this.afs.doc(t).valueChanges().pipe(R()).toPromise()}get isLoggedIn(){this.signInOut();let t=localStorage.getItem("user");console.log(t,"localstorage");const i=JSON.parse(t);return console.log(i,"user"),null!==i}GoogleAuth(){return this.AuthLogin(new yr.N)}AuthLogin(t){return this.afAuth.signInWithPopup(t).then(i=>{console.log(i,"result"),this.ngZone.run(()=>{this.router.navigate(["home"])})}).catch(i=>{window.alert(i)})}SignOut(){return this.afAuth.signOut().then(()=>{localStorage.setItem("user","null"),localStorage.setItem("loginuser","null"),this.router.navigate(["home"])})}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Sd),a.LFG(Kr),a.LFG(a.R0b),a.LFG(t1))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),$3=(()=>{class n{constructor(t,i){this.authService=t,this.router=i}canActivate(t,i){return this.authService.isLoggedIn&&(console.log(this.authService.isLoggedIn,"this.authService.isLoggedIn"),window.alert("Access Denied"),this.router.navigate(["/"])),!0}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(II),a.LFG(Kr))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Wy=(()=>{class n{constructor(t){this.afs=t}createNote(t){return this.afs.collection("notes").add(t)}userId(){const t=JSON.parse(localStorage.getItem("user"));return null!==t?t.uid:""}getNotes(t){return this.afs.collection("notes",r=>(r.orderBy("title","asc"),r.where("uid","==",t))).snapshotChanges()}getUsers(){return this.afs.collection("users").snapshotChanges()}getaNote(t){return this.afs.doc("notes/"+t).valueChanges()}updateNote(t){this.afs.doc("notes/"+t.id).update(t)}deleteNote(t){this.afs.doc("notes/"+t).delete()}loggedInUser(){return JSON.parse(localStorage.getItem("loginuser"))}activeDeactiveUser(t,i){this.afs.doc("users/"+t).update({isVerified:i})}getTiming(){return this.afs.collection("timing").snapshotChanges()}updateTiming(t){this.afs.doc("timing/"+t.id).update(t)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(t1))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),oF=(()=>{class n{constructor(t,i){this.userService=t,this.router=i}canActivate(t,i){return this.userService.loggedInUser()&&(this.userService.loggedInUser().isVerified||this.userService.loggedInUser().isAdmin||(window.alert("Access Denied, Login is Required to Access This Page!"),this.router.navigate(["home"]))),!0}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Wy),a.LFG(Kr))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function aF(n,e=ca.z){return(0,ni.e)((t,i)=>{let r=null,s=null,c=null;const h=()=>{if(r){r.unsubscribe(),r=null;const _=s;s=null,i.next(_)}};function p(){const _=c+n,T=e.now();if(T<_)return r=this.schedule(void 0,_-T),void i.add(r);h()}t.subscribe((0,gi.x)(i,_=>{s=_,c=e.now(),r||(r=e.schedule(p,n),i.add(r))},()=>{h(),i.complete()},void 0,()=>{s=r=null}))})}const lF="firebasestorage.googleapis.com",cF="storageBucket";class Lr extends j.ZR{constructor(e,t){super(n1(e),`Firebase Storage: ${t} (${n1(e)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Lr.prototype)}_codeEquals(e){return n1(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function n1(n){return"storage/"+n}function r1(){return new Lr("unknown","An unknown error occurred, please check the error payload for server response.")}function uF(){return new Lr("canceled","User canceled the upload/download.")}function dF(){return new Lr("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function Zy(n){return new Lr("invalid-argument",n)}function hF(){return new Lr("app-deleted","The Firebase app was deleted.")}function fF(n){return new Lr("invalid-root-operation","The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Lw(n,e){return new Lr("invalid-format","String does not match format '"+n+"': "+e)}function Vw(n){throw new Lr("internal-error","Internal error: "+n)}class Uo{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let i;try{i=Uo.makeFromUrl(e,t)}catch(r){return new Uo(e,"")}if(""===i.path)return i;throw function e6(n){return new Lr("invalid-default-bucket","Invalid default bucket '"+n+"'.")}(e)}static makeFromUrl(e,t){let i=null;const r="([A-Za-z0-9.\\-_]+)",h=new RegExp("^gs://"+r+"(/(.*))?$","i");function _(ht){ht.path_=decodeURIComponent(ht.path)}const S=t.replace(/[.]/g,"\\."),yt=[{regex:h,indices:{bucket:1,path:3},postModify:function s(ht){"/"===ht.path.charAt(ht.path.length-1)&&(ht.path_=ht.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${S}/v[A-Za-z0-9_]+/b/${r}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:_},{regex:new RegExp(`^https?://${t===lF?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${r}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:_}];for(let ht=0;ht<yt.length;ht++){const Kt=yt[ht],rn=Kt.regex.exec(e);if(rn){let Sr=rn[Kt.indices.path];Sr||(Sr=""),i=new Uo(rn[Kt.indices.bucket],Sr),Kt.postModify(i);break}}if(null==i)throw function X3(n){return new Lr("invalid-url","Invalid URL '"+n+"'.")}(e);return i}}class r6{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function SI(n){return"string"==typeof n||n instanceof String}function pF(n){return s1()&&n instanceof Blob}function s1(){return"undefined"!=typeof Blob}function o1(n,e,t,i){if(i<e)throw Zy(`Invalid value for '${n}'. Expected ${e} or greater.`);if(i>t)throw Zy(`Invalid value for '${n}'. Expected ${t} or less.`)}function fh(n,e,t){let i=e;return null==t&&(i=`https://${e}`),`${t}://${i}/v0${n}`}function mF(n){const e=encodeURIComponent;let t="?";for(const i in n)n.hasOwnProperty(i)&&(t=t+(e(i)+"=")+e(n[i])+"&");return t=t.slice(0,-1),t}var Yf=(()=>(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"}(Yf||(Yf={})),Yf))();class u6{constructor(e,t,i,r,s,c,h,p,_,T,S){this.url_=e,this.method_=t,this.headers_=i,this.body_=r,this.successCodes_=s,this.additionalRetryCodes_=c,this.callback_=h,this.errorCallback_=p,this.timeout_=_,this.progressCallback_=T,this.connectionFactory_=S,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((P,H)=>{this.resolve_=P,this.reject_=H,this.start_()})}start_(){const t=(i,r)=>{const s=this.resolve_,c=this.reject_,h=r.connection;if(r.wasSuccessCode)try{const p=this.callback_(h,h.getResponse());!function a6(n){return void 0!==n}(p)?s():s(p)}catch(p){c(p)}else if(null!==h){const p=r1();p.serverResponse=h.getErrorText(),c(this.errorCallback_?this.errorCallback_(h,p):p)}else c(r.canceled?this.appDelete_?hF():uF():function J3(){return new Lr("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}())};this.canceled_?t(0,new AI(!1,null,!0)):this.backoffId_=function s6(n,e,t){let i=1,r=null,s=null,c=!1,h=0;function p(){return 2===h}let _=!1;function T(...Ce){_||(_=!0,e.apply(null,Ce))}function S(Ce){r=setTimeout(()=>{r=null,n(H,p())},Ce)}function P(){s&&clearTimeout(s)}function H(Ce,...pt){if(_)return void P();if(Ce)return P(),void T.call(null,Ce,...pt);if(p()||c)return P(),void T.call(null,Ce,...pt);let yt;i<64&&(i*=2),1===h?(h=2,yt=0):yt=1e3*(i+Math.random()),S(yt)}let q=!1;function ae(Ce){q||(q=!0,P(),!_&&(null!==r?(Ce||(h=2),clearTimeout(r),S(0)):Ce||(h=1)))}return S(0),s=setTimeout(()=>{c=!0,ae(!0)},t),ae}((i,r)=>{if(r)return void i(!1,new AI(!1,null,!0));const s=this.connectionFactory_();this.pendingConnection_=s;const c=h=>{null!==this.progressCallback_&&this.progressCallback_(h.loaded,h.lengthComputable?h.total:-1)};null!==this.progressCallback_&&s.addUploadProgressListener(c),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&s.removeUploadProgressListener(c),this.pendingConnection_=null;const h=s.getErrorCode()===Yf.NO_ERROR,p=s.getStatus();if(!h||this.isRetryStatusCode_(p)){const T=s.getErrorCode()===Yf.ABORT;return void i(!1,new AI(!1,null,T))}const _=-1!==this.successCodes_.indexOf(p);i(!0,new AI(_,s))})},t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function o6(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(e){const t=e>=500&&e<600,r=-1!==[408,429].indexOf(e),s=-1!==this.additionalRetryCodes_.indexOf(e);return t||r||s}}class AI{constructor(e,t,i){this.wasSuccessCode=e,this.connection=t,this.canceled=!!i}}function _6(...n){const e=function g6(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}();if(void 0!==e){const t=new e;for(let i=0;i<n.length;i++)t.append(n[i]);return t.getBlob()}if(s1())return new Blob(n);throw new Lr("unsupported-environment","This browser doesn't seem to support creating Blobs")}const dl={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class a1{constructor(e,t){this.data=e,this.contentType=t||null}}function l1(n,e){switch(n){case dl.RAW:return new a1(gF(e));case dl.BASE64:case dl.BASE64URL:return new a1(_F(n,e));case dl.DATA_URL:return new a1(function w6(n){const e=new yF(n);return e.base64?_F(dl.BASE64,e.rest):function b6(n){let e;try{e=decodeURIComponent(n)}catch(t){throw Lw(dl.DATA_URL,"Malformed data URL.")}return gF(e)}(e.rest)}(e),function C6(n){return new yF(n).contentType}(e))}throw r1()}function gF(n){const e=[];for(let t=0;t<n.length;t++){let i=n.charCodeAt(t);i<=127?e.push(i):i<=2047?e.push(192|i>>6,128|63&i):55296==(64512&i)?t<n.length-1&&56320==(64512&n.charCodeAt(t+1))?(i=65536|(1023&i)<<10|1023&n.charCodeAt(++t),e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|63&i)):e.push(239,191,189):56320==(64512&i)?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|63&i)}return new Uint8Array(e)}function _F(n,e){switch(n){case dl.BASE64:{const r=-1!==e.indexOf("-"),s=-1!==e.indexOf("_");if(r||s)throw Lw(n,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case dl.BASE64URL:{const r=-1!==e.indexOf("+"),s=-1!==e.indexOf("/");if(r||s)throw Lw(n,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=function v6(n){return atob(n)}(e)}catch(r){throw Lw(n,"Invalid character found")}const i=new Uint8Array(t.length);for(let r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return i}class yF{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw Lw(dl.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=t[1]||null;null!=i&&(this.base64=function E6(n,e){return n.length>=e.length&&n.substring(n.length-e.length)===e}(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=e.substring(e.indexOf(",")+1)}}class Ku{constructor(e,t){let i=0,r="";pF(e)?(this.data_=e,i=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),i=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),i=e.length),this.size_=i,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,t){if(pF(this.data_)){const r=function y6(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}(this.data_,e,t);return null===r?null:new Ku(r)}{const i=new Uint8Array(this.data_.buffer,e,t-e);return new Ku(i,!0)}}static getBlob(...e){if(s1()){const t=e.map(i=>i instanceof Ku?i.data_:i);return new Ku(_6.apply(null,t))}{const t=e.map(c=>SI(c)?l1(dl.RAW,c).data:c.data_);let i=0;t.forEach(c=>{i+=c.byteLength});const r=new Uint8Array(i);let s=0;return t.forEach(c=>{for(let h=0;h<c.length;h++)r[s++]=c[h]}),new Ku(r,!0)}}uploadData(){return this.data_}}function c1(n){let e;try{e=JSON.parse(n)}catch(t){return null}return function c6(n){return"object"==typeof n&&!Array.isArray(n)}(e)?e:null}function vF(n){const e=n.lastIndexOf("/",n.length-2);return-1===e?n:n.slice(e+1)}function I6(n,e){return e}class ma{constructor(e,t,i,r){this.server=e,this.local=t||e,this.writable=!!i,this.xform=r||I6}}let MI=null;function Bw(){if(MI)return MI;const n=[];n.push(new ma("bucket")),n.push(new ma("generation")),n.push(new ma("metageneration")),n.push(new ma("name","fullPath",!0));const t=new ma("name");t.xform=function e(s,c){return function S6(n){return!SI(n)||n.length<2?n:vF(n)}(c)},n.push(t);const r=new ma("size");return r.xform=function i(s,c){return void 0!==c?Number(c):c},n.push(r),n.push(new ma("timeCreated")),n.push(new ma("updated")),n.push(new ma("md5Hash",null,!0)),n.push(new ma("cacheControl",null,!0)),n.push(new ma("contentDisposition",null,!0)),n.push(new ma("contentEncoding",null,!0)),n.push(new ma("contentLanguage",null,!0)),n.push(new ma("contentType",null,!0)),n.push(new ma("metadata","customMetadata",!0)),MI=n,MI}function bF(n,e,t){const i=c1(e);return null===i?null:function M6(n,e,t){const i={type:"file"},r=t.length;for(let s=0;s<r;s++){const c=t[s];i[c.local]=c.xform(i,e[c.server])}return function A6(n,e){Object.defineProperty(n,"ref",{get:function t(){const s=new Uo(n.bucket,n.fullPath);return e._makeStorageReference(s)}})}(i,n),i}(n,i,t)}function u1(n,e){const t={},i=e.length;for(let r=0;r<i;r++){const s=e[r];s.writable&&(t[s.server]=n[s.local])}return JSON.stringify(t)}const wF="prefixes";class Qu{constructor(e,t,i,r){this.url=e,this.method=t,this.handler=i,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Ju(n){if(!n)throw r1()}function xI(n,e){return function t(i,r){const s=bF(n,r,e);return Ju(null!==s),s}}function Yy(n){return function e(t,i){let r;return r=401===t.getStatus()?t.getErrorText().includes("Firebase App Check token is invalid")?function K3(){return new Lr("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}():function Y3(){return new Lr("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===t.getStatus()?function Z3(n){return new Lr("quota-exceeded","Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===t.getStatus()?function Q3(n){return new Lr("unauthorized","User does not have permission to access '"+n+"'.")}(n.path):i,r.serverResponse=i.serverResponse,r}}function Uw(n){const e=Yy(n);return function t(i,r){let s=e(i,r);return 404===i.getStatus()&&(s=function W3(n){return new Lr("object-not-found","Object '"+n+"' does not exist.")}(n.path)),s.serverResponse=r.serverResponse,s}}function EF(n,e,t){const r=fh(e.fullServerUrl(),n.host,n._protocol),c=n.maxOperationRetryTime,h=new Qu(r,"GET",xI(n,t),c);return h.errorHandler=Uw(e),h}function P6(n,e,t,i,r){const s={};s.prefix=e.isRoot?"":e.path+"/",t&&t.length>0&&(s.delimiter=t),i&&(s.pageToken=i),r&&(s.maxResults=r);const h=fh(e.bucketOnlyServerUrl(),n.host,n._protocol),_=n.maxOperationRetryTime,T=new Qu(h,"GET",function O6(n,e){return function t(i,r){const s=function R6(n,e,t){const i=c1(t);return null===i?null:function k6(n,e,t){const i={prefixes:[],items:[],nextPageToken:t.nextPageToken};if(t[wF])for(const r of t[wF]){const s=r.replace(/\/$/,""),c=n._makeStorageReference(new Uo(e,s));i.prefixes.push(c)}if(t.items)for(const r of t.items){const s=n._makeStorageReference(new Uo(e,r.name));i.items.push(s)}return i}(n,e,i)}(n,e,r);return Ju(null!==s),s}}(n,e.bucket),_);return T.urlParams=s,T.errorHandler=Yy(e),T}function DF(n,e,t){const i=Object.assign({},t);return i.fullPath=n.path,i.size=e.size(),i.contentType||(i.contentType=function B6(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}(null,e)),i}class kI{constructor(e,t,i,r){this.current=e,this.total=t,this.finalized=!!i,this.metadata=r||null}}function d1(n,e){let t=null;try{t=n.getResponseHeader("X-Goog-Upload-Status")}catch(r){Ju(!1)}return Ju(!!t&&-1!==(e||["active"]).indexOf(t)),t}const G6={STATE_CHANGED:"state_changed"},ga={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function h1(n){switch(n){case"running":case"pausing":case"canceling":return ga.RUNNING;case"paused":return ga.PAUSED;case"success":return ga.SUCCESS;case"canceled":return ga.CANCELED;default:return ga.ERROR}}class $6{constructor(e,t,i){if(function l6(n){return"function"==typeof n}(e)||null!=t||null!=i)this.next=e,this.error=null!=t?t:void 0,this.complete=null!=i?i:void 0;else{const s=e;this.next=s.next,this.error=s.error,this.complete=s.complete}}}function Ky(n){return(...e)=>{Promise.resolve().then(()=>n(...e))}}class q6 extends class z6{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Yf.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Yf.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Yf.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,i,r){if(this.sent_)throw Vw("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(const s in r)r.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,r[s].toString());return void 0!==i?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Vw("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Vw("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}getResponse(){if(!this.sent_)throw Vw("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Vw("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}{initXhr(){this.xhr_.responseType="text"}}function tu(){return new q6}class MF{constructor(e,t,i=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=i,this._mappings=Bw(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=r=>{this._request=void 0,this._chunkMultiplier=1,r._codeEquals("canceled")?(this._needToFetchStatus=!0,this.completeTransitions_()):(this._error=r,this._transition("error"))},this._metadataErrorHandler=r=>{this._request=void 0,r._codeEquals("canceled")?this.completeTransitions_():(this._error=r,this._transition("error"))},this._promise=new Promise((r,s)=>{this._resolve=r,this._reject=s,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,i])=>{switch(this._state){case"running":e(t,i);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((e,t)=>{const i=function U6(n,e,t,i,r){const s=e.bucketOnlyServerUrl(),c=DF(e,i,r),h={name:c.fullPath},p=fh(s,n.host,n._protocol),T={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i.size()}`,"X-Goog-Upload-Header-Content-Type":c.contentType,"Content-Type":"application/json; charset=utf-8"},S=u1(c,t),q=new Qu(p,"POST",function H(ae){let Ce;d1(ae);try{Ce=ae.getResponseHeader("X-Goog-Upload-URL")}catch(pt){Ju(!1)}return Ju(SI(Ce)),Ce},n.maxUploadRetryTime);return q.urlParams=h,q.headers=T,q.body=S,q.errorHandler=Yy(e),q}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,tu,e,t);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((t,i)=>{const r=function H6(n,e,t,i){const p=new Qu(t,"POST",function s(_){const T=d1(_,["active","final"]);let S=null;try{S=_.getResponseHeader("X-Goog-Upload-Size-Received")}catch(H){Ju(!1)}S||Ju(!1);const P=Number(S);return Ju(!isNaN(P)),new kI(P,i.size(),"final"===T)},n.maxUploadRetryTime);return p.headers={"X-Goog-Upload-Command":"query"},p.errorHandler=Yy(e),p}(this._ref.storage,this._ref._location,e,this._blob),s=this._ref.storage._makeRequest(r,tu,t,i);this._request=s,s.getPromise().then(c=>{c=c,this._request=void 0,this._updateProgress(c.current),this._needToFetchStatus=!1,c.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=262144*this._chunkMultiplier,t=new kI(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken((r,s)=>{let c;try{c=function j6(n,e,t,i,r,s,c,h){const p=new kI(0,0);if(c?(p.current=c.current,p.total=c.total):(p.current=0,p.total=i.size()),i.size()!==p.total)throw function n6(){return new Lr("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}();const _=p.total-p.current;let T=_;r>0&&(T=Math.min(T,r));const S=p.current,q={"X-Goog-Upload-Command":T===_?"upload, finalize":"upload","X-Goog-Upload-Offset":`${p.current}`},ae=i.slice(S,S+T);if(null===ae)throw dF();const yt=new Qu(t,"POST",function Ce(ht,Kt){const rn=d1(ht,["active","final"]),$n=p.current+T,Sr=i.size();let _l;return _l="final"===rn?xI(e,s)(ht,Kt):null,new kI($n,Sr,"final"===rn,_l)},e.maxUploadRetryTime);return yt.headers=q,yt.body=ae.uploadData(),yt.progressCallback=h||null,yt.errorHandler=Yy(n),yt}(this._ref._location,this._ref.storage,i,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(p){return this._error=p,void this._transition("error")}const h=this._ref.storage._makeRequest(c,tu,r,s);this._request=h,h.getPromise().then(p=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(p.current),p.finalized?(this._metadata=p.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{const i=EF(this._ref.storage,this._ref._location,this._mappings),r=this._ref.storage._makeRequest(i,tu,e,t);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{const i=function IF(n,e,t,i,r){const s=e.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"},p=function h(){let yt="";for(let ht=0;ht<2;ht++)yt+=Math.random().toString().slice(2);return yt}();c["Content-Type"]="multipart/related; boundary="+p;const _=DF(e,i,r),T=u1(_,t),H=Ku.getBlob("--"+p+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+T+"\r\n--"+p+"\r\nContent-Type: "+_.contentType+"\r\n\r\n",i,"\r\n--"+p+"--");if(null===H)throw dF();const q={name:_.fullPath},ae=fh(s,n.host,n._protocol),pt=n.maxUploadRetryTime,_t=new Qu(ae,"POST",xI(n,t),pt);return _t.urlParams=q,_t.headers=c,_t.body=H.uploadData(),_t.errorHandler=Yy(e),_t}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,tu,e,t);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":const t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=uF(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=h1(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,i,r){const s=new $6(t||void 0,i||void 0,r||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(h1(this._state)){case ga.SUCCESS:Ky(this._resolve.bind(null,this.snapshot))();break;case ga.CANCELED:case ga.ERROR:Ky(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(h1(this._state)){case ga.RUNNING:case ga.PAUSED:e.next&&Ky(e.next.bind(e,this.snapshot))();break;case ga.SUCCESS:e.complete&&Ky(e.complete.bind(e))();break;default:e.error&&Ky(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class _g{constructor(e,t){this._service=e,this._location=t instanceof Uo?t:Uo.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new _g(e,t)}get root(){const e=new Uo(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return vF(this._location.path)}get storage(){return this._service}get parent(){const e=function T6(n){if(0===n.length)return null;const e=n.lastIndexOf("/");return-1===e?"":n.slice(0,e)}(this._location.path);if(null===e)return null;const t=new Uo(this._location.bucket,e);return new _g(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw fF(e)}}function kF(n,e,t){return f1.apply(this,arguments)}function f1(){return f1=(0,Pe.Z)(function*(n,e,t){const r=yield RF(n,{pageToken:t});e.prefixes.push(...r.prefixes),e.items.push(...r.items),null!=r.nextPageToken&&(yield kF(n,e,r.nextPageToken))}),f1.apply(this,arguments)}function RF(n,e){null!=e&&"number"==typeof e.maxResults&&o1("options.maxResults",1,1e3,e.maxResults);const t=e||{},i=P6(n.storage,n._location,"/",t.pageToken,t.maxResults);return n.storage.makeRequestWithTokens(i,tu)}function rG(n){n._throwIfRoot("getDownloadURL");const e=function F6(n,e,t){const r=fh(e.fullServerUrl(),n.host,n._protocol),c=n.maxOperationRetryTime,h=new Qu(r,"GET",function N6(n,e){return function t(i,r){const s=bF(n,r,e);return Ju(null!==s),function x6(n,e,t,i){const r=c1(e);if(null===r||!SI(r.downloadTokens))return null;const s=r.downloadTokens;if(0===s.length)return null;const c=encodeURIComponent;return s.split(",").map(_=>{const S=n.fullPath;return fh("/b/"+c(n.bucket)+"/o/"+c(S),t,i)+mF({alt:"media",token:_})})[0]}(s,r,n.host,n._protocol)}}(n,t),c);return h.errorHandler=Uw(e),h}(n.storage,n._location,Bw());return n.storage.makeRequestWithTokens(e,tu).then(t=>{if(null===t)throw function i6(){return new Lr("no-download-url","The given file does not have any download URLs.")}();return t})}function OF(n,e){const t=function D6(n,e){const t=e.split("/").filter(i=>i.length>0).join("/");return 0===n.length?t:n+"/"+t}(n._location.path,e),i=new Uo(n._location.bucket,t);return new _g(n.storage,i)}function NF(n,e){if(n instanceof p1){const t=n;if(null==t._bucket)throw function t6(){return new Lr("no-default-bucket","No default bucket found. Did you set the '"+cF+"' property when initializing the app?")}();const i=new _g(t,t._bucket);return null!=e?NF(i,e):i}return void 0!==e?OF(n,e):n}function lG(n,e){if(e&&function oG(n){return/^[A-Za-z]+:\/\//.test(n)}(e)){if(n instanceof p1)return function aG(n,e){return new _g(n,e)}(n,e);throw Zy("To use ref(service, url), the first argument must be a Storage instance.")}return NF(n,e)}function PF(n,e){const t=null==e?void 0:e[cF];return null==t?null:Uo.makeFromBucketSpec(t,n)}class p1{constructor(e,t,i,r,s){this.app=e,this._authProvider=t,this._appCheckProvider=i,this._url=r,this._firebaseVersion=s,this._bucket=null,this._host=lF,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?Uo.makeFromBucketSpec(r,this._host):PF(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?Uo.makeFromBucketSpec(this._url,e):PF(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){o1("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){o1("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return(0,Pe.Z)(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const t=e._authProvider.getImmediate({optional:!0});if(t){const i=yield t.getToken();if(null!==i)return i.accessToken}return null})()}_getAppCheckToken(){var e=this;return(0,Pe.Z)(function*(){const t=e._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new _g(this,e)}_makeRequest(e,t,i,r){if(this._deleted)return new r6(hF());{const s=function m6(n,e,t,i,r,s){const c=mF(n.urlParams),h=n.url+c,p=Object.assign({},n.headers);return function f6(n,e){e&&(n["X-Firebase-GMPID"]=e)}(p,e),function d6(n,e){null!==e&&e.length>0&&(n.Authorization="Firebase "+e)}(p,t),function h6(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(null!=e?e:"AppManager")}(p,s),function p6(n,e){null!==e&&(n["X-Firebase-AppCheck"]=e)}(p,i),new u6(h,n.method,p,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,r)}(e,this._appId,i,r,t,this._firebaseVersion);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}makeRequestWithTokens(e,t){var i=this;return(0,Pe.Z)(function*(){const[r,s]=yield Promise.all([i._getAuthToken(),i._getAppCheckToken()]);return i._makeRequest(e,t,r,s).getPromise()})()}}const FF="@firebase/storage";function BF(n,e){return lG(n=(0,j.m9)(n),e)}function vG(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),r=n.getProvider("app-check-internal");return new p1(t,i,r,e,Wi.SDK_VERSION)}!function bG(){(0,Wi._registerComponent)(new Oi.wA("storage",vG,"PUBLIC").setMultipleInstances(!0)),(0,Wi.registerVersion)(FF,"0.9.5",""),(0,Wi.registerVersion)(FF,"0.9.5","esm2017")}();class RI{constructor(e,t,i){this._delegate=e,this.task=t,this.ref=i}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class UF{constructor(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new RI(this._delegate.snapshot,this,this._ref)}then(e,t){return this._delegate.then(i=>{if(e)return e(new RI(i,this,this._ref))},t)}on(e,t,i,r){let s;return t&&(s="function"==typeof t?c=>t(new RI(c,this,this._ref)):{next:t.next?c=>t.next(new RI(c,this,this._ref)):void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,s,i||void 0,r||void 0)}}class HF{constructor(e,t){this._delegate=e,this._service=t}get prefixes(){return this._delegate.prefixes.map(e=>new ph(e,this._service))}get items(){return this._delegate.items.map(e=>new ph(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class ph{constructor(e,t){this._delegate=e,this.storage=t}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const t=function _G(n,e){return OF(n,e)}(this._delegate,e);return new ph(t,this.storage)}get root(){return new ph(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return null==e?null:new ph(e,this.storage)}put(e,t){return this._throwIfRoot("put"),new UF(function uG(n,e,t){return function X6(n,e,t){return n._throwIfRoot("uploadBytesResumable"),new MF(n,new Ku(e),t)}(n=(0,j.m9)(n),e,t)}(this._delegate,e,t),this)}putString(e,t=dl.RAW,i){this._throwIfRoot("putString");const r=l1(t,e),s=Object.assign({},i);return null==s.contentType&&null!=r.contentType&&(s.contentType=r.contentType),new UF(new MF(this._delegate,new Ku(r.data,!0),s),this)}listAll(){return function pG(n){return function tG(n){const e={prefixes:[],items:[]};return kF(n,e).then(()=>e)}(n=(0,j.m9)(n))}(this._delegate).then(e=>new HF(e,this.storage))}list(e){return function fG(n,e){return RF(n=(0,j.m9)(n),e)}(this._delegate,e||void 0).then(t=>new HF(t,this.storage))}getMetadata(){return function dG(n){return function nG(n){n._throwIfRoot("getMetadata");const e=EF(n.storage,n._location,Bw());return n.storage.makeRequestWithTokens(e,tu)}(n=(0,j.m9)(n))}(this._delegate)}updateMetadata(e){return function hG(n,e){return function iG(n,e){n._throwIfRoot("updateMetadata");const t=function L6(n,e,t,i){const s=fh(e.fullServerUrl(),n.host,n._protocol),h=u1(t,i),_=n.maxOperationRetryTime,T=new Qu(s,"PATCH",xI(n,i),_);return T.headers={"Content-Type":"application/json; charset=utf-8"},T.body=h,T.errorHandler=Uw(e),T}(n.storage,n._location,e,Bw());return n.storage.makeRequestWithTokens(t,tu)}(n=(0,j.m9)(n),e)}(this._delegate,e)}getDownloadURL(){return function mG(n){return rG(n=(0,j.m9)(n))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function gG(n){return function sG(n){n._throwIfRoot("deleteObject");const e=function V6(n,e){const i=fh(e.fullServerUrl(),n.host,n._protocol),h=new Qu(i,"DELETE",function c(p,_){},n.maxOperationRetryTime);return h.successCodes=[200,204],h.errorHandler=Uw(e),h}(n.storage,n._location);return n.storage.makeRequestWithTokens(e,tu)}(n=(0,j.m9)(n))}(this._delegate)}_throwIfRoot(e){if(""===this._delegate._location.path)throw fF(e)}}class jF{constructor(e,t){this.app=e,this._delegate=t}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(GF(e))throw Zy("ref() expected a child path but got a URL, use refFromURL instead.");return new ph(BF(this._delegate,e),this)}refFromURL(e){if(!GF(e))throw Zy("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Uo.makeFromUrl(e,this._delegate.host)}catch(t){throw Zy("refFromUrl() expected a valid full URL but got an invalid one.")}return new ph(BF(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,t,i={}){!function yG(n,e,t,i={}){!function cG(n,e,t,i={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:r}=i;r&&(n._overrideAuthToken="string"==typeof r?r:(0,j.Sg)(r,n.app.options.projectId))}(n,e,t,i)}(this._delegate,e,t,i)}}function GF(n){return/^[A-Za-z]+:\/\//.test(n)}function TG(n,{instanceIdentifier:e}){const t=n.getProvider("app-compat").getImmediate(),i=n.getProvider("storage").getImmediate({identifier:e});return new jF(t,i)}function $F(n){const e=function IG(n){return new G.y(e=>{const t=c=>e.next(c);t(n.snapshot);const s=n.on("state_changed",t);return n.then(c=>{t(c),e.complete()},c=>{t(n.snapshot),(c=>{e.error(c)})(c)}),function(){s()}}).pipe(aF(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>e,percentageChanges:()=>e.pipe((0,be.U)(t=>t.bytesTransferred/t.totalBytes*100))}}function OI(n){return{getDownloadURL:()=>N(void 0).pipe(fn.fc,We(()=>n.getDownloadURL()),fn.iC),getMetadata:()=>N(void 0).pipe(fn.fc,We(()=>n.getMetadata()),fn.iC),delete:()=>(0,x.D)(n.delete()),child:e=>OI(n.child(e)),updateMetadata:e=>(0,x.D)(n.updateMetadata(e)),put:(e,t)=>$F(n.put(e,t)),putString:(e,t,i)=>$F(n.putString(e,t,i)),list:e=>(0,x.D)(n.list(e)),listAll:()=>(0,x.D)(n.listAll())}}!function DG(n){const e={TaskState:ga,TaskEvent:G6,StringFormat:dl,Storage:jF,Reference:ph};n.INTERNAL.registerComponent(new Oi.wA("storage-compat",TG,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.1.13")}(Qh.Z);const SG=new a.OlP("angularfire2.storageBucket"),AG=new a.OlP("angularfire2.storage.maxUploadRetryTime"),MG=new a.OlP("angularfire2.storage.maxOperationRetryTime"),xG=new a.OlP("angularfire2.storage.use-emulator");let kG=(()=>{class n{constructor(t,i,r,s,c,h,p,_,T,S){const P=(0,Bn.on)(t,c,i);this.storage=(0,Bn.cc)(`${P.name}.storage.${r}`,"AngularFireStorage",P.name,()=>{const H=c.runOutsideAngular(()=>P.storage(r||void 0)),q=T;return q&&H.useEmulator(...q),p&&H.setMaxUploadRetryTime(p),_&&H.setMaxOperationRetryTime(_),H},[p,_])}ref(t){return OI(this.storage.ref(t))}refFromURL(t){return OI(this.storage.refFromURL(t))}upload(t,i,r){return OI(this.storage.ref(t)).put(i,r)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Bn.Dh),a.LFG(Bn.xv,8),a.LFG(SG,8),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(fn.HU),a.LFG(AG,8),a.LFG(MG,8),a.LFG(xG,8),a.LFG(Id,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),RG=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})(),OG=(()=>{class n{constructor(){Lt.Z.registerVersion("angularfire",fn.q4.full,"gcs-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[kG],imports:[RG]}),n})();var zF=$(5032);const qF="@firebase/database";let m1="";function ZF(n){m1=n}class FG{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),(0,j.Pz)(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:(0,j.cI)(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class LG{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return(0,j.r3)(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const YF=function(n){try{if("undefined"!=typeof window&&void 0!==window[n]){const e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new FG(e)}}catch(e){}return new LG},yg=YF("localStorage"),g1=YF("sessionStorage"),Qy=new Nr.Yd("@firebase/database"),KF=function(){let n=1;return function(){return n++}}(),QF=function(n){const e=(0,j.dS)(n),t=new j.gQ;t.update(e);const i=t.digest();return j.US.encodeByteArray(i)},Hw=function(...n){let e="";for(let t=0;t<n.length;t++){const i=n[t];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?e+=Hw.apply(null,i):e+="object"==typeof i?(0,j.Pz)(i):i,e+=" "}return e};let vg=null,JF=!0;const XF=function(n,e){(0,j.hu)(!e||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(Qy.logLevel=Nr.in.VERBOSE,vg=Qy.log.bind(Qy),e&&g1.set("logging_enabled",!0)):"function"==typeof n?vg=n:(vg=null,g1.remove("logging_enabled"))},Ws=function(...n){if(!0===JF&&(JF=!1,null===vg&&!0===g1.get("logging_enabled")&&XF(!0)),vg){const e=Hw.apply(null,n);vg(e)}},jw=function(n){return function(...e){Ws(n,...e)}},_1=function(...n){const e="FIREBASE INTERNAL ERROR: "+Hw(...n);Qy.error(e)},Xu=function(...n){const e=`FIREBASE FATAL ERROR: ${Hw(...n)}`;throw Qy.error(e),new Error(e)},_a=function(...n){const e="FIREBASE WARNING: "+Hw(...n);Qy.warn(e)},NI=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},mh="[MIN_NAME]",ed="[MAX_NAME]",bg=function(n,e){if(n===e)return 0;if(n===mh||e===ed)return-1;if(e===mh||n===ed)return 1;{const t=PI(n),i=PI(e);return null!==t?null!==i?t-i==0?n.length-e.length:t-i:-1:null!==i?1:n<e?-1:1}},UG=function(n,e){return n===e?0:n<e?-1:1},Gw=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+(0,j.Pz)(e))},y1=function(n){if("object"!=typeof n||null===n)return(0,j.Pz)(n);const e=[];for(const i in n)e.push(i);e.sort();let t="{";for(let i=0;i<e.length;i++)0!==i&&(t+=","),t+=(0,j.Pz)(e[i]),t+=":",t+=y1(n[e[i]]);return t+="}",t},eL=function(n,e){const t=n.length;if(t<=e)return[n];const i=[];for(let r=0;r<t;r+=e)i.push(n.substring(r,r+e>t?t:r+e));return i};function Zs(n,e){for(const t in n)n.hasOwnProperty(t)&&e(t,n[t])}const tL=function(n){(0,j.hu)(!NI(n),"Invalid JSON number");const i=1023;let r,s,c,h,p;0===n?(s=0,c=0,r=1/n==-1/0?1:0):(r=n<0,(n=Math.abs(n))>=Math.pow(2,1-i)?(h=Math.min(Math.floor(Math.log(n)/Math.LN2),i),s=h+i,c=Math.round(n*Math.pow(2,52-h)-Math.pow(2,52))):(s=0,c=Math.round(n/Math.pow(2,-1074))));const _=[];for(p=52;p;p-=1)_.push(c%2?1:0),c=Math.floor(c/2);for(p=11;p;p-=1)_.push(s%2?1:0),s=Math.floor(s/2);_.push(r?1:0),_.reverse();const T=_.join("");let S="";for(p=0;p<64;p+=8){let P=parseInt(T.substr(p,8),2).toString(16);1===P.length&&(P="0"+P),S+=P}return S.toLowerCase()},$G=new RegExp("^-?(0*)\\d{1,10}$"),nL=-2147483648,v1=2147483647,PI=function(n){if($G.test(n)){const e=Number(n);if(e>=nL&&e<=v1)return e}return null},Jy=function(n){try{n()}catch(e){setTimeout(()=>{throw _a("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}},$w=function(n,e){const t=setTimeout(n,e);return"object"==typeof t&&t.unref&&t.unref(),t};class qG{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=null==t?void 0:t.getImmediate({optional:!0}),this.appCheck||null==t||t.get().then(i=>this.appCheck=i)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((t,i)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,i):t(null)},0)})}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then(i=>i.addTokenListener(e))}notifyForInvalidToken(){_a(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class WG{constructor(e,t,i){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(t=>t&&"auth/token-not-initialized"===t.code?(Ws("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((t,i)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,i):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';e+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',_a(e)}}let zw=(()=>{class n{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const aL=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,cL="websocket",uL="long_polling";class w1{constructor(e,t,i,r,s=!1,c="",h=!1){this.secure=t,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=s,this.persistenceKey=c,this.includeNamespaceInQueryParams=h,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=yg.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&yg.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function dL(n,e,t){let i;if((0,j.hu)("string"==typeof e,"typeof type must == string"),(0,j.hu)("object"==typeof t,"typeof params must == object"),e===cL)i=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(e!==uL)throw new Error("Unknown connection type: "+e);i=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function YG(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(t.ns=n.namespace);const r=[];return Zs(t,(s,c)=>{r.push(s+"="+c)}),i+r.join("&")}class KG{constructor(){this.counters_={}}incrementCounter(e,t=1){(0,j.r3)(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return(0,j.p$)(this.counters_)}}const C1={},E1={};function T1(n){const e=n.toString();return C1[e]||(C1[e]=new KG),C1[e]}class JG{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&Jy(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Xy{constructor(e,t,i,r,s,c,h){this.connId=e,this.repoInfo=t,this.applicationId=i,this.appCheckToken=r,this.authToken=s,this.transportSessionId=c,this.lastSessionId=h,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=jw(e),this.stats_=T1(t),this.urlFn=p=>(this.appCheckToken&&(p.ac=this.appCheckToken),dL(t,uL,p))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new JG(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,j.Yr)()||"complete"===document.readyState)n();else{let e=!1;const t=function(){document.body?e||(e=!0,n()):setTimeout(t,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&t()}),window.attachEvent("onload",t))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new D1((...s)=>{const[c,h,p,_,T]=s;if(this.incrementIncomingBytes_(s),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===c)this.id=h,this.password=p;else{if("close"!==c)throw new Error("Unrecognized command received: "+c);h?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(h,()=>{this.onClosed_()})):this.onClosed_()}},(...s)=>{const[c,h]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(c,h)},()=>{this.onClosed_()},this.urlFn);const i={start:"t"};i.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(i.cb=this.scriptTagHolder.uniqueCallbackIdentifier),i.v="5",this.transportSessionId&&(i.s=this.transportSessionId),this.lastSessionId&&(i.ls=this.lastSessionId),this.applicationId&&(i.p=this.applicationId),this.appCheckToken&&(i.ac=this.appCheckToken),"undefined"!=typeof location&&location.hostname&&aL.test(location.hostname)&&(i.r="f");const r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Xy.forceAllow_=!0}static forceDisallow(){Xy.forceDisallow_=!0}static isAvailable(){return!((0,j.Yr)()||!Xy.forceAllow_&&(Xy.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=(0,j.Pz)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const i=(0,j.h$)(t),r=eL(i,1840);for(let s=0;s<r.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[s]),this.curSegmentNum++}addDisconnectPingFrame(e,t){if((0,j.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const i={dframe:"t"};i.id=e,i.pw=t,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=(0,j.Pz)(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class D1{constructor(e,t,i,r){if(this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,j.Yr)())this.commandCB=e,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=KF(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=D1.createIFrame_();let s="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(s='<script>document.domain="'+document.domain+'";<\/script>');const c="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(c),this.myIFrame.doc.close()}catch(h){Ws("frame writing exception"),h.stack&&Ws(h.stack),Ws(h)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||Ws("No IE domain setting required")}catch(t){const i=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+i.length<=1870;){const c=this.pendingSegs.shift();i=i+"&seg"+r+"="+c.seg+"&ts"+r+"="+c.ts+"&d"+r+"="+c.d,r++}return t+=i,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,i){this.pendingSegs.push({seg:e,ts:t,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const i=()=>{this.outstandingRequests.delete(t),this.newRequest_()},r=setTimeout(i,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(r),i()})}addTag(e,t){(0,j.Yr)()?this.doNodeLongPoll(e,t):setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){const r=i.readyState;(!r||"loaded"===r||"complete"===r)&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),t())},i.onerror=()=>{Ws("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch(i){}},Math.floor(1))}}let qw=null;"undefined"!=typeof MozWebSocket?qw=MozWebSocket:"undefined"!=typeof WebSocket&&(qw=WebSocket);let Ww=(()=>{class n{constructor(t,i,r,s,c,h,p){this.connId=t,this.applicationId=r,this.appCheckToken=s,this.authToken=c,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=jw(this.connId),this.stats_=T1(i),this.connURL=n.connectionURL_(i,h,p,s),this.nodeAdmin=i.nodeAdmin}static connectionURL_(t,i,r,s){const c={v:"5"};return!(0,j.Yr)()&&"undefined"!=typeof location&&location.hostname&&aL.test(location.hostname)&&(c.r="f"),i&&(c.s=i),r&&(c.ls=r),s&&(c.ac=s),dL(t,cL,c)}open(t,i){this.onDisconnect=i,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,yg.set("previous_websocket_failure",!0);try{if((0,j.Yr)()){const s={headers:{"User-Agent":`Firebase/5/${m1}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(s.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(s.headers["X-Firebase-AppCheck"]=this.appCheckToken);const c=process.env,h=0===this.connURL.indexOf("wss://")?c.HTTPS_PROXY||c.https_proxy:c.HTTP_PROXY||c.http_proxy;h&&(s.proxy={origin:h}),this.mySock=new qw(this.connURL,[],s)}else this.mySock=new qw(this.connURL,[],{headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}})}catch(r){this.log_("Error instantiating WebSocket.");const s=r.message||r.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let t=!1;if("undefined"!=typeof navigator&&navigator.userAgent){const r=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);r&&r.length>1&&parseFloat(r[1])<4.4&&(t=!0)}return!t&&null!==qw&&!n.forceDisallow_}static previouslyFailed(){return yg.isInMemoryStorage||!0===yg.get("previous_websocket_failure")}markConnectionHealthy(){yg.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const r=(0,j.cI)(i);this.onMessage(r)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if((0,j.hu)(null===this.frames,"We already have a frame buffer"),t.length<=6){const i=Number(t);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(null===this.mySock)return;const i=t.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(i);else{const r=this.extractFrameCount_(i);null!==r&&this.appendFrame_(r)}}send(t){this.resetKeepAlive();const i=(0,j.Pz)(t);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const r=eL(i,16384);r.length>1&&this.sendString_(String(r.length));for(let s=0;s<r.length;s++)this.sendString_(r[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(t){try{this.mySock.send(t)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})();class I1{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Xy,Ww]}initTransports_(e){const t=Ww&&Ww.isAvailable();let i=t&&!Ww.previouslyFailed();if(e.webSocketOnly&&(t||_a("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[Ww];else{const r=this.transports_=[];for(const s of I1.ALL_TRANSPORTS)s&&s.isAvailable()&&r.push(s)}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}class TL{constructor(e,t,i,r,s,c,h,p,_,T){this.id=e,this.repoInfo_=t,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=s,this.onMessage_=c,this.onReady_=h,this.onDisconnect_=p,this.onKill_=_,this.lastSessionId=T,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=jw("c:"+this.id+":"),this.transportManager_=new I1(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,i)},Math.floor(0));const r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=$w(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){this.sendData_({t:"d",d:e})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=Gw("t",e),i=Gw("d",e);if("c"===t)this.onSecondaryControl_(i);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(i)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=Gw("t",e),i=Gw("d",e);"c"===t?this.onControl_(i):"d"===t&&this.onDataMessage_(i)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=Gw("t",e);if("d"in e){const i=e.d;if("h"===t)this.onHandshake_(i);else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(i):"r"===t?this.onReset_(i):"e"===t?_1("Server Error: "+i):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):_1("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,i=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==i&&_a("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,i),$w(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):$w(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(yg.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class DL{put(e,t,i,r){}merge(e,t,i,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,i){}onDisconnectMerge(e,t,i){}onDisconnectCancel(e,t){}reportStats(e){}}class IL{constructor(e){this.allowedEvents_=e,this.listeners_={},(0,j.hu)(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,t)}}on(e,t,i){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:i});const r=this.getInitialEvent(e);r&&t.apply(i,r)}off(e,t,i){this.validateEventType_(e);const r=this.listeners_[e]||[];for(let s=0;s<r.length;s++)if(r[s].callback===t&&(!i||i===r[s].context))return void r.splice(s,1)}validateEventType_(e){(0,j.hu)(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}class LI extends IL{constructor(){super(["online"]),this.online_=!0,"undefined"!=typeof window&&void 0!==window.addEventListener&&!(0,j.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new LI}getInitialEvent(e){return(0,j.hu)("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class Ci{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function hi(){return new Ci("")}function Rn(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function Kf(n){return n.pieces_.length-n.pieceNum_}function Vi(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new Ci(n.pieces_,e)}function A1(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function Zw(n,e=0){return n.pieces_.slice(n.pieceNum_+e)}function ML(n){if(n.pieceNum_>=n.pieces_.length)return null;const e=[];for(let t=n.pieceNum_;t<n.pieces_.length-1;t++)e.push(n.pieces_[t]);return new Ci(e,0)}function dr(n,e){const t=[];for(let i=n.pieceNum_;i<n.pieces_.length;i++)t.push(n.pieces_[i]);if(e instanceof Ci)for(let i=e.pieceNum_;i<e.pieces_.length;i++)t.push(e.pieces_[i]);else{const i=e.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&t.push(i[r])}return new Ci(t,0)}function On(n){return n.pieceNum_>=n.pieces_.length}function ya(n,e){const t=Rn(n),i=Rn(e);if(null===t)return e;if(t===i)return ya(Vi(n),Vi(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function b$(n,e){const t=Zw(n,0),i=Zw(e,0);for(let r=0;r<t.length&&r<i.length;r++){const s=bg(t[r],i[r]);if(0!==s)return s}return t.length===i.length?0:t.length<i.length?-1:1}function M1(n,e){if(Kf(n)!==Kf(e))return!1;for(let t=n.pieceNum_,i=e.pieceNum_;t<=n.pieces_.length;t++,i++)if(n.pieces_[t]!==e.pieces_[i])return!1;return!0}function ec(n,e){let t=n.pieceNum_,i=e.pieceNum_;if(Kf(n)>Kf(e))return!1;for(;t<n.pieces_.length;){if(n.pieces_[t]!==e.pieces_[i])return!1;++t,++i}return!0}class w${constructor(e,t){this.errorPrefix_=t,this.parts_=Zw(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=(0,j.ug)(this.parts_[i]);xL(this)}}function xL(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+wg(n))}function wg(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class x1 extends IL{constructor(){let e,t;super(["visible"]),"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(t="visibilitychange",e="hidden"):void 0!==document.mozHidden?(t="mozvisibilitychange",e="mozHidden"):void 0!==document.msHidden?(t="msvisibilitychange",e="msHidden"):void 0!==document.webkitHidden&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const i=!document[e];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new x1}getInitialEvent(e){return(0,j.hu)("visible"===e,"Unknown event type: "+e),[this.visible_]}}const Yw=1e3;let BI,Cg=(()=>{class n extends DL{constructor(t,i,r,s,c,h,p,_){if(super(),this.repoInfo_=t,this.applicationId_=i,this.onDataUpdate_=r,this.onConnectStatus_=s,this.onServerInfoUpdate_=c,this.authTokenProvider_=h,this.appCheckTokenProvider_=p,this.authOverride_=_,this.id=n.nextPersistentConnectionId_++,this.log_=jw("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Yw,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,_&&!(0,j.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");x1.getInstance().on("visible",this.onVisible_,this),-1===t.host.indexOf("fblocal")&&LI.getInstance().on("online",this.onOnline_,this)}sendRequest(t,i,r){const s=++this.requestNumber_,c={r:s,a:t,b:i};this.log_((0,j.Pz)(c)),(0,j.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(c),r&&(this.requestCBHash_[s]=r)}get(t){this.initConnection_();const i=new j.BH,r={p:t._path.toString(),q:t._queryObject},s={action:"g",request:r,onComplete:h=>{const p=h.d;"ok"===h.s?(this.onDataUpdate_(r.p,p,!1,null),i.resolve(p)):i.reject(p)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;const c=this.outstandingGets_.length-1;return this.connected_||setTimeout(()=>{const h=this.outstandingGets_[c];void 0===h||s!==h||(delete this.outstandingGets_[c],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),this.log_("get "+c+" timed out on connection"),i.reject(new Error("Client is offline.")))},3e3),this.connected_&&this.sendGet_(c),i.promise}listen(t,i,r,s){this.initConnection_();const c=t._queryIdentifier,h=t._path.toString();this.log_("Listen called for "+h+" "+c),this.listens.has(h)||this.listens.set(h,new Map),(0,j.hu)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,j.hu)(!this.listens.get(h).has(c),"listen() called twice for same path/queryId.");const p={onComplete:s,hashFn:i,query:t,tag:r};this.listens.get(h).set(c,p),this.connected_&&this.sendListen_(p)}sendGet_(t){const i=this.outstandingGets_[t];this.sendRequest("g",i.request,r=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(r)})}sendListen_(t){const i=t.query,r=i._path.toString(),s=i._queryIdentifier;this.log_("Listen on "+r+" for "+s);const c={p:r};t.tag&&(c.q=i._queryObject,c.t=t.tag),c.h=t.hashFn(),this.sendRequest("q",c,p=>{const _=p.d,T=p.s;n.warnOnListenWarnings_(_,i),(this.listens.get(r)&&this.listens.get(r).get(s))===t&&(this.log_("listen response",p),"ok"!==T&&this.removeListen_(r,s),t.onComplete&&t.onComplete(T,_))})}static warnOnListenWarnings_(t,i){if(t&&"object"==typeof t&&(0,j.r3)(t,"w")){const r=(0,j.DV)(t,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const s='".indexOn": "'+i._queryParams.getIndex().toString()+'"',c=i._path.toString();_a(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${c} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&40===t.length||(0,j.GJ)(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,i=(0,j.w9)(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(i,r,s=>{const c=s.s,h=s.d||"error";this.authToken_===t&&("ok"===c?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(c,h))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const i=t.s,r=t.d||"error";"ok"===i?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,r)})}unlisten(t,i){const r=t._path.toString(),s=t._queryIdentifier;this.log_("Unlisten called for "+r+" "+s),(0,j.hu)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,s)&&this.connected_&&this.sendUnlisten_(r,s,t._queryObject,i)}sendUnlisten_(t,i,r,s){this.log_("Unlisten on "+t+" for "+i);const c={p:t};s&&(c.q=r,c.t=s),this.sendRequest("n",c)}onDisconnectPut(t,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,i,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:i,onComplete:r})}onDisconnectMerge(t,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,i,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:i,onComplete:r})}onDisconnectCancel(t,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(t,i,r,s){const c={p:i,d:r};this.log_("onDisconnect "+t,c),this.sendRequest(t,c,h=>{s&&setTimeout(()=>{s(h.s,h.d)},Math.floor(0))})}put(t,i,r,s){this.putInternal("p",t,i,r,s)}merge(t,i,r,s){this.putInternal("m",t,i,r,s)}putInternal(t,i,r,s,c){this.initConnection_();const h={p:i,d:r};void 0!==c&&(h.h=c),this.outstandingPuts_.push({action:t,request:h,onComplete:s}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+i)}sendPut_(t){const i=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,s=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(i,r,c=>{this.log_(i+" response",c),delete this.outstandingPuts_[t],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),s&&s(c.s,c.d)})}reportStats(t){if(this.connected_){const i={c:t};this.log_("reportStats",i),this.sendRequest("s",i,r=>{"ok"!==r.s&&this.log_("reportStats","Error sending stats: "+r.d)})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+(0,j.Pz)(t));const i=t.r,r=this.requestCBHash_[i];r&&(delete this.requestCBHash_[i],r(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,i){this.log_("handleServerMessage",t,i),"d"===t?this.onDataUpdate_(i.p,i.d,!1,i.t):"m"===t?this.onDataUpdate_(i.p,i.d,!0,i.t):"c"===t?this.onListenRevoked_(i.p,i.q):"ac"===t?this.onAuthRevoked_(i.s,i.d):"apc"===t?this.onAppCheckRevoked_(i.s,i.d):"sd"===t?this.onSecurityDebugPacket_(i):_1("Unrecognized action received from server: "+(0,j.Pz)(t)+"\nAre you using the latest client?")}onReady_(t,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){(0,j.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Yw,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=Yw,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Yw),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const t=(new Date).getTime()-this.lastConnectionAttemptTime_;let i=Math.max(0,this.reconnectDelay_-t);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var t=this;return(0,Pe.Z)(function*(){if(t.shouldReconnect_()){t.log_("Making a connection attempt"),t.lastConnectionAttemptTime_=(new Date).getTime(),t.lastConnectionEstablishedTime_=null;const i=t.onDataMessage_.bind(t),r=t.onReady_.bind(t),s=t.onRealtimeDisconnect_.bind(t),c=t.id+":"+n.nextConnectionId_++,h=t.lastSessionId;let p=!1,_=null;const T=function(){_?_.close():(p=!0,s())};t.realtime_={close:T,sendRequest:function(H){(0,j.hu)(_,"sendRequest call when we're not connected not allowed."),_.sendRequest(H)}};const P=t.forceTokenRefresh_;t.forceTokenRefresh_=!1;try{const[H,q]=yield Promise.all([t.authTokenProvider_.getToken(P),t.appCheckTokenProvider_.getToken(P)]);p?Ws("getToken() completed but was canceled"):(Ws("getToken() completed. Creating connection."),t.authToken_=H&&H.accessToken,t.appCheckToken_=q&&q.token,_=new TL(c,t.repoInfo_,t.applicationId_,t.appCheckToken_,t.authToken_,i,r,s,ae=>{_a(ae+" ("+t.repoInfo_.toString()+")"),t.interrupt("server_kill")},h))}catch(H){t.log_("Failed to get token: "+H),p||(t.repoInfo_.nodeAdmin&&_a(H),T())}}})()}interrupt(t){Ws("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){Ws("Resuming connection for reason: "+t),delete this.interruptReasons_[t],(0,j.xb)(this.interruptReasons_)&&(this.reconnectDelay_=Yw,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const i=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const i=this.outstandingPuts_[t];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(t,i){let r;r=i?i.map(c=>y1(c)).join("$"):"default";const s=this.removeListen_(t,r);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(t,i){const r=new Ci(t).toString();let s;if(this.listens.has(r)){const c=this.listens.get(r);s=c.get(i),c.delete(i),0===c.size&&this.listens.delete(r)}else s=void 0;return s}onAuthRevoked_(t,i){Ws("Auth token revoked: "+t+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===t||"permission_denied"===t)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,i){Ws("App check token revoked: "+t+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===t||"permission_denied"===t)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const i of t.values())this.sendListen_(i);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let i="js";(0,j.Yr)()&&(i=this.repoInfo_.nodeAdmin?"admin_node":"node"),t["sdk."+i+"."+m1.replace(/\./g,"-")]=1,(0,j.uI)()?t["framework.cordova"]=1:(0,j.b$)()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=LI.getInstance().currentlyOnline();return(0,j.xb)(this.interruptReasons_)&&t}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class Fn{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new Fn(e,t)}}class VI{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const i=new Fn(mh,e),r=new Fn(mh,t);return 0!==this.compare(i,r)}minPost(){return Fn.MIN}}class OL extends VI{static get __EMPTY_NODE(){return BI}static set __EMPTY_NODE(e){BI=e}compare(e,t){return bg(e.name,t.name)}isDefinedOn(e){throw(0,j.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return Fn.MIN}maxPost(){return new Fn(ed,BI)}makePost(e,t){return(0,j.hu)("string"==typeof e,"KeyIndex indexValue must always be a string."),new Fn(e,BI)}toString(){return".key"}}const td=new OL;class UI{constructor(e,t,i,r,s=null){this.isReverse_=r,this.resultGenerator_=s,this.nodeStack_=[];let c=1;for(;!e.isEmpty();)if(e=e,c=t?i(e.key,t):1,r&&(c*=-1),c<0)e=this.isReverse_?e.left:e.right;else{if(0===c){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}let R1,nu=(()=>{class n{constructor(t,i,r,s,c){this.key=t,this.value=i,this.color=null!=r?r:n.RED,this.left=null!=s?s:Ua.EMPTY_NODE,this.right=null!=c?c:Ua.EMPTY_NODE}copy(t,i,r,s,c){return new n(null!=t?t:this.key,null!=i?i:this.value,null!=r?r:this.color,null!=s?s:this.left,null!=c?c:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,r){let s=this;const c=r(t,s.key);return s=c<0?s.copy(null,null,null,s.left.insert(t,i,r),null):0===c?s.copy(null,i,null,null,null):s.copy(null,null,null,null,s.right.insert(t,i,r)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return Ua.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,i){let r,s;if(r=this,i(t,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(t,i),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),0===i(t,r.key)){if(r.right.isEmpty())return Ua.EMPTY_NODE;s=r.right.min_(),r=r.copy(s.key,s.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(t,i))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class Ua{constructor(e,t=Ua.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new Ua(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,nu.BLACK,null,null))}remove(e){return new Ua(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,nu.BLACK,null,null))}get(e){let t,i=this.root_;for(;!i.isEmpty();){if(t=this.comparator_(e,i.key),0===t)return i.value;t<0?i=i.left:t>0&&(i=i.right)}return null}getPredecessorKey(e){let t,i=this.root_,r=null;for(;!i.isEmpty();){if(t=this.comparator_(e,i.key),0===t){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}t<0?i=i.left:t>0&&(r=i,i=i.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new UI(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new UI(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new UI(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new UI(this.root_,null,this.comparator_,!0,e)}}function x$(n,e){return bg(n.name,e.name)}function k1(n,e){return bg(n,e)}Ua.EMPTY_NODE=new class M${copy(e,t,i,r,s){return this}insert(e,t,i){return new nu(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const NL=function(n){return"number"==typeof n?"number:"+tL(n):"string:"+n},PL=function(n){if(n.isLeafNode()){const e=n.val();(0,j.hu)("string"==typeof e||"number"==typeof e||"object"==typeof e&&(0,j.r3)(e,".sv"),"Priority must be a string or number.")}else(0,j.hu)(n===R1||n.isEmpty(),"priority of unexpected type.");(0,j.hu)(n===R1||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let FL,LL,VL,ev=(()=>{class n{constructor(t,i=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=i,this.lazyHash_=null,(0,j.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),PL(this.priorityNode_)}static set __childrenNodeConstructor(t){FL=t}static get __childrenNodeConstructor(){return FL}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new n(this.value_,t)}getImmediateChild(t){return".priority"===t?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return On(t)?this:".priority"===Rn(t)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,i){return null}updateImmediateChild(t,i){return".priority"===t?this.updatePriority(i):i.isEmpty()&&".priority"!==t?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,i).updatePriority(this.priorityNode_)}updateChild(t,i){const r=Rn(t);return null===r?i:i.isEmpty()&&".priority"!==r?this:((0,j.hu)(".priority"!==r||1===Kf(t),".priority must be the last token in a path"),this.updateImmediateChild(r,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(Vi(t),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,i){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+NL(this.priorityNode_.val())+":");const i=typeof this.value_;t+=i+":",t+="number"===i?tL(this.value_):this.value_,this.lazyHash_=QF(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===n.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof n.__childrenNodeConstructor?-1:((0,j.hu)(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const i=typeof t.value_,r=typeof this.value_,s=n.VALUE_TYPE_ORDER.indexOf(i),c=n.VALUE_TYPE_ORDER.indexOf(r);return(0,j.hu)(s>=0,"Unknown leaf type: "+i),(0,j.hu)(c>=0,"Unknown leaf type: "+r),s===c?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:c-s}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const i=t;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}return!1}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const Gi=new class N$ extends VI{compare(e,t){const i=e.node.getPriority(),r=t.node.getPriority(),s=i.compareTo(r);return 0===s?bg(e.name,t.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return Fn.MIN}maxPost(){return new Fn(ed,new ev("[PRIORITY-POST]",VL))}makePost(e,t){const i=LL(e);return new Fn(t,new ev("[PRIORITY-POST]",i))}toString(){return".priority"}},P$=Math.log(2);class F${constructor(e){this.count=parseInt(Math.log(e+1)/P$,10),this.current_=this.count-1;const r=(s=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=e+1&r}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const HI=function(n,e,t,i){n.sort(e);const r=function(p,_){const T=_-p;let S,P;if(0===T)return null;if(1===T)return S=n[p],P=t?t(S):S,new nu(P,S.node,nu.BLACK,null,null);{const H=parseInt(T/2,10)+p,q=r(p,H),ae=r(H+1,_);return S=n[H],P=t?t(S):S,new nu(P,S.node,nu.BLACK,q,ae)}},h=function(p){let _=null,T=null,S=n.length;const P=function(q,ae){const Ce=S-q,pt=S;S-=q;const _t=r(Ce+1,pt),yt=n[Ce],ht=t?t(yt):yt;H(new nu(ht,yt.node,ae,null,_t))},H=function(q){_?(_.left=q,_=q):(T=q,_=q)};for(let q=0;q<p.count;++q){const ae=p.nextBitIsOne(),Ce=Math.pow(2,p.count-(q+1));ae?P(Ce,nu.BLACK):(P(Ce,nu.BLACK),P(Ce,nu.RED))}return T}(new F$(n.length));return new Ua(i||e,h)};let O1;const tv={};class gh{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return(0,j.hu)(tv&&Gi,"ChildrenNode.ts has not been loaded"),O1=O1||new gh({".priority":tv},{".priority":Gi}),O1}get(e){const t=(0,j.DV)(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Ua?t:null}hasIndex(e){return(0,j.r3)(this.indexSet_,e.toString())}addIndex(e,t){(0,j.hu)(e!==td,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let r=!1;const s=t.getIterator(Fn.Wrap);let h,c=s.getNext();for(;c;)r=r||e.isDefinedOn(c.node),i.push(c),c=s.getNext();h=r?HI(i,e.getCompare()):tv;const p=e.toString(),_=Object.assign({},this.indexSet_);_[p]=e;const T=Object.assign({},this.indexes_);return T[p]=h,new gh(T,_)}addToIndexes(e,t){const i=(0,j.UI)(this.indexes_,(r,s)=>{const c=(0,j.DV)(this.indexSet_,s);if((0,j.hu)(c,"Missing index implementation for "+s),r===tv){if(c.isDefinedOn(e.node)){const h=[],p=t.getIterator(Fn.Wrap);let _=p.getNext();for(;_;)_.name!==e.name&&h.push(_),_=p.getNext();return h.push(e),HI(h,c.getCompare())}return tv}{const h=t.get(e.name);let p=r;return h&&(p=p.remove(new Fn(e.name,h))),p.insert(e,e.node)}});return new gh(i,this.indexSet_)}removeFromIndexes(e,t){const i=(0,j.UI)(this.indexes_,r=>{if(r===tv)return r;{const s=t.get(e.name);return s?r.remove(new Fn(e.name,s)):r}});return new gh(i,this.indexSet_)}}let Kw,wn=(()=>{class n{constructor(t,i,r){this.children_=t,this.priorityNode_=i,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&PL(this.priorityNode_),this.children_.isEmpty()&&(0,j.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Kw||(Kw=new n(new Ua(k1),null,gh.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Kw}updatePriority(t){return this.children_.isEmpty()?this:new n(this.children_,t,this.indexMap_)}getImmediateChild(t){if(".priority"===t)return this.getPriority();{const i=this.children_.get(t);return null===i?Kw:i}}getChild(t){const i=Rn(t);return null===i?this:this.getImmediateChild(i).getChild(Vi(t))}hasChild(t){return null!==this.children_.get(t)}updateImmediateChild(t,i){if((0,j.hu)(i,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(i);{const r=new Fn(t,i);let s,c;i.isEmpty()?(s=this.children_.remove(t),c=this.indexMap_.removeFromIndexes(r,this.children_)):(s=this.children_.insert(t,i),c=this.indexMap_.addToIndexes(r,this.children_));const h=s.isEmpty()?Kw:this.priorityNode_;return new n(s,h,c)}}updateChild(t,i){const r=Rn(t);if(null===r)return i;{(0,j.hu)(".priority"!==Rn(t)||1===Kf(t),".priority must be the last token in a path");const s=this.getImmediateChild(r).updateChild(Vi(t),i);return this.updateImmediateChild(r,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const i={};let r=0,s=0,c=!0;if(this.forEachChild(Gi,(h,p)=>{i[h]=p.val(t),r++,c&&n.INTEGER_REGEXP_.test(h)?s=Math.max(s,Number(h)):c=!1}),!t&&c&&s<2*r){const h=[];for(const p in i)h[p]=i[p];return h}return t&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(null===this.lazyHash_){let t="";this.getPriority().isEmpty()||(t+="priority:"+NL(this.getPriority().val())+":"),this.forEachChild(Gi,(i,r)=>{const s=r.hash();""!==s&&(t+=":"+i+":"+s)}),this.lazyHash_=""===t?"":QF(t)}return this.lazyHash_}getPredecessorChildName(t,i,r){const s=this.resolveIndex_(r);if(s){const c=s.getPredecessorKey(new Fn(t,i));return c?c.name:null}return this.children_.getPredecessorKey(t)}getFirstChildName(t){const i=this.resolveIndex_(t);if(i){const r=i.minKey();return r&&r.name}return this.children_.minKey()}getFirstChild(t){const i=this.getFirstChildName(t);return i?new Fn(i,this.children_.get(i)):null}getLastChildName(t){const i=this.resolveIndex_(t);if(i){const r=i.maxKey();return r&&r.name}return this.children_.maxKey()}getLastChild(t){const i=this.getLastChildName(t);return i?new Fn(i,this.children_.get(i)):null}forEachChild(t,i){const r=this.resolveIndex_(t);return r?r.inorderTraversal(s=>i(s.name,s.node)):this.children_.inorderTraversal(i)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,i){const r=this.resolveIndex_(i);if(r)return r.getIteratorFrom(t,s=>s);{const s=this.children_.getIteratorFrom(t.name,Fn.Wrap);let c=s.peek();for(;null!=c&&i.compare(c,t)<0;)s.getNext(),c=s.peek();return s}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,i){const r=this.resolveIndex_(i);if(r)return r.getReverseIteratorFrom(t,s=>s);{const s=this.children_.getReverseIteratorFrom(t.name,Fn.Wrap);let c=s.peek();for(;null!=c&&i.compare(c,t)>0;)s.getNext(),c=s.peek();return s}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===Qw?-1:0}withIndex(t){if(t===td||this.indexMap_.hasIndex(t))return this;{const i=this.indexMap_.addIndex(t,this.children_);return new n(this.children_,this.priorityNode_,i)}}isIndexed(t){return t===td||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const i=t;if(this.getPriority().equals(i.getPriority())){if(this.children_.count()===i.children_.count()){const r=this.getIterator(Gi),s=i.getIterator(Gi);let c=r.getNext(),h=s.getNext();for(;c&&h;){if(c.name!==h.name||!c.node.equals(h.node))return!1;c=r.getNext(),h=s.getNext()}return null===c&&null===h}return!1}return!1}}resolveIndex_(t){return t===td?null:this.indexMap_.get(t.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const Qw=new class L$ extends wn{constructor(){super(new Ua(k1),wn.EMPTY_NODE,gh.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return wn.EMPTY_NODE}isEmpty(){return!1}};function Dr(n,e=null){if(null===n)return wn.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(e=n[".priority"]),(0,j.hu)(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new ev(n,Dr(e));if(n instanceof Array){let t=wn.EMPTY_NODE;return Zs(n,(i,r)=>{if((0,j.r3)(n,i)&&"."!==i.substring(0,1)){const s=Dr(r);(s.isLeafNode()||!s.isEmpty())&&(t=t.updateImmediateChild(i,s))}}),t.updatePriority(Dr(e))}{const t=[];let i=!1;if(Zs(n,(c,h)=>{if("."!==c.substring(0,1)){const p=Dr(h);p.isEmpty()||(i=i||!p.getPriority().isEmpty(),t.push(new Fn(c,p)))}}),0===t.length)return wn.EMPTY_NODE;const s=HI(t,x$,c=>c.name,k1);if(i){const c=HI(t,Gi.getCompare());return new wn(s,Dr(e),new gh({".priority":c},{".priority":Gi}))}return new wn(s,Dr(e),gh.Default)}}Object.defineProperties(Fn,{MIN:{value:new Fn(mh,wn.EMPTY_NODE)},MAX:{value:new Fn(ed,Qw)}}),OL.__EMPTY_NODE=wn.EMPTY_NODE,ev.__childrenNodeConstructor=wn,function k$(n){R1=n}(Qw),function O$(n){VL=n}(Qw),function R$(n){LL=n}(Dr);class N1 extends VI{constructor(e){super(),this.indexPath_=e,(0,j.hu)(!On(e)&&".priority"!==Rn(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const i=this.extractChild(e.node),r=this.extractChild(t.node),s=i.compareTo(r);return 0===s?bg(e.name,t.name):s}makePost(e,t){const i=Dr(e),r=wn.EMPTY_NODE.updateChild(this.indexPath_,i);return new Fn(t,r)}maxPost(){const e=wn.EMPTY_NODE.updateChild(this.indexPath_,Qw);return new Fn(ed,e)}toString(){return Zw(this.indexPath_,0).join("/")}}const P1=new class B$ extends VI{compare(e,t){const i=e.node.compareTo(t.node);return 0===i?bg(e.name,t.name):i}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return Fn.MIN}maxPost(){return Fn.MAX}makePost(e,t){const i=Dr(e);return new Fn(t,i)}toString(){return".value"}},nv="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",U$=function(){let n=0;const e=[];return function(t){const i=t===n;let r;n=t;const s=new Array(8);for(r=7;r>=0;r--)s[r]=nv.charAt(t%64),t=Math.floor(t/64);(0,j.hu)(0===t,"Cannot push at time == 0");let c=s.join("");if(i){for(r=11;r>=0&&63===e[r];r--)e[r]=0;e[r]++}else for(r=0;r<12;r++)e[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)c+=nv.charAt(e[r]);return(0,j.hu)(20===c.length,"nextPushId: Length should be 20."),c}}(),HL=function(n){if(n===""+v1)return"-";const e=PI(n);if(null!=e)return""+(e+1);const t=new Array(n.length);for(let c=0;c<t.length;c++)t[c]=n.charAt(c);if(t.length<786)return t.push("-"),t.join("");let i=t.length-1;for(;i>=0&&"z"===t[i];)i--;if(-1===i)return ed;const s=nv.charAt(nv.indexOf(t[i])+1);return t[i]=s,t.slice(0,i+1).join("")},jL=function(n){if(n===""+nL)return mh;const e=PI(n);if(null!=e)return""+(e-1);const t=new Array(n.length);for(let i=0;i<t.length;i++)t[i]=n.charAt(i);return"-"===t[t.length-1]?1===t.length?""+v1:(delete t[t.length-1],t.join("")):(t[t.length-1]=nv.charAt(nv.indexOf(t[t.length-1])-1),t.join("")+"z".repeat(786-t.length))};function GL(n){return{type:"value",snapshotNode:n}}function iv(n,e){return{type:"child_added",snapshotNode:e,childName:n}}function Jw(n,e){return{type:"child_removed",snapshotNode:e,childName:n}}function Xw(n,e,t){return{type:"child_changed",snapshotNode:e,childName:n,oldSnap:t}}class L1{constructor(e){this.index_=e}updateChild(e,t,i,r,s,c){(0,j.hu)(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const h=e.getImmediateChild(t);return h.getChild(r).equals(i.getChild(r))&&h.isEmpty()===i.isEmpty()||(null!=c&&(i.isEmpty()?e.hasChild(t)?c.trackChildChange(Jw(t,h)):(0,j.hu)(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):h.isEmpty()?c.trackChildChange(iv(t,i)):c.trackChildChange(Xw(t,i,h))),e.isLeafNode()&&i.isEmpty())?e:e.updateImmediateChild(t,i).withIndex(this.index_)}updateFullNode(e,t,i){return null!=i&&(e.isLeafNode()||e.forEachChild(Gi,(r,s)=>{t.hasChild(r)||i.trackChildChange(Jw(r,s))}),t.isLeafNode()||t.forEachChild(Gi,(r,s)=>{if(e.hasChild(r)){const c=e.getImmediateChild(r);c.equals(s)||i.trackChildChange(Xw(r,s,c))}else i.trackChildChange(iv(r,s))})),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?wn.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class eC{constructor(e){this.indexedFilter_=new L1(e.getIndex()),this.index_=e.getIndex(),this.startPost_=eC.getStartPost_(e),this.endPost_=eC.getEndPost_(e)}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){return this.index_.compare(this.getStartPost(),e)<=0&&this.index_.compare(e,this.getEndPost())<=0}updateChild(e,t,i,r,s,c){return this.matches(new Fn(t,i))||(i=wn.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,i,r,s,c)}updateFullNode(e,t,i){t.isLeafNode()&&(t=wn.EMPTY_NODE);let r=t.withIndex(this.index_);r=r.updatePriority(wn.EMPTY_NODE);const s=this;return t.forEachChild(Gi,(c,h)=>{s.matches(new Fn(c,h))||(r=r.updateImmediateChild(c,wn.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,r,i)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}class j${constructor(e){this.rangedFilter_=new eC(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft()}updateChild(e,t,i,r,s,c){return this.rangedFilter_.matches(new Fn(t,i))||(i=wn.EMPTY_NODE),e.getImmediateChild(t).equals(i)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,i,r,s,c):this.fullLimitUpdateChild_(e,t,i,s,c)}updateFullNode(e,t,i){let r;if(t.isLeafNode()||t.isEmpty())r=wn.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){let s;r=wn.EMPTY_NODE.withIndex(this.index_),s=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let c=0;for(;s.hasNext()&&c<this.limit_;){const h=s.getNext();let p;if(p=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),h)<=0:this.index_.compare(h,this.rangedFilter_.getEndPost())<=0,!p)break;r=r.updateImmediateChild(h.name,h.node),c++}}else{let s,c,h,p;if(r=t.withIndex(this.index_),r=r.updatePriority(wn.EMPTY_NODE),this.reverse_){p=r.getReverseIterator(this.index_),s=this.rangedFilter_.getEndPost(),c=this.rangedFilter_.getStartPost();const S=this.index_.getCompare();h=(P,H)=>S(H,P)}else p=r.getIterator(this.index_),s=this.rangedFilter_.getStartPost(),c=this.rangedFilter_.getEndPost(),h=this.index_.getCompare();let _=0,T=!1;for(;p.hasNext();){const S=p.getNext();!T&&h(s,S)<=0&&(T=!0),T&&_<this.limit_&&h(S,c)<=0?_++:r=r.updateImmediateChild(S.name,wn.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,i)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,i,r,s){let c;if(this.reverse_){const S=this.index_.getCompare();c=(P,H)=>S(H,P)}else c=this.index_.getCompare();const h=e;(0,j.hu)(h.numChildren()===this.limit_,"");const p=new Fn(t,i),_=this.reverse_?h.getFirstChild(this.index_):h.getLastChild(this.index_),T=this.rangedFilter_.matches(p);if(h.hasChild(t)){const S=h.getImmediateChild(t);let P=r.getChildAfterChild(this.index_,_,this.reverse_);for(;null!=P&&(P.name===t||h.hasChild(P.name));)P=r.getChildAfterChild(this.index_,P,this.reverse_);const H=null==P?1:c(P,p);if(T&&!i.isEmpty()&&H>=0)return null!=s&&s.trackChildChange(Xw(t,i,S)),h.updateImmediateChild(t,i);{null!=s&&s.trackChildChange(Jw(t,S));const ae=h.updateImmediateChild(t,wn.EMPTY_NODE);return null!=P&&this.rangedFilter_.matches(P)?(null!=s&&s.trackChildChange(iv(P.name,P.node)),ae.updateImmediateChild(P.name,P.node)):ae}}return i.isEmpty()?e:T&&c(_,p)>=0?(null!=s&&(s.trackChildChange(Jw(_.name,_.node)),s.trackChildChange(iv(t,i))),h.updateImmediateChild(t,i).updateImmediateChild(_.name,wn.EMPTY_NODE)):e}}class jI{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Gi}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,j.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,j.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:mh}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,j.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,j.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:ed}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,j.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Gi}copy(){const e=new jI;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function V1(n,e,t){const i=n.copy();return i.startSet_=!0,void 0===e&&(e=null),i.indexStartValue_=e,null!=t?(i.startNameSet_=!0,i.indexStartName_=t):(i.startNameSet_=!1,i.indexStartName_=""),i}function B1(n,e,t){const i=n.copy();return i.endSet_=!0,void 0===e&&(e=null),i.indexEndValue_=e,void 0!==t?(i.endNameSet_=!0,i.indexEndName_=t):(i.endNameSet_=!1,i.indexEndName_=""),i}function GI(n,e){const t=n.copy();return t.index_=e,t}function $L(n){const e={};if(n.isDefault())return e;let t;return n.index_===Gi?t="$priority":n.index_===P1?t="$value":n.index_===td?t="$key":((0,j.hu)(n.index_ instanceof N1,"Unrecognized index type!"),t=n.index_.toString()),e.orderBy=(0,j.Pz)(t),n.startSet_&&(e.startAt=(0,j.Pz)(n.indexStartValue_),n.startNameSet_&&(e.startAt+=","+(0,j.Pz)(n.indexStartName_))),n.endSet_&&(e.endAt=(0,j.Pz)(n.indexEndValue_),n.endNameSet_&&(e.endAt+=","+(0,j.Pz)(n.indexEndName_))),n.limitSet_&&(n.isViewFromLeft()?e.limitToFirst=n.limit_:e.limitToLast=n.limit_),e}function zL(n){const e={};if(n.startSet_&&(e.sp=n.indexStartValue_,n.startNameSet_&&(e.sn=n.indexStartName_)),n.endSet_&&(e.ep=n.indexEndValue_,n.endNameSet_&&(e.en=n.indexEndName_)),n.limitSet_){e.l=n.limit_;let t=n.viewFrom_;""===t&&(t=n.isViewFromLeft()?"l":"r"),e.vf=t}return n.index_!==Gi&&(e.i=n.index_.toString()),e}class $I extends DL{constructor(e,t,i,r){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=jw("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:((0,j.hu)(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,i,r){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const c=$I.getListenId_(e,i),h={};this.listens_[c]=h;const p=$L(e._queryParams);this.restRequest_(s+".json",p,(_,T)=>{let S=T;if(404===_&&(S=null,_=null),null===_&&this.onDataUpdate_(s,S,!1,i),(0,j.DV)(this.listens_,c)===h){let P;P=_?401===_?"permission_denied":"rest_error:"+_:"ok",r(P,null)}})}unlisten(e,t){const i=$I.getListenId_(e,t);delete this.listens_[i]}get(e){const t=$L(e._queryParams),i=e._path.toString(),r=new j.BH;return this.restRequest_(i+".json",t,(s,c)=>{let h=c;404===s&&(h=null,s=null),null===s?(this.onDataUpdate_(i,h,!1,null),r.resolve(h)):r.reject(new Error(h))}),r.promise}refreshAuthToken(e){}restRequest_(e,t={},i){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,s])=>{r&&r.accessToken&&(t.auth=r.accessToken),s&&s.token&&(t.ac=s.token);const c=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+(0,j.xO)(t);this.log_("Sending REST request for "+c);const h=new XMLHttpRequest;h.onreadystatechange=()=>{if(i&&4===h.readyState){this.log_("REST Response for "+c+" received. status:",h.status,"response:",h.responseText);let p=null;if(h.status>=200&&h.status<300){try{p=(0,j.cI)(h.responseText)}catch(_){_a("Failed to parse JSON response for "+c+": "+h.responseText)}i(null,p)}else 401!==h.status&&404!==h.status&&_a("Got unsuccessful REST response for "+c+" Status: "+h.status),i(h.status);i=null}},h.open("GET",c,!0),h.send()})}}class Z${constructor(){this.rootNode_=wn.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function zI(){return{value:null,children:new Map}}function rv(n,e,t){if(On(e))n.value=t,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(e,t);else{const i=Rn(e);n.children.has(i)||n.children.set(i,zI()),rv(n.children.get(i),e=Vi(e),t)}}function U1(n,e){if(On(e))return n.value=null,n.children.clear(),!0;if(null!==n.value){if(n.value.isLeafNode())return!1;{const t=n.value;return n.value=null,t.forEachChild(Gi,(i,r)=>{rv(n,new Ci(i),r)}),U1(n,e)}}if(n.children.size>0){const t=Rn(e);return e=Vi(e),n.children.has(t)&&U1(n.children.get(t),e)&&n.children.delete(t),0===n.children.size}return!0}function H1(n,e,t){null!==n.value?t(e,n.value):function Y$(n,e){n.children.forEach((t,i)=>{e(i,t)})}(n,(i,r)=>{H1(r,new Ci(e.toString()+"/"+i),t)})}class K${constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&Zs(this.last_,(i,r)=>{t[i]=t[i]-r}),this.last_=e,t}}class X${constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new K$(e);const i=1e4+2e4*Math.random();$w(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const e=this.statsListener_.get(),t={};let i=!1;Zs(e,(r,s)=>{s>0&&(0,j.r3)(this.statsToReport_,r)&&(t[r]=s,i=!0)}),i&&this.server_.reportStats(t),$w(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var tc=(()=>(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(tc||(tc={})),tc))();function $1(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class qI{constructor(e,t,i){this.path=e,this.affectedTree=t,this.revert=i,this.type=tc.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(On(this.path)){if(null!=this.affectedTree.value)return(0,j.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new Ci(e));return new qI(hi(),t,this.revert)}}return(0,j.hu)(Rn(this.path)===e,"operationForChild called for unrelated child."),new qI(Vi(this.path),this.affectedTree,this.revert)}}class tC{constructor(e,t){this.source=e,this.path=t,this.type=tc.LISTEN_COMPLETE}operationForChild(e){return On(this.path)?new tC(this.source,hi()):new tC(this.source,Vi(this.path))}}class Eg{constructor(e,t,i){this.source=e,this.path=t,this.snap=i,this.type=tc.OVERWRITE}operationForChild(e){return On(this.path)?new Eg(this.source,hi(),this.snap.getImmediateChild(e)):new Eg(this.source,Vi(this.path),this.snap)}}class sv{constructor(e,t,i){this.source=e,this.path=t,this.children=i,this.type=tc.MERGE}operationForChild(e){if(On(this.path)){const t=this.children.subtree(new Ci(e));return t.isEmpty()?null:t.value?new Eg(this.source,hi(),t.value):new sv(this.source,hi(),t)}return(0,j.hu)(Rn(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new sv(this.source,Vi(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Qf{constructor(e,t,i){this.node_=e,this.fullyInitialized_=t,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(On(e))return this.isFullyInitialized()&&!this.filtered_;const t=Rn(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}class ez{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function nC(n,e,t,i,r,s){const c=i.filter(h=>h.type===t);c.sort((h,p)=>function iz(n,e,t){if(null==e.childName||null==t.childName)throw(0,j.g5)("Should only compare child_ events.");const i=new Fn(e.childName,e.snapshotNode),r=new Fn(t.childName,t.snapshotNode);return n.index_.compare(i,r)}(n,h,p)),c.forEach(h=>{const p=function nz(n,e,t){return"value"===e.type||"child_removed"===e.type||(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,n.index_)),e}(n,h,s);r.forEach(_=>{_.respondsTo(h.type)&&e.push(_.createEvent(p,n.query_))})})}function WI(n,e){return{eventCache:n,serverCache:e}}function iC(n,e,t,i){return WI(new Qf(e,t,i),n.serverCache)}function WL(n,e,t,i){return WI(n.eventCache,new Qf(e,t,i))}function ZI(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function Tg(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let z1;class $i{constructor(e,t=(()=>(z1||(z1=new Ua(UG)),z1))()){this.value=e,this.children=t}static fromObject(e){let t=new $i(null);return Zs(e,(i,r)=>{t=t.set(new Ci(i),r)}),t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:hi(),value:this.value};if(On(e))return null;{const i=Rn(e),r=this.children.get(i);if(null!==r){const s=r.findRootMostMatchingPathAndValue(Vi(e),t);return null!=s?{path:dr(new Ci(i),s.path),value:s.value}:null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(On(e))return this;{const t=Rn(e),i=this.children.get(t);return null!==i?i.subtree(Vi(e)):new $i(null)}}set(e,t){if(On(e))return new $i(t,this.children);{const i=Rn(e),s=(this.children.get(i)||new $i(null)).set(Vi(e),t),c=this.children.insert(i,s);return new $i(this.value,c)}}remove(e){if(On(e))return this.children.isEmpty()?new $i(null):new $i(null,this.children);{const t=Rn(e),i=this.children.get(t);if(i){const r=i.remove(Vi(e));let s;return s=r.isEmpty()?this.children.remove(t):this.children.insert(t,r),null===this.value&&s.isEmpty()?new $i(null):new $i(this.value,s)}return this}}get(e){if(On(e))return this.value;{const t=Rn(e),i=this.children.get(t);return i?i.get(Vi(e)):null}}setTree(e,t){if(On(e))return t;{const i=Rn(e),s=(this.children.get(i)||new $i(null)).setTree(Vi(e),t);let c;return c=s.isEmpty()?this.children.remove(i):this.children.insert(i,s),new $i(this.value,c)}}fold(e){return this.fold_(hi(),e)}fold_(e,t){const i={};return this.children.inorderTraversal((r,s)=>{i[r]=s.fold_(dr(e,r),t)}),t(e,this.value,i)}findOnPath(e,t){return this.findOnPath_(e,hi(),t)}findOnPath_(e,t,i){const r=!!this.value&&i(t,this.value);if(r)return r;if(On(e))return null;{const s=Rn(e),c=this.children.get(s);return c?c.findOnPath_(Vi(e),dr(t,s),i):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,hi(),t)}foreachOnPath_(e,t,i){if(On(e))return this;{this.value&&i(t,this.value);const r=Rn(e),s=this.children.get(r);return s?s.foreachOnPath_(Vi(e),dr(t,r),i):new $i(null)}}foreach(e){this.foreach_(hi(),e)}foreach_(e,t){this.children.inorderTraversal((i,r)=>{r.foreach_(dr(e,i),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,i)=>{i.value&&e(t,i.value)})}}class iu{constructor(e){this.writeTree_=e}static empty(){return new iu(new $i(null))}}function rC(n,e,t){if(On(e))return new iu(new $i(t));{const i=n.writeTree_.findRootMostValueAndPath(e);if(null!=i){const r=i.path;let s=i.value;const c=ya(r,e);return s=s.updateChild(c,t),new iu(n.writeTree_.set(r,s))}{const r=new $i(t),s=n.writeTree_.setTree(e,r);return new iu(s)}}}function q1(n,e,t){let i=n;return Zs(t,(r,s)=>{i=rC(i,dr(e,r),s)}),i}function ZL(n,e){if(On(e))return iu.empty();{const t=n.writeTree_.setTree(e,new $i(null));return new iu(t)}}function W1(n,e){return null!=Dg(n,e)}function Dg(n,e){const t=n.writeTree_.findRootMostValueAndPath(e);return null!=t?n.writeTree_.get(t.path).getChild(ya(t.path,e)):null}function YL(n){const e=[],t=n.writeTree_.value;return null!=t?t.isLeafNode()||t.forEachChild(Gi,(i,r)=>{e.push(new Fn(i,r))}):n.writeTree_.children.inorderTraversal((i,r)=>{null!=r.value&&e.push(new Fn(i,r.value))}),e}function Jf(n,e){if(On(e))return n;{const t=Dg(n,e);return new iu(null!=t?new $i(t):n.writeTree_.subtree(e))}}function Z1(n){return n.writeTree_.isEmpty()}function ov(n,e){return KL(hi(),n.writeTree_,e)}function KL(n,e,t){if(null!=e.value)return t.updateChild(n,e.value);{let i=null;return e.children.inorderTraversal((r,s)=>{".priority"===r?((0,j.hu)(null!==s.value,"Priority writes must always be leaf nodes"),i=s.value):t=KL(dr(n,r),s,t)}),!t.getChild(n).isEmpty()&&null!==i&&(t=t.updateChild(dr(n,".priority"),i)),t}}function YI(n,e){return t2(e,n)}function cz(n,e){if(n.snap)return ec(n.path,e);for(const t in n.children)if(n.children.hasOwnProperty(t)&&ec(dr(n.path,t),e))return!0;return!1}function dz(n){return n.visible}function QL(n,e,t){let i=iu.empty();for(let r=0;r<n.length;++r){const s=n[r];if(e(s)){const c=s.path;let h;if(s.snap)ec(t,c)?(h=ya(t,c),i=rC(i,h,s.snap)):ec(c,t)&&(h=ya(c,t),i=rC(i,hi(),s.snap.getChild(h)));else{if(!s.children)throw(0,j.g5)("WriteRecord should have .snap or .children");if(ec(t,c))h=ya(t,c),i=q1(i,h,s.children);else if(ec(c,t))if(h=ya(c,t),On(h))i=q1(i,hi(),s.children);else{const p=(0,j.DV)(s.children,Rn(h));if(p){const _=p.getChild(Vi(h));i=rC(i,hi(),_)}}}}}return i}function JL(n,e,t,i,r){if(i||r){const s=Jf(n.visibleWrites,e);return!r&&Z1(s)?t:r||null!=t||W1(s,hi())?ov(QL(n.allWrites,function(_){return(_.visible||r)&&(!i||!~i.indexOf(_.writeId))&&(ec(_.path,e)||ec(e,_.path))},e),t||wn.EMPTY_NODE):null}{const s=Dg(n.visibleWrites,e);if(null!=s)return s;{const c=Jf(n.visibleWrites,e);return Z1(c)?t:null!=t||W1(c,hi())?ov(c,t||wn.EMPTY_NODE):null}}}function KI(n,e,t,i){return JL(n.writeTree,n.treePath,e,t,i)}function Y1(n,e){return function hz(n,e,t){let i=wn.EMPTY_NODE;const r=Dg(n.visibleWrites,e);if(r)return r.isLeafNode()||r.forEachChild(Gi,(s,c)=>{i=i.updateImmediateChild(s,c)}),i;if(t){const s=Jf(n.visibleWrites,e);return t.forEachChild(Gi,(c,h)=>{const p=ov(Jf(s,new Ci(c)),h);i=i.updateImmediateChild(c,p)}),YL(s).forEach(c=>{i=i.updateImmediateChild(c.name,c.node)}),i}return YL(Jf(n.visibleWrites,e)).forEach(c=>{i=i.updateImmediateChild(c.name,c.node)}),i}(n.writeTree,n.treePath,e)}function XL(n,e,t,i){return function fz(n,e,t,i,r){(0,j.hu)(i||r,"Either existingEventSnap or existingServerSnap must exist");const s=dr(e,t);if(W1(n.visibleWrites,s))return null;{const c=Jf(n.visibleWrites,s);return Z1(c)?r.getChild(t):ov(c,r.getChild(t))}}(n.writeTree,n.treePath,e,t,i)}function QI(n,e){return function mz(n,e){return Dg(n.visibleWrites,e)}(n.writeTree,dr(n.treePath,e))}function K1(n,e,t){return function pz(n,e,t,i){const r=dr(e,t),s=Dg(n.visibleWrites,r);return null!=s?s:i.isCompleteForChild(t)?ov(Jf(n.visibleWrites,r),i.getNode().getImmediateChild(t)):null}(n.writeTree,n.treePath,e,t)}function e2(n,e){return t2(dr(n.treePath,e),n.writeTree)}function t2(n,e){return{treePath:n,writeTree:e}}class vz{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,i=e.childName;(0,j.hu)("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),(0,j.hu)(".priority"!==i,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(i);if(r){const s=r.type;if("child_added"===t&&"child_removed"===s)this.changeMap.set(i,Xw(i,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===s)this.changeMap.delete(i);else if("child_removed"===t&&"child_changed"===s)this.changeMap.set(i,Jw(i,r.oldSnap));else if("child_changed"===t&&"child_added"===s)this.changeMap.set(i,iv(i,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==s)throw(0,j.g5)("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(i,Xw(i,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(i,e)}getChanges(){return Array.from(this.changeMap.values())}}const n2=new class bz{getCompleteChild(e){return null}getChildAfterChild(e,t,i){return null}};class Q1{constructor(e,t,i=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=i}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const i=null!=this.optCompleteServerCache_?new Qf(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return K1(this.writes_,e,i)}}getChildAfterChild(e,t,i){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Tg(this.viewCache_),s=function yz(n,e,t,i,r,s){return function gz(n,e,t,i,r,s,c){let h;const p=Jf(n.visibleWrites,e),_=Dg(p,hi());if(null!=_)h=_;else{if(null==t)return[];h=ov(p,t)}if(h=h.withIndex(c),h.isEmpty()||h.isLeafNode())return[];{const T=[],S=c.getCompare(),P=s?h.getReverseIteratorFrom(i,c):h.getIteratorFrom(i,c);let H=P.getNext();for(;H&&T.length<r;)0!==S(H,i)&&T.push(H),H=P.getNext();return T}}(n.writeTree,n.treePath,e,t,i,r,s)}(this.writes_,r,t,1,i,e);return 0===s.length?null:s[0]}}function r2(n,e,t,i,r,s){const c=e.eventCache;if(null!=QI(i,t))return e;{let h,p;if(On(t))if((0,j.hu)(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const _=Tg(e),S=Y1(i,_ instanceof wn?_:wn.EMPTY_NODE);h=n.filter.updateFullNode(e.eventCache.getNode(),S,s)}else{const _=KI(i,Tg(e));h=n.filter.updateFullNode(e.eventCache.getNode(),_,s)}else{const _=Rn(t);if(".priority"===_){(0,j.hu)(1===Kf(t),"Can't have a priority with additional path components");const T=c.getNode();p=e.serverCache.getNode();const S=XL(i,t,T,p);h=null!=S?n.filter.updatePriority(T,S):c.getNode()}else{const T=Vi(t);let S;if(c.isCompleteForChild(_)){p=e.serverCache.getNode();const P=XL(i,t,c.getNode(),p);S=null!=P?c.getNode().getImmediateChild(_).updateChild(T,P):c.getNode().getImmediateChild(_)}else S=K1(i,_,e.serverCache);h=null!=S?n.filter.updateChild(c.getNode(),_,S,T,r,s):c.getNode()}}return iC(e,h,c.isFullyInitialized()||On(t),n.filter.filtersNodes())}}function JI(n,e,t,i,r,s,c,h){const p=e.serverCache;let _;const T=c?n.filter:n.filter.getIndexedFilter();if(On(t))_=T.updateFullNode(p.getNode(),i,null);else if(T.filtersNodes()&&!p.isFiltered()){const H=p.getNode().updateChild(t,i);_=T.updateFullNode(p.getNode(),H,null)}else{const H=Rn(t);if(!p.isCompleteForPath(t)&&Kf(t)>1)return e;const q=Vi(t),Ce=p.getNode().getImmediateChild(H).updateChild(q,i);_=".priority"===H?T.updatePriority(p.getNode(),Ce):T.updateChild(p.getNode(),H,Ce,q,n2,null)}const S=WL(e,_,p.isFullyInitialized()||On(t),T.filtersNodes());return r2(n,S,t,r,new Q1(r,S,s),h)}function J1(n,e,t,i,r,s,c){const h=e.eventCache;let p,_;const T=new Q1(r,e,s);if(On(t))_=n.filter.updateFullNode(e.eventCache.getNode(),i,c),p=iC(e,_,!0,n.filter.filtersNodes());else{const S=Rn(t);if(".priority"===S)_=n.filter.updatePriority(e.eventCache.getNode(),i),p=iC(e,_,h.isFullyInitialized(),h.isFiltered());else{const P=Vi(t),H=h.getNode().getImmediateChild(S);let q;if(On(P))q=i;else{const ae=T.getCompleteChild(S);q=null!=ae?".priority"===A1(P)&&ae.getChild(ML(P)).isEmpty()?ae:ae.updateChild(P,i):wn.EMPTY_NODE}p=H.equals(q)?e:iC(e,n.filter.updateChild(h.getNode(),S,q,P,T,c),h.isFullyInitialized(),n.filter.filtersNodes())}}return p}function s2(n,e){return n.eventCache.isCompleteForChild(e)}function o2(n,e,t){return t.foreach((i,r)=>{e=e.updateChild(i,r)}),e}function X1(n,e,t,i,r,s,c,h){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let _,p=e;_=On(t)?i:new $i(null).setTree(t,i);const T=e.serverCache.getNode();return _.children.inorderTraversal((S,P)=>{if(T.hasChild(S)){const q=o2(0,e.serverCache.getNode().getImmediateChild(S),P);p=JI(n,p,new Ci(S),q,r,s,c,h)}}),_.children.inorderTraversal((S,P)=>{const H=!e.serverCache.isCompleteForChild(S)&&void 0===P.value;if(!T.hasChild(S)&&!H){const ae=o2(0,e.serverCache.getNode().getImmediateChild(S),P);p=JI(n,p,new Ci(S),ae,r,s,c,h)}}),p}class Mz{constructor(e,t){this.query_=e,this.eventRegistrations_=[];const i=this.query_._queryParams,r=new L1(i.getIndex()),s=function G$(n){return n.loadsAllData()?new L1(n.getIndex()):n.hasLimit()?new j$(n):new eC(n)}(i);this.processor_=function wz(n){return{filter:n}}(s);const c=t.serverCache,h=t.eventCache,p=r.updateFullNode(wn.EMPTY_NODE,c.getNode(),null),_=s.updateFullNode(wn.EMPTY_NODE,h.getNode(),null),T=new Qf(p,c.isFullyInitialized(),r.filtersNodes()),S=new Qf(_,h.isFullyInitialized(),s.filtersNodes());this.viewCache_=WI(S,T),this.eventGenerator_=new ez(this.query_)}get query(){return this.query_}}function Rz(n,e){const t=Tg(n.viewCache_);return t&&(n.query._queryParams.loadsAllData()||!On(e)&&!t.getImmediateChild(Rn(e)).isEmpty())?t.getChild(e):null}function a2(n){return 0===n.eventRegistrations_.length}function l2(n,e,t){const i=[];if(t){(0,j.hu)(null==e,"A cancel should cancel all event registrations.");const r=n.query._path;n.eventRegistrations_.forEach(s=>{const c=s.createCancelEvent(t,r);c&&i.push(c)})}if(e){let r=[];for(let s=0;s<n.eventRegistrations_.length;++s){const c=n.eventRegistrations_[s];if(c.matches(e)){if(e.hasAnyCallback()){r=r.concat(n.eventRegistrations_.slice(s+1));break}}else r.push(c)}n.eventRegistrations_=r}else n.eventRegistrations_=[];return i}function c2(n,e,t,i){e.type===tc.MERGE&&null!==e.source.queryId&&((0,j.hu)(Tg(n.viewCache_),"We should always have a full cache before handling merges"),(0,j.hu)(ZI(n.viewCache_),"Missing event cache, even though we have a server cache"));const r=n.viewCache_,s=function Ez(n,e,t,i,r){const s=new vz;let c,h;if(t.type===tc.OVERWRITE){const _=t;_.source.fromUser?c=J1(n,e,_.path,_.snap,i,r,s):((0,j.hu)(_.source.fromServer,"Unknown source."),h=_.source.tagged||e.serverCache.isFiltered()&&!On(_.path),c=JI(n,e,_.path,_.snap,i,r,h,s))}else if(t.type===tc.MERGE){const _=t;_.source.fromUser?c=function Dz(n,e,t,i,r,s,c){let h=e;return i.foreach((p,_)=>{const T=dr(t,p);s2(e,Rn(T))&&(h=J1(n,h,T,_,r,s,c))}),i.foreach((p,_)=>{const T=dr(t,p);s2(e,Rn(T))||(h=J1(n,h,T,_,r,s,c))}),h}(n,e,_.path,_.children,i,r,s):((0,j.hu)(_.source.fromServer,"Unknown source."),h=_.source.tagged||e.serverCache.isFiltered(),c=X1(n,e,_.path,_.children,i,r,h,s))}else if(t.type===tc.ACK_USER_WRITE){const _=t;c=_.revert?function Az(n,e,t,i,r,s){let c;if(null!=QI(i,t))return e;{const h=new Q1(i,e,r),p=e.eventCache.getNode();let _;if(On(t)||".priority"===Rn(t)){let T;if(e.serverCache.isFullyInitialized())T=KI(i,Tg(e));else{const S=e.serverCache.getNode();(0,j.hu)(S instanceof wn,"serverChildren would be complete if leaf node"),T=Y1(i,S)}T=T,_=n.filter.updateFullNode(p,T,s)}else{const T=Rn(t);let S=K1(i,T,e.serverCache);null==S&&e.serverCache.isCompleteForChild(T)&&(S=p.getImmediateChild(T)),_=null!=S?n.filter.updateChild(p,T,S,Vi(t),h,s):e.eventCache.getNode().hasChild(T)?n.filter.updateChild(p,T,wn.EMPTY_NODE,Vi(t),h,s):p,_.isEmpty()&&e.serverCache.isFullyInitialized()&&(c=KI(i,Tg(e)),c.isLeafNode()&&(_=n.filter.updateFullNode(_,c,s)))}return c=e.serverCache.isFullyInitialized()||null!=QI(i,hi()),iC(e,_,c,n.filter.filtersNodes())}}(n,e,_.path,i,r,s):function Iz(n,e,t,i,r,s,c){if(null!=QI(r,t))return e;const h=e.serverCache.isFiltered(),p=e.serverCache;if(null!=i.value){if(On(t)&&p.isFullyInitialized()||p.isCompleteForPath(t))return JI(n,e,t,p.getNode().getChild(t),r,s,h,c);if(On(t)){let _=new $i(null);return p.getNode().forEachChild(td,(T,S)=>{_=_.set(new Ci(T),S)}),X1(n,e,t,_,r,s,h,c)}return e}{let _=new $i(null);return i.foreach((T,S)=>{const P=dr(t,T);p.isCompleteForPath(P)&&(_=_.set(T,p.getNode().getChild(P)))}),X1(n,e,t,_,r,s,h,c)}}(n,e,_.path,_.affectedTree,i,r,s)}else{if(t.type!==tc.LISTEN_COMPLETE)throw(0,j.g5)("Unknown operation type: "+t.type);c=function Sz(n,e,t,i,r){const s=e.serverCache;return r2(n,WL(e,s.getNode(),s.isFullyInitialized()||On(t),s.isFiltered()),t,i,n2,r)}(n,e,t.path,i,s)}const p=s.getChanges();return function Tz(n,e,t){const i=e.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),s=ZI(n);(t.length>0||!n.eventCache.isFullyInitialized()||r&&!i.getNode().equals(s)||!i.getNode().getPriority().equals(s.getPriority()))&&t.push(GL(ZI(e)))}}(e,c,p),{viewCache:c,changes:p}}(n.processor_,r,e,t,i);return function Cz(n,e){(0,j.hu)(e.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,j.hu)(e.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,s.viewCache),(0,j.hu)(s.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=s.viewCache,u2(n,s.changes,s.viewCache.eventCache.getNode(),null)}function u2(n,e,t,i){return function tz(n,e,t,i){const r=[],s=[];return e.forEach(c=>{"child_changed"===c.type&&n.index_.indexedValueChanged(c.oldSnap,c.snapshotNode)&&s.push(function H$(n,e){return{type:"child_moved",snapshotNode:e,childName:n}}(c.childName,c.snapshotNode))}),nC(n,r,"child_removed",e,i,t),nC(n,r,"child_added",e,i,t),nC(n,r,"child_moved",s,i,t),nC(n,r,"child_changed",e,i,t),nC(n,r,"value",e,i,t),r}(n.eventGenerator_,e,t,i?[i]:n.eventRegistrations_)}let XI,tS;class d2{constructor(){this.views=new Map}}function eR(n,e,t,i){const r=e.source.queryId;if(null!==r){const s=n.views.get(r);return(0,j.hu)(null!=s,"SyncTree gave us an op for an invalid query."),c2(s,e,t,i)}{let s=[];for(const c of n.views.values())s=s.concat(c2(c,e,t,i));return s}}function h2(n,e,t,i,r){const c=n.views.get(e._queryIdentifier);if(!c){let h=KI(t,r?i:null),p=!1;h?p=!0:i instanceof wn?(h=Y1(t,i),p=!1):(h=wn.EMPTY_NODE,p=!1);const _=WI(new Qf(h,p,!1),new Qf(i,r,!1));return new Mz(e,_)}return c}function f2(n){const e=[];for(const t of n.views.values())t.query._queryParams.loadsAllData()||e.push(t);return e}function Xf(n,e){let t=null;for(const i of n.views.values())t=t||Rz(i,e);return t}function p2(n,e){return e._queryParams.loadsAllData()?eS(n):n.views.get(e._queryIdentifier)}function m2(n,e){return null!=p2(n,e)}function ep(n){return null!=eS(n)}function eS(n){for(const e of n.views.values())if(e.query._queryParams.loadsAllData())return e;return null}let jz=1;class g2{constructor(e){this.listenProvider_=e,this.syncPointTree_=new $i(null),this.pendingWriteTree_=function _z(){return{visibleWrites:iu.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function tR(n,e,t,i,r){return function sz(n,e,t,i,r){(0,j.hu)(i>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),n.allWrites.push({path:e,snap:t,writeId:i,visible:r}),r&&(n.visibleWrites=rC(n.visibleWrites,e,t)),n.lastWriteId=i}(n.pendingWriteTree_,e,t,i,r),r?av(n,new Eg({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,t)):[]}function tp(n,e,t=!1){const i=function az(n,e){for(let t=0;t<n.allWrites.length;t++){const i=n.allWrites[t];if(i.writeId===e)return i}return null}(n.pendingWriteTree_,e);if(function lz(n,e){const t=n.allWrites.findIndex(h=>h.writeId===e);(0,j.hu)(t>=0,"removeWrite called with nonexistent writeId.");const i=n.allWrites[t];n.allWrites.splice(t,1);let r=i.visible,s=!1,c=n.allWrites.length-1;for(;r&&c>=0;){const h=n.allWrites[c];h.visible&&(c>=t&&cz(h,i.path)?r=!1:ec(i.path,h.path)&&(s=!0)),c--}return!!r&&(s?(function uz(n){n.visibleWrites=QL(n.allWrites,dz,hi()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(i.snap?n.visibleWrites=ZL(n.visibleWrites,i.path):Zs(i.children,p=>{n.visibleWrites=ZL(n.visibleWrites,dr(i.path,p))}),!0))}(n.pendingWriteTree_,e)){let s=new $i(null);return null!=i.snap?s=s.set(hi(),!0):Zs(i.children,c=>{s=s.set(new Ci(c),!0)}),av(n,new qI(i.path,s,t))}return[]}function sC(n,e,t){return av(n,new Eg({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,t))}function nR(n,e,t,i){const r=e._path,s=n.syncPointTree_.get(r);let c=[];if(s&&("default"===e._queryIdentifier||m2(s,e))){const h=function Bz(n,e,t,i){const r=e._queryIdentifier,s=[];let c=[];const h=ep(n);if("default"===r)for(const[p,_]of n.views.entries())c=c.concat(l2(_,t,i)),a2(_)&&(n.views.delete(p),_.query._queryParams.loadsAllData()||s.push(_.query));else{const p=n.views.get(r);p&&(c=c.concat(l2(p,t,i)),a2(p)&&(n.views.delete(r),p.query._queryParams.loadsAllData()||s.push(p.query)))}return h&&!ep(n)&&s.push(new(function Fz(){return(0,j.hu)(XI,"Reference.ts has not been loaded"),XI}())(e._repo,e._path)),{removed:s,events:c}}(s,e,t,i);(function Lz(n){return 0===n.views.size})(s)&&(n.syncPointTree_=n.syncPointTree_.remove(r));const p=h.removed;c=h.events;const _=-1!==p.findIndex(S=>S._queryParams.loadsAllData()),T=n.syncPointTree_.findOnPath(r,(S,P)=>ep(P));if(_&&!T){const S=n.syncPointTree_.subtree(r);if(!S.isEmpty()){const P=function Kz(n){return n.fold((e,t,i)=>{if(t&&ep(t))return[eS(t)];{let r=[];return t&&(r=f2(t)),Zs(i,(s,c)=>{r=r.concat(c)}),r}})}(S);for(let H=0;H<P.length;++H){const q=P[H],ae=q.query,Ce=b2(n,q);n.listenProvider_.startListening(oC(ae),iS(n,ae),Ce.hashFn,Ce.onComplete)}}}!T&&p.length>0&&!i&&(_?n.listenProvider_.stopListening(oC(e),null):p.forEach(S=>{const P=n.queryToTagMap.get(rS(S));n.listenProvider_.stopListening(oC(S),P)})),function Qz(n,e){for(let t=0;t<e.length;++t){const i=e[t];if(!i._queryParams.loadsAllData()){const r=rS(i),s=n.queryToTagMap.get(r);n.queryToTagMap.delete(r),n.tagToQueryMap.delete(s)}}}(n,p)}return c}function _2(n,e,t){const i=e._path;let r=null,s=!1;n.syncPointTree_.foreachOnPath(i,(S,P)=>{const H=ya(S,i);r=r||Xf(P,H),s=s||ep(P)});let h,c=n.syncPointTree_.get(i);c?(s=s||ep(c),r=r||Xf(c,hi())):(c=new d2,n.syncPointTree_=n.syncPointTree_.set(i,c)),null!=r?h=!0:(h=!1,r=wn.EMPTY_NODE,n.syncPointTree_.subtree(i).foreachChild((P,H)=>{const q=Xf(H,hi());q&&(r=r.updateImmediateChild(P,q))}));const p=m2(c,e);if(!p&&!e._queryParams.loadsAllData()){const S=rS(e);(0,j.hu)(!n.queryToTagMap.has(S),"View does not exist, but we have a tag");const P=function Jz(){return jz++}();n.queryToTagMap.set(S,P),n.tagToQueryMap.set(P,S)}let T=function Vz(n,e,t,i,r,s){const c=h2(n,e,i,r,s);return n.views.has(e._queryIdentifier)||n.views.set(e._queryIdentifier,c),function Oz(n,e){n.eventRegistrations_.push(e)}(c,t),function Nz(n,e){const t=n.viewCache_.eventCache,i=[];return t.getNode().isLeafNode()||t.getNode().forEachChild(Gi,(s,c)=>{i.push(iv(s,c))}),t.isFullyInitialized()&&i.push(GL(t.getNode())),u2(n,i,t.getNode(),e)}(c,t)}(c,e,t,YI(n.pendingWriteTree_,i),r,h);if(!p&&!s){const S=p2(c,e);T=T.concat(function Xz(n,e,t){const i=e._path,r=iS(n,e),s=b2(n,t),c=n.listenProvider_.startListening(oC(e),r,s.hashFn,s.onComplete),h=n.syncPointTree_.subtree(i);if(r)(0,j.hu)(!ep(h.value),"If we're adding a query, it shouldn't be shadowed");else{const p=h.fold((_,T,S)=>{if(!On(_)&&T&&ep(T))return[eS(T).query];{let P=[];return T&&(P=P.concat(f2(T).map(H=>H.query))),Zs(S,(H,q)=>{P=P.concat(q)}),P}});for(let _=0;_<p.length;++_){const T=p[_];n.listenProvider_.stopListening(oC(T),iS(n,T))}}return c}(n,e,S))}return T}function nS(n,e,t){const r=n.pendingWriteTree_,s=n.syncPointTree_.findOnPath(e,(c,h)=>{const _=Xf(h,ya(c,e));if(_)return _});return JL(r,e,s,t,!0)}function av(n,e){return y2(e,n.syncPointTree_,null,YI(n.pendingWriteTree_,hi()))}function y2(n,e,t,i){if(On(n.path))return v2(n,e,t,i);{const r=e.get(hi());null==t&&null!=r&&(t=Xf(r,hi()));let s=[];const c=Rn(n.path),h=n.operationForChild(c),p=e.children.get(c);if(p&&h){const _=t?t.getImmediateChild(c):null,T=e2(i,c);s=s.concat(y2(h,p,_,T))}return r&&(s=s.concat(eR(r,n,i,t))),s}}function v2(n,e,t,i){const r=e.get(hi());null==t&&null!=r&&(t=Xf(r,hi()));let s=[];return e.children.inorderTraversal((c,h)=>{const p=t?t.getImmediateChild(c):null,_=e2(i,c),T=n.operationForChild(c);T&&(s=s.concat(v2(T,h,p,_)))}),r&&(s=s.concat(eR(r,n,i,t))),s}function b2(n,e){const t=e.query,i=iS(n,t);return{hashFn:()=>(function xz(n){return n.viewCache_.serverCache.getNode()}(e)||wn.EMPTY_NODE).hash(),onComplete:r=>{if("ok"===r)return i?function qz(n,e,t){const i=iR(n,t);if(i){const r=rR(i),s=r.path,c=r.queryId,h=ya(s,e);return sR(n,s,new tC($1(c),h))}return[]}(n,t._path,i):function zz(n,e){return av(n,new tC({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e))}(n,t._path);{const s=function GG(n,e){let t="Unknown Error";"too_big"===n?t="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?t="Client doesn't have permission to access the desired data.":"unavailable"===n&&(t="The service is unavailable");const i=new Error(n+" at "+e._path.toString()+": "+t);return i.code=n.toUpperCase(),i}(r,t);return nR(n,t,null,s)}}}}function iS(n,e){const t=rS(e);return n.queryToTagMap.get(t)}function rS(n){return n._path.toString()+"$"+n._queryIdentifier}function iR(n,e){return n.tagToQueryMap.get(e)}function rR(n){const e=n.indexOf("$");return(0,j.hu)(-1!==e&&e<n.length-1,"Bad queryKey."),{queryId:n.substr(e+1),path:new Ci(n.substr(0,e))}}function sR(n,e,t){const i=n.syncPointTree_.get(e);return(0,j.hu)(i,"Missing sync point for query tag that we're tracking"),eR(i,t,YI(n.pendingWriteTree_,e),null)}function oC(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(function Hz(){return(0,j.hu)(tS,"Reference.ts has not been loaded"),tS}())(n._repo,n._path):n}class oR{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new oR(t)}node(){return this.node_}}class aR{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=dr(this.path_,e);return new aR(this.syncTree_,t)}node(){return nS(this.syncTree_,this.path_)}}const w2=function(n,e,t){return n&&"object"==typeof n?((0,j.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?t4(n[".sv"],e,t):"object"==typeof n[".sv"]?n4(n[".sv"],e):void(0,j.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},t4=function(n,e,t){if("timestamp"===n)return t.timestamp;(0,j.hu)(!1,"Unexpected server value: "+n)},n4=function(n,e,t){n.hasOwnProperty("increment")||(0,j.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const i=n.increment;"number"!=typeof i&&(0,j.hu)(!1,"Unexpected increment value: "+i);const r=e.node();if((0,j.hu)(null!=r,"Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const c=r.getValue();return"number"!=typeof c?i:c+i},C2=function(n,e,t,i){return cR(e,new aR(t,n),i)},lR=function(n,e,t){return cR(n,new oR(e),t)};function cR(n,e,t){const i=n.getPriority().val(),r=w2(i,e.getImmediateChild(".priority"),t);let s;if(n.isLeafNode()){const c=n,h=w2(c.getValue(),e,t);return h!==c.getValue()||r!==c.getPriority().val()?new ev(h,Dr(r)):n}{const c=n;return s=c,r!==c.getPriority().val()&&(s=s.updatePriority(new ev(r))),c.forEachChild(Gi,(h,p)=>{const _=cR(p,e.getImmediateChild(h),t);_!==p&&(s=s.updateImmediateChild(h,_))}),s}}class uR{constructor(e="",t=null,i={children:{},childCount:0}){this.name=e,this.parent=t,this.node=i}}function sS(n,e){let t=e instanceof Ci?e:new Ci(e),i=n,r=Rn(t);for(;null!==r;){const s=(0,j.DV)(i.node.children,r)||{children:{},childCount:0};i=new uR(r,i,s),t=Vi(t),r=Rn(t)}return i}function Ig(n){return n.node.value}function dR(n,e){n.node.value=e,hR(n)}function E2(n){return n.node.childCount>0}function oS(n,e){Zs(n.node.children,(t,i)=>{e(new uR(t,n,i))})}function T2(n,e,t,i){t&&!i&&e(n),oS(n,r=>{T2(r,e,!0,i)}),t&&i&&e(n)}function aC(n){return new Ci(null===n.parent?n.name:aC(n.parent)+"/"+n.name)}function hR(n){null!==n.parent&&function s4(n,e,t){const i=function i4(n){return void 0===Ig(n)&&!E2(n)}(t),r=(0,j.r3)(n.node.children,e);i&&r?(delete n.node.children[e],n.node.childCount--,hR(n)):!i&&!r&&(n.node.children[e]=t.node,n.node.childCount++,hR(n))}(n.parent,n.name,n)}const o4=/[\[\].#$\/\u0000-\u001F\u007F]/,a4=/[\[\].#$\u0000-\u001F\u007F]/,fR=10485760,aS=function(n){return"string"==typeof n&&0!==n.length&&!o4.test(n)},D2=function(n){return"string"==typeof n&&0!==n.length&&!a4.test(n)},lC=function(n){return null===n||"string"==typeof n||"number"==typeof n&&!NI(n)||n&&"object"==typeof n&&(0,j.r3)(n,".sv")},nd=function(n,e,t,i){i&&void 0===e||cC((0,j.gK)(n,"value"),e,t)},cC=function(n,e,t){const i=t instanceof Ci?new w$(t,n):t;if(void 0===e)throw new Error(n+"contains undefined "+wg(i));if("function"==typeof e)throw new Error(n+"contains a function "+wg(i)+" with contents = "+e.toString());if(NI(e))throw new Error(n+"contains "+e.toString()+" "+wg(i));if("string"==typeof e&&e.length>fR/3&&(0,j.ug)(e)>fR)throw new Error(n+"contains a string greater than "+fR+" utf8 bytes "+wg(i)+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){let r=!1,s=!1;if(Zs(e,(c,h)=>{if(".value"===c)r=!0;else if(".priority"!==c&&".sv"!==c&&(s=!0,!aS(c)))throw new Error(n+" contains an invalid key ("+c+") "+wg(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function C$(n,e){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(e),n.byteLength_+=(0,j.ug)(e),xL(n)})(i,c),cC(n,h,i),function E$(n){const e=n.parts_.pop();n.byteLength_-=(0,j.ug)(e),n.parts_.length>0&&(n.byteLength_-=1)}(i)}),r&&s)throw new Error(n+' contains ".value" child '+wg(i)+" in addition to actual children.")}},I2=function(n,e,t,i){if(i&&void 0===e)return;const r=(0,j.gK)(n,"values");if(!e||"object"!=typeof e||Array.isArray(e))throw new Error(r+" must be an object containing the children to replace.");const s=[];Zs(e,(c,h)=>{const p=new Ci(c);if(cC(r,h,dr(t,p)),".priority"===A1(p)&&!lC(h))throw new Error(r+"contains an invalid value for '"+p.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(p)}),function(n,e){let t,i;for(t=0;t<e.length;t++){i=e[t];const s=Zw(i);for(let c=0;c<s.length;c++)if((".priority"!==s[c]||c!==s.length-1)&&!aS(s[c]))throw new Error(n+"contains an invalid key ("+s[c]+") in path "+i.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}e.sort(b$);let r=null;for(t=0;t<e.length;t++){if(i=e[t],null!==r&&ec(r,i))throw new Error(n+"contains a path "+r.toString()+" that is ancestor of another path "+i.toString());r=i}}(r,s)},pR=function(n,e,t){if(!t||void 0!==e){if(NI(e))throw new Error((0,j.gK)(n,"priority")+"is "+e.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!lC(e))throw new Error((0,j.gK)(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},uC=function(n,e,t,i){if(!(i&&void 0===t||aS(t)))throw new Error((0,j.gK)(n,e)+'was an invalid key = "'+t+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},dC=function(n,e,t,i){if(!(i&&void 0===t||D2(t)))throw new Error((0,j.gK)(n,e)+'was an invalid path = "'+t+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},nc=function(n,e){if(".info"===Rn(e))throw new Error(n+" failed = Can't modify data under /.info/")},S2=function(n,e){const t=e.path.toString();if("string"!=typeof e.repoInfo.host||0===e.repoInfo.host.length||!aS(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==t.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),D2(n)}(t))throw new Error((0,j.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class d4{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function lS(n,e){let t=null;for(let i=0;i<e.length;i++){const r=e[i],s=r.getPath();null!==t&&!M1(s,t.path)&&(n.eventLists_.push(t),t=null),null===t&&(t={events:[],path:s}),t.events.push(r)}t&&n.eventLists_.push(t)}function mR(n,e,t){lS(n,t),A2(n,i=>M1(i,e))}function ic(n,e,t){lS(n,t),A2(n,i=>ec(i,e)||ec(e,i))}function A2(n,e){n.recursionDepth_++;let t=!0;for(let i=0;i<n.eventLists_.length;i++){const r=n.eventLists_[i];r&&(e(r.path)?(h4(n.eventLists_[i]),n.eventLists_[i]=null):t=!1)}t&&(n.eventLists_=[]),n.recursionDepth_--}function h4(n){for(let e=0;e<n.events.length;e++){const t=n.events[e];if(null!==t){n.events[e]=null;const i=t.getEventRunner();vg&&Ws("event: "+t.toString()),Jy(i)}}}const M2="repo_interrupt";class p4{constructor(e,t,i,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new d4,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=zI(),this.transactionQueueTree_=new uR,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function x2(n){const t=n.infoData_.getNode(new Ci(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function hC(n){return function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n}({timestamp:x2(n)})}function k2(n,e,t,i,r){n.dataUpdateCount++;const s=new Ci(e);t=n.interceptServerDataCallback_?n.interceptServerDataCallback_(e,t):t;let c=[];if(r)if(i){const p=(0,j.UI)(t,_=>Dr(_));c=function Zz(n,e,t,i){const r=iR(n,i);if(r){const s=rR(r),c=s.path,h=s.queryId,p=ya(c,e),_=$i.fromObject(t);return sR(n,c,new sv($1(h),p,_))}return[]}(n.serverSyncTree_,s,p,r)}else{const p=Dr(t);c=function Wz(n,e,t,i){const r=iR(n,i);if(null!=r){const s=rR(r),c=s.path,h=s.queryId,p=ya(c,e);return sR(n,c,new Eg($1(h),p,t))}return[]}(n.serverSyncTree_,s,p,r)}else if(i){const p=(0,j.UI)(t,_=>Dr(_));c=function $z(n,e,t){const i=$i.fromObject(t);return av(n,new sv({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,i))}(n.serverSyncTree_,s,p)}else{const p=Dr(t);c=sC(n.serverSyncTree_,s,p)}let h=s;c.length>0&&(h=cv(n,s)),ic(n.eventQueue_,h,c)}function R2(n,e){gR(n,"connected",e),!1===e&&function v4(n){lv(n,"onDisconnectEvents");const e=hC(n),t=zI();H1(n.onDisconnect_,hi(),(r,s)=>{const c=C2(r,s,n.serverSyncTree_,e);rv(t,r,c)});let i=[];H1(t,hi(),(r,s)=>{i=i.concat(sC(n.serverSyncTree_,r,s));const c=bR(n,r);cv(n,c)}),n.onDisconnect_=zI(),ic(n.eventQueue_,hi(),i)}(n)}function gR(n,e,t){const i=new Ci("/.info/"+e),r=Dr(t);n.infoData_.updateSnapshot(i,r);const s=sC(n.infoSyncTree_,i,r);ic(n.eventQueue_,i,s)}function cS(n){return n.nextWriteId_++}function _R(n,e,t,i,r){lv(n,"set",{path:e.toString(),value:t,priority:i});const s=hC(n),c=Dr(t,i),h=nS(n.serverSyncTree_,e),p=lR(c,h,s),_=cS(n),T=tR(n.serverSyncTree_,e,p,_,!0);lS(n.eventQueue_,T),n.server_.put(e.toString(),c.val(!0),(P,H)=>{const q="ok"===P;q||_a("set at "+e+" failed: "+P);const ae=tp(n.serverSyncTree_,_,!q);ic(n.eventQueue_,e,ae),np(0,r,P,H)});const S=bR(n,e);cv(n,S),ic(n.eventQueue_,S,[])}function b4(n,e,t){n.server_.onDisconnectCancel(e.toString(),(i,r)=>{"ok"===i&&U1(n.onDisconnect_,e),np(0,t,i,r)})}function O2(n,e,t,i){const r=Dr(t);n.server_.onDisconnectPut(e.toString(),r.val(!0),(s,c)=>{"ok"===s&&rv(n.onDisconnect_,e,r),np(0,i,s,c)})}function yR(n,e,t){let i;i=".info"===Rn(e._path)?nR(n.infoSyncTree_,e,t):nR(n.serverSyncTree_,e,t),mR(n.eventQueue_,e._path,i)}function N2(n){n.persistentConnection_&&n.persistentConnection_.interrupt(M2)}function lv(n,...e){let t="";n.persistentConnection_&&(t=n.persistentConnection_.id+":"),Ws(t,...e)}function np(n,e,t,i){e&&Jy(()=>{if("ok"===t)e(null);else{const r=(t||"error").toUpperCase();let s=r;i&&(s+=": "+i);const c=new Error(s);c.code=r,e(c)}})}function vR(n,e,t){return nS(n.serverSyncTree_,e,t)||wn.EMPTY_NODE}function uS(n,e=n.transactionQueueTree_){if(e||dS(n,e),Ig(e)){const t=F2(n,e);(0,j.hu)(t.length>0,"Sending zero length transaction queue"),t.every(r=>0===r.status)&&function I4(n,e,t){const i=t.map(_=>_.currentWriteId),r=vR(n,e,i);let s=r;const c=r.hash();for(let _=0;_<t.length;_++){const T=t[_];(0,j.hu)(0===T.status,"tryToSendTransactionQueue_: items in queue should all be run."),T.status=1,T.retryCount++;const S=ya(e,T.path);s=s.updateChild(S,T.currentOutputSnapshotRaw)}const h=s.val(!0),p=e;n.server_.put(p.toString(),h,_=>{lv(n,"transaction put response",{path:p.toString(),status:_});let T=[];if("ok"===_){const S=[];for(let P=0;P<t.length;P++)t[P].status=2,T=T.concat(tp(n.serverSyncTree_,t[P].currentWriteId)),t[P].onComplete&&S.push(()=>t[P].onComplete(null,!0,t[P].currentOutputSnapshotResolved)),t[P].unwatcher();dS(n,sS(n.transactionQueueTree_,e)),uS(n,n.transactionQueueTree_),ic(n.eventQueue_,e,T);for(let P=0;P<S.length;P++)Jy(S[P])}else{if("datastale"===_)for(let S=0;S<t.length;S++)t[S].status=3===t[S].status?4:0;else{_a("transaction at "+p.toString()+" failed: "+_);for(let S=0;S<t.length;S++)t[S].status=4,t[S].abortReason=_}cv(n,e)}},c)}(n,aC(e),t)}else E2(e)&&oS(e,t=>{uS(n,t)})}function cv(n,e){const t=P2(n,e),i=aC(t);return function S4(n,e,t){if(0===e.length)return;const i=[];let r=[];const c=e.filter(h=>0===h.status).map(h=>h.currentWriteId);for(let h=0;h<e.length;h++){const p=e[h],_=ya(t,p.path);let S,T=!1;if((0,j.hu)(null!==_,"rerunTransactionsUnderNode_: relativePath should not be null."),4===p.status)T=!0,S=p.abortReason,r=r.concat(tp(n.serverSyncTree_,p.currentWriteId,!0));else if(0===p.status)if(p.retryCount>=25)T=!0,S="maxretry",r=r.concat(tp(n.serverSyncTree_,p.currentWriteId,!0));else{const P=vR(n,p.path,c);p.currentInputSnapshot=P;const H=e[h].update(P.val());if(void 0!==H){cC("transaction failed: Data returned ",H,p.path);let q=Dr(H);"object"==typeof H&&null!=H&&(0,j.r3)(H,".priority")||(q=q.updatePriority(P.getPriority()));const Ce=p.currentWriteId,pt=hC(n),_t=lR(q,P,pt);p.currentOutputSnapshotRaw=q,p.currentOutputSnapshotResolved=_t,p.currentWriteId=cS(n),c.splice(c.indexOf(Ce),1),r=r.concat(tR(n.serverSyncTree_,p.path,_t,p.currentWriteId,p.applyLocally)),r=r.concat(tp(n.serverSyncTree_,Ce,!0))}else T=!0,S="nodata",r=r.concat(tp(n.serverSyncTree_,p.currentWriteId,!0))}ic(n.eventQueue_,t,r),r=[],T&&(e[h].status=2,setTimeout(e[h].unwatcher,Math.floor(0)),e[h].onComplete&&i.push("nodata"===S?()=>e[h].onComplete(null,!1,e[h].currentInputSnapshot):()=>e[h].onComplete(new Error(S),!1,null)))}dS(n,n.transactionQueueTree_);for(let h=0;h<i.length;h++)Jy(i[h]);uS(n,n.transactionQueueTree_)}(n,F2(n,t),i),i}function P2(n,e){let t,i=n.transactionQueueTree_;for(t=Rn(e);null!==t&&void 0===Ig(i);)i=sS(i,t),t=Rn(e=Vi(e));return i}function F2(n,e){const t=[];return L2(n,e,t),t.sort((i,r)=>i.order-r.order),t}function L2(n,e,t){const i=Ig(e);if(i)for(let r=0;r<i.length;r++)t.push(i[r]);oS(e,r=>{L2(n,r,t)})}function dS(n,e){const t=Ig(e);if(t){let i=0;for(let r=0;r<t.length;r++)2!==t[r].status&&(t[i]=t[r],i++);t.length=i,dR(e,t.length>0?t:void 0)}oS(e,i=>{dS(n,i)})}function bR(n,e){const t=aC(P2(n,e)),i=sS(n.transactionQueueTree_,e);return function r4(n,e,t){let i=t?n:n.parent;for(;null!==i;){if(e(i))return!0;i=i.parent}}(i,r=>{wR(n,r)}),wR(n,i),T2(i,r=>{wR(n,r)}),t}function wR(n,e){const t=Ig(e);if(t){const i=[];let r=[],s=-1;for(let c=0;c<t.length;c++)3===t[c].status||(1===t[c].status?((0,j.hu)(s===c-1,"All SENT items should be at beginning of queue."),s=c,t[c].status=3,t[c].abortReason="set"):((0,j.hu)(0===t[c].status,"Unexpected transaction status in abort"),t[c].unwatcher(),r=r.concat(tp(n.serverSyncTree_,t[c].currentWriteId,!0)),t[c].onComplete&&i.push(t[c].onComplete.bind(null,new Error("set"),!1,null))));-1===s?dR(e,void 0):t.length=s+1,ic(n.eventQueue_,aC(e),r);for(let c=0;c<i.length;c++)Jy(i[c])}}const CR=function(n,e){const t=x4(n),i=t.namespace;return"firebase.com"===t.domain&&Xu(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||"undefined"===i)&&"localhost"!==t.domain&&Xu("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&_a("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new w1(t.host,t.secure,i,"ws"===t.scheme||"wss"===t.scheme,e,"",i!==t.subdomain),path:new Ci(t.pathString)}},x4=function(n){let e="",t="",i="",r="",s="",c=!0,h="https",p=443;if("string"==typeof n){let _=n.indexOf("//");_>=0&&(h=n.substring(0,_-1),n=n.substring(_+2));let T=n.indexOf("/");-1===T&&(T=n.length);let S=n.indexOf("?");-1===S&&(S=n.length),e=n.substring(0,Math.min(T,S)),T<S&&(r=function A4(n){let e="";const t=n.split("/");for(let i=0;i<t.length;i++)if(t[i].length>0){let r=t[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch(s){}e+="/"+r}return e}(n.substring(T,S)));const P=function M4(n){const e={};"?"===n.charAt(0)&&(n=n.substring(1));for(const t of n.split("&")){if(0===t.length)continue;const i=t.split("=");2===i.length?e[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):_a(`Invalid query segment '${t}' in query '${n}'`)}return e}(n.substring(Math.min(n.length,S)));_=e.indexOf(":"),_>=0?(c="https"===h||"wss"===h,p=parseInt(e.substring(_+1),10)):_=e.length;const H=e.slice(0,_);if("localhost"===H.toLowerCase())t="localhost";else if(H.split(".").length<=2)t=H;else{const q=e.indexOf(".");i=e.substring(0,q).toLowerCase(),t=e.substring(q+1),s=i}"ns"in P&&(s=P.ns)}return{host:e,port:p,domain:t,subdomain:i,secure:c,scheme:h,pathString:r,namespace:s}};class V2{constructor(e,t,i,r){this.eventType=e,this.eventRegistration=t,this.snapshot=i,this.prevName=r}getPath(){const e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,j.Pz)(this.snapshot.exportVal())}}class B2{constructor(e,t,i){this.eventRegistration=e,this.error=t,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class U2{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return(0,j.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}class H2{constructor(e,t){this._repo=e,this._path=t}cancel(){const e=new j.BH;return b4(this._repo,this._path,e.wrapCallback(()=>{})),e.promise}remove(){nc("OnDisconnect.remove",this._path);const e=new j.BH;return O2(this._repo,this._path,null,e.wrapCallback(()=>{})),e.promise}set(e){nc("OnDisconnect.set",this._path),nd("OnDisconnect.set",e,this._path,!1);const t=new j.BH;return O2(this._repo,this._path,e,t.wrapCallback(()=>{})),t.promise}setWithPriority(e,t){nc("OnDisconnect.setWithPriority",this._path),nd("OnDisconnect.setWithPriority",e,this._path,!1),pR("OnDisconnect.setWithPriority",t,!1);const i=new j.BH;return function w4(n,e,t,i,r){const s=Dr(t,i);n.server_.onDisconnectPut(e.toString(),s.val(!0),(c,h)=>{"ok"===c&&rv(n.onDisconnect_,e,s),np(0,r,c,h)})}(this._repo,this._path,e,t,i.wrapCallback(()=>{})),i.promise}update(e){nc("OnDisconnect.update",this._path),I2("OnDisconnect.update",e,this._path,!1);const t=new j.BH;return function C4(n,e,t,i){if((0,j.xb)(t))return Ws("onDisconnect().update() called with empty data.  Don't do anything."),void np(0,i,"ok",void 0);n.server_.onDisconnectMerge(e.toString(),t,(r,s)=>{"ok"===r&&Zs(t,(c,h)=>{const p=Dr(h);rv(n.onDisconnect_,dr(e,c),p)}),np(0,i,r,s)})}(this._repo,this._path,e,t.wrapCallback(()=>{})),t.promise}}class Ha{constructor(e,t,i,r){this._repo=e,this._path=t,this._queryParams=i,this._orderByCalled=r}get key(){return On(this._path)?null:A1(this._path)}get ref(){return new rc(this._repo,this._path)}get _queryIdentifier(){const e=zL(this._queryParams),t=y1(e);return"{}"===t?"default":t}get _queryObject(){return zL(this._queryParams)}isEqual(e){if(!((e=(0,j.m9)(e))instanceof Ha))return!1;const t=this._repo===e._repo,i=M1(this._path,e._path);return t&&i&&this._queryIdentifier===e._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function v$(n){let e="";for(let t=n.pieceNum_;t<n.pieces_.length;t++)""!==n.pieces_[t]&&(e+="/"+encodeURIComponent(String(n.pieces_[t])));return e||"/"}(this._path)}}function hS(n,e){if(!0===n._orderByCalled)throw new Error(e+": You can't combine multiple orderBy calls.")}function ip(n){let e=null,t=null;if(n.hasStart()&&(e=n.getIndexStartValue()),n.hasEnd()&&(t=n.getIndexEndValue()),n.getIndex()===td){const i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",r="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==mh)throw new Error(i);if("string"!=typeof e)throw new Error(r)}if(n.hasEnd()){if(n.getIndexEndName()!==ed)throw new Error(i);if("string"!=typeof t)throw new Error(r)}}else if(n.getIndex()===Gi){if(null!=e&&!lC(e)||null!=t&&!lC(t))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,j.hu)(n.getIndex()instanceof N1||n.getIndex()===P1,"unknown index type."),null!=e&&"object"==typeof e||null!=t&&"object"==typeof t)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function fS(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class rc extends Ha{constructor(e,t){super(e,t,new jI,!1)}get parent(){const e=ML(this._path);return null===e?null:new rc(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}class Sg{constructor(e,t,i){this._node=e,this.ref=t,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const t=new Ci(e),i=Ag(this.ref,e);return new Sg(this._node.getChild(t),i,Gi)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(i,r)=>e(new Sg(r,Ag(this.ref,i),Gi)))}hasChild(e){const t=new Ci(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function j2(n,e){return(n=(0,j.m9)(n))._checkNotDeleted("ref"),void 0!==e?Ag(n._root,e):n._root}function G2(n,e){(n=(0,j.m9)(n))._checkNotDeleted("refFromURL");const t=CR(e,n._repo.repoInfo_.nodeAdmin);S2("refFromURL",t);const i=t.repoInfo;return!n._repo.repoInfo_.isCustomHost()&&i.host!==n._repo.repoInfo_.host&&Xu("refFromURL: Host name does not match the current database: (found "+i.host+" but expected "+n._repo.repoInfo_.host+")"),j2(n,t.path.toString())}function Ag(n,e){return null===Rn((n=(0,j.m9)(n))._path)?(t=e,t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),dC("child","path",t,!1)):dC("child","path",e,!1),new rc(n._repo,dr(n._path,e));var t}function ER(n,e){n=(0,j.m9)(n),nc("set",n._path),nd("set",e,n._path,!1);const t=new j.BH;return _R(n._repo,n._path,e,null,t.wrapCallback(()=>{})),t.promise}function P4(n,e){I2("update",e,n._path,!1);const t=new j.BH;return function y4(n,e,t,i){lv(n,"update",{path:e.toString(),value:t});let r=!0;const s=hC(n),c={};if(Zs(t,(h,p)=>{r=!1,c[h]=C2(dr(e,h),Dr(p),n.serverSyncTree_,s)}),r)Ws("update() called with empty data.  Don't do anything."),np(0,i,"ok",void 0);else{const h=cS(n),p=function Gz(n,e,t,i){!function oz(n,e,t,i){(0,j.hu)(i>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:e,children:t,writeId:i,visible:!0}),n.visibleWrites=q1(n.visibleWrites,e,t),n.lastWriteId=i}(n.pendingWriteTree_,e,t,i);const r=$i.fromObject(t);return av(n,new sv({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,r))}(n.serverSyncTree_,e,c,h);lS(n.eventQueue_,p),n.server_.merge(e.toString(),t,(_,T)=>{const S="ok"===_;S||_a("update at "+e+" failed: "+_);const P=tp(n.serverSyncTree_,h,!S),H=P.length>0?cv(n,e):e;ic(n.eventQueue_,H,P),np(0,i,_,T)}),Zs(t,_=>{const T=bR(n,dr(e,_));cv(n,T)}),ic(n.eventQueue_,e,[])}}(n._repo,n._path,e,t.wrapCallback(()=>{})),t.promise}function F4(n){return function _4(n,e){const t=function Yz(n,e){const t=e._path;let i=null;n.syncPointTree_.foreachOnPath(t,(_,T)=>{const S=ya(_,t);i=i||Xf(T,S)});let r=n.syncPointTree_.get(t);r?i=i||Xf(r,hi()):(r=new d2,n.syncPointTree_=n.syncPointTree_.set(t,r));const s=null!=i,c=s?new Qf(i,!0,!1):null;return function kz(n){return ZI(n.viewCache_)}(h2(r,e,YI(n.pendingWriteTree_,e._path),s?c.getNode():wn.EMPTY_NODE,s))}(n.serverSyncTree_,e);return null!=t?Promise.resolve(t):n.server_.get(e).then(i=>{const r=Dr(i).withIndex(e._queryParams.getIndex()),s=sC(n.serverSyncTree_,e._path,r);return mR(n.eventQueue_,e._path,s),Promise.resolve(r)},i=>(lv(n,"get for query "+(0,j.Pz)(e)+" failed: "+i),Promise.reject(new Error(i))))}((n=(0,j.m9)(n))._repo,n).then(e=>new Sg(e,new rc(n._repo,n._path),n._queryParams.getIndex()))}class pS{constructor(e){this.callbackContext=e}respondsTo(e){return"value"===e}createEvent(e,t){const i=t._queryParams.getIndex();return new V2("value",this,new Sg(e.snapshotNode,new rc(t._repo,t._path),i))}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new B2(this,e,t):null}matches(e){return e instanceof pS&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class mS{constructor(e,t){this.eventType=e,this.callbackContext=t}respondsTo(e){let t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new B2(this,e,t):null}createEvent(e,t){(0,j.hu)(null!=e.childName,"Child events should have a childName.");const i=Ag(new rc(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new V2(e.type,this,new Sg(e.snapshotNode,i,r),e.prevName)}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof mS&&this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function fC(n,e,t,i,r){let s;if("object"==typeof i&&(s=void 0,r=i),"function"==typeof i&&(s=i),r&&r.onlyOnce){const p=t,_=(T,S)=>{yR(n._repo,n,h),p(T,S)};_.userCallback=t.userCallback,_.context=t.context,t=_}const c=new U2(t,s||void 0),h="value"===e?new pS(c):new mS(e,c);return function E4(n,e,t){let i;i=".info"===Rn(e._path)?_2(n.infoSyncTree_,e,t):_2(n.serverSyncTree_,e,t),mR(n.eventQueue_,e._path,i)}(n._repo,n,h),()=>yR(n._repo,n,h)}function TR(n,e,t,i){return fC(n,"value",e,t,i)}function $2(n,e,t,i){return fC(n,"child_added",e,t,i)}function z2(n,e,t,i){return fC(n,"child_changed",e,t,i)}function q2(n,e,t,i){return fC(n,"child_moved",e,t,i)}function W2(n,e,t,i){return fC(n,"child_removed",e,t,i)}function Z2(n,e,t){let i=null;const r=t?new U2(t):null;"value"===e?i=new pS(r):e&&(i=new mS(e,r)),yR(n._repo,n,i)}class ru{}class Y2 extends ru{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){nd("endAt",this._value,e._path,!0);const t=B1(e._queryParams,this._value,this._key);if(fS(t),ip(t),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Ha(e._repo,e._path,t,e._orderByCalled)}}class V4 extends ru{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){nd("endBefore",this._value,e._path,!1);const t=function W$(n,e,t){let i,r;return n.index_===td?("string"==typeof e&&(e=jL(e)),r=B1(n,e,t)):(i=null==t?mh:jL(t),r=B1(n,e,i)),r.endBeforeSet_=!0,r}(e._queryParams,this._value,this._key);if(fS(t),ip(t),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Ha(e._repo,e._path,t,e._orderByCalled)}}class K2 extends ru{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){nd("startAt",this._value,e._path,!0);const t=V1(e._queryParams,this._value,this._key);if(fS(t),ip(t),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Ha(e._repo,e._path,t,e._orderByCalled)}}class H4 extends ru{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){nd("startAfter",this._value,e._path,!1);const t=function q$(n,e,t){let i;if(n.index_===td)"string"==typeof e&&(e=HL(e)),i=V1(n,e,t);else{let r;r=null==t?ed:HL(t),i=V1(n,e,r)}return i.startAfterSet_=!0,i}(e._queryParams,this._value,this._key);if(fS(t),ip(t),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Ha(e._repo,e._path,t,e._orderByCalled)}}class G4 extends ru{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Ha(e._repo,e._path,function $$(n,e){const t=n.copy();return t.limitSet_=!0,t.limit_=e,t.viewFrom_="l",t}(e._queryParams,this._limit),e._orderByCalled)}}class z4 extends ru{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Ha(e._repo,e._path,function z$(n,e){const t=n.copy();return t.limitSet_=!0,t.limit_=e,t.viewFrom_="r",t}(e._queryParams,this._limit),e._orderByCalled)}}class W4 extends ru{constructor(e){super(),this._path=e}_apply(e){hS(e,"orderByChild");const t=new Ci(this._path);if(On(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const i=new N1(t),r=GI(e._queryParams,i);return ip(r),new Ha(e._repo,e._path,r,!0)}}class Y4 extends ru{_apply(e){hS(e,"orderByKey");const t=GI(e._queryParams,td);return ip(t),new Ha(e._repo,e._path,t,!0)}}class Q4 extends ru{_apply(e){hS(e,"orderByPriority");const t=GI(e._queryParams,Gi);return ip(t),new Ha(e._repo,e._path,t,!0)}}class X4 extends ru{_apply(e){hS(e,"orderByValue");const t=GI(e._queryParams,P1);return ip(t),new Ha(e._repo,e._path,t,!0)}}class tq extends ru{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){if(nd("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new Y2(this._value,this._key)._apply(new K2(this._value,this._key)._apply(e))}}function su(n,...e){let t=(0,j.m9)(n);for(const i of e)t=i._apply(t);return t}(function Pz(n){(0,j.hu)(!XI,"__referenceConstructor has already been defined"),XI=n})(rc),function Uz(n){(0,j.hu)(!tS,"__referenceConstructor has already been defined"),tS=n}(rc);const DR={};function J2(n,e,t,i,r){let s=i||n.options.databaseURL;void 0===s&&(n.options.projectId||Xu("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Ws("Using default host for project ",n.options.projectId),s=`${n.options.projectId}-default-rtdb.firebaseio.com`);let p,_,c=CR(s,r),h=c.repoInfo;"undefined"!=typeof process&&process.env&&(_=process.env.FIREBASE_DATABASE_EMULATOR_HOST),_?(p=!0,s=`http://${_}?ns=${h.namespace}`,c=CR(s,r),h=c.repoInfo):p=!c.repoInfo.secure;const T=r&&p?new zw(zw.OWNER):new WG(n.name,n.options,e);S2("Invalid Firebase Database URL",c),On(c.path)||Xu("Database URL must point to the root of a Firebase Database (not including a child path).");const S=function oq(n,e,t,i){let r=DR[e.name];r||(r={},DR[e.name]=r);let s=r[n.toURLString()];return s&&Xu("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new p4(n,false,t,i),r[n.toURLString()]=s,s}(h,n,T,new qG(n.name,t));return new lq(S,n)}class lq{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function m4(n,e,t){if(n.stats_=T1(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new $I(n.repoInfo_,(i,r,s,c)=>{k2(n,i,r,s,c)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>R2(n,!0),0);else{if(null!=t){if("object"!=typeof t)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,j.Pz)(t)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}n.persistentConnection_=new Cg(n.repoInfo_,e,(i,r,s,c)=>{k2(n,i,r,s,c)},i=>{R2(n,i)},i=>{!function g4(n,e){Zs(e,(t,i)=>{gR(n,t,i)})}(n,i)},n.authTokenProvider_,n.appCheckProvider_,t),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(i=>{n.server_.refreshAuthToken(i)}),n.appCheckProvider_.addTokenChangeListener(i=>{n.server_.refreshAppCheckToken(i.token)}),n.statsReporter_=function QG(n,e){const t=n.toString();return E1[t]||(E1[t]=e()),E1[t]}(n.repoInfo_,()=>new X$(n.stats_,n.server_)),n.infoData_=new Z$,n.infoSyncTree_=new g2({startListening:(i,r,s,c)=>{let h=[];const p=n.infoData_.getNode(i._path);return p.isEmpty()||(h=sC(n.infoSyncTree_,i._path,p),setTimeout(()=>{c("ok")},0)),h},stopListening:()=>{}}),gR(n,"connected",!1),n.serverSyncTree_=new g2({startListening:(i,r,s,c)=>(n.server_.listen(i,s,r,(h,p)=>{const _=c(h,p);ic(n.eventQueue_,i._path,_)}),[]),stopListening:(i,r)=>{n.server_.unlisten(i,r)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new rc(this._repo,hi())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function sq(n,e){const t=DR[e];(!t||t[n.key]!==n)&&Xu(`Database ${e}(${n.repoInfo_}) has already been deleted.`),N2(n),delete t[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&Xu("Cannot call "+e+" on a deleted database.")}}function hq(n,e){XF(n,e)}const pq={".sv":"timestamp"};class _q{constructor(e,t){this.committed=e,this.snapshot=t}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}Cg.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)},Cg.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)},function fq(n){ZF(Wi.SDK_VERSION),(0,Wi._registerComponent)(new Oi.wA("database",(e,{instanceIdentifier:t})=>J2(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),t),"PUBLIC").setMultipleInstances(!0)),(0,Wi.registerVersion)(qF,"0.12.8",n),(0,Wi.registerVersion)(qF,"0.12.8","esm2017")}();const wq=new Nr.Yd("@firebase/database-compat"),X2=function(n){wq.warn("FIREBASE WARNING: "+n)};class Tq{constructor(e){this._delegate=e}cancel(e){(0,j.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,j.Wj)("OnDisconnect.cancel","onComplete",e,!0);const t=this._delegate.cancel();return e&&t.then(()=>e(null),i=>e(i)),t}remove(e){(0,j.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,j.Wj)("OnDisconnect.remove","onComplete",e,!0);const t=this._delegate.remove();return e&&t.then(()=>e(null),i=>e(i)),t}set(e,t){(0,j.Dv)("OnDisconnect.set",1,2,arguments.length),(0,j.Wj)("OnDisconnect.set","onComplete",t,!0);const i=this._delegate.set(e);return t&&i.then(()=>t(null),r=>t(r)),i}setWithPriority(e,t,i){(0,j.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,j.Wj)("OnDisconnect.setWithPriority","onComplete",i,!0);const r=this._delegate.setWithPriority(e,t);return i&&r.then(()=>i(null),s=>i(s)),r}update(e,t){if((0,j.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){const r={};for(let s=0;s<e.length;++s)r[""+s]=e[s];e=r,X2("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,j.Wj)("OnDisconnect.update","onComplete",t,!0);const i=this._delegate.update(e);return t&&i.then(()=>t(null),r=>t(r)),i}}class Dq{constructor(e,t){this.committed=e,this.snapshot=t}toJSON(){return(0,j.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class rp{constructor(e,t){this._database=e,this._delegate=t}val(){return(0,j.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,j.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,j.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,j.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(e){return(0,j.Dv)("DataSnapshot.child",0,1,arguments.length),e=String(e),dC("DataSnapshot.child","path",e,!1),new rp(this._database,this._delegate.child(e))}hasChild(e){return(0,j.Dv)("DataSnapshot.hasChild",1,1,arguments.length),dC("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)}getPriority(){return(0,j.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(e){return(0,j.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,j.Wj)("DataSnapshot.forEach","action",e,!1),this._delegate.forEach(t=>e(new rp(this._database,t)))}hasChildren(){return(0,j.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,j.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,j.Dv)("DataSnapshot.ref",0,0,arguments.length),new hl(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class ho{constructor(e,t){this.database=e,this._delegate=t}on(e,t,i,r){var s;(0,j.Dv)("Query.on",2,4,arguments.length),(0,j.Wj)("Query.on","callback",t,!1);const c=ho.getCancelAndContextArgs_("Query.on",i,r),h=(_,T)=>{t.call(c.context,new rp(this.database,_),T)};h.userCallback=t,h.context=c.context;const p=null===(s=c.cancel)||void 0===s?void 0:s.bind(c.context);switch(e){case"value":return TR(this._delegate,h,p),t;case"child_added":return $2(this._delegate,h,p),t;case"child_removed":return W2(this._delegate,h,p),t;case"child_changed":return z2(this._delegate,h,p),t;case"child_moved":return q2(this._delegate,h,p),t;default:throw new Error((0,j.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(e,t,i){if((0,j.Dv)("Query.off",0,3,arguments.length),function(n,e,t){if(void 0!==e)switch(e){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,j.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,e),(0,j.Wj)("Query.off","callback",t,!0),(0,j.lb)("Query.off","context",i,!0),t){const r=()=>{};r.userCallback=t,r.context=i,Z2(this._delegate,e,r)}else Z2(this._delegate,e)}get(){return F4(this._delegate).then(e=>new rp(this.database,e))}once(e,t,i,r){(0,j.Dv)("Query.once",1,4,arguments.length),(0,j.Wj)("Query.once","callback",t,!0);const s=ho.getCancelAndContextArgs_("Query.once",i,r),c=new j.BH,h=(_,T)=>{const S=new rp(this.database,_);t&&t.call(s.context,S,T),c.resolve(S)};h.userCallback=t,h.context=s.context;const p=_=>{s.cancel&&s.cancel.call(s.context,_),c.reject(_)};switch(e){case"value":TR(this._delegate,h,p,{onlyOnce:!0});break;case"child_added":$2(this._delegate,h,p,{onlyOnce:!0});break;case"child_removed":W2(this._delegate,h,p,{onlyOnce:!0});break;case"child_changed":z2(this._delegate,h,p,{onlyOnce:!0});break;case"child_moved":q2(this._delegate,h,p,{onlyOnce:!0});break;default:throw new Error((0,j.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return c.promise}limitToFirst(e){return(0,j.Dv)("Query.limitToFirst",1,1,arguments.length),new ho(this.database,su(this._delegate,function $4(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new G4(n)}(e)))}limitToLast(e){return(0,j.Dv)("Query.limitToLast",1,1,arguments.length),new ho(this.database,su(this._delegate,function q4(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new z4(n)}(e)))}orderByChild(e){return(0,j.Dv)("Query.orderByChild",1,1,arguments.length),new ho(this.database,su(this._delegate,function Z4(n){if("$key"===n)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===n)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===n)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return dC("orderByChild","path",n,!1),new W4(n)}(e)))}orderByKey(){return(0,j.Dv)("Query.orderByKey",0,0,arguments.length),new ho(this.database,su(this._delegate,function K4(){return new Y4}()))}orderByPriority(){return(0,j.Dv)("Query.orderByPriority",0,0,arguments.length),new ho(this.database,su(this._delegate,function J4(){return new Q4}()))}orderByValue(){return(0,j.Dv)("Query.orderByValue",0,0,arguments.length),new ho(this.database,su(this._delegate,function eq(){return new X4}()))}startAt(e=null,t){return(0,j.Dv)("Query.startAt",0,2,arguments.length),new ho(this.database,su(this._delegate,function U4(n=null,e){return uC("startAt","key",e,!0),new K2(n,e)}(e,t)))}startAfter(e=null,t){return(0,j.Dv)("Query.startAfter",0,2,arguments.length),new ho(this.database,su(this._delegate,function j4(n,e){return uC("startAfter","key",e,!0),new H4(n,e)}(e,t)))}endAt(e=null,t){return(0,j.Dv)("Query.endAt",0,2,arguments.length),new ho(this.database,su(this._delegate,function L4(n,e){return uC("endAt","key",e,!0),new Y2(n,e)}(e,t)))}endBefore(e=null,t){return(0,j.Dv)("Query.endBefore",0,2,arguments.length),new ho(this.database,su(this._delegate,function B4(n,e){return uC("endBefore","key",e,!0),new V4(n,e)}(e,t)))}equalTo(e,t){return(0,j.Dv)("Query.equalTo",1,2,arguments.length),new ho(this.database,su(this._delegate,function nq(n,e){return uC("equalTo","key",e,!0),new tq(n,e)}(e,t)))}toString(){return(0,j.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,j.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(e){if((0,j.Dv)("Query.isEqual",1,1,arguments.length),!(e instanceof ho))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(e._delegate)}static getCancelAndContextArgs_(e,t,i){const r={cancel:void 0,context:void 0};if(t&&i)r.cancel=t,(0,j.Wj)(e,"cancel",r.cancel,!0),r.context=i,(0,j.lb)(e,"context",r.context,!0);else if(t)if("object"==typeof t&&null!==t)r.context=t;else{if("function"!=typeof t)throw new Error((0,j.gK)(e,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=t}return r}get ref(){return new hl(this.database,new rc(this._delegate._repo,this._delegate._path))}}class hl extends ho{constructor(e,t){super(e,new Ha(t._repo,t._path,new jI,!1)),this.database=e,this._delegate=t}getKey(){return(0,j.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(e){return(0,j.Dv)("Reference.child",1,1,arguments.length),"number"==typeof e&&(e=String(e)),new hl(this.database,Ag(this._delegate,e))}getParent(){(0,j.Dv)("Reference.parent",0,0,arguments.length);const e=this._delegate.parent;return e?new hl(this.database,e):null}getRoot(){return(0,j.Dv)("Reference.root",0,0,arguments.length),new hl(this.database,this._delegate.root)}set(e,t){(0,j.Dv)("Reference.set",1,2,arguments.length),(0,j.Wj)("Reference.set","onComplete",t,!0);const i=ER(this._delegate,e);return t&&i.then(()=>t(null),r=>t(r)),i}update(e,t){if((0,j.Dv)("Reference.update",1,2,arguments.length),Array.isArray(e)){const r={};for(let s=0;s<e.length;++s)r[""+s]=e[s];e=r,X2("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}nc("Reference.update",this._delegate._path),(0,j.Wj)("Reference.update","onComplete",t,!0);const i=P4(this._delegate,e);return t&&i.then(()=>t(null),r=>t(r)),i}setWithPriority(e,t,i){(0,j.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,j.Wj)("Reference.setWithPriority","onComplete",i,!0);const r=function N4(n,e,t){if(nc("setWithPriority",n._path),nd("setWithPriority",e,n._path,!1),pR("setWithPriority",t,!1),".length"===n.key||".keys"===n.key)throw"setWithPriority failed: "+n.key+" is a read-only object.";const i=new j.BH;return _R(n._repo,n._path,e,t,i.wrapCallback(()=>{})),i.promise}(this._delegate,e,t);return i&&r.then(()=>i(null),s=>i(s)),r}remove(e){(0,j.Dv)("Reference.remove",0,1,arguments.length),(0,j.Wj)("Reference.remove","onComplete",e,!0);const t=function R4(n){return nc("remove",n._path),ER(n,null)}(this._delegate);return e&&t.then(()=>e(null),i=>e(i)),t}transaction(e,t,i){(0,j.Dv)("Reference.transaction",1,3,arguments.length),(0,j.Wj)("Reference.transaction","transactionUpdate",e,!1),(0,j.Wj)("Reference.transaction","onComplete",t,!0),function(n,e,t,i){if(void 0!==t&&"boolean"!=typeof t)throw new Error((0,j.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,i);const r=function yq(n,e,t){var i;if(n=(0,j.m9)(n),nc("Reference.transaction",n._path),".length"===n.key||".keys"===n.key)throw"Reference.transaction failed: "+n.key+" is a read-only object.";const r=null===(i=null==t?void 0:t.applyLocally)||void 0===i||i,s=new j.BH,h=TR(n,()=>{});return function D4(n,e,t,i,r,s){lv(n,"transaction on "+e);const c={path:e,update:t,onComplete:i,status:null,order:KF(),applyLocally:s,retryCount:0,unwatcher:r,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},h=vR(n,e,void 0);c.currentInputSnapshot=h;const p=c.update(h.val());if(void 0===p)c.unwatcher(),c.currentOutputSnapshotRaw=null,c.currentOutputSnapshotResolved=null,c.onComplete&&c.onComplete(null,!1,c.currentInputSnapshot);else{cC("transaction failed: Data returned ",p,c.path),c.status=0;const _=sS(n.transactionQueueTree_,e),T=Ig(_)||[];let S;T.push(c),dR(_,T),"object"==typeof p&&null!==p&&(0,j.r3)(p,".priority")?(S=(0,j.DV)(p,".priority"),(0,j.hu)(lC(S),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):S=(nS(n.serverSyncTree_,e)||wn.EMPTY_NODE).getPriority().val();const P=hC(n),H=Dr(p,S),q=lR(H,h,P);c.currentOutputSnapshotRaw=H,c.currentOutputSnapshotResolved=q,c.currentWriteId=cS(n);const ae=tR(n.serverSyncTree_,e,q,c.currentWriteId,c.applyLocally);ic(n.eventQueue_,e,ae),uS(n,n.transactionQueueTree_)}}(n._repo,n._path,e,(p,_,T)=>{let S=null;p?s.reject(p):(S=new Sg(T,new rc(n._repo,n._path),Gi),s.resolve(new _q(_,S)))},h,r),s.promise}(this._delegate,e,{applyLocally:i}).then(s=>new Dq(s.committed,new rp(this.database,s.snapshot)));return t&&r.then(s=>t(null,s.committed,s.snapshot),s=>t(s,!1,null)),r}setPriority(e,t){(0,j.Dv)("Reference.setPriority",1,2,arguments.length),(0,j.Wj)("Reference.setPriority","onComplete",t,!0);const i=function O4(n,e){n=(0,j.m9)(n),nc("setPriority",n._path),pR("setPriority",e,!1);const t=new j.BH;return _R(n._repo,dr(n._path,".priority"),e,null,t.wrapCallback(()=>{})),t.promise}(this._delegate,e);return t&&i.then(()=>t(null),r=>t(r)),i}push(e,t){(0,j.Dv)("Reference.push",0,2,arguments.length),(0,j.Wj)("Reference.push","onComplete",t,!0);const i=function k4(n,e){n=(0,j.m9)(n),nc("push",n._path),nd("push",e,n._path,!0);const t=x2(n._repo),i=U$(t),r=Ag(n,i),s=Ag(n,i);let c;return c=null!=e?ER(s,e).then(()=>s):Promise.resolve(s),r.then=c.then.bind(c),r.catch=c.then.bind(c,void 0),r}(this._delegate,e),r=i.then(c=>new hl(this.database,c));t&&r.then(()=>t(null),c=>t(c));const s=new hl(this.database,i);return s.then=r.then.bind(r),s.catch=r.catch.bind(r,void 0),s}onDisconnect(){return nc("Reference.onDisconnect",this._delegate._path),new Tq(new H2(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class pC{constructor(e,t){this._delegate=e,this.app=t,this.INTERNAL={delete:()=>this._delegate._delete()}}useEmulator(e,t,i={}){!function cq(n,e,t,i={}){(n=(0,j.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&Xu("Cannot call useEmulator() after instance has already been initialized.");const r=n._repoInternal;let s;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&Xu('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new zw(zw.OWNER);else if(i.mockUserToken){const c="string"==typeof i.mockUserToken?i.mockUserToken:(0,j.Sg)(i.mockUserToken,n.app.options.projectId);s=new zw(c)}!function rq(n,e,t,i){n.repoInfo_=new w1(`${e}:${t}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams),i&&(n.authTokenProvider_=i)}(r,e,t,s)}(this._delegate,e,t,i)}ref(e){if((0,j.Dv)("database.ref",0,1,arguments.length),e instanceof hl){const t=G2(this._delegate,e.toString());return new hl(this,t)}{const t=j2(this._delegate,e);return new hl(this,t)}}refFromURL(e){(0,j.Dv)("database.refFromURL",1,1,arguments.length);const i=G2(this._delegate,e);return new hl(this,i)}goOffline(){return(0,j.Dv)("database.goOffline",0,0,arguments.length),function uq(n){(n=(0,j.m9)(n))._checkNotDeleted("goOffline"),N2(n._repo)}(this._delegate)}goOnline(){return(0,j.Dv)("database.goOnline",0,0,arguments.length),function dq(n){(n=(0,j.m9)(n))._checkNotDeleted("goOnline"),function T4(n){n.persistentConnection_&&n.persistentConnection_.resume(M2)}(n._repo)}(this._delegate)}}pC.ServerValue={TIMESTAMP:function mq(){return pq}(),increment:n=>function gq(n){return{".sv":{increment:n}}}(n)};var Sq=Object.freeze({__proto__:null,initStandalone:function Iq({app:n,url:e,version:t,customAuthImpl:i,namespace:r,nodeAdmin:s=!1}){ZF(t);const c=new Oi.zt("auth-internal",new Oi.H0("database-standalone"));return c.setComponent(new Oi.wA("auth-internal",()=>i,"PRIVATE")),{instance:new pC(J2(n,c,void 0,e,s),n),namespace:r}}});const Aq=pC.ServerValue;function eV(n){return null==n}function tV(n){return"function"==typeof n.set}function nV(n,e){return tV(e)?e:n.ref(e)}function iV(n,e){if(function xq(n){return"string"==typeof n}(n))return e.stringCase();if(tV(n))return e.firebaseCase();if(function kq(n){return"function"==typeof n.exportVal}(n))return e.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof n)}function mC(n,e,t="on",i=ca.z){return new G.y(r=>{let s=null;return s=n[t](e,(c,h)=>{i.schedule(()=>{r.next({snapshot:c,prevKey:h})}),"once"===t&&i.schedule(()=>r.complete())},c=>{i.schedule(()=>r.error(c))}),"on"===t?{unsubscribe(){null!=s&&n.off(e,s)}}:{unsubscribe(){}}}).pipe((0,be.U)(r=>{const{snapshot:s,prevKey:c}=r;let h=null;return s.exists()&&(h=s.key),{type:e,payload:s,prevKey:c,key:h}}),(0,vn.B)())}function rV(n,e){const t=n.length;for(let i=0;i<t;i++)if(n[i].payload.key===e)return i;return-1}function Nq(n,e){const{payload:t,prevKey:i,key:r}=e,s=rV(n,r),c=function Oq(n,e){if(eV(e))return 0;{const t=rV(n,e);return-1===t?n.length:t+1}}(n,i);switch(e.type){case"value":if(e.payload&&e.payload.exists()){let h=null;e.payload.forEach(p=>{const _={payload:p,type:"value",prevKey:h,key:p.key};return h=p.key,n=[...n,_],!1})}return n;case"child_added":if(s>-1){const h=n[s-1];(h&&h.key||null)!==i&&(n=n.filter(p=>p.payload.key!==t.key)).splice(c,0,e)}else{if(null==i)return[e,...n];(n=n.slice()).splice(c,0,e)}return n;case"child_removed":return n.filter(h=>h.payload.key!==t.key);case"child_changed":return n.map(h=>h.payload.key===r?e:h);case"child_moved":if(s>-1){const h=n.splice(s,1)[0];return(n=n.slice()).splice(c,0,h),n}return n;default:return n}}function sV(n){return(eV(n)||0===n.length)&&(n=["child_added","child_removed","child_changed","child_moved"]),n}function oV(n,e,t){return function Rq(n,e,t){return mC(n,"value","once",t).pipe(We(i=>{const r=[N(i)];return e.forEach(s=>r.push(mC(n,s,"on",t))),(0,Q.T)(...r).pipe(sr(Nq,[]))}),y_())}(n,e=sV(e),t)}function aV(n,e,t){const i=(e=sV(e)).map(r=>mC(n,r,"on",t));return(0,Q.T)(...i)}function lV(n,e){return function(i,r){return iV(i,{stringCase:()=>n.child(i)[e](r),firebaseCase:()=>i[e](r),snapshotCase:()=>i.ref[e](r)})}}function Vq(n){return function(t){return t?iV(t,{stringCase:()=>n.child(t).remove(),firebaseCase:()=>t.remove(),snapshotCase:()=>t.ref.remove()}):n.remove()}}function cV(n,e){return function(){return mC(n,"value","on",e)}}!function Mq(n){n.INTERNAL.registerComponent(new Oi.wA("database-compat",(e,{instanceIdentifier:t})=>{const i=e.getProvider("app-compat").getImmediate(),r=e.getProvider("database").getImmediate({identifier:t});return new pC(r,i)},"PUBLIC").setServiceProps({Reference:hl,Query:ho,Database:pC,DataSnapshot:rp,enableLogging:hq,INTERNAL:Sq,ServerValue:Aq}).setMultipleInstances(!0)),n.registerVersion("@firebase/database-compat","0.1.8")}(Qh.Z);const Hq=new a.OlP("angularfire2.realtimeDatabaseURL"),jq=new a.OlP("angularfire2.database.use-emulator");let Gq=(()=>{class n{constructor(t,i,r,s,c,h,p,_,T,S,P,H,q,ae,Ce){this.schedulers=h;const pt=p,_t=(0,Bn.on)(t,c,i);_&&Tp(_t,c,T,P,H,q,S,ae),this.database=(0,Bn.cc)(`${_t.name}.database.${r}`,"AngularFireDatabase",_t.name,()=>{const yt=c.runOutsideAngular(()=>_t.database(r||void 0));return pt&&yt.useEmulator(...pt),yt},[pt])}list(t,i){const r=this.schedulers.ngZone.runOutsideAngular(()=>nV(this.database,t));let s=r;return i&&(s=i(r)),function Bq(n,e){const t=e.schedulers.outsideAngular,i=e.schedulers.ngZone.run(()=>n.ref);return{query:n,update:lV(i,"update"),set:lV(i,"set"),push:r=>i.push(r),remove:Vq(i),snapshotChanges:r=>oV(n,r,t).pipe(fn.iC),stateChanges:r=>aV(n,r,t).pipe(fn.iC),auditTrail:r=>function Pq(n,e,t){return function Lq(n,e,t){return function Fq(n,e){return mC(n,"value","on",e).pipe((0,be.U)(t=>{let i;return t.payload.forEach(r=>(i=r.key,!1)),{data:t,lastKeyToLoad:i}}))}(n,t).pipe(function NG(...n){const e=(0,b.jO)(n);return(0,ni.e)((t,i)=>{const r=n.length,s=new Array(r);let c=n.map(()=>!1),h=!1;for(let p=0;p<r;p++)(0,ke.Xf)(n[p]).subscribe((0,gi.x)(i,_=>{s[p]=_,!h&&!c[p]&&(c[p]=!0,(h=c.every(C.y))&&(c=null))},zF.Z));t.subscribe((0,gi.x)(i,p=>{if(h){const _=[p,...s];i.next(e?e(..._):_)}}))})}(e),(0,be.U)(([r,s])=>{const c=r.lastKeyToLoad,h=s.map(p=>p.key);return{actions:s,lastKeyToLoad:c,loadedKeys:h}}),function PG(n){return(0,ni.e)((e,t)=>{let i=!1,r=0;e.subscribe((0,gi.x)(t,s=>(i||(i=!n(s,r++)))&&t.next(s)))})}(r=>-1===r.loadedKeys.indexOf(r.lastKeyToLoad)),(0,be.U)(r=>r.actions))}(n,aV(n,e).pipe(sr((r,s)=>[...r,s],[])),t)}(n,r,t).pipe(fn.iC),valueChanges:(r,s)=>oV(n,r,t).pipe((0,be.U)(h=>h.map(p=>s&&s.idField?Object.assign(Object.assign({},p.payload.val()),{[s.idField]:p.key}):p.payload.val())),fn.iC)}}(s,this)}object(t){return function Uq(n,e){return{query:n,snapshotChanges:()=>cV(n,e.schedulers.outsideAngular)().pipe(fn.iC),update:t=>n.ref.update(t),set:t=>n.ref.set(t),remove:()=>n.ref.remove(),valueChanges:()=>cV(n,e.schedulers.outsideAngular)().pipe(fn.iC,(0,be.U)(i=>i.payload.exists()?i.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>nV(this.database,t)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Bn.Dh),a.LFG(Bn.xv,8),a.LFG(Hq,8),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(fn.HU),a.LFG(jq,8),a.LFG(Sd,8),a.LFG(Ti,8),a.LFG(ra,8),a.LFG(Xa,8),a.LFG(Ul,8),a.LFG(Au,8),a.LFG(Rc,8),a.LFG(Id,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),$q=(()=>{class n{constructor(){Lt.Z.registerVersion("angularfire",fn.q4.full,"rtdb-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[Gq]}),n})();const uV_firebase={apiKey:"AIzaSyBd1yWUyondc9STVTQz6bn-W7anRXvtNiw",authDomain:"prayer-time-bbc83.firebaseapp.com",projectId:"prayer-time-bbc83",storageBucket:"prayer-time-bbc83.appspot.com",messagingSenderId:"268257063983",appId:"1:268257063983:web:0d800d964033d52cbac2da",measurementId:"G-35CFR8CH5W"},zq=new a.OlP("cdk-dir-doc",{providedIn:"root",factory:function qq(){return(0,a.f3M)(fe)}}),Wq=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let IR,gC=(()=>{class n{constructor(t){if(this.value="ltr",this.change=new a.vpe,t){const r=t.documentElement?t.documentElement.dir:null;this.value=function Zq(n){const e=(null==n?void 0:n.toLowerCase())||"";return"auto"===e&&"undefined"!=typeof navigator&&(null==navigator?void 0:navigator.language)?Wq.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||r||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(zq,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),_C=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})();try{IR="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){IR=!1}let uv,va=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function mi(n){return n===gr}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!IR)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(a.Lbi))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const hV=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function fV(){if(uv)return uv;if("object"!=typeof document||!document)return uv=new Set(hV),uv;let n=document.createElement("input");return uv=new Set(hV.filter(e=>(n.setAttribute("type",e),n.type===e))),uv}let yC,Mg,SR;function gS(n){return function Yq(){if(null==yC&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>yC=!0}))}finally{yC=yC||!1}return yC}()?n:!!n.capture}function Kq(){if(null==Mg){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Mg=!1,Mg;if("scrollBehavior"in document.documentElement.style)Mg=!0;else{const n=Element.prototype.scrollTo;Mg=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return Mg}function pV(n){if(function Qq(){if(null==SR){const n="undefined"!=typeof document?document.head:null;SR=!(!n||!n.createShadowRoot&&!n.attachShadow)}return SR}()){const e=n.getRootNode?n.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}function AR(){let n="undefined"!=typeof document&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const e=n.shadowRoot.activeElement;if(e===n)break;n=e}return n}function xg(n){return n.composedPath?n.composedPath()[0]:n.target}function MR(){return"undefined"!=typeof __karma__&&!!__karma__||"undefined"!=typeof jasmine&&!!jasmine||"undefined"!=typeof jest&&!!jest||"undefined"!=typeof Mocha&&!!Mocha}function fl(n){return(0,ni.e)((e,t)=>{(0,ke.Xf)(n).subscribe((0,gi.x)(t,()=>t.complete(),zF.Z)),!t.closed&&e.subscribe(t)})}function ou(n){return null!=n&&"false"!=`${n}`}function yS(n,e=0){return function a5(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}function mV(n){return Array.isArray(n)?n:[n]}function fs(n){return null==n?"":"string"==typeof n?n:`${n}px`}function _h(n){return n instanceof a.SBq?n.nativeElement:n}let yV=(()=>{class n{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function d5(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const i=function u5(n){try{return n.frameElement}catch(e){return null}}(function v5(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(t));if(i&&(-1===bV(i)||!this.isVisible(i)))return!1;let r=t.nodeName.toLowerCase(),s=bV(t);return t.hasAttribute("contenteditable")?-1!==s:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function _5(n){let e=n.nodeName.toLowerCase(),t="input"===e&&n.type;return"text"===t||"password"===t||"select"===e||"textarea"===e}(t))&&("audio"===r?!!t.hasAttribute("controls")&&-1!==s:"video"===r?-1!==s&&(null!==s||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,i){return function y5(n){return!function f5(n){return function m5(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function h5(n){let e=n.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(n)||function p5(n){return function g5(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||vV(n))}(t)&&!this.isDisabled(t)&&((null==i?void 0:i.ignoreVisibility)||this.isVisible(t))}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(va))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function vV(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let e=n.getAttribute("tabindex");return!(!e||isNaN(parseInt(e,10)))}function bV(n){if(!vV(n))return null;const e=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class b5{constructor(e,t,i,r,s=!1){this._element=e,this._checker=t,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,s||this.attachAnchors()}get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}destroy(){const e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.remove()),t&&(t.removeEventListener("focus",this.endAnchorListener),t.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){const t=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);return"start"==e?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(!this._checker.isFocusable(t)){const i=this._getFirstTabbableElement(t);return null==i||i.focus(e),!!i}return t.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){const t=this._getRegionBoundary("start");return t&&t.focus(e),!!t}focusLastTabbableElement(e){const t=this._getRegionBoundary("end");return t&&t.focus(e),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let i=0;i<t.length;i++){const r=t[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[i]):null;if(r)return r}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let i=t.length-1;i>=0;i--){const r=t[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[i]):null;if(r)return r}return null}_createAnchor(){const e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._ngZone.isStable?e():this._ngZone.onStable.pipe((0,Zi.q)(1)).subscribe(e)}}let w5=(()=>{class n{constructor(t,i,r){this._checker=t,this._ngZone=i,this._document=r}create(t,i=!1){return new b5(t,this._checker,this._ngZone,this._document,i)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(yV),a.LFG(a.R0b),a.LFG(fe))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function wV(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function CV(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const C5=new a.OlP("cdk-input-modality-detector-options"),E5={ignoreKeys:[18,17,224,91,16]},dv=gS({passive:!0,capture:!0});let T5=(()=>{class n{constructor(t,i,r,s){this._platform=t,this._mostRecentTarget=null,this._modality=new Wr(null),this._lastTouchMs=0,this._onKeydown=c=>{var h,p;(null===(p=null===(h=this._options)||void 0===h?void 0:h.ignoreKeys)||void 0===p?void 0:p.some(_=>_===c.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=xg(c))},this._onMousedown=c=>{Date.now()-this._lastTouchMs<650||(this._modality.next(wV(c)?"keyboard":"mouse"),this._mostRecentTarget=xg(c))},this._onTouchstart=c=>{CV(c)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=xg(c))},this._options=Object.assign(Object.assign({},E5),s),this.modalityDetected=this._modality.pipe(function o5(n){return ii((e,t)=>n<=t)}(1)),this.modalityChanged=this.modalityDetected.pipe(y_()),t.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,dv),r.addEventListener("mousedown",this._onMousedown,dv),r.addEventListener("touchstart",this._onTouchstart,dv)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,dv),document.removeEventListener("mousedown",this._onMousedown,dv),document.removeEventListener("touchstart",this._onTouchstart,dv))}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(va),a.LFG(a.R0b),a.LFG(fe),a.LFG(C5,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const I5=new a.OlP("cdk-focus-monitor-default-options"),vS=gS({passive:!0,capture:!0});let TV=(()=>{class n{constructor(t,i,r,s,c){this._ngZone=t,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new I.x,this._rootNodeFocusAndBlurListener=h=>{const p=xg(h),_="focus"===h.type?this._onFocus:this._onBlur;for(let T=p;T;T=T.parentElement)_.call(this,h,T)},this._document=s,this._detectionMode=(null==c?void 0:c.detectionMode)||0}monitor(t,i=!1){const r=_h(t);if(!this._platform.isBrowser||1!==r.nodeType)return N(null);const s=pV(r)||this._getDocument(),c=this._elementInfo.get(r);if(c)return i&&(c.checkChildren=!0),c.subject;const h={checkChildren:i,subject:new I.x,rootNode:s};return this._elementInfo.set(r,h),this._registerGlobalListeners(h),h.subject}stopMonitoring(t){const i=_h(t),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(t,i,r){const s=_h(t);s===this._getDocument().activeElement?this._getClosestElementsInfo(s).forEach(([h,p])=>this._originChanged(h,i,p)):(this._setOrigin(i),"function"==typeof s.focus&&s.focus(r))}ngOnDestroy(){this._elementInfo.forEach((t,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!(null==t?void 0:t.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(t,i){t.classList.toggle("cdk-focused",!!i),t.classList.toggle("cdk-touch-focused","touch"===i),t.classList.toggle("cdk-keyboard-focused","keyboard"===i),t.classList.toggle("cdk-mouse-focused","mouse"===i),t.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(t,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,i){const r=this._elementInfo.get(i),s=xg(t);!r||!r.checkChildren&&i!==s||this._originChanged(i,this._getFocusOrigin(s),r)}_onBlur(t,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&t.relatedTarget instanceof Node&&i.contains(t.relatedTarget)||(this._setClasses(i),this._emitOrigin(r.subject,null))}_emitOrigin(t,i){this._ngZone.run(()=>t.next(i))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const i=t.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,vS),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,vS)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(fl(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(t){const i=t.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,vS),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,vS),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,i,r){this._setClasses(t,i),this._emitOrigin(r.subject,i),this._lastFocusOrigin=i}_getClosestElementsInfo(t){const i=[];return this._elementInfo.forEach((r,s)=>{(s===t||r.checkChildren&&s.contains(t))&&i.push([s,r])}),i}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(a.R0b),a.LFG(va),a.LFG(T5),a.LFG(fe,8),a.LFG(I5,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const DV="cdk-high-contrast-black-on-white",IV="cdk-high-contrast-white-on-black",xR="cdk-high-contrast-active";let S5=(()=>{class n{constructor(t,i){this._platform=t,this._document=i}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(t):null,s=(r&&r.backgroundColor||"").replace(/ /g,"");switch(t.remove(),s){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(xR),t.remove(DV),t.remove(IV),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?(t.add(xR),t.add(DV)):2===i&&(t.add(xR),t.add(IV))}}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(va),a.LFG(fe))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class SV{}const yh="*";function vC(n,e){return{type:7,name:n,definitions:e,options:{}}}function id(n,e=null){return{type:4,styles:e,timings:n}}function AV(n,e=null){return{type:3,steps:n,options:e}}function kR(n,e=null){return{type:2,steps:n,options:e}}function As(n){return{type:6,styles:n,offset:null}}function RR(n,e,t){return{type:0,name:n,styles:e,options:t}}function sp(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function MV(n=null){return{type:9,options:n}}function xV(n,e,t=null){return{type:11,selector:n,animation:e,options:t}}function kV(n){Promise.resolve(null).then(n)}class bC{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){kV(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class RV{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,i=0,r=0;const s=this.players.length;0==s?kV(()=>this._onFinish()):this.players.forEach(c=>{c.onDone(()=>{++t==s&&this._onFinish()}),c.onDestroy(()=>{++i==s&&this._onDestroy()}),c.onStart(()=>{++r==s&&this._onStart()})}),this.totalTime=this.players.reduce((c,h)=>Math.max(c,h.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,t/i.totalTime):1;i.setPosition(r)})}getPosition(){const e=this.players.reduce((t,i)=>null===t||i.totalTime>t.totalTime?i:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}const Gn=!1;function OV(n){return new a.vHH(3e3,Gn)}function l8(){return"undefined"!=typeof window&&void 0!==window.document}function NR(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function op(n){switch(n.length){case 0:return new bC;case 1:return n[0];default:return new RV(n)}}function NV(n,e,t,i,r={},s={}){const c=[],h=[];let p=-1,_=null;if(i.forEach(T=>{const S=T.offset,P=S==p,H=P&&_||{};Object.keys(T).forEach(q=>{let ae=q,Ce=T[q];if("offset"!==q)switch(ae=e.normalizePropertyName(ae,c),Ce){case"!":Ce=r[q];break;case yh:Ce=s[q];break;default:Ce=e.normalizeStyleValue(q,ae,Ce,c)}H[ae]=Ce}),P||h.push(H),_=H,p=S}),c.length)throw function Q5(n){return new a.vHH(3502,Gn)}();return h}function PR(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&FR(t,"start",n)));break;case"done":n.onDone(()=>i(t&&FR(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&FR(t,"destroy",n)))}}function FR(n,e,t){const i=t.totalTime,s=LR(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,null==i?n.totalTime:i,!!t.disabled),c=n._data;return null!=c&&(s._data=c),s}function LR(n,e,t,i,r="",s=0,c){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:r,totalTime:s,disabled:!!c}}function pl(n,e,t){let i;return n instanceof Map?(i=n.get(e),i||n.set(e,i=t)):(i=n[e],i||(i=n[e]=t)),i}function PV(n){const e=n.indexOf(":");return[n.substring(1,e),n.substr(e+1)]}let VR=(n,e)=>!1,FV=(n,e,t)=>[],LV=null;function BR(n){const e=n.parentNode||n.host;return e===LV?null:e}(NR()||"undefined"!=typeof Element)&&(l8()?(LV=(()=>document.documentElement)(),VR=(n,e)=>{for(;e;){if(e===n)return!0;e=BR(e)}return!1}):VR=(n,e)=>n.contains(e),FV=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const i=n.querySelector(e);return i?[i]:[]});let kg=null,VV=!1;function BV(n){kg||(kg=function u8(){return"undefined"!=typeof document?document.body:null}()||{},VV=!!kg.style&&"WebkitAppearance"in kg.style);let e=!0;return kg.style&&!function c8(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in kg.style,!e&&VV&&(e="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in kg.style)),e}const UV=VR,HV=FV;let jV=(()=>{class n{validateStyleProperty(t){return BV(t)}matchesElement(t,i){return!1}containsElement(t,i){return UV(t,i)}getParentElement(t){return BR(t)}query(t,i,r){return HV(t,i,r)}computeStyle(t,i,r){return r||""}animate(t,i,r,s,c,h=[],p){return new bC(r,s)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),UR=(()=>{class n{}return n.NOOP=new jV,n})();const HR="ng-enter",wS="ng-leave",CS="ng-trigger",ES=".ng-trigger",$V="ng-animating",jR=".ng-animating";function Rg(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:GR(parseFloat(e[1]),e[2])}function GR(n,e){return"s"===e?1e3*n:n}function TS(n,e,t){return n.hasOwnProperty("duration")?n:function f8(n,e,t){let r,s=0,c="";if("string"==typeof n){const h=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===h)return e.push(OV()),{duration:0,delay:0,easing:""};r=GR(parseFloat(h[1]),h[2]);const p=h[3];null!=p&&(s=GR(parseFloat(p),h[4]));const _=h[5];_&&(c=_)}else r=n;if(!t){let h=!1,p=e.length;r<0&&(e.push(function M5(){return new a.vHH(3100,Gn)}()),h=!0),s<0&&(e.push(function x5(){return new a.vHH(3101,Gn)}()),h=!0),h&&e.splice(p,0,OV())}return{duration:r,delay:s,easing:c}}(n,e,t)}function hv(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function ap(n,e,t={}){if(e)for(let i in n)t[i]=n[i];else hv(n,t);return t}function qV(n,e,t){return t?e+":"+t+";":""}function WV(n){let e="";for(let t=0;t<n.style.length;t++){const i=n.style.item(t);e+=qV(0,i,n.style.getPropertyValue(i))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=qV(0,g8(t),n.style[t]));n.setAttribute("style",e)}function rd(n,e,t){n.style&&(Object.keys(e).forEach(i=>{const r=zR(i);t&&!t.hasOwnProperty(i)&&(t[i]=n.style[r]),n.style[r]=e[i]}),NR()&&WV(n))}function Og(n,e){n.style&&(Object.keys(e).forEach(t=>{const i=zR(t);n.style[i]=""}),NR()&&WV(n))}function wC(n){return Array.isArray(n)?1==n.length?n[0]:kR(n):n}const $R=new RegExp("{{\\s*(.+?)\\s*}}","g");function ZV(n){let e=[];if("string"==typeof n){let t;for(;t=$R.exec(n);)e.push(t[1]);$R.lastIndex=0}return e}function DS(n,e,t){const i=n.toString(),r=i.replace($R,(s,c)=>{let h=e[c];return e.hasOwnProperty(c)||(t.push(function R5(n){return new a.vHH(3003,Gn)}()),h=""),h.toString()});return r==i?n:r}function IS(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const m8=/-+([a-z0-9])/g;function zR(n){return n.replace(m8,(...e)=>e[1].toUpperCase())}function g8(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function ml(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function O5(n){return new a.vHH(3004,Gn)}()}}function YV(n,e){return window.getComputedStyle(n)[e]}function C8(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function E8(n,e,t){if(":"==n[0]){const p=function T8(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(function W5(n){return new a.vHH(3016,Gn)}()),"* => *"}}(n,t);if("function"==typeof p)return void e.push(p);n=p}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return t.push(function q5(n){return new a.vHH(3015,Gn)}()),e;const r=i[1],s=i[2],c=i[3];e.push(KV(r,c));"<"==s[0]&&!("*"==r&&"*"==c)&&e.push(KV(c,r))}(i,t,e)):t.push(n),t}const xS=new Set(["true","1"]),kS=new Set(["false","0"]);function KV(n,e){const t=xS.has(n)||kS.has(n),i=xS.has(e)||kS.has(e);return(r,s)=>{let c="*"==n||n==r,h="*"==e||e==s;return!c&&t&&"boolean"==typeof r&&(c=r?xS.has(n):kS.has(n)),!h&&i&&"boolean"==typeof s&&(h=s?xS.has(e):kS.has(e)),c&&h}}const D8=new RegExp("s*:selfs*,?","g");function qR(n,e,t,i){return new I8(n).build(e,t,i)}class I8{constructor(e){this._driver=e}build(e,t,i){const r=new M8(t);this._resetContextStyleTimingState(r);const s=ml(this,wC(e),r);return r.unsupportedCSSPropertiesFound.size&&r.unsupportedCSSPropertiesFound.keys(),s}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,r=t.depCount=0;const s=[],c=[];return"@"==e.name.charAt(0)&&t.errors.push(function P5(){return new a.vHH(3006,Gn)}()),e.definitions.forEach(h=>{if(this._resetContextStyleTimingState(t),0==h.type){const p=h,_=p.name;_.toString().split(/\s*,\s*/).forEach(T=>{p.name=T,s.push(this.visitState(p,t))}),p.name=_}else if(1==h.type){const p=this.visitTransition(h,t);i+=p.queryCount,r+=p.depCount,c.push(p)}else t.errors.push(function F5(){return new a.vHH(3007,Gn)}())}),{type:7,name:e.name,states:s,transitions:c,queryCount:i,depCount:r,options:null}}visitState(e,t){const i=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){const s=new Set,c=r||{};i.styles.forEach(h=>{if(RS(h)){const p=h;Object.keys(p).forEach(_=>{ZV(p[_]).forEach(T=>{c.hasOwnProperty(T)||s.add(T)})})}}),s.size&&(IS(s.values()),t.errors.push(function L5(n,e){return new a.vHH(3008,Gn)}()))}return{type:0,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const i=ml(this,wC(e.animation),t);return{type:1,matchers:C8(e.expr,t.errors),animation:i,queryCount:t.queryCount,depCount:t.depCount,options:Ng(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(i=>ml(this,i,t)),options:Ng(e.options)}}visitGroup(e,t){const i=t.currentTime;let r=0;const s=e.steps.map(c=>{t.currentTime=i;const h=ml(this,c,t);return r=Math.max(r,t.currentTime),h});return t.currentTime=r,{type:3,steps:s,options:Ng(e.options)}}visitAnimate(e,t){const i=function k8(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return WR(TS(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=WR(0,0,"");return s.dynamic=!0,s.strValue=t,s}const r=TS(t,e);return WR(r.duration,r.delay,r.easing)}(e.timings,t.errors);t.currentAnimateTimings=i;let r,s=e.styles?e.styles:As({});if(5==s.type)r=this.visitKeyframes(s,t);else{let c=e.styles,h=!1;if(!c){h=!0;const _={};i.easing&&(_.easing=i.easing),c=As(_)}t.currentTime+=i.duration+i.delay;const p=this.visitStyle(c,t);p.isEmptyStep=h,r=p}return t.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(e,t){const i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){const i=[];Array.isArray(e.styles)?e.styles.forEach(c=>{"string"==typeof c?c==yh?i.push(c):t.errors.push(function V5(n){return new a.vHH(3002,Gn)}()):i.push(c)}):i.push(e.styles);let r=!1,s=null;return i.forEach(c=>{if(RS(c)){const h=c,p=h.easing;if(p&&(s=p,delete h.easing),!r)for(let _ in h)if(h[_].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:i,easing:s,offset:e.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(e,t){const i=t.currentAnimateTimings;let r=t.currentTime,s=t.currentTime;i&&s>0&&(s-=i.duration+i.delay),e.styles.forEach(c=>{"string"!=typeof c&&Object.keys(c).forEach(h=>{if(!this._driver.validateStyleProperty(h))return delete c[h],void t.unsupportedCSSPropertiesFound.add(h);const p=t.collectedStyles[t.currentQuerySelector],_=p[h];let T=!0;_&&(s!=r&&s>=_.startTime&&r<=_.endTime&&(t.errors.push(function B5(n,e,t,i,r){return new a.vHH(3010,Gn)}()),T=!1),s=_.startTime),T&&(p[h]={startTime:s,endTime:r}),t.options&&function p8(n,e,t){const i=e.params||{},r=ZV(n);r.length&&r.forEach(s=>{i.hasOwnProperty(s)||t.push(function k5(n){return new a.vHH(3001,Gn)}())})}(c[h],t.options,t.errors)})})}visitKeyframes(e,t){const i={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function U5(){return new a.vHH(3011,Gn)}()),i;let s=0;const c=[];let h=!1,p=!1,_=0;const T=e.steps.map(pt=>{const _t=this._makeStyleAst(pt,t);let yt=null!=_t.offset?_t.offset:function x8(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(RS(t)&&t.hasOwnProperty("offset")){const i=t;e=parseFloat(i.offset),delete i.offset}});else if(RS(n)&&n.hasOwnProperty("offset")){const t=n;e=parseFloat(t.offset),delete t.offset}return e}(_t.styles),ht=0;return null!=yt&&(s++,ht=_t.offset=yt),p=p||ht<0||ht>1,h=h||ht<_,_=ht,c.push(ht),_t});p&&t.errors.push(function H5(){return new a.vHH(3012,Gn)}()),h&&t.errors.push(function j5(){return new a.vHH(3200,Gn)}());const S=e.steps.length;let P=0;s>0&&s<S?t.errors.push(function G5(){return new a.vHH(3202,Gn)}()):0==s&&(P=1/(S-1));const H=S-1,q=t.currentTime,ae=t.currentAnimateTimings,Ce=ae.duration;return T.forEach((pt,_t)=>{const yt=P>0?_t==H?1:P*_t:c[_t],ht=yt*Ce;t.currentTime=q+ae.delay+ht,ae.duration=ht,this._validateStyleAst(pt,t),pt.offset=yt,i.styles.push(pt)}),i}visitReference(e,t){return{type:8,animation:ml(this,wC(e.animation),t),options:Ng(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Ng(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Ng(e.options)}}visitQuery(e,t){const i=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;const[s,c]=function S8(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(D8,"")),n=n.replace(/@\*/g,ES).replace(/@\w+/g,t=>ES+"-"+t.substr(1)).replace(/:animating/g,jR),[n,e]}(e.selector);t.currentQuerySelector=i.length?i+" "+s:s,pl(t.collectedStyles,t.currentQuerySelector,{});const h=ml(this,wC(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:11,selector:s,limit:r.limit||0,optional:!!r.optional,includeSelf:c,animation:h,originalSelector:e.selector,options:Ng(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function $5(){return new a.vHH(3013,Gn)}());const i="full"===e.timings?{duration:0,delay:0,easing:"full"}:TS(e.timings,t.errors,!0);return{type:12,animation:ml(this,wC(e.animation),t),timings:i,options:null}}}class M8{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function RS(n){return!Array.isArray(n)&&"object"==typeof n}function Ng(n){return n?(n=hv(n)).params&&(n.params=function A8(n){return n?hv(n):null}(n.params)):n={},n}function WR(n,e,t){return{duration:n,delay:e,easing:t}}function ZR(n,e,t,i,r,s,c=null,h=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:r,delay:s,totalTime:r+s,easing:c,subTimeline:h}}class OS{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const N8=new RegExp(":enter","g"),F8=new RegExp(":leave","g");function YR(n,e,t,i,r,s={},c={},h,p,_=[]){return(new L8).buildKeyframes(n,e,t,i,r,s,c,h,p,_)}class L8{buildKeyframes(e,t,i,r,s,c,h,p,_,T=[]){_=_||new OS;const S=new KR(e,t,_,r,s,T,[]);S.options=p,S.currentTimeline.setStyles([c],null,S.errors,p),ml(this,i,S);const P=S.timelines.filter(H=>H.containsAnimation());if(Object.keys(h).length){let H;for(let q=P.length-1;q>=0;q--){const ae=P[q];if(ae.element===t){H=ae;break}}H&&!H.allowOnlyTimelineStyles()&&H.setStyles([h],null,S.errors,p)}return P.length?P.map(H=>H.buildKeyframes()):[ZR(t,[],[],[],0,0,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const i=t.subInstructions.get(t.element);if(i){const r=t.createSubContext(e.options),s=t.currentTimeline.currentTime,c=this._visitSubInstructions(i,r,r.options);s!=c&&t.transformIntoNewTimeline(c)}t.previousNode=e}visitAnimateRef(e,t){const i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,i){let s=t.currentTimeline.currentTime;const c=null!=i.duration?Rg(i.duration):null,h=null!=i.delay?Rg(i.delay):null;return 0!==c&&e.forEach(p=>{const _=t.appendInstructionToTimeline(p,c,h);s=Math.max(s,_.duration+_.delay)}),s}visitReference(e,t){t.updateOptions(e.options,!0),ml(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const i=t.subContextCount;let r=t;const s=e.options;if(s&&(s.params||s.delay)&&(r=t.createSubContext(s),r.transformIntoNewTimeline(),null!=s.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=NS);const c=Rg(s.delay);r.delayNextStep(c)}e.steps.length&&(e.steps.forEach(c=>ml(this,c,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const i=[];let r=t.currentTimeline.currentTime;const s=e.options&&e.options.delay?Rg(e.options.delay):0;e.steps.forEach(c=>{const h=t.createSubContext(e.options);s&&h.delayNextStep(s),ml(this,c,h),r=Math.max(r,h.currentTimeline.currentTime),i.push(h.currentTimeline)}),i.forEach(c=>t.currentTimeline.mergeTimelineCollectedStyles(c)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const i=e.strValue;return TS(t.params?DS(i,t.params,t.errors):i,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const i=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),r.snapshotCurrentStyles());const s=e.style;5==s.type?this.visitKeyframes(s,t):(t.incrementTime(i.duration),this.visitStyle(s,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const i=t.currentTimeline,r=t.currentAnimateTimings;!r&&i.getCurrentStyleProperties().length&&i.forwardFrame();const s=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(s):i.setStyles(e.styles,s,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const i=t.currentAnimateTimings,r=t.currentTimeline.duration,s=i.duration,h=t.createSubContext().currentTimeline;h.easing=i.easing,e.styles.forEach(p=>{h.forwardTime((p.offset||0)*s),h.setStyles(p.styles,p.easing,t.errors,t.options),h.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(h),t.transformIntoNewTimeline(r+s),t.previousNode=e}visitQuery(e,t){const i=t.currentTimeline.currentTime,r=e.options||{},s=r.delay?Rg(r.delay):0;s&&(6===t.previousNode.type||0==i&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=NS);let c=i;const h=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=h.length;let p=null;h.forEach((_,T)=>{t.currentQueryIndex=T;const S=t.createSubContext(e.options,_);s&&S.delayNextStep(s),_===t.element&&(p=S.currentTimeline),ml(this,e.animation,S),S.currentTimeline.applyStylesToKeyframe(),c=Math.max(c,S.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(c),p&&(t.currentTimeline.mergeTimelineCollectedStyles(p),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const i=t.parentContext,r=t.currentTimeline,s=e.timings,c=Math.abs(s.duration),h=c*(t.currentQueryTotal-1);let p=c*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":p=h-p;break;case"full":p=i.currentStaggerTime}const T=t.currentTimeline;p&&T.delayNextStep(p);const S=T.currentTime;ml(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=r.currentTime-S+(r.startTime-i.currentTimeline.startTime)}}const NS={};class KR{constructor(e,t,i,r,s,c,h,p){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=s,this.errors=c,this.timelines=h,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=NS,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=p||new PS(this._driver,t,0),h.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const i=e;let r=this.options;null!=i.duration&&(r.duration=Rg(i.duration)),null!=i.delay&&(r.delay=Rg(i.delay));const s=i.params;if(s){let c=r.params;c||(c=this.options.params={}),Object.keys(s).forEach(h=>{(!t||!c.hasOwnProperty(h))&&(c[h]=DS(s[h],c,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const i=e.params={};Object.keys(t).forEach(r=>{i[r]=t[r]})}}return e}createSubContext(e=null,t,i){const r=t||this.element,s=new KR(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=NS,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){const r={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=i?i:0)+e.delay,easing:""},s=new V8(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(s),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,r,s,c){let h=[];if(r&&h.push(this.element),e.length>0){e=(e=e.replace(N8,"."+this._enterClassName)).replace(F8,"."+this._leaveClassName);let _=this._driver.query(this.element,e,1!=i);0!==i&&(_=i<0?_.slice(_.length+i,_.length):_.slice(0,i)),h.push(..._)}return!s&&0==h.length&&c.push(function z5(n){return new a.vHH(3014,Gn)}()),h}}class PS{constructor(e,t,i,r){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new PS(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||yh,this._currentKeyframe[t]=yh}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,r){t&&(this._previousKeyframe.easing=t);const s=r&&r.params||{},c=function B8(n,e){const t={};let i;return n.forEach(r=>{"*"===r?(i=i||Object.keys(e),i.forEach(s=>{t[s]=yh})):ap(r,!1,t)}),t}(e,this._globalTimelineStyles);Object.keys(c).forEach(h=>{const p=DS(c[h],s,i);this._pendingStyles[h]=p,this._localTimelineStyles.hasOwnProperty(h)||(this._backFill[h]=this._globalTimelineStyles.hasOwnProperty(h)?this._globalTimelineStyles[h]:yh),this._updateStyle(h,p)})}applyStylesToKeyframe(){const e=this._pendingStyles,t=Object.keys(e);0!=t.length&&(this._pendingStyles={},t.forEach(i=>{this._currentKeyframe[i]=e[i]}),Object.keys(this._localTimelineStyles).forEach(i=>{this._currentKeyframe.hasOwnProperty(i)||(this._currentKeyframe[i]=this._localTimelineStyles[i])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(e=>{const t=this._localTimelineStyles[e];this._pendingStyles[e]=t,this._updateStyle(e,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){Object.keys(e._styleSummary).forEach(t=>{const i=this._styleSummary[t],r=e._styleSummary[t];(!i||r.time>i.time)&&this._updateStyle(t,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((h,p)=>{const _=ap(h,!0);Object.keys(_).forEach(T=>{const S=_[T];"!"==S?e.add(T):S==yh&&t.add(T)}),i||(_.offset=p/this.duration),r.push(_)});const s=e.size?IS(e.values()):[],c=t.size?IS(t.values()):[];if(i){const h=r[0],p=hv(h);h.offset=0,p.offset=1,r=[h,p]}return ZR(this.element,r,s,c,this.duration,this.startTime,this.easing,!1)}}class V8 extends PS{constructor(e,t,i,r,s,c,h=!1){super(e,t,c.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=s,this._stretchStartingKeyframe=h,this.timings={duration:c.duration,delay:c.delay,easing:c.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){const s=[],c=i+t,h=t/c,p=ap(e[0],!1);p.offset=0,s.push(p);const _=ap(e[0],!1);_.offset=XV(h),s.push(_);const T=e.length-1;for(let S=1;S<=T;S++){let P=ap(e[S],!1);P.offset=XV((t+P.offset*i)/c),s.push(P)}i=c,t=0,r="",e=s}return ZR(this.element,e,this.preStyleProps,this.postStyleProps,i,t,r,!0)}}function XV(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class QR{}class U8 extends QR{normalizePropertyName(e,t){return zR(e)}normalizeStyleValue(e,t,i,r){let s="";const c=i.toString().trim();if(H8[t]&&0!==i&&"0"!==i)if("number"==typeof i)s="px";else{const h=i.match(/^[+-]?[\d\.]+([a-z]*)$/);h&&0==h[1].length&&r.push(function N5(n,e){return new a.vHH(3005,Gn)}())}return c+s}}const H8=(()=>function j8(n){const e={};return n.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function eB(n,e,t,i,r,s,c,h,p,_,T,S,P){return{type:0,element:n,triggerName:e,isRemovalTransition:r,fromState:t,fromStyles:s,toState:i,toStyles:c,timelines:h,queriedElements:p,preStyleProps:_,postStyleProps:T,totalTime:S,errors:P}}const JR={};class tB{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,r){return function G8(n,e,t,i,r){return n.some(s=>s(e,t,i,r))}(this.ast.matchers,e,t,i,r)}buildStyles(e,t,i){const r=this._stateStyles["*"],s=this._stateStyles[e],c=r?r.buildStyles(t,i):{};return s?s.buildStyles(t,i):c}build(e,t,i,r,s,c,h,p,_,T){const S=[],P=this.ast.options&&this.ast.options.params||JR,q=this.buildStyles(i,h&&h.params||JR,S),ae=p&&p.params||JR,Ce=this.buildStyles(r,ae,S),pt=new Set,_t=new Map,yt=new Map,ht="void"===r,Kt={params:Object.assign(Object.assign({},P),ae)},rn=T?[]:YR(e,t,this.ast.animation,s,c,q,Ce,Kt,_,S);let $n=0;if(rn.forEach(_l=>{$n=Math.max(_l.duration+_l.delay,$n)}),S.length)return eB(t,this._triggerName,i,r,ht,q,Ce,[],[],_t,yt,$n,S);rn.forEach(_l=>{const Eh=_l.element,BH=pl(_t,Eh,{});_l.preStyleProps.forEach(Ug=>BH[Ug]=!0);const FC=pl(yt,Eh,{});_l.postStyleProps.forEach(Ug=>FC[Ug]=!0),Eh!==t&&pt.add(Eh)});const Sr=IS(pt.values());return eB(t,this._triggerName,i,r,ht,q,Ce,rn,Sr,_t,yt,$n)}}class $8{constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){const i={},r=hv(this.defaultParams);return Object.keys(e).forEach(s=>{const c=e[s];null!=c&&(r[s]=c)}),this.styles.styles.forEach(s=>{if("string"!=typeof s){const c=s;Object.keys(c).forEach(h=>{let p=c[h];p.length>1&&(p=DS(p,r,t));const _=this.normalizer.normalizePropertyName(h,t);p=this.normalizer.normalizeStyleValue(h,_,p,t),i[_]=p})}}),i}}class q8{constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states={},t.states.forEach(r=>{this.states[r.name]=new $8(r.style,r.options&&r.options.params||{},i)}),nB(this.states,"true","1"),nB(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new tB(e,r,this.states))}),this.fallbackTransition=function W8(n,e,t){return new tB(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(c,h)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,r){return this.transitionFactories.find(c=>c.match(e,t,i,r))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}}function nB(n,e,t){n.hasOwnProperty(e)?n.hasOwnProperty(t)||(n[t]=n[e]):n.hasOwnProperty(t)&&(n[e]=n[t])}const Z8=new OS;class Y8{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations={},this._playersById={},this.players=[]}register(e,t){const i=[],s=qR(this._driver,t,i,[]);if(i.length)throw function J5(n){return new a.vHH(3503,Gn)}();this._animations[e]=s}_buildPlayer(e,t,i){const r=e.element,s=NV(0,this._normalizer,0,e.keyframes,t,i);return this._driver.animate(r,s,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){const r=[],s=this._animations[e];let c;const h=new Map;if(s?(c=YR(this._driver,t,s,HR,wS,{},{},i,Z8,r),c.forEach(T=>{const S=pl(h,T.element,{});T.postStyleProps.forEach(P=>S[P]=null)})):(r.push(function X5(){return new a.vHH(3300,Gn)}()),c=[]),r.length)throw function e8(n){return new a.vHH(3504,Gn)}();h.forEach((T,S)=>{Object.keys(T).forEach(P=>{T[P]=this._driver.computeStyle(S,P,yh)})});const _=op(c.map(T=>{const S=h.get(T.element);return this._buildPlayer(T,{},S)}));return this._playersById[e]=_,_.onDestroy(()=>this.destroy(e)),this.players.push(_),_}destroy(e){const t=this._getPlayer(e);t.destroy(),delete this._playersById[e];const i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){const t=this._playersById[e];if(!t)throw function t8(n){return new a.vHH(3301,Gn)}();return t}listen(e,t,i,r){const s=LR(t,"","","");return PR(this._getPlayer(e),i,s,r),()=>{}}command(e,t,i,r){if("register"==i)return void this.register(e,r[0]);if("create"==i)return void this.create(e,t,r[0]||{});const s=this._getPlayer(e);switch(i){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}}const iB="ng-animate-queued",XR="ng-animate-disabled",eW=[],rB={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},tW={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},sc="__ng_removed";class eO{constructor(e,t=""){this.namespaceId=t;const i=e&&e.hasOwnProperty("value");if(this.value=function sW(n){return null!=n?n:null}(i?e.value:e),i){const s=hv(e);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const i=this.options.params;Object.keys(t).forEach(r=>{null==i[r]&&(i[r]=t[r])})}}}const CC="void",tO=new eO(CC);class nW{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,oc(t,this._hostClassName)}listen(e,t,i,r){if(!this._triggers.hasOwnProperty(t))throw function n8(n,e){return new a.vHH(3302,Gn)}();if(null==i||0==i.length)throw function i8(n){return new a.vHH(3303,Gn)}();if(!function oW(n){return"start"==n||"done"==n}(i))throw function r8(n,e){return new a.vHH(3400,Gn)}();const s=pl(this._elementListeners,e,[]),c={name:t,phase:i,callback:r};s.push(c);const h=pl(this._engine.statesByElement,e,{});return h.hasOwnProperty(t)||(oc(e,CS),oc(e,CS+"-"+t),h[t]=tO),()=>{this._engine.afterFlush(()=>{const p=s.indexOf(c);p>=0&&s.splice(p,1),this._triggers[t]||delete h[t]})}}register(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}_getTrigger(e){const t=this._triggers[e];if(!t)throw function s8(n){return new a.vHH(3401,Gn)}();return t}trigger(e,t,i,r=!0){const s=this._getTrigger(t),c=new nO(this.id,t,e);let h=this._engine.statesByElement.get(e);h||(oc(e,CS),oc(e,CS+"-"+t),this._engine.statesByElement.set(e,h={}));let p=h[t];const _=new eO(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&p&&_.absorbOptions(p.options),h[t]=_,p||(p=tO),_.value!==CC&&p.value===_.value){if(!function cW(n,e){const t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let r=0;r<t.length;r++){const s=t[r];if(!e.hasOwnProperty(s)||n[s]!==e[s])return!1}return!0}(p.params,_.params)){const ae=[],Ce=s.matchStyles(p.value,p.params,ae),pt=s.matchStyles(_.value,_.params,ae);ae.length?this._engine.reportError(ae):this._engine.afterFlush(()=>{Og(e,Ce),rd(e,pt)})}return}const P=pl(this._engine.playersByElement,e,[]);P.forEach(ae=>{ae.namespaceId==this.id&&ae.triggerName==t&&ae.queued&&ae.destroy()});let H=s.matchTransition(p.value,_.value,e,_.params),q=!1;if(!H){if(!r)return;H=s.fallbackTransition,q=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:H,fromState:p,toState:_,player:c,isFallbackTransition:q}),q||(oc(e,iB),c.onStart(()=>{fv(e,iB)})),c.onDone(()=>{let ae=this.players.indexOf(c);ae>=0&&this.players.splice(ae,1);const Ce=this._engine.playersByElement.get(e);if(Ce){let pt=Ce.indexOf(c);pt>=0&&Ce.splice(pt,1)}}),this.players.push(c),P.push(c),c}deregister(e){delete this._triggers[e],this._engine.statesByElement.forEach((t,i)=>{delete t[e]}),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const i=this._engine.driver.query(e,ES,!0);i.forEach(r=>{if(r[sc])return;const s=this._engine.fetchNamespacesByElement(r);s.size?s.forEach(c=>c.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,t,i,r){const s=this._engine.statesByElement.get(e),c=new Map;if(s){const h=[];if(Object.keys(s).forEach(p=>{if(c.set(p,s[p].value),this._triggers[p]){const _=this.trigger(e,p,CC,r);_&&h.push(_)}}),h.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,c),i&&op(h).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){const r=new Set;t.forEach(s=>{const c=s.name;if(r.has(c))return;r.add(c);const p=this._triggers[c].fallbackTransition,_=i[c]||tO,T=new eO(CC),S=new nO(this.id,c,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:c,transition:p,fromState:_,toState:T,player:S,isFallbackTransition:!0})})}}removeNode(e,t){const i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(i.totalAnimations){const s=i.players.length?i.playersByQueriedElement.get(e):[];if(s&&s.length)r=!0;else{let c=e;for(;c=c.parentNode;)if(i.statesByElement.get(c)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,t);else{const s=e[sc];(!s||s===rB)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){oc(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const s=i.element,c=this._elementListeners.get(s);c&&c.forEach(h=>{if(h.name==i.triggerName){const p=LR(s,i.triggerName,i.fromState.value,i.toState.value);p._data=e,PR(i.player,h.phase,p,h.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(i)}),this._queue=[],t.sort((i,r)=>{const s=i.transition.ast.depCount,c=r.transition.ast.depCount;return 0==s||0==c?s-c:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(i=>i.element===e)||t,t}}class iW{constructor(e,t,i){this.bodyNode=e,this.driver=t,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,s)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){const i=new nW(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){const i=this._namespaceList,r=this.namespacesByHostElement,s=i.length-1;if(s>=0){let c=!1;if(void 0!==this.driver.getParentElement){let h=this.driver.getParentElement(t);for(;h;){const p=r.get(h);if(p){const _=i.indexOf(p);i.splice(_+1,0,e),c=!0;break}h=this.driver.getParentElement(h)}}else for(let h=s;h>=0;h--)if(this.driver.containsElement(i[h].hostElement,t)){i.splice(h+1,0,e),c=!0;break}c||i.unshift(e)}else i.push(e);return r.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let r=this._namespaceLookup[e];r&&r.register(t,i)&&this.totalAnimations++}destroy(e,t){if(!e)return;const i=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[e];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,i=this.statesByElement.get(e);if(i){const r=Object.keys(i);for(let s=0;s<r.length;s++){const c=i[r[s]].namespaceId;if(c){const h=this._fetchNamespace(c);h&&t.add(h)}}}return t}trigger(e,t,i,r){if(FS(t)){const s=this._fetchNamespace(e);if(s)return s.trigger(t,i,r),!0}return!1}insertNode(e,t,i,r){if(!FS(t))return;const s=t[sc];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const c=this.collectedLeaveElements.indexOf(t);c>=0&&this.collectedLeaveElements.splice(c,1)}if(e){const c=this._fetchNamespace(e);c&&c.insertNode(t,i)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),oc(e,XR)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),fv(e,XR))}removeNode(e,t,i,r){if(FS(t)){const s=e?this._fetchNamespace(e):null;if(s?s.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r),i){const c=this.namespacesByHostElement.get(t);c&&c.id!==e&&c.removeNode(t,r)}}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,i,r,s){this.collectedLeaveElements.push(t),t[sc]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,t,i,r,s){return FS(t)?this._fetchNamespace(e).listen(t,i,r,s):()=>{}}_buildInstruction(e,t,i,r,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,t,s)}destroyInnerAnimations(e){let t=this.driver.query(e,ES,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,jR,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return op(this.players).onDone(()=>e());e()})}processLeaveNode(e){var t;const i=e[sc];if(i&&i.setForRemoval){if(e[sc]=rB,i.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(i.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,i.setForRemoval)}(null===(t=e.classList)||void 0===t?void 0:t.contains(XR))&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)oc(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{t=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],t.length?op(t).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw function o8(n){return new a.vHH(3402,Gn)}()}_flushAnimations(e,t){const i=new OS,r=[],s=new Map,c=[],h=new Map,p=new Map,_=new Map,T=new Set;this.disabledNodes.forEach(Pt=>{T.add(Pt);const Wt=this.driver.query(Pt,".ng-animate-queued",!0);for(let un=0;un<Wt.length;un++)T.add(Wt[un])});const S=this.bodyNode,P=Array.from(this.statesByElement.keys()),H=aB(P,this.collectedEnterElements),q=new Map;let ae=0;H.forEach((Pt,Wt)=>{const un=HR+ae++;q.set(Wt,un),Pt.forEach(oi=>oc(oi,un))});const Ce=[],pt=new Set,_t=new Set;for(let Pt=0;Pt<this.collectedLeaveElements.length;Pt++){const Wt=this.collectedLeaveElements[Pt],un=Wt[sc];un&&un.setForRemoval&&(Ce.push(Wt),pt.add(Wt),un.hasAnimation?this.driver.query(Wt,".ng-star-inserted",!0).forEach(oi=>pt.add(oi)):_t.add(Wt))}const yt=new Map,ht=aB(P,Array.from(pt));ht.forEach((Pt,Wt)=>{const un=wS+ae++;yt.set(Wt,un),Pt.forEach(oi=>oc(oi,un))}),e.push(()=>{H.forEach((Pt,Wt)=>{const un=q.get(Wt);Pt.forEach(oi=>fv(oi,un))}),ht.forEach((Pt,Wt)=>{const un=yt.get(Wt);Pt.forEach(oi=>fv(oi,un))}),Ce.forEach(Pt=>{this.processLeaveNode(Pt)})});const Kt=[],rn=[];for(let Pt=this._namespaceList.length-1;Pt>=0;Pt--)this._namespaceList[Pt].drainQueuedTransitions(t).forEach(un=>{const oi=un.player,Ks=un.element;if(Kt.push(oi),this.collectedEnterElements.length){const Ca=Ks[sc];if(Ca&&Ca.setForMove){if(Ca.previousTriggersValues&&Ca.previousTriggersValues.has(un.triggerName)){const Hg=Ca.previousTriggersValues.get(un.triggerName),mp=this.statesByElement.get(un.element);mp&&mp[un.triggerName]&&(mp[un.triggerName].value=Hg)}return void oi.destroy()}}const sd=!S||!this.driver.containsElement(S,Ks),yl=yt.get(Ks),pp=q.get(Ks),Ar=this._buildInstruction(un,i,pp,yl,sd);if(Ar.errors&&Ar.errors.length)return void rn.push(Ar);if(sd)return oi.onStart(()=>Og(Ks,Ar.fromStyles)),oi.onDestroy(()=>rd(Ks,Ar.toStyles)),void r.push(oi);if(un.isFallbackTransition)return oi.onStart(()=>Og(Ks,Ar.fromStyles)),oi.onDestroy(()=>rd(Ks,Ar.toStyles)),void r.push(oi);const jH=[];Ar.timelines.forEach(Ca=>{Ca.stretchStartingKeyframe=!0,this.disabledNodes.has(Ca.element)||jH.push(Ca)}),Ar.timelines=jH,i.append(Ks,Ar.timelines),c.push({instruction:Ar,player:oi,element:Ks}),Ar.queriedElements.forEach(Ca=>pl(h,Ca,[]).push(oi)),Ar.preStyleProps.forEach((Ca,Hg)=>{const mp=Object.keys(Ca);if(mp.length){let jg=p.get(Hg);jg||p.set(Hg,jg=new Set),mp.forEach(pN=>jg.add(pN))}}),Ar.postStyleProps.forEach((Ca,Hg)=>{const mp=Object.keys(Ca);let jg=_.get(Hg);jg||_.set(Hg,jg=new Set),mp.forEach(pN=>jg.add(pN))})});if(rn.length){const Pt=[];rn.forEach(Wt=>{Pt.push(function a8(n,e){return new a.vHH(3505,Gn)}())}),Kt.forEach(Wt=>Wt.destroy()),this.reportError(Pt)}const $n=new Map,Sr=new Map;c.forEach(Pt=>{const Wt=Pt.element;i.has(Wt)&&(Sr.set(Wt,Wt),this._beforeAnimationBuild(Pt.player.namespaceId,Pt.instruction,$n))}),r.forEach(Pt=>{const Wt=Pt.element;this._getPreviousPlayers(Wt,!1,Pt.namespaceId,Pt.triggerName,null).forEach(oi=>{pl($n,Wt,[]).push(oi),oi.destroy()})});const _l=Ce.filter(Pt=>cB(Pt,p,_)),Eh=new Map;oB(Eh,this.driver,_t,_,yh).forEach(Pt=>{cB(Pt,p,_)&&_l.push(Pt)});const FC=new Map;H.forEach((Pt,Wt)=>{oB(FC,this.driver,new Set(Pt),p,"!")}),_l.forEach(Pt=>{const Wt=Eh.get(Pt),un=FC.get(Pt);Eh.set(Pt,Object.assign(Object.assign({},Wt),un))});const Ug=[],UH=[],HH={};c.forEach(Pt=>{const{element:Wt,player:un,instruction:oi}=Pt;if(i.has(Wt)){if(T.has(Wt))return un.onDestroy(()=>rd(Wt,oi.toStyles)),un.disabled=!0,un.overrideTotalTime(oi.totalTime),void r.push(un);let Ks=HH;if(Sr.size>1){let yl=Wt;const pp=[];for(;yl=yl.parentNode;){const Ar=Sr.get(yl);if(Ar){Ks=Ar;break}pp.push(yl)}pp.forEach(Ar=>Sr.set(Ar,Ks))}const sd=this._buildAnimation(un.namespaceId,oi,$n,s,FC,Eh);if(un.setRealPlayer(sd),Ks===HH)Ug.push(un);else{const yl=this.playersByElement.get(Ks);yl&&yl.length&&(un.parentPlayer=op(yl)),r.push(un)}}else Og(Wt,oi.fromStyles),un.onDestroy(()=>rd(Wt,oi.toStyles)),UH.push(un),T.has(Wt)&&r.push(un)}),UH.forEach(Pt=>{const Wt=s.get(Pt.element);if(Wt&&Wt.length){const un=op(Wt);Pt.setRealPlayer(un)}}),r.forEach(Pt=>{Pt.parentPlayer?Pt.syncPlayerEvents(Pt.parentPlayer):Pt.destroy()});for(let Pt=0;Pt<Ce.length;Pt++){const Wt=Ce[Pt],un=Wt[sc];if(fv(Wt,wS),un&&un.hasAnimation)continue;let oi=[];if(h.size){let sd=h.get(Wt);sd&&sd.length&&oi.push(...sd);let yl=this.driver.query(Wt,jR,!0);for(let pp=0;pp<yl.length;pp++){let Ar=h.get(yl[pp]);Ar&&Ar.length&&oi.push(...Ar)}}const Ks=oi.filter(sd=>!sd.destroyed);Ks.length?aW(this,Wt,Ks):this.processLeaveNode(Wt)}return Ce.length=0,Ug.forEach(Pt=>{this.players.push(Pt),Pt.onDone(()=>{Pt.destroy();const Wt=this.players.indexOf(Pt);this.players.splice(Wt,1)}),Pt.play()}),Ug}elementContainsData(e,t){let i=!1;const r=t[sc];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(t)&&(i=!0),this.playersByQueriedElement.has(t)&&(i=!0),this.statesByElement.has(t)&&(i=!0),this._fetchNamespace(e).elementContainsData(t)||i}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,r,s){let c=[];if(t){const h=this.playersByQueriedElement.get(e);h&&(c=h)}else{const h=this.playersByElement.get(e);if(h){const p=!s||s==CC;h.forEach(_=>{_.queued||!p&&_.triggerName!=r||c.push(_)})}}return(i||r)&&(c=c.filter(h=>!(i&&i!=h.namespaceId||r&&r!=h.triggerName))),c}_beforeAnimationBuild(e,t,i){const s=t.element,c=t.isRemovalTransition?void 0:e,h=t.isRemovalTransition?void 0:t.triggerName;for(const p of t.timelines){const _=p.element,T=_!==s,S=pl(i,_,[]);this._getPreviousPlayers(_,T,c,h,t.toState).forEach(H=>{const q=H.getRealPlayer();q.beforeDestroy&&q.beforeDestroy(),H.destroy(),S.push(H)})}Og(s,t.fromStyles)}_buildAnimation(e,t,i,r,s,c){const h=t.triggerName,p=t.element,_=[],T=new Set,S=new Set,P=t.timelines.map(q=>{const ae=q.element;T.add(ae);const Ce=ae[sc];if(Ce&&Ce.removedBeforeQueried)return new bC(q.duration,q.delay);const pt=ae!==p,_t=function lW(n){const e=[];return lB(n,e),e}((i.get(ae)||eW).map($n=>$n.getRealPlayer())).filter($n=>!!$n.element&&$n.element===ae),yt=s.get(ae),ht=c.get(ae),Kt=NV(0,this._normalizer,0,q.keyframes,yt,ht),rn=this._buildPlayer(q,Kt,_t);if(q.subTimeline&&r&&S.add(ae),pt){const $n=new nO(e,h,ae);$n.setRealPlayer(rn),_.push($n)}return rn});_.forEach(q=>{pl(this.playersByQueriedElement,q.element,[]).push(q),q.onDone(()=>function rW(n,e,t){let i;if(n instanceof Map){if(i=n.get(e),i){if(i.length){const r=i.indexOf(t);i.splice(r,1)}0==i.length&&n.delete(e)}}else if(i=n[e],i){if(i.length){const r=i.indexOf(t);i.splice(r,1)}0==i.length&&delete n[e]}return i}(this.playersByQueriedElement,q.element,q))}),T.forEach(q=>oc(q,$V));const H=op(P);return H.onDestroy(()=>{T.forEach(q=>fv(q,$V)),rd(p,t.toStyles)}),S.forEach(q=>{pl(r,q,[]).push(H)}),H}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new bC(e.duration,e.delay)}}class nO{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new bC,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(i=>PR(e,t,void 0,i))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){pl(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function FS(n){return n&&1===n.nodeType}function sB(n,e){const t=n.style.display;return n.style.display=null!=e?e:"none",t}function oB(n,e,t,i,r){const s=[];t.forEach(p=>s.push(sB(p)));const c=[];i.forEach((p,_)=>{const T={};p.forEach(S=>{const P=T[S]=e.computeStyle(_,S,r);(!P||0==P.length)&&(_[sc]=tW,c.push(_))}),n.set(_,T)});let h=0;return t.forEach(p=>sB(p,s[h++])),c}function aB(n,e){const t=new Map;if(n.forEach(h=>t.set(h,[])),0==e.length)return t;const r=new Set(e),s=new Map;function c(h){if(!h)return 1;let p=s.get(h);if(p)return p;const _=h.parentNode;return p=t.has(_)?_:r.has(_)?1:c(_),s.set(h,p),p}return e.forEach(h=>{const p=c(h);1!==p&&t.get(p).push(h)}),t}function oc(n,e){var t;null===(t=n.classList)||void 0===t||t.add(e)}function fv(n,e){var t;null===(t=n.classList)||void 0===t||t.remove(e)}function aW(n,e,t){op(t).onDone(()=>n.processLeaveNode(e))}function lB(n,e){for(let t=0;t<n.length;t++){const i=n[t];i instanceof RV?lB(i.players,e):e.push(i)}}function cB(n,e,t){const i=t.get(n);if(!i)return!1;let r=e.get(n);return r?i.forEach(s=>r.add(s)):e.set(n,i),t.delete(n),!0}class LS{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,s)=>{},this._transitionEngine=new iW(e,t,i),this._timelineEngine=new Y8(e,t,i),this._transitionEngine.onRemovalComplete=(r,s)=>this.onRemovalComplete(r,s)}registerTrigger(e,t,i,r,s){const c=e+"-"+r;let h=this._triggerCache[c];if(!h){const p=[],T=qR(this._driver,s,p,[]);if(p.length)throw function K5(n,e){return new a.vHH(3404,Gn)}();h=function z8(n,e,t){return new q8(n,e,t)}(r,T,this._normalizer),this._triggerCache[c]=h}this._transitionEngine.registerTrigger(t,r,h)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,r){this._transitionEngine.insertNode(e,t,i,r)}onRemove(e,t,i,r){this._transitionEngine.removeNode(e,t,r||!1,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,r){if("@"==i.charAt(0)){const[s,c]=PV(i);this._timelineEngine.command(s,t,c,r)}else this._transitionEngine.trigger(e,t,i,r)}listen(e,t,i,r,s){if("@"==i.charAt(0)){const[c,h]=PV(i);return this._timelineEngine.listen(c,t,h,s)}return this._transitionEngine.listen(e,t,i,r,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let dW=(()=>{class n{constructor(t,i,r){this._element=t,this._startStyles=i,this._endStyles=r,this._state=0;let s=n.initialStylesByElement.get(t);s||n.initialStylesByElement.set(t,s={}),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&rd(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(rd(this._element,this._initialStyles),this._endStyles&&(rd(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Og(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Og(this._element,this._endStyles),this._endStyles=null),rd(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function iO(n){let e=null;const t=Object.keys(n);for(let i=0;i<t.length;i++){const r=t[i];hW(r)&&(e=e||{},e[r]=n[r])}return e}function hW(n){return"display"===n||"position"===n}class uB{constructor(e,t,i,r){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(e,t,i){return e.animate(t,i)}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e={};if(this.hasStarted()){const t=this._finalKeyframe;Object.keys(t).forEach(i=>{"offset"!=i&&(e[i]=this._finished?t[i]:YV(this.element,i))})}this.currentSnapshot=e}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class fW{validateStyleProperty(e){return BV(e)}matchesElement(e,t){return!1}containsElement(e,t){return UV(e,t)}getParentElement(e){return BR(e)}query(e,t,i){return HV(e,t,i)}computeStyle(e,t,i){return window.getComputedStyle(e)[t]}animate(e,t,i,r,s,c=[]){const p={duration:i,delay:r,fill:0==r?"both":"forwards"};s&&(p.easing=s);const _={},T=c.filter(P=>P instanceof uB);(function _8(n,e){return 0===n||0===e})(i,r)&&T.forEach(P=>{let H=P.currentSnapshot;Object.keys(H).forEach(q=>_[q]=H[q])}),t=function y8(n,e,t){const i=Object.keys(t);if(i.length&&e.length){let s=e[0],c=[];if(i.forEach(h=>{s.hasOwnProperty(h)||c.push(h),s[h]=t[h]}),c.length)for(var r=1;r<e.length;r++){let h=e[r];c.forEach(function(p){h[p]=YV(n,p)})}}return e}(e,t=t.map(P=>ap(P,!1)),_);const S=function uW(n,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=iO(e[0]),e.length>1&&(i=iO(e[e.length-1]))):e&&(t=iO(e)),t||i?new dW(n,t,i):null}(e,t);return new uB(e,t,p,S)}}let pW=(()=>{class n extends SV{constructor(t,i){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(i.body,{id:"0",encapsulation:a.ifc.None,styles:[],data:{animation:[]}})}build(t){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(t)?kR(t):t;return dB(this._renderer,null,i,"register",[r]),new mW(i,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(a.FYo),a.LFG(fe))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();class mW extends class A5{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new gW(this._id,e,t||{},this._renderer)}}class gW{constructor(e,t,i,r){this.id=e,this.element=t,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return dB(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){var e,t;return null!==(t=null===(e=this._renderer.engine.players[+this.id])||void 0===e?void 0:e.getPosition())&&void 0!==t?t:0}}function dB(n,e,t,i,r){return n.setProperty(e,`@@${t}:${i}`,r)}const hB="@.disabled";let _W=(()=>{class n{constructor(t,i,r){this.delegate=t,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(s,c)=>{const h=null==c?void 0:c.parentNode(s);h&&c.removeChild(h,s)}}createRenderer(t,i){const s=this.delegate.createRenderer(t,i);if(!(t&&i&&i.data&&i.data.animation)){let T=this._rendererCache.get(s);return T||(T=new fB("",s,this.engine),this._rendererCache.set(s,T)),T}const c=i.id,h=i.id+"-"+this._currentId;this._currentId++,this.engine.register(h,t);const p=T=>{Array.isArray(T)?T.forEach(p):this.engine.registerTrigger(c,h,t,T.name,T)};return i.data.animation.forEach(p),new yW(this,h,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,i,r){t>=0&&t<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[c,h]=s;c(h)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(a.FYo),a.LFG(LS),a.LFG(a.R0b))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();class fB{constructor(e,t,i){this.namespaceId=e,this.delegate=t,this.engine=i,this.destroyNode=this.delegate.destroyNode?r=>t.destroyNode(r):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,r=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,i){this.engine.onRemove(this.namespaceId,t,this.delegate,i)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,r){this.delegate.setAttribute(e,t,i,r)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,r){this.delegate.setStyle(e,t,i,r)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){"@"==t.charAt(0)&&t==hB?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class yW extends fB{constructor(e,t,i,r){super(t,i,r),this.factory=e,this.namespaceId=t}setProperty(e,t,i){"@"==t.charAt(0)?"."==t.charAt(1)&&t==hB?this.disableAnimations(e,i=void 0===i||!!i):this.engine.process(this.namespaceId,e,t.substr(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if("@"==t.charAt(0)){const r=function vW(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let s=t.substr(1),c="";return"@"!=s.charAt(0)&&([s,c]=function bW(n){const e=n.indexOf(".");return[n.substring(0,e),n.substr(e+1)]}(s)),this.engine.listen(this.namespaceId,r,s,c,h=>{this.factory.scheduleListenerCallback(h._data||-1,i,h)})}return this.delegate.listen(e,t,i)}}let wW=(()=>{class n extends LS{constructor(t,i,r){super(t.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(fe),a.LFG(UR),a.LFG(QR))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const lp=new a.OlP("AnimationModuleType"),pB=[{provide:SV,useClass:pW},{provide:QR,useFactory:function CW(){return new U8}},{provide:LS,useClass:wW},{provide:a.FYo,useFactory:function EW(n,e,t){return new _W(n,e,t)},deps:[ln,LS,a.R0b]}],mB=[{provide:UR,useFactory:()=>new fW},{provide:lp,useValue:"BrowserAnimations"},...pB],TW=[{provide:UR,useClass:jV},{provide:lp,useValue:"NoopAnimations"},...pB];let DW=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?TW:mB}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:mB,imports:[so]}),n})();const SW=new a.OlP("mat-sanity-checks",{providedIn:"root",factory:function IW(){return!0}});let Xr=(()=>{class n{constructor(t,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!MR()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(S5),a.LFG(SW,8),a.LFG(fe))},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[_C],_C]}),n})();function AW(n){return class extends n{constructor(...e){super(...e),this._disabled=!1}get disabled(){return this._disabled}set disabled(e){this._disabled=ou(e)}}}function rO(n,e){return class extends n{constructor(...t){super(...t),this.defaultColor=e,this.color=e}get color(){return this._color}set color(t){const i=t||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}}}function MW(n){return class extends n{constructor(...e){super(...e),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=ou(e)}}}function xW(n){return class extends n{constructor(...e){super(...e),this.stateChanges=new I.x,this.errorState=!1}updateErrorState(){const e=this.errorState,s=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);s!==e&&(this.errorState=s,this.stateChanges.next())}}}let _B=(()=>{class n{isErrorState(t,i){return!!(t&&t.invalid&&(t.touched||i&&i.submitted))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),yB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[Xr],Xr]}),n})();class RW{constructor(e,t,i){this._renderer=e,this.element=t,this.config=i,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const vB={enterDuration:225,exitDuration:150},sO=gS({passive:!0}),bB=["mousedown","touchstart"],wB=["mouseup","mouseleave","touchend","touchcancel"];class NW{constructor(e,t,i,r){this._target=e,this._ngZone=t,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=_h(i))}fadeInRipple(e,t,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s=Object.assign(Object.assign({},vB),i.animation);i.centered&&(e=r.left+r.width/2,t=r.top+r.height/2);const c=i.radius||function FW(n,e,t){const i=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),r=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(i*i+r*r)}(e,t,r),h=e-r.left,p=t-r.top,_=s.enterDuration,T=document.createElement("div");T.classList.add("mat-ripple-element"),T.style.left=h-c+"px",T.style.top=p-c+"px",T.style.height=2*c+"px",T.style.width=2*c+"px",null!=i.color&&(T.style.backgroundColor=i.color),T.style.transitionDuration=`${_}ms`,this._containerElement.appendChild(T),function PW(n){window.getComputedStyle(n).getPropertyValue("opacity")}(T),T.style.transform="scale(1)";const S=new RW(this,T,i);return S.state=0,this._activeRipples.add(S),i.persistent||(this._mostRecentTransientRipple=S),this._runTimeoutOutsideZone(()=>{const P=S===this._mostRecentTransientRipple;S.state=1,!i.persistent&&(!P||!this._isPointerDown)&&S.fadeOut()},_),S}fadeOutRipple(e){const t=this._activeRipples.delete(e);if(e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!t)return;const i=e.element,r=Object.assign(Object.assign({},vB),e.config.animation);i.style.transitionDuration=`${r.exitDuration}ms`,i.style.opacity="0",e.state=2,this._runTimeoutOutsideZone(()=>{e.state=3,i.remove()},r.exitDuration)}fadeOutAll(){this._activeRipples.forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=_h(e);!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,this._registerEvents(bB))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(wB),this._pointerUpEventsRegistered=!0)}_onMousedown(e){const t=wV(e),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!i&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!CV(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;for(let i=0;i<t.length;i++)this.fadeInRipple(t[i].clientX,t[i].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_runTimeoutOutsideZone(e,t=0){this._ngZone.runOutsideAngular(()=>setTimeout(e,t))}_registerEvents(e){this._ngZone.runOutsideAngular(()=>{e.forEach(t=>{this._triggerElement.addEventListener(t,this,sO)})})}_removeTriggerEvents(){this._triggerElement&&(bB.forEach(e=>{this._triggerElement.removeEventListener(e,this,sO)}),this._pointerUpEventsRegistered&&wB.forEach(e=>{this._triggerElement.removeEventListener(e,this,sO)}))}}const LW=new a.OlP("mat-ripple-global-options");let CB=(()=>{class n{constructor(t,i,r,s,c){this._elementRef=t,this._animationMode=c,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=s||{},this._rippleRenderer=new NW(this,i,t,r)}get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,i=0,r){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,i,Object.assign(Object.assign({},this.rippleConfig),r)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),t))}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.SBq),a.Y36(a.R0b),a.Y36(va),a.Y36(LW,8),a.Y36(lp,8))},n.\u0275dir=a.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,i){2&t&&a.ekj("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),VW=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[Xr],Xr]}),n})();const BW=["mat-button",""],UW=["*"],jW=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],GW=rO(AW(MW(class{constructor(n){this._elementRef=n}})));let EB=(()=>{class n extends GW{constructor(t,i,r){super(t),this._focusMonitor=i,this._animationMode=r,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const s of jW)this._hasHostAttributes(s)&&this._getHostElement().classList.add(s);t.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t,i){t?this._focusMonitor.focusVia(this._getHostElement(),t,i):this._getHostElement().focus(i)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...t){return t.some(i=>this._getHostElement().hasAttribute(i))}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.SBq),a.Y36(TV),a.Y36(lp,8))},n.\u0275cmp=a.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(t,i){if(1&t&&a.Gf(CB,5),2&t){let r;a.iGM(r=a.CRH())&&(i.ripple=r.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(t,i){2&t&&(a.uIk("disabled",i.disabled||null),a.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-button-disabled",i.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[a.qOj],attrs:BW,ngContentSelectors:UW,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,i){1&t&&(a.F$t(),a.TgZ(0,"span",0),a.Hsn(1),a.qZA(),a._UZ(2,"span",1)(3,"span",2)),2&t&&(a.xp6(2),a.ekj("mat-button-ripple-round",i.isRoundButton||i.isIconButton),a.Q6J("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",i.isIconButton)("matRippleTrigger",i._getHostElement()))},directives:[CB],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),n})(),$W=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[VW,Xr],Xr]}),n})();const zW=["*",[["mat-card-footer"]]],qW=["*","mat-card-footer"];let WW=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=a.lG2({type:n,selectors:[["mat-card-content"],["","mat-card-content",""],["","matCardContent",""]],hostAttrs:[1,"mat-card-content"]}),n})(),ZW=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=a.lG2({type:n,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-card-title"]}),n})(),YW=(()=>{class n{constructor(t){this._animationMode=t}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(lp,8))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(t,i){2&t&&a.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)},exportAs:["matCard"],ngContentSelectors:qW,decls:2,vars:0,template:function(t,i){1&t&&(a.F$t(zW),a.Hsn(0),a.Hsn(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}._mat-animation-noopable.mat-card{transition:none;animation:none}.mat-card .mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card .mat-divider-horizontal{left:auto;right:0}.mat-card .mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card .mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px;display:block;overflow:hidden}.mat-card-image img{width:100%}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}\n"],encapsulation:2,changeDetection:0}),n})(),KW=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[Xr],Xr]}),n})(),XW=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[yB,Xr],yB,Xr]}),n})();let IB=(()=>{class n{constructor(t,i){this._renderer=t,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.Qsj),a.Y36(a.SBq))},n.\u0275dir=a.lG2({type:n}),n})(),Fg=(()=>{class n extends IB{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=a.n5z(n)))(i||n)}}(),n.\u0275dir=a.lG2({type:n,features:[a.qOj]}),n})();const ac=new a.OlP("NgValueAccessor"),tZ={provide:ac,useExisting:(0,a.Gpc)(()=>pv),multi:!0},iZ=new a.OlP("CompositionEventMode");let pv=(()=>{class n extends IB{constructor(t,i,r){super(t,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function nZ(){const n=U()?U().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.Qsj),a.Y36(a.SBq),a.Y36(iZ,8))},n.\u0275dir=a.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,i){1&t&&a.NdJ("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[a._Bn([tZ]),a.qOj]}),n})();function cp(n){return null==n||0===n.length}function AB(n){return null!=n&&"number"==typeof n.length}const Ho=new a.OlP("NgValidators"),up=new a.OlP("NgAsyncValidators"),rZ=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class au{static min(e){return function MB(n){return e=>{if(cp(e.value)||cp(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function xB(n){return e=>{if(cp(e.value)||cp(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function kB(n){return cp(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function RB(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function OB(n){return cp(n.value)||rZ.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function NB(n){return e=>cp(e.value)||!AB(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return PB(e)}static pattern(e){return function FB(n){if(!n)return BS;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),i=>{if(cp(i.value))return null;const r=i.value;return e.test(r)?null:{pattern:{requiredPattern:t,actualValue:r}}}}(e)}static nullValidator(e){return null}static compose(e){return jB(e)}static composeAsync(e){return GB(e)}}function PB(n){return e=>AB(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}function BS(n){return null}function LB(n){return null!=n}function VB(n){const e=(0,a.QGY)(n)?(0,x.D)(n):n;return(0,a.CqO)(e),e}function BB(n){let e={};return n.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function UB(n,e){return e.map(t=>t(n))}function HB(n){return n.map(e=>function sZ(n){return!n.validate}(e)?e:t=>e.validate(t))}function jB(n){if(!n)return null;const e=n.filter(LB);return 0==e.length?null:function(t){return BB(UB(t,e))}}function oO(n){return null!=n?jB(HB(n)):null}function GB(n){if(!n)return null;const e=n.filter(LB);return 0==e.length?null:function(t){return function DB(...n){const e=(0,b.jO)(n),{args:t,keys:i}=Oc(n),r=new G.y(s=>{const{length:c}=t;if(!c)return void s.complete();const h=new Array(c);let p=c,_=c;for(let T=0;T<c;T++){let S=!1;(0,ke.Xf)(t[T]).subscribe((0,gi.x)(s,P=>{S||(S=!0,_--),h[T]=P},()=>p--,void 0,()=>{(!p||!S)&&(_||s.next(i?qC(i,h):h),s.complete())}))}});return e?r.pipe(Qi(e)):r}(UB(t,e).map(VB)).pipe((0,be.U)(BB))}}function aO(n){return null!=n?GB(HB(n)):null}function $B(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function zB(n){return n._rawValidators}function qB(n){return n._rawAsyncValidators}function lO(n){return n?Array.isArray(n)?n:[n]:[]}function US(n,e){return Array.isArray(n)?n.includes(e):n===e}function WB(n,e){const t=lO(e);return lO(n).forEach(r=>{US(t,r)||t.push(r)}),t}function ZB(n,e){return lO(e).filter(t=>!US(n,t))}class YB{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=oO(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=aO(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class vh extends YB{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class ba extends YB{get formDirective(){return null}get path(){return null}}class KB{constructor(e){this._cd=e}is(e){var t,i,r;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(r=null===(i=this._cd)||void 0===i?void 0:i.control)||void 0===r?void 0:r[e])}}let HS=(()=>{class n extends KB{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(vh,2))},n.\u0275dir=a.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,i){2&t&&a.ekj("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))},features:[a.qOj]}),n})(),QB=(()=>{class n extends KB{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(ba,10))},n.\u0275dir=a.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,i){2&t&&a.ekj("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))("ng-submitted",i.is("submitted"))},features:[a.qOj]}),n})();function GS(n,e){return[...e.path,n]}function TC(n,e){dO(n,e),e.valueAccessor.writeValue(n.value),function fZ(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&XB(n,e)})}(n,e),function mZ(n,e){const t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function pZ(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&XB(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function hZ(n,e){if(e.valueAccessor.setDisabledState){const t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function $S(n,e,t=!0){const i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),qS(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function zS(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function dO(n,e){const t=zB(n);null!==e.validator?n.setValidators($B(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const i=qB(n);null!==e.asyncValidator?n.setAsyncValidators($B(i,e.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();zS(e._rawValidators,r),zS(e._rawAsyncValidators,r)}function qS(n,e){let t=!1;if(null!==n){if(null!==e.validator){const r=zB(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(c=>c!==e.validator);s.length!==r.length&&(t=!0,n.setValidators(s))}}if(null!==e.asyncValidator){const r=qB(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(c=>c!==e.asyncValidator);s.length!==r.length&&(t=!0,n.setAsyncValidators(s))}}}const i=()=>{};return zS(e._rawValidators,i),zS(e._rawAsyncValidators,i),t}function XB(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function eU(n,e){dO(n,e)}function hO(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}function nU(n,e){n._syncPendingControls(),e.forEach(t=>{const i=t.control;"submit"===i.updateOn&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function fO(n,e){if(!e)return null;let t,i,r;return Array.isArray(e),e.forEach(s=>{s.constructor===pv?t=s:function yZ(n){return Object.getPrototypeOf(n.constructor)===Fg}(s)?i=s:r=s}),r||i||t||null}function pO(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const DC="VALID",WS="INVALID",mv="PENDING",IC="DISABLED";function gO(n){return(ZS(n)?n.validators:n)||null}function iU(n){return Array.isArray(n)?oO(n):n||null}function _O(n,e){return(ZS(e)?e.asyncValidators:n)||null}function rU(n){return Array.isArray(n)?aO(n):n||null}function ZS(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const yO=n=>n instanceof bO,YS=n=>n instanceof SC,sU=n=>n instanceof cU;function oU(n){return yO(n)?n.value:n.getRawValue()}function aU(n,e){const t=YS(n),i=n.controls;if(!(t?Object.keys(i):i).length)throw new a.vHH(1e3,"");if(!i[e])throw new a.vHH(1001,"")}function lU(n,e){YS(n),n._forEachChild((i,r)=>{if(void 0===e[r])throw new a.vHH(1002,"")})}class vO{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=iU(this._rawValidators),this._composedAsyncValidatorFn=rU(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===DC}get invalid(){return this.status===WS}get pending(){return this.status==mv}get disabled(){return this.status===IC}get enabled(){return this.status!==IC}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=iU(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=rU(e)}addValidators(e){this.setValidators(WB(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(WB(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(ZB(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(ZB(e,this._rawAsyncValidators))}hasValidator(e){return US(this._rawValidators,e)}hasAsyncValidator(e){return US(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=mv,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=IC,this.errors=null,this._forEachChild(i=>{i.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=DC,this._forEachChild(i=>{i.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===DC||this.status===mv)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?IC:DC}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=mv,this._hasOwnPendingAsyncValidator=!0;const t=VB(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function vZ(n,e,t){if(null==e||(Array.isArray(e)||(e=e.split(t)),Array.isArray(e)&&0===e.length))return null;let i=n;return e.forEach(r=>{i=YS(i)?i.controls.hasOwnProperty(r)?i.controls[r]:null:sU(i)&&i.at(r)||null}),i}(this,e,".")}getError(e,t){const i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new a.vpe,this.statusChanges=new a.vpe}_calculateStatus(){return this._allControlsDisabled()?IC:this.errors?WS:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(mv)?mv:this._anyControlsHaveStatus(WS)?WS:DC}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){ZS(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class bO extends vO{constructor(e=null,t,i){super(gO(t),_O(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),ZS(t)&&t.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){pO(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){pO(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class SC extends vO{constructor(e,t,i){super(gO(t),_O(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){lU(this,e),Object.keys(e).forEach(i=>{aU(this,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(i=>{this.controls[i]&&this.controls[i].patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=oU(t),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,i)=>!!i._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const i=this.controls[t];i&&e(i,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const i=this.controls[t];if(this.contains(t)&&e(i))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,i)=>((t.enabled||this.disabled)&&(e[i]=t.value),e))}_reduceChildren(e,t){let i=e;return this._forEachChild((r,s)=>{i=t(i,r,s)}),i}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class cU extends vO{constructor(e,t,i){super(gO(t),_O(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,i={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){lU(this,e),e.forEach((i,r)=>{aU(this,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>oU(e))}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,i)=>!!i._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,i)=>{e(t,i)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const bZ={provide:ba,useExisting:(0,a.Gpc)(()=>KS)},AC=(()=>Promise.resolve(null))();let KS=(()=>{class n extends ba{constructor(t,i){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new a.vpe,this.form=new SC({},oO(t),aO(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){AC.then(()=>{const i=this._findContainer(t.path);t.control=i.registerControl(t.name,t.control),TC(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){AC.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){AC.then(()=>{const i=this._findContainer(t.path),r=new SC({});eU(r,t),i.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){AC.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,i){AC.then(()=>{this.form.get(t.path).setValue(i)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,nU(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(Ho,10),a.Y36(up,10))},n.\u0275dir=a.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,i){1&t&&a.NdJ("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[a._Bn([bZ]),a.qOj]}),n})();const CZ={provide:vh,useExisting:(0,a.Gpc)(()=>QS)},hU=(()=>Promise.resolve(null))();let QS=(()=>{class n extends vh{constructor(t,i,r,s,c){super(),this._changeDetectorRef=c,this.control=new bO,this._registered=!1,this.update=new a.vpe,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=fO(0,s)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const i=t.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),hO(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){TC(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){hU.then(()=>{var i;this.control.setValue(t,{emitViewToModelChange:!1}),null===(i=this._changeDetectorRef)||void 0===i||i.markForCheck()})}_updateDisabled(t){const i=t.isDisabled.currentValue,r=""===i||i&&"false"!==i;hU.then(()=>{var s;r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),null===(s=this._changeDetectorRef)||void 0===s||s.markForCheck()})}_getPath(t){return this._parent?GS(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(ba,9),a.Y36(Ho,10),a.Y36(up,10),a.Y36(ac,10),a.Y36(a.sBO,8))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[a._Bn([CZ]),a.qOj,a.TTD]}),n})(),fU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=a.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),mU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})();const wO=new a.OlP("NgModelWithFormControlWarning"),AZ={provide:ba,useExisting:(0,a.Gpc)(()=>MC)};let MC=(()=>{class n extends ba{constructor(t,i){super(),this.validators=t,this.asyncValidators=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new a.vpe,this._setValidators(t),this._setAsyncValidators(i)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(qS(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const i=this.form.get(t.path);return TC(i,t),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),i}getControl(t){return this.form.get(t.path)}removeControl(t){$S(t.control||null,t,!1),pO(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,i){this.form.get(t.path).setValue(i)}onSubmit(t){return this.submitted=!0,nU(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const i=t.control,r=this.form.get(t.path);i!==r&&($S(i||null,t),yO(r)&&(TC(r,t),t.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const i=this.form.get(t.path);eU(i,t),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const i=this.form.get(t.path);i&&function gZ(n,e){return qS(n,e)}(i,t)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){dO(this.form,this),this._oldForm&&qS(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(Ho,10),a.Y36(up,10))},n.\u0275dir=a.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,i){1&t&&a.NdJ("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[a._Bn([AZ]),a.qOj,a.TTD]}),n})();const kZ={provide:vh,useExisting:(0,a.Gpc)(()=>TO)};let TO=(()=>{class n extends vh{constructor(t,i,r,s,c){super(),this._ngModelWarningConfig=c,this._added=!1,this.update=new a.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=fO(0,s)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),hO(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return GS(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(a.Y36(ba,13),a.Y36(Ho,10),a.Y36(up,10),a.Y36(ac,10),a.Y36(wO,8))},n.\u0275dir=a.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[a._Bn([kZ]),a.qOj,a.TTD]}),n})();let Lg=(()=>{class n{constructor(){this._validator=BS}ngOnChanges(t){if(this.inputName in t){const i=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):BS,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=a.lG2({type:n,features:[a.TTD]}),n})();const zZ={provide:Ho,useExisting:(0,a.Gpc)(()=>AO),multi:!0};let AO=(()=>{class n extends Lg{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=t=>function CU(n){return"number"==typeof n?n:parseInt(n,10)}(t),this.createValidator=t=>PB(t)}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=a.n5z(n)))(i||n)}}(),n.\u0275dir=a.lG2({type:n,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(t,i){2&t&&a.uIk("maxlength",i._enabled?i.maxlength:null)},inputs:{maxlength:"maxlength"},features:[a._Bn([zZ]),a.qOj]}),n})(),xU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[mU]]}),n})(),WZ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[xU]}),n})(),kU=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:wO,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[xU]}),n})(),YZ=(()=>{class n{group(t,i=null){const r=this._reduceControls(t);let h,s=null,c=null;return null!=i&&(function ZZ(n){return void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn}(i)?(s=null!=i.validators?i.validators:null,c=null!=i.asyncValidators?i.asyncValidators:null,h=null!=i.updateOn?i.updateOn:void 0):(s=null!=i.validator?i.validator:null,c=null!=i.asyncValidator?i.asyncValidator:null)),new SC(r,{asyncValidators:c,updateOn:h,validators:s})}control(t,i,r){return new bO(t,i,r)}array(t,i,r){const s=t.map(c=>this._createControl(c));return new cU(s,i,r)}_reduceControls(t){const i={};return Object.keys(t).forEach(r=>{i[r]=this._createControl(t[r])}),i}_createControl(t){return yO(t)||YS(t)||sU(t)?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:kU}),n})(),RU=(()=>{class n{create(t){return"undefined"==typeof MutationObserver?null:new MutationObserver(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),KZ=(()=>{class n{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,i)=>this._cleanupObserver(i))}observe(t){const i=_h(t);return new G.y(r=>{const c=this._observeElement(i).subscribe(r);return()=>{c.unsubscribe(),this._unobserveElement(i)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const i=new I.x,r=this._mutationObserverFactory.create(s=>i.next(s));r&&r.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:r,stream:i,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:i,stream:r}=this._observedElements.get(t);i&&i.disconnect(),r.complete(),this._observedElements.delete(t)}}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(RU))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),QZ=(()=>{class n{constructor(t,i,r){this._contentObserver=t,this._elementRef=i,this._ngZone=r,this.event=new a.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(t){this._disabled=ou(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=yS(t),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe(aF(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){var t;null===(t=this._currentSubscription)||void 0===t||t.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(KZ),a.Y36(a.SBq),a.Y36(a.R0b))},n.\u0275dir=a.lG2({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),JZ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[RU]}),n})();var XZ=$(1144);const e7=["addListener","removeListener"],t7=["addEventListener","removeEventListener"],n7=["on","off"];function JS(n,e,t,i){if((0,Ht.m)(t)&&(i=t,t=void 0),i)return JS(n,e,t).pipe(Qi(i));const[r,s]=function s7(n){return(0,Ht.m)(n.addEventListener)&&(0,Ht.m)(n.removeEventListener)}(n)?t7.map(c=>h=>n[c](e,h,t)):function i7(n){return(0,Ht.m)(n.addListener)&&(0,Ht.m)(n.removeListener)}(n)?e7.map(OU(n,e)):function r7(n){return(0,Ht.m)(n.on)&&(0,Ht.m)(n.off)}(n)?n7.map(OU(n,e)):[];if(!r&&(0,XZ.z)(n))return(0,Zr.z)(c=>JS(c,e,t))((0,ke.Xf)(n));if(!r)throw new TypeError("Invalid event target");return new G.y(c=>{const h=(...p)=>c.next(1<p.length?p:p[0]);return r(h),()=>s(h)})}function OU(n,e){return t=>i=>n[t](e,i)}const o7=["connectionContainer"],a7=["inputContainer"],l7=["label"];function c7(n,e){1&n&&(a.ynx(0),a.TgZ(1,"div",14),a._UZ(2,"div",15)(3,"div",16)(4,"div",17),a.qZA(),a.TgZ(5,"div",18),a._UZ(6,"div",15)(7,"div",16)(8,"div",17),a.qZA(),a.BQk())}function u7(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"div",19),a.NdJ("cdkObserveContent",function(){return a.CHM(t),a.oxw().updateOutlineGap()}),a.Hsn(1,1),a.qZA()}if(2&n){const t=a.oxw();a.Q6J("cdkObserveContentDisabled","outline"!=t.appearance)}}function d7(n,e){if(1&n&&(a.ynx(0),a.Hsn(1,2),a.TgZ(2,"span"),a._uU(3),a.qZA(),a.BQk()),2&n){const t=a.oxw(2);a.xp6(3),a.Oqu(t._control.placeholder)}}function h7(n,e){1&n&&a.Hsn(0,3,["*ngSwitchCase","true"])}function f7(n,e){1&n&&(a.TgZ(0,"span",23),a._uU(1," *"),a.qZA())}function p7(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"label",20,21),a.NdJ("cdkObserveContent",function(){return a.CHM(t),a.oxw().updateOutlineGap()}),a.YNc(2,d7,4,1,"ng-container",12),a.YNc(3,h7,1,0,"ng-content",12),a.YNc(4,f7,2,0,"span",22),a.qZA()}if(2&n){const t=a.oxw();a.ekj("mat-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-form-field-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-accent","accent"==t.color)("mat-warn","warn"==t.color),a.Q6J("cdkObserveContentDisabled","outline"!=t.appearance)("id",t._labelId)("ngSwitch",t._hasLabel()),a.uIk("for",t._control.id)("aria-owns",t._control.id),a.xp6(2),a.Q6J("ngSwitchCase",!1),a.xp6(1),a.Q6J("ngSwitchCase",!0),a.xp6(1),a.Q6J("ngIf",!t.hideRequiredMarker&&t._control.required&&!t._control.disabled)}}function m7(n,e){1&n&&(a.TgZ(0,"div",24),a.Hsn(1,4),a.qZA())}function g7(n,e){if(1&n&&(a.TgZ(0,"div",25),a._UZ(1,"span",26),a.qZA()),2&n){const t=a.oxw();a.xp6(1),a.ekj("mat-accent","accent"==t.color)("mat-warn","warn"==t.color)}}function _7(n,e){if(1&n&&(a.TgZ(0,"div"),a.Hsn(1,5),a.qZA()),2&n){const t=a.oxw();a.Q6J("@transitionMessages",t._subscriptAnimationState)}}function y7(n,e){if(1&n&&(a.TgZ(0,"div",30),a._uU(1),a.qZA()),2&n){const t=a.oxw(2);a.Q6J("id",t._hintLabelId),a.xp6(1),a.Oqu(t.hintLabel)}}function v7(n,e){if(1&n&&(a.TgZ(0,"div",27),a.YNc(1,y7,2,2,"div",28),a.Hsn(2,6),a._UZ(3,"div",29),a.Hsn(4,7),a.qZA()),2&n){const t=a.oxw();a.Q6J("@transitionMessages",t._subscriptAnimationState),a.xp6(1),a.Q6J("ngIf",t.hintLabel)}}const b7=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],w7=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"];let C7=0;const NU=new a.OlP("MatError");let E7=(()=>{class n{constructor(t,i){this.id="mat-error-"+C7++,t||i.nativeElement.setAttribute("aria-live","polite")}}return n.\u0275fac=function(t){return new(t||n)(a.$8M("aria-live"),a.Y36(a.SBq))},n.\u0275dir=a.lG2({type:n,selectors:[["mat-error"]],hostAttrs:["aria-atomic","true",1,"mat-error"],hostVars:1,hostBindings:function(t,i){2&t&&a.uIk("id",i.id)},inputs:{id:"id"},features:[a._Bn([{provide:NU,useExisting:n}])]}),n})();const T7={transitionMessages:vC("transitionMessages",[RR("enter",As({opacity:1,transform:"translateY(0%)"})),sp("void => enter",[As({opacity:0,transform:"translateY(-5px)"}),id("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let MO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=a.lG2({type:n}),n})();const D7=new a.OlP("MatHint");let xO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=a.lG2({type:n,selectors:[["mat-label"]]}),n})(),I7=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=a.lG2({type:n,selectors:[["mat-placeholder"]]}),n})();const S7=new a.OlP("MatPrefix"),A7=new a.OlP("MatSuffix");let PU=0;const x7=rO(class{constructor(n){this._elementRef=n}},"primary"),k7=new a.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),LU=new a.OlP("MatFormField");let R7=(()=>{class n extends x7{constructor(t,i,r,s,c,h,p){super(t),this._changeDetectorRef=i,this._dir=r,this._defaults=s,this._platform=c,this._ngZone=h,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new I.x,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+PU++,this._labelId="mat-form-field-label-"+PU++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==p,this.appearance=s&&s.appearance?s.appearance:"legacy",this._hideRequiredMarker=!(!s||null==s.hideRequiredMarker)&&s.hideRequiredMarker}get appearance(){return this._appearance}set appearance(t){const i=this._appearance;this._appearance=t||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&i!==t&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=ou(t)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(t){this._explicitFormFieldControl=t}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${t.controlType}`),t.stateChanges.pipe(Nc(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe(fl(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(fl(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,Q.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(Nc(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(Nc(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(fl(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(t){const i=this._control?this._control.ngControl:null;return i&&i[t]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,JS(this._label.nativeElement,"transitionend").pipe((0,Zi.q)(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&t.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(s=>"start"===s.align):null,r=this._hintChildren?this._hintChildren.find(s=>"end"===s.align):null;i?t.push(i.id):this._hintLabel&&t.push(this._hintLabelId),r&&t.push(r.id)}else this._errorChildren&&t.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(t)}}_validateControlChild(){}updateOutlineGap(){const t=this._label?this._label.nativeElement:null,i=this._connectionContainerRef.nativeElement,r=".mat-form-field-outline-start",s=".mat-form-field-outline-gap";if("outline"!==this.appearance||!this._platform.isBrowser)return;if(!t||!t.children.length||!t.textContent.trim()){const T=i.querySelectorAll(`${r}, ${s}`);for(let S=0;S<T.length;S++)T[S].style.width="0";return}if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let c=0,h=0;const p=i.querySelectorAll(r),_=i.querySelectorAll(s);if(this._label&&this._label.nativeElement.children.length){const T=i.getBoundingClientRect();if(0===T.width&&0===T.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const S=this._getStartEnd(T),P=t.children,H=this._getStartEnd(P[0].getBoundingClientRect());let q=0;for(let ae=0;ae<P.length;ae++)q+=P[ae].offsetWidth;c=Math.abs(H-S)-5,h=q>0?.75*q+10:0}for(let T=0;T<p.length;T++)p[T].style.width=`${c}px`;for(let T=0;T<_.length;T++)_[T].style.width=`${h}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(t){return this._dir&&"rtl"===this._dir.value?t.right:t.left}_isAttachedToDOM(){const t=this._elementRef.nativeElement;if(t.getRootNode){const i=t.getRootNode();return i&&i!==t}return document.documentElement.contains(t)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.SBq),a.Y36(a.sBO),a.Y36(gC,8),a.Y36(k7,8),a.Y36(va),a.Y36(a.R0b),a.Y36(lp,8))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-form-field"]],contentQueries:function(t,i,r){if(1&t&&(a.Suo(r,MO,5),a.Suo(r,MO,7),a.Suo(r,xO,5),a.Suo(r,xO,7),a.Suo(r,I7,5),a.Suo(r,NU,5),a.Suo(r,D7,5),a.Suo(r,S7,5),a.Suo(r,A7,5)),2&t){let s;a.iGM(s=a.CRH())&&(i._controlNonStatic=s.first),a.iGM(s=a.CRH())&&(i._controlStatic=s.first),a.iGM(s=a.CRH())&&(i._labelChildNonStatic=s.first),a.iGM(s=a.CRH())&&(i._labelChildStatic=s.first),a.iGM(s=a.CRH())&&(i._placeholderChild=s.first),a.iGM(s=a.CRH())&&(i._errorChildren=s),a.iGM(s=a.CRH())&&(i._hintChildren=s),a.iGM(s=a.CRH())&&(i._prefixChildren=s),a.iGM(s=a.CRH())&&(i._suffixChildren=s)}},viewQuery:function(t,i){if(1&t&&(a.Gf(o7,7),a.Gf(a7,5),a.Gf(l7,5)),2&t){let r;a.iGM(r=a.CRH())&&(i._connectionContainerRef=r.first),a.iGM(r=a.CRH())&&(i._inputContainerRef=r.first),a.iGM(r=a.CRH())&&(i._label=r.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(t,i){2&t&&a.ekj("mat-form-field-appearance-standard","standard"==i.appearance)("mat-form-field-appearance-fill","fill"==i.appearance)("mat-form-field-appearance-outline","outline"==i.appearance)("mat-form-field-appearance-legacy","legacy"==i.appearance)("mat-form-field-invalid",i._control.errorState)("mat-form-field-can-float",i._canLabelFloat())("mat-form-field-should-float",i._shouldLabelFloat())("mat-form-field-has-label",i._hasFloatingLabel())("mat-form-field-hide-placeholder",i._hideControlPlaceholder())("mat-form-field-disabled",i._control.disabled)("mat-form-field-autofilled",i._control.autofilled)("mat-focused",i._control.focused)("ng-untouched",i._shouldForward("untouched"))("ng-touched",i._shouldForward("touched"))("ng-pristine",i._shouldForward("pristine"))("ng-dirty",i._shouldForward("dirty"))("ng-valid",i._shouldForward("valid"))("ng-invalid",i._shouldForward("invalid"))("ng-pending",i._shouldForward("pending"))("_mat-animation-noopable",!i._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[a._Bn([{provide:LU,useExisting:n}]),a.qOj],ngContentSelectors:w7,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(t,i){1&t&&(a.F$t(b7),a.TgZ(0,"div",0)(1,"div",1,2),a.NdJ("click",function(s){return i._control.onContainerClick&&i._control.onContainerClick(s)}),a.YNc(3,c7,9,0,"ng-container",3),a.YNc(4,u7,2,1,"div",4),a.TgZ(5,"div",5,6),a.Hsn(7),a.TgZ(8,"span",7),a.YNc(9,p7,5,16,"label",8),a.qZA()(),a.YNc(10,m7,2,0,"div",9),a.qZA(),a.YNc(11,g7,2,4,"div",10),a.TgZ(12,"div",11),a.YNc(13,_7,2,1,"div",12),a.YNc(14,v7,5,2,"div",13),a.qZA()()),2&t&&(a.xp6(3),a.Q6J("ngIf","outline"==i.appearance),a.xp6(1),a.Q6J("ngIf",i._prefixChildren.length),a.xp6(5),a.Q6J("ngIf",i._hasFloatingLabel()),a.xp6(1),a.Q6J("ngIf",i._suffixChildren.length),a.xp6(1),a.Q6J("ngIf","outline"!=i.appearance),a.xp6(1),a.Q6J("ngSwitch",i._getDisplayedMessages()),a.xp6(1),a.Q6J("ngSwitchCase","error"),a.xp6(1),a.Q6J("ngSwitchCase","hint"))},directives:[jn,QZ,ji,mr],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.cdk-high-contrast-active .mat-form-field-disabled .mat-form-field-label{color:GrayText}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-form-field-flex{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px;border-top-color:GrayText}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-outline{color:GrayText}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[T7.transitionMessages]},changeDetection:0}),n})(),VU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[to,Xr,JZ],Xr]}),n})();const BU=gS({passive:!0});let O7=(()=>{class n{constructor(t,i){this._platform=t,this._ngZone=i,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return Hh.E;const i=_h(t),r=this._monitoredElements.get(i);if(r)return r.subject;const s=new I.x,c="cdk-text-field-autofilled",h=p=>{"cdk-text-field-autofill-start"!==p.animationName||i.classList.contains(c)?"cdk-text-field-autofill-end"===p.animationName&&i.classList.contains(c)&&(i.classList.remove(c),this._ngZone.run(()=>s.next({target:p.target,isAutofilled:!1}))):(i.classList.add(c),this._ngZone.run(()=>s.next({target:p.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",h,BU),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:s,unlisten:()=>{i.removeEventListener("animationstart",h,BU)}}),s}stopMonitoring(t){const i=_h(t),r=this._monitoredElements.get(i);r&&(r.unlisten(),r.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((t,i)=>this.stopMonitoring(i))}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(va),a.LFG(a.R0b))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),UU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})();const N7=new a.OlP("MAT_INPUT_VALUE_ACCESSOR"),P7=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let F7=0;const L7=xW(class{constructor(n,e,t,i){this._defaultErrorStateMatcher=n,this._parentForm=e,this._parentFormGroup=t,this.ngControl=i}});let V7=(()=>{class n extends L7{constructor(t,i,r,s,c,h,p,_,T,S){super(h,s,c,r),this._elementRef=t,this._platform=i,this._autofillMonitor=_,this._formField=S,this._uid="mat-input-"+F7++,this.focused=!1,this.stateChanges=new I.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(q=>fV().has(q)),this._iOSKeyupListener=q=>{const ae=q.target;!ae.value&&0===ae.selectionStart&&0===ae.selectionEnd&&(ae.setSelectionRange(1,1),ae.setSelectionRange(0,0))};const P=this._elementRef.nativeElement,H=P.nodeName.toLowerCase();this._inputValueAccessor=p||P,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&T.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===H,this._isTextarea="textarea"===H,this._isInFormField=!!S,this._isNativeSelect&&(this.controlType=P.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(t){this._disabled=ou(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){var t,i,r,s;return null!==(s=null!==(t=this._required)&&void 0!==t?t:null===(r=null===(i=this.ngControl)||void 0===i?void 0:i.control)||void 0===r?void 0:r.hasValidator(au.required))&&void 0!==s&&s}set required(t){this._required=ou(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea&&fV().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=ou(t)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(t){this._elementRef.nativeElement.focus(t)}_focusChanged(t){t!==this.focused&&(this.focused=t,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){var t,i;const r=(null===(i=null===(t=this._formField)||void 0===t?void 0:t._hideControlPlaceholder)||void 0===i?void 0:i.call(t))?null:this.placeholder;if(r!==this._previousPlaceholder){const s=this._elementRef.nativeElement;this._previousPlaceholder=r,r?s.setAttribute("placeholder",r):s.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_validateType(){P7.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const t=this._elementRef.nativeElement,i=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const t=this._elementRef.nativeElement;return this._isNativeSelect&&(t.multiple||t.size>1)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.SBq),a.Y36(va),a.Y36(vh,10),a.Y36(KS,8),a.Y36(MC,8),a.Y36(_B),a.Y36(N7,10),a.Y36(O7),a.Y36(a.R0b),a.Y36(LU,8))},n.\u0275dir=a.lG2({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:12,hostBindings:function(t,i){1&t&&a.NdJ("focus",function(){return i._focusChanged(!0)})("blur",function(){return i._focusChanged(!1)})("input",function(){return i._onInput()}),2&t&&(a.Ikx("disabled",i.disabled)("required",i.required),a.uIk("id",i.id)("data-placeholder",i.placeholder)("name",i.name||null)("readonly",i.readonly&&!i._isNativeSelect||null)("aria-invalid",i.empty&&i.required?null:i.errorState)("aria-required",i.required),a.ekj("mat-input-server",i._isServer)("mat-native-select-inline",i._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[a._Bn([{provide:MO,useExisting:n}]),a.qOj,a.TTD]}),n})(),B7=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[_B],imports:[[UU,VU,Xr],UU,VU]}),n})(),t9=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[Xr],Xr]}),n})();var JU=$(4408);const RC={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:i}=RC;i&&(e=i.requestAnimationFrame,t=i.cancelAnimationFrame);const r=e(s=>{t=void 0,n(s)});return new Hl.w0(()=>null==t?void 0:t(r))},requestAnimationFrame(...n){const{delegate:e}=RC;return((null==e?void 0:e.requestAnimationFrame)||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=RC;return((null==e?void 0:e.cancelAnimationFrame)||cancelAnimationFrame)(...n)},delegate:void 0};var XU=$(7565);new class i9 extends XU.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class n9 extends JU.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=RC.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(e,t,i);e.actions.some(r=>r.id===t)||(RC.cancelAnimationFrame(t),e._scheduled=void 0)}});let NO,s9=1;const tA={};function eH(n){return n in tA&&(delete tA[n],!0)}const o9={setImmediate(n){const e=s9++;return tA[e]=!0,NO||(NO=Promise.resolve()),NO.then(()=>eH(e)&&n()),e},clearImmediate(n){eH(n)}},{setImmediate:a9,clearImmediate:l9}=o9,nA={setImmediate(...n){const{delegate:e}=nA;return((null==e?void 0:e.setImmediate)||a9)(...n)},clearImmediate(n){const{delegate:e}=nA;return((null==e?void 0:e.clearImmediate)||l9)(n)},delegate:void 0};new class u9 extends XU.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class c9 extends JU.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=nA.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(e,t,i);e.actions.some(r=>r.id===t)||(nA.clearImmediate(t),e._scheduled=void 0)}});var f9=$(3532);function tH(n,e=ca.z){return function h9(n){return(0,ni.e)((e,t)=>{let i=!1,r=null,s=null,c=!1;const h=()=>{if(null==s||s.unsubscribe(),s=null,i){i=!1;const _=r;r=null,t.next(_)}c&&t.complete()},p=()=>{s=null,c&&t.complete()};e.subscribe((0,gi.x)(t,_=>{i=!0,r=_,s||(0,ke.Xf)(n(_)).subscribe(s=(0,gi.x)(t,h,p))},()=>{c=!0,(!i||!s||s.closed)&&t.complete()}))})}(()=>function m9(n=0,e,t=ca.P){let i=-1;return null!=e&&((0,f9.K)(e)?t=e:i=e),new G.y(r=>{let s=function p9(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;s<0&&(s=0);let c=0;return t.schedule(function(){r.closed||(r.next(c++),0<=i?this.schedule(void 0,i):r.complete())},s)})}(n,e))}let _9=(()=>{class n{constructor(t,i,r){this._ngZone=t,this._platform=i,this._scrolled=new I.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const i=this.scrollContainers.get(t);i&&(i.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new G.y(i=>{this._globalSubscription||this._addGlobalListener();const r=t>0?this._scrolled.pipe(tH(t)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):N()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(t,i){const r=this.getAncestorScrollContainers(t);return this.scrolled(i).pipe(ii(s=>!s||r.indexOf(s)>-1))}getAncestorScrollContainers(t){const i=[];return this.scrollContainers.forEach((r,s)=>{this._scrollableContainsElement(s,t)&&i.push(s)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,i){let r=_h(i),s=t.getElementRef().nativeElement;do{if(r==s)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>JS(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(a.R0b),a.LFG(va),a.LFG(fe,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),iA=(()=>{class n{constructor(t,i,r){this._platform=t,this._change=new I.x,this._changeListener=s=>{this._change.next(s)},this._document=r,i.runOutsideAngular(()=>{if(t.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+r,right:t.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,i=this._getWindow(),r=t.documentElement,s=r.getBoundingClientRect();return{top:-s.top||t.body.scrollTop||i.scrollY||r.scrollTop||0,left:-s.left||t.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(tH(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(va),a.LFG(a.R0b),a.LFG(fe,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),nH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})(),PO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[_C,nH],_C,nH]}),n})();class FO{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class LO extends FO{constructor(e,t,i,r){super(),this.component=e,this.viewContainerRef=t,this.injector=i,this.componentFactoryResolver=r}}class iH extends FO{constructor(e,t,i){super(),this.templateRef=e,this.viewContainerRef=t,this.context=i}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class v9 extends FO{constructor(e){super(),this.element=e instanceof a.SBq?e.nativeElement:e}}class VO{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof LO?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof iH?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof v9?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class b9 extends VO{constructor(e,t,i,r,s){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=c=>{const h=c.element,p=this._document.createComment("dom-portal");h.parentNode.insertBefore(p,h),this.outletElement.appendChild(h),this._attachedPortal=c,super.setDisposeFn(()=>{p.parentNode&&p.parentNode.replaceChild(h,p)})},this._document=s}attachComponentPortal(e){const i=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let r;return e.viewContainerRef?(r=e.viewContainerRef.createComponent(i,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector),this.setDisposeFn(()=>r.destroy())):(r=i.create(e.injector||this._defaultInjector||a.zs3.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=e,r}attachTemplatePortal(e){let t=e.viewContainerRef,i=t.createEmbeddedView(e.templateRef,e.context);return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=t.indexOf(i);-1!==r&&t.remove(r)}),this._attachedPortal=e,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let rH=(()=>{class n extends VO{constructor(t,i,r){super(),this._componentFactoryResolver=t,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new a.vpe,this.attachDomPortal=s=>{const c=s.element,h=this._document.createComment("dom-portal");s.setAttachedHost(this),c.parentNode.insertBefore(h,c),this._getRootNode().appendChild(c),this._attachedPortal=s,super.setDisposeFn(()=>{h.parentNode&&h.parentNode.replaceChild(c,h)})},this._document=r}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(t){t.setAttachedHost(this);const i=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,s=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),c=i.createComponent(s,i.length,t.injector||i.injector);return i!==this._viewContainerRef&&this._getRootNode().appendChild(c.hostView.rootNodes[0]),super.setDisposeFn(()=>c.destroy()),this._attachedPortal=t,this._attachedRef=c,this.attached.emit(c),c}attachTemplatePortal(t){t.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a._Vd),a.Y36(a.s_b),a.Y36(fe))},n.\u0275dir=a.lG2({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[a.qOj]}),n})(),sH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})();const oH=Kq();class w9{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=fs(-this._previousScrollPosition.left),e.style.top=fs(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,i=e.style,r=this._document.body.style,s=i.scrollBehavior||"",c=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),oH&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),oH&&(i.scrollBehavior=s,r.scrollBehavior=c)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,i=this._viewportRuler.getViewportSize();return t.scrollHeight>i.height||t.scrollWidth>i.width}}class C9{constructor(e,t,i,r){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class aH{enable(){}disable(){}attach(){}}function BO(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function lH(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class E9{constructor(e,t,i,r){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();BO(t,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let T9=(()=>{class n{constructor(t,i,r,s){this._scrollDispatcher=t,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new aH,this.close=c=>new C9(this._scrollDispatcher,this._ngZone,this._viewportRuler,c),this.block=()=>new w9(this._viewportRuler,this._document),this.reposition=c=>new E9(this._scrollDispatcher,this._viewportRuler,this._ngZone,c),this._document=s}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(_9),a.LFG(iA),a.LFG(a.R0b),a.LFG(fe))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class cH{constructor(e){if(this.scrollStrategy=new aH,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const i of t)void 0!==e[i]&&(this[i]=e[i])}}}class D9{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}class I9{constructor(e,t,i,r,s,c,h,p,_){this._portalOutlet=e,this._host=t,this._pane=i,this._config=r,this._ngZone=s,this._keyboardDispatcher=c,this._document=h,this._location=p,this._outsideClickDispatcher=_,this._backdropElement=null,this._backdropClick=new I.x,this._attachments=new I.x,this._detachments=new I.x,this._locationChanges=Hl.w0.EMPTY,this._backdropClickHandler=T=>this._backdropClick.next(T),this._backdropTransitionendHandler=T=>{this._disposeBackdrop(T.target)},this._keydownEvents=new I.x,this._outsidePointerEvents=new I.x,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){let t=this._portalOutlet.attach(e);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,Zi.q)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){var e;const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),null===(e=this._host)||void 0===e||e.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config=Object.assign(Object.assign({},this._config),e),this._updateElementSize()}setDirection(e){this._config=Object.assign(Object.assign({},this._config),{direction:e}),this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=fs(this._config.width),e.height=fs(this._config.height),e.minWidth=fs(this._config.minWidth),e.minHeight=fs(this._config.minHeight),e.maxWidth=fs(this._config.maxWidth),e.maxHeight=fs(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;!e||(e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500)))}_toggleClasses(e,t,i){const r=mV(t||[]).filter(s=>!!s);r.length&&(i?e.classList.add(...r):e.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(fl((0,Q.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}let UO=(()=>{class n{constructor(t,i){this._platform=i,this._document=t}ngOnDestroy(){var t;null===(t=this._containerElement)||void 0===t||t.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||MR()){const r=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let s=0;s<r.length;s++)r[s].remove()}const i=this._document.createElement("div");i.classList.add(t),MR()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(fe),a.LFG(va))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const uH="cdk-overlay-connected-position-bounding-box",S9=/([A-Za-z%]+)$/;class A9{constructor(e,t,i,r,s){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new I.x,this._resizeSubscription=Hl.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}get positions(){return this._preferredPositions}attach(e){this._validatePositions(),e.hostElement.classList.add(uH),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,t=this._overlayRect,i=this._viewportRect,r=this._containerRect,s=[];let c;for(let h of this._preferredPositions){let p=this._getOriginPoint(e,r,h),_=this._getOverlayPoint(p,t,h),T=this._getOverlayFit(_,t,i,h);if(T.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(h,p);this._canFitWithFlexibleDimensions(T,_,i)?s.push({position:h,origin:p,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(p,h)}):(!c||c.overlayFit.visibleArea<T.visibleArea)&&(c={overlayFit:T,overlayPoint:_,originPoint:p,position:h,overlayRect:t})}if(s.length){let h=null,p=-1;for(const _ of s){const T=_.boundingBoxRect.width*_.boundingBoxRect.height*(_.position.weight||1);T>p&&(p=T,h=_)}return this._isPushed=!1,void this._applyPosition(h.position,h.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(c.position,c.originPoint);this._applyPosition(c.position,c.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Bg(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(uH),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,i){let r,s;if("center"==i.originX)r=e.left+e.width/2;else{const c=this._isRtl()?e.right:e.left,h=this._isRtl()?e.left:e.right;r="start"==i.originX?c:h}return t.left<0&&(r-=t.left),s="center"==i.originY?e.top+e.height/2:"top"==i.originY?e.top:e.bottom,t.top<0&&(s-=t.top),{x:r,y:s}}_getOverlayPoint(e,t,i){let r,s;return r="center"==i.overlayX?-t.width/2:"start"===i.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,s="center"==i.overlayY?-t.height/2:"top"==i.overlayY?0:-t.height,{x:e.x+r,y:e.y+s}}_getOverlayFit(e,t,i,r){const s=hH(t);let{x:c,y:h}=e,p=this._getOffset(r,"x"),_=this._getOffset(r,"y");p&&(c+=p),_&&(h+=_);let P=0-h,H=h+s.height-i.height,q=this._subtractOverflows(s.width,0-c,c+s.width-i.width),ae=this._subtractOverflows(s.height,P,H),Ce=q*ae;return{visibleArea:Ce,isCompletelyWithinViewport:s.width*s.height===Ce,fitsInViewportVertically:ae===s.height,fitsInViewportHorizontally:q==s.width}}_canFitWithFlexibleDimensions(e,t,i){if(this._hasFlexibleDimensions){const r=i.bottom-t.y,s=i.right-t.x,c=dH(this._overlayRef.getConfig().minHeight),h=dH(this._overlayRef.getConfig().minWidth),_=e.fitsInViewportHorizontally||null!=h&&h<=s;return(e.fitsInViewportVertically||null!=c&&c<=r)&&_}return!1}_pushOverlayOnScreen(e,t,i){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const r=hH(t),s=this._viewportRect,c=Math.max(e.x+r.width-s.width,0),h=Math.max(e.y+r.height-s.height,0),p=Math.max(s.top-i.top-e.y,0),_=Math.max(s.left-i.left-e.x,0);let T=0,S=0;return T=r.width<=s.width?_||-c:e.x<this._viewportMargin?s.left-i.left-e.x:0,S=r.height<=s.height?p||-h:e.y<this._viewportMargin?s.top-i.top-e.y:0,this._previousPushAmount={x:T,y:S},{x:e.x+T,y:e.y+S}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new D9(e,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=e.overlayY;i="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let s=0;s<t.length;s++)t[s].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(e,t){const i=this._viewportRect,r=this._isRtl();let s,c,h,T,S,P;if("top"===t.overlayY)c=e.y,s=i.height-c+this._viewportMargin;else if("bottom"===t.overlayY)h=i.height-e.y+2*this._viewportMargin,s=i.height-h+this._viewportMargin;else{const H=Math.min(i.bottom-e.y+i.top,e.y),q=this._lastBoundingBoxSize.height;s=2*H,c=e.y-H,s>q&&!this._isInitialRender&&!this._growAfterOpen&&(c=e.y-q/2)}if("end"===t.overlayX&&!r||"start"===t.overlayX&&r)P=i.width-e.x+this._viewportMargin,T=e.x-this._viewportMargin;else if("start"===t.overlayX&&!r||"end"===t.overlayX&&r)S=e.x,T=i.right-e.x;else{const H=Math.min(i.right-e.x+i.left,e.x),q=this._lastBoundingBoxSize.width;T=2*H,S=e.x-H,T>q&&!this._isInitialRender&&!this._growAfterOpen&&(S=e.x-q/2)}return{top:c,left:S,bottom:h,right:P,width:T,height:s}}_setBoundingBoxStyles(e,t){const i=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const s=this._overlayRef.getConfig().maxHeight,c=this._overlayRef.getConfig().maxWidth;r.height=fs(i.height),r.top=fs(i.top),r.bottom=fs(i.bottom),r.width=fs(i.width),r.left=fs(i.left),r.right=fs(i.right),r.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",r.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",s&&(r.maxHeight=fs(s)),c&&(r.maxWidth=fs(c))}this._lastBoundingBoxSize=i,Bg(this._boundingBox.style,r)}_resetBoundingBoxStyles(){Bg(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Bg(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const i={},r=this._hasExactPosition(),s=this._hasFlexibleDimensions,c=this._overlayRef.getConfig();if(r){const T=this._viewportRuler.getViewportScrollPosition();Bg(i,this._getExactOverlayY(t,e,T)),Bg(i,this._getExactOverlayX(t,e,T))}else i.position="static";let h="",p=this._getOffset(t,"x"),_=this._getOffset(t,"y");p&&(h+=`translateX(${p}px) `),_&&(h+=`translateY(${_}px)`),i.transform=h.trim(),c.maxHeight&&(r?i.maxHeight=fs(c.maxHeight):s&&(i.maxHeight="")),c.maxWidth&&(r?i.maxWidth=fs(c.maxWidth):s&&(i.maxWidth="")),Bg(this._pane.style,i)}_getExactOverlayY(e,t,i){let r={top:"",bottom:""},s=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),"bottom"===e.overlayY?r.bottom=this._document.documentElement.clientHeight-(s.y+this._overlayRect.height)+"px":r.top=fs(s.y),r}_getExactOverlayX(e,t,i){let c,r={left:"",right:""},s=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),c=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===c?r.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":r.left=fs(s.x),r}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:lH(e,i),isOriginOutsideView:BO(e,i),isOverlayClipped:lH(t,i),isOverlayOutsideView:BO(t,i)}}_subtractOverflows(e,...t){return t.reduce((i,r)=>i-Math.max(r,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+e-this._viewportMargin,bottom:i.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&mV(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof a.SBq)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,i=e.height||0;return{top:e.y,bottom:e.y+i,left:e.x,right:e.x+t,height:i,width:t}}}function Bg(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function dH(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(S9);return t&&"px"!==t?null:parseFloat(e)}return n||null}function hH(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const fH="cdk-global-overlay-wrapper";class M9{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(fH),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._rightOffset="",this._leftOffset=e,this._justifyContent="flex-start",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._leftOffset="",this._rightOffset=e,this._justifyContent="flex-end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._justifyContent="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:s,maxWidth:c,maxHeight:h}=i,p=!("100%"!==r&&"100vw"!==r||c&&"100%"!==c&&"100vw"!==c),_=!("100%"!==s&&"100vh"!==s||h&&"100%"!==h&&"100vh"!==h);e.position=this._cssPosition,e.marginLeft=p?"0":this._leftOffset,e.marginTop=_?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=this._rightOffset,p?t.justifyContent="flex-start":"center"===this._justifyContent?t.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?t.justifyContent="flex-end":"flex-end"===this._justifyContent&&(t.justifyContent="flex-start"):t.justifyContent=this._justifyContent,t.alignItems=_?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,i=t.style;t.classList.remove(fH),i.justifyContent=i.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let x9=(()=>{class n{constructor(t,i,r,s){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=s}global(){return new M9}flexibleConnectedTo(t){return new A9(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(iA),a.LFG(fe),a.LFG(va),a.LFG(UO))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),pH=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const i=this._attachedOverlays.indexOf(t);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(fe))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),k9=(()=>{class n extends pH{constructor(t,i){super(t),this._ngZone=i,this._keydownListener=r=>{const s=this._attachedOverlays;for(let c=s.length-1;c>-1;c--)if(s[c]._keydownEvents.observers.length>0){const h=s[c]._keydownEvents;this._ngZone?this._ngZone.run(()=>h.next(r)):h.next(r);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(fe),a.LFG(a.R0b,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),R9=(()=>{class n extends pH{constructor(t,i,r){super(t),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=s=>{this._pointerDownEventTarget=xg(s)},this._clickListener=s=>{const c=xg(s),h="click"===s.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:c;this._pointerDownEventTarget=null;const p=this._attachedOverlays.slice();for(let _=p.length-1;_>-1;_--){const T=p[_];if(T._outsidePointerEvents.observers.length<1||!T.hasAttached())continue;if(T.overlayElement.contains(c)||T.overlayElement.contains(h))break;const S=T._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>S.next(s)):S.next(s)}}}add(t){if(super.add(t),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(fe),a.LFG(va),a.LFG(a.R0b,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),O9=0,rA=(()=>{class n{constructor(t,i,r,s,c,h,p,_,T,S,P){this.scrollStrategies=t,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=s,this._keyboardDispatcher=c,this._injector=h,this._ngZone=p,this._document=_,this._directionality=T,this._location=S,this._outsideClickDispatcher=P}create(t){const i=this._createHostElement(),r=this._createPaneElement(i),s=this._createPortalOutlet(r),c=new cH(t);return c.direction=c.direction||this._directionality.value,new I9(s,i,r,c,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(t){const i=this._document.createElement("div");return i.id="cdk-overlay-"+O9++,i.classList.add("cdk-overlay-pane"),t.appendChild(i),i}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(a.z2F)),new b9(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(T9),a.LFG(UO),a.LFG(a._Vd),a.LFG(x9),a.LFG(k9),a.LFG(a.zs3),a.LFG(a.R0b),a.LFG(fe),a.LFG(gC),a.LFG(ce),a.LFG(R9))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const F9={provide:new a.OlP("cdk-connected-overlay-scroll-strategy"),deps:[rA],useFactory:function P9(n){return()=>n.scrollStrategies.reposition()}};let L9=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[rA,F9],imports:[[_C,sH,PO],PO]}),n})();function V9(n,e){}class HO{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const B9={dialogContainer:vC("dialogContainer",[RR("void, exit",As({opacity:0,transform:"scale(0.7)"})),RR("enter",As({transform:"none"})),sp("* => enter",AV([id("150ms cubic-bezier(0, 0, 0.2, 1)",As({transform:"none",opacity:1})),xV("@*",MV(),{optional:!0})])),sp("* => void, * => exit",AV([id("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",As({opacity:0})),xV("@*",MV(),{optional:!0})]))])};let U9=(()=>{class n extends VO{constructor(t,i,r,s,c,h,p,_){super(),this._elementRef=t,this._focusTrapFactory=i,this._changeDetectorRef=r,this._config=c,this._interactivityChecker=h,this._ngZone=p,this._focusMonitor=_,this._animationStateChanged=new a.vpe,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=T=>(this._portalOutlet.hasAttached(),this._portalOutlet.attachDomPortal(T)),this._ariaLabelledBy=c.ariaLabelledBy||null,this._document=s}_initializeWithAttachedContent(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=AR())}attachComponentPortal(t){return this._portalOutlet.hasAttached(),this._portalOutlet.attachComponentPortal(t)}attachTemplatePortal(t){return this._portalOutlet.hasAttached(),this._portalOutlet.attachTemplatePortal(t)}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(t,i){this._interactivityChecker.isFocusable(t)||(t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{t.removeEventListener("blur",r),t.removeEventListener("mousedown",r),t.removeAttribute("tabindex")};t.addEventListener("blur",r),t.addEventListener("mousedown",r)})),t.focus(i)}_focusByCssSelector(t,i){let r=this._elementRef.nativeElement.querySelector(t);r&&this._forceFocus(r,i)}_trapFocus(){const t=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||t.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{i||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const t=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&t&&"function"==typeof t.focus){const i=AR(),r=this._elementRef.nativeElement;(!i||i===this._document.body||i===r||r.contains(i))&&(this._focusMonitor?(this._focusMonitor.focusVia(t,this._closeInteractionType),this._closeInteractionType=null):t.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const t=this._elementRef.nativeElement,i=AR();return t===i||t.contains(i)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.SBq),a.Y36(w5),a.Y36(a.sBO),a.Y36(fe,8),a.Y36(HO),a.Y36(yV),a.Y36(a.R0b),a.Y36(TV))},n.\u0275dir=a.lG2({type:n,viewQuery:function(t,i){if(1&t&&a.Gf(rH,7),2&t){let r;a.iGM(r=a.CRH())&&(i._portalOutlet=r.first)}},features:[a.qOj]}),n})(),H9=(()=>{class n extends U9{constructor(){super(...arguments),this._state="enter"}_onAnimationDone({toState:t,totalTime:i}){"enter"===t?(this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:i})):"exit"===t&&(this._restoreFocus(),this._animationStateChanged.next({state:"closed",totalTime:i}))}_onAnimationStart({toState:t,totalTime:i}){"enter"===t?this._animationStateChanged.next({state:"opening",totalTime:i}):("exit"===t||"void"===t)&&this._animationStateChanged.next({state:"closing",totalTime:i})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}_initializeWithAttachedContent(){super._initializeWithAttachedContent(),this._config.delayFocusTrap||this._trapFocus()}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=a.n5z(n)))(i||n)}}(),n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(t,i){1&t&&a.WFA("@dialogContainer.start",function(s){return i._onAnimationStart(s)})("@dialogContainer.done",function(s){return i._onAnimationDone(s)}),2&t&&(a.Ikx("id",i._id),a.uIk("role",i._config.role)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledBy)("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null),a.d8E("@dialogContainer",i._state))},features:[a.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,i){1&t&&a.YNc(0,V9,0,0,"ng-template",0)},directives:[rH],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[B9.dialogContainer]}}),n})(),j9=0;class G9{constructor(e,t,i="mat-dialog-"+j9++){this._overlayRef=e,this._containerInstance=t,this.id=i,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new I.x,this._afterClosed=new I.x,this._beforeClosed=new I.x,this._state=0,t._id=i,t._animationStateChanged.pipe(ii(r=>"opened"===r.state),(0,Zi.q)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),t._animationStateChanged.pipe(ii(r=>"closed"===r.state),(0,Zi.q)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),e.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),e.keydownEvents().pipe(ii(r=>27===r.keyCode&&!this.disableClose&&!function s5(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}(r))).subscribe(r=>{r.preventDefault(),mH(this,"keyboard")}),e.backdropClick().subscribe(()=>{this.disableClose?this._containerInstance._recaptureFocus():mH(this,"mouse")})}close(e){this._result=e,this._containerInstance._animationStateChanged.pipe(ii(t=>"closing"===t.state),(0,Zi.q)(1)).subscribe(t=>{this._beforeClosed.next(e),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),t.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._afterClosed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(e){let t=this._getPositionStrategy();return e&&(e.left||e.right)?e.left?t.left(e.left):t.right(e.right):t.centerHorizontally(),e&&(e.top||e.bottom)?e.top?t.top(e.top):t.bottom(e.bottom):t.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(e="",t=""){return this._overlayRef.updateSize({width:e,height:t}),this._overlayRef.updatePosition(),this}addPanelClass(e){return this._overlayRef.addPanelClass(e),this}removePanelClass(e){return this._overlayRef.removePanelClass(e),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._overlayRef.dispose()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}function mH(n,e,t){return void 0!==n._containerInstance&&(n._containerInstance._closeInteractionType=e),n.close(t)}const $9=new a.OlP("MatDialogData"),z9=new a.OlP("mat-dialog-default-options"),gH=new a.OlP("mat-dialog-scroll-strategy"),W9={provide:gH,deps:[rA],useFactory:function q9(n){return()=>n.scrollStrategies.block()}};let Z9=(()=>{class n{constructor(t,i,r,s,c,h,p,_,T,S){this._overlay=t,this._injector=i,this._defaultOptions=r,this._parentDialog=s,this._overlayContainer=c,this._dialogRefConstructor=p,this._dialogContainerType=_,this._dialogDataToken=T,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new I.x,this._afterOpenedAtThisLevel=new I.x,this._ariaHiddenElements=new Map,this.afterAllClosed=YC(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Nc(void 0))),this._scrollStrategy=h}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(t,i){i=function K9(n,e){return Object.assign(Object.assign({},e),n)}(i,this._defaultOptions||new HO),i.id&&this.getDialogById(i.id);const r=this._createOverlay(i),s=this._attachDialogContainer(r,i),c=this._attachDialogContent(t,s,r,i);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(c),c.afterClosed().subscribe(()=>this._removeOpenDialog(c)),this.afterOpened.next(c),s._initializeWithAttachedContent(),c}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(t){return this.openDialogs.find(i=>i.id===t)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_createOverlay(t){const i=this._getOverlayConfig(t);return this._overlay.create(i)}_getOverlayConfig(t){const i=new cH({positionStrategy:this._overlay.position().global(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,disposeOnNavigation:t.closeOnNavigation});return t.backdropClass&&(i.backdropClass=t.backdropClass),i}_attachDialogContainer(t,i){const s=a.zs3.create({parent:i&&i.viewContainerRef&&i.viewContainerRef.injector||this._injector,providers:[{provide:HO,useValue:i}]}),c=new LO(this._dialogContainerType,i.viewContainerRef,s,i.componentFactoryResolver);return t.attach(c).instance}_attachDialogContent(t,i,r,s){const c=new this._dialogRefConstructor(r,i,s.id);if(t instanceof a.Rgc)i.attachTemplatePortal(new iH(t,null,{$implicit:s.data,dialogRef:c}));else{const h=this._createInjector(s,c,i),p=i.attachComponentPortal(new LO(t,s.viewContainerRef,h,s.componentFactoryResolver));c.componentInstance=p.instance}return c.updateSize(s.width,s.height).updatePosition(s.position),c}_createInjector(t,i,r){const s=t&&t.viewContainerRef&&t.viewContainerRef.injector,c=[{provide:this._dialogContainerType,useValue:r},{provide:this._dialogDataToken,useValue:t.data},{provide:this._dialogRefConstructor,useValue:i}];return t.direction&&(!s||!s.get(gC,null,a.XFs.Optional))&&c.push({provide:gC,useValue:{value:t.direction,change:N()}}),a.zs3.create({parent:s||this._injector,providers:c})}_removeOpenDialog(t){const i=this.openDialogs.indexOf(t);i>-1&&(this.openDialogs.splice(i,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((r,s)=>{r?s.setAttribute("aria-hidden",r):s.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const t=this._overlayContainer.getContainerElement();if(t.parentElement){const i=t.parentElement.children;for(let r=i.length-1;r>-1;r--){let s=i[r];s!==t&&"SCRIPT"!==s.nodeName&&"STYLE"!==s.nodeName&&!s.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(s,s.getAttribute("aria-hidden")),s.setAttribute("aria-hidden","true"))}}}_closeDialogs(t){let i=t.length;for(;i--;)t[i].close()}}return n.\u0275fac=function(t){a.$Z()},n.\u0275dir=a.lG2({type:n}),n})(),Y9=(()=>{class n extends Z9{constructor(t,i,r,s,c,h,p,_){super(t,i,s,h,p,c,G9,H9,$9,_)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(rA),a.LFG(a.zs3),a.LFG(ce,8),a.LFG(z9,8),a.LFG(gH),a.LFG(n,12),a.LFG(UO),a.LFG(lp,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),Q9=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[Y9,W9],imports:[[L9,sH,Xr],Xr]}),n})();function J9(n,e){if(1&n&&(a.O4$(),a._UZ(0,"circle",4)),2&n){const t=a.oxw(),i=a.MAs(1);a.Udp("animation-name","mat-progress-spinner-stroke-rotate-"+t._spinnerAnimationLabel)("stroke-dashoffset",t._getStrokeDashOffset(),"px")("stroke-dasharray",t._getStrokeCircumference(),"px")("stroke-width",t._getCircleStrokeWidth(),"%")("transform-origin",t._getCircleTransformOrigin(i)),a.uIk("r",t._getCircleRadius())}}function X9(n,e){if(1&n&&(a.O4$(),a._UZ(0,"circle",4)),2&n){const t=a.oxw(),i=a.MAs(1);a.Udp("stroke-dashoffset",t._getStrokeDashOffset(),"px")("stroke-dasharray",t._getStrokeCircumference(),"px")("stroke-width",t._getCircleStrokeWidth(),"%")("transform-origin",t._getCircleTransformOrigin(i)),a.uIk("r",t._getCircleRadius())}}const tY=rO(class{constructor(n){this._elementRef=n}},"primary"),nY=new a.OlP("mat-progress-spinner-default-options",{providedIn:"root",factory:function iY(){return{diameter:100}}});class fp extends tY{constructor(e,t,i,r,s,c,h,p){super(e),this._document=i,this._diameter=100,this._value=0,this._resizeSubscription=Hl.w0.EMPTY,this.mode="determinate";const _=fp._diameters;this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),_.has(i.head)||_.set(i.head,new Set([100])),this._noopAnimations="NoopAnimations"===r&&!!s&&!s._forceAnimations,"mat-spinner"===e.nativeElement.nodeName.toLowerCase()&&(this.mode="indeterminate"),s&&(s.diameter&&(this.diameter=s.diameter),s.strokeWidth&&(this.strokeWidth=s.strokeWidth)),t.isBrowser&&t.SAFARI&&h&&c&&p&&(this._resizeSubscription=h.change(150).subscribe(()=>{"indeterminate"===this.mode&&p.run(()=>c.markForCheck())}))}get diameter(){return this._diameter}set diameter(e){this._diameter=yS(e),this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),this._styleRoot&&this._attachStyleNode()}get strokeWidth(){return this._strokeWidth||this.diameter/10}set strokeWidth(e){this._strokeWidth=yS(e)}get value(){return"determinate"===this.mode?this._value:0}set value(e){this._value=Math.max(0,Math.min(100,yS(e)))}ngOnInit(){const e=this._elementRef.nativeElement;this._styleRoot=pV(e)||this._document.head,this._attachStyleNode(),e.classList.add("mat-progress-spinner-indeterminate-animation")}ngOnDestroy(){this._resizeSubscription.unsubscribe()}_getCircleRadius(){return(this.diameter-10)/2}_getViewBox(){const e=2*this._getCircleRadius()+this.strokeWidth;return`0 0 ${e} ${e}`}_getStrokeCircumference(){return 2*Math.PI*this._getCircleRadius()}_getStrokeDashOffset(){return"determinate"===this.mode?this._getStrokeCircumference()*(100-this._value)/100:null}_getCircleStrokeWidth(){return this.strokeWidth/this.diameter*100}_getCircleTransformOrigin(e){var t;const i=50*(null!==(t=e.currentScale)&&void 0!==t?t:1);return`${i}% ${i}%`}_attachStyleNode(){const e=this._styleRoot,t=this._diameter,i=fp._diameters;let r=i.get(e);if(!r||!r.has(t)){const s=this._document.createElement("style");s.setAttribute("mat-spinner-animation",this._spinnerAnimationLabel),s.textContent=this._getAnimationText(),e.appendChild(s),r||(r=new Set,i.set(e,r)),r.add(t)}}_getAnimationText(){const e=this._getStrokeCircumference();return"\n @keyframes mat-progress-spinner-stroke-rotate-DIAMETER {\n    0%      { stroke-dashoffset: START_VALUE;  transform: rotate(0); }\n    12.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(0); }\n    12.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(72.5deg); }\n    25%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(72.5deg); }\n\n    25.0001%   { stroke-dashoffset: START_VALUE;  transform: rotate(270deg); }\n    37.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(270deg); }\n    37.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(161.5deg); }\n    50%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(161.5deg); }\n\n    50.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(180deg); }\n    62.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(180deg); }\n    62.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(251.5deg); }\n    75%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(251.5deg); }\n\n    75.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(90deg); }\n    87.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(90deg); }\n    87.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(341.5deg); }\n    100%    { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(341.5deg); }\n  }\n".replace(/START_VALUE/g,""+.95*e).replace(/END_VALUE/g,""+.2*e).replace(/DIAMETER/g,`${this._spinnerAnimationLabel}`)}_getSpinnerAnimationLabel(){return this.diameter.toString().replace(".","_")}}fp._diameters=new WeakMap,fp.\u0275fac=function(e){return new(e||fp)(a.Y36(a.SBq),a.Y36(va),a.Y36(fe,8),a.Y36(lp,8),a.Y36(nY),a.Y36(a.sBO),a.Y36(iA),a.Y36(a.R0b))},fp.\u0275cmp=a.Xpm({type:fp,selectors:[["mat-progress-spinner"],["mat-spinner"]],hostAttrs:["role","progressbar","tabindex","-1",1,"mat-progress-spinner","mat-spinner"],hostVars:10,hostBindings:function(e,t){2&e&&(a.uIk("aria-valuemin","determinate"===t.mode?0:null)("aria-valuemax","determinate"===t.mode?100:null)("aria-valuenow","determinate"===t.mode?t.value:null)("mode",t.mode),a.Udp("width",t.diameter,"px")("height",t.diameter,"px"),a.ekj("_mat-animation-noopable",t._noopAnimations))},inputs:{color:"color",diameter:"diameter",strokeWidth:"strokeWidth",mode:"mode",value:"value"},exportAs:["matProgressSpinner"],features:[a.qOj],decls:4,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false","aria-hidden","true",3,"ngSwitch"],["svg",""],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width","transform-origin",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width","transform-origin",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(e,t){1&e&&(a.O4$(),a.TgZ(0,"svg",0,1),a.YNc(2,J9,1,11,"circle",2),a.YNc(3,X9,1,9,"circle",3),a.qZA()),2&e&&(a.Udp("width",t.diameter,"px")("height",t.diameter,"px"),a.Q6J("ngSwitch","indeterminate"===t.mode),a.uIk("viewBox",t._getViewBox()),a.xp6(2),a.Q6J("ngSwitchCase",!0),a.xp6(1),a.Q6J("ngSwitchCase",!1))},directives:[ji,mr],styles:[".mat-progress-spinner{display:block;position:relative;overflow:hidden}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:transparent;transition:stroke-dashoffset 225ms linear}._mat-animation-noopable.mat-progress-spinner circle{transition:none;animation:none}.cdk-high-contrast-active .mat-progress-spinner circle{stroke:CanvasText}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{animation:mat-progress-spinner-linear-rotate 2000ms linear infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition-property:stroke;animation-duration:4000ms;animation-timing-function:cubic-bezier(0.35, 0, 0.25, 1);animation-iteration-count:infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition:none;animation:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.606171575px;transform:rotate(0)}12.5%{stroke-dashoffset:56.5486677px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.606171575px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.5486677px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.606171575px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.5486677px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.606171575px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.5486677px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(341.5deg)}}\n"],encapsulation:2,changeDetection:0});let sY=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[Xr,to],Xr]}),n})();function GO(n){return n&&"function"==typeof n.connect}class _H{applyChanges(e,t,i,r,s){e.forEachOperation((c,h,p)=>{let _,T;if(null==c.previousIndex){const S=i(c,h,p);_=t.createEmbeddedView(S.templateRef,S.context,S.index),T=1}else null==p?(t.remove(h),T=3):(_=t.get(h),t.move(_,p),T=2);s&&s({context:null==_?void 0:_.context,operation:T,record:c})})}detach(){}}const OC=new a.OlP("_ViewRepeater"),aY=[[["caption"]],[["colgroup"],["col"]]],lY=["caption","colgroup, col"];function $O(n){return class extends n{constructor(...e){super(...e),this._sticky=!1,this._hasStickyChanged=!1}get sticky(){return this._sticky}set sticky(e){const t=this._sticky;this._sticky=ou(e),this._hasStickyChanged=t!==this._sticky}hasStickyChanged(){const e=this._hasStickyChanged;return this._hasStickyChanged=!1,e}resetStickyChanged(){this._hasStickyChanged=!1}}}const gv=new a.OlP("CDK_TABLE");let _v=(()=>{class n{constructor(t){this.template=t}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.Rgc))},n.\u0275dir=a.lG2({type:n,selectors:[["","cdkCellDef",""]]}),n})(),yv=(()=>{class n{constructor(t){this.template=t}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.Rgc))},n.\u0275dir=a.lG2({type:n,selectors:[["","cdkHeaderCellDef",""]]}),n})(),sA=(()=>{class n{constructor(t){this.template=t}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.Rgc))},n.\u0275dir=a.lG2({type:n,selectors:[["","cdkFooterCellDef",""]]}),n})();class hY{}const fY=$O(hY);let bh=(()=>{class n extends fY{constructor(t){super(),this._table=t,this._stickyEnd=!1}get name(){return this._name}set name(t){this._setNameInput(t)}get stickyEnd(){return this._stickyEnd}set stickyEnd(t){const i=this._stickyEnd;this._stickyEnd=ou(t),this._hasStickyChanged=i!==this._stickyEnd}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(t){t&&(this._name=t,this.cssClassFriendlyName=t.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(gv,8))},n.\u0275dir=a.lG2({type:n,selectors:[["","cdkColumnDef",""]],contentQueries:function(t,i,r){if(1&t&&(a.Suo(r,_v,5),a.Suo(r,yv,5),a.Suo(r,sA,5)),2&t){let s;a.iGM(s=a.CRH())&&(i.cell=s.first),a.iGM(s=a.CRH())&&(i.headerCell=s.first),a.iGM(s=a.CRH())&&(i.footerCell=s.first)}},inputs:{sticky:"sticky",name:["cdkColumnDef","name"],stickyEnd:"stickyEnd"},features:[a._Bn([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),a.qOj]}),n})();class zO{constructor(e,t){t.nativeElement.classList.add(...e._columnCssClassName)}}let qO=(()=>{class n extends zO{constructor(t,i){super(t,i)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(bh),a.Y36(a.SBq))},n.\u0275dir=a.lG2({type:n,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],features:[a.qOj]}),n})(),WO=(()=>{class n extends zO{constructor(t,i){var r;if(super(t,i),1===(null===(r=t._table)||void 0===r?void 0:r._elementRef.nativeElement.nodeType)){const s=t._table._elementRef.nativeElement.getAttribute("role");i.nativeElement.setAttribute("role","grid"===s||"treegrid"===s?"gridcell":"cell")}}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(bh),a.Y36(a.SBq))},n.\u0275dir=a.lG2({type:n,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],features:[a.qOj]}),n})();class bH{constructor(){this.tasks=[],this.endTasks=[]}}const ZO=new a.OlP("_COALESCED_STYLE_SCHEDULER");let wH=(()=>{class n{constructor(t){this._ngZone=t,this._currentSchedule=null,this._destroyed=new I.x}schedule(t){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(t)}scheduleEnd(t){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(t)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new bH,this._getScheduleObservable().pipe(fl(this._destroyed)).subscribe(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){const t=this._currentSchedule;this._currentSchedule=new bH;for(const i of t.tasks)i();for(const i of t.endTasks)i()}this._currentSchedule=null}))}_getScheduleObservable(){return this._ngZone.isStable?(0,x.D)(Promise.resolve(void 0)):this._ngZone.onStable.pipe((0,Zi.q)(1))}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(a.R0b))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),YO=(()=>{class n{constructor(t,i){this.template=t,this._differs=i}ngOnChanges(t){if(!this._columnsDiffer){const i=t.columns&&t.columns.currentValue||[];this._columnsDiffer=this._differs.find(i).create(),this._columnsDiffer.diff(i)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(t){return this instanceof NC?t.headerCell.template:this instanceof PC?t.footerCell.template:t.cell.template}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.Rgc),a.Y36(a.ZZ4))},n.\u0275dir=a.lG2({type:n,features:[a.TTD]}),n})();class pY extends YO{}const mY=$O(pY);let NC=(()=>{class n extends mY{constructor(t,i,r){super(t,i),this._table=r}ngOnChanges(t){super.ngOnChanges(t)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.Rgc),a.Y36(a.ZZ4),a.Y36(gv,8))},n.\u0275dir=a.lG2({type:n,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:["cdkHeaderRowDef","columns"],sticky:["cdkHeaderRowDefSticky","sticky"]},features:[a.qOj,a.TTD]}),n})();class gY extends YO{}const _Y=$O(gY);let PC=(()=>{class n extends _Y{constructor(t,i,r){super(t,i),this._table=r}ngOnChanges(t){super.ngOnChanges(t)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.Rgc),a.Y36(a.ZZ4),a.Y36(gv,8))},n.\u0275dir=a.lG2({type:n,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:["cdkFooterRowDef","columns"],sticky:["cdkFooterRowDefSticky","sticky"]},features:[a.qOj,a.TTD]}),n})(),oA=(()=>{class n extends YO{constructor(t,i,r){super(t,i),this._table=r}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.Rgc),a.Y36(a.ZZ4),a.Y36(gv,8))},n.\u0275dir=a.lG2({type:n,selectors:[["","cdkRowDef",""]],inputs:{columns:["cdkRowDefColumns","columns"],when:["cdkRowDefWhen","when"]},features:[a.qOj]}),n})(),wh=(()=>{class n{constructor(t){this._viewContainer=t,n.mostRecentCellOutlet=this}ngOnDestroy(){n.mostRecentCellOutlet===this&&(n.mostRecentCellOutlet=null)}}return n.mostRecentCellOutlet=null,n.\u0275fac=function(t){return new(t||n)(a.Y36(a.s_b))},n.\u0275dir=a.lG2({type:n,selectors:[["","cdkCellOutlet",""]]}),n})(),KO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,i){1&t&&a.GkF(0,0)},directives:[wh],encapsulation:2}),n})(),JO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,i){1&t&&a.GkF(0,0)},directives:[wh],encapsulation:2}),n})(),aA=(()=>{class n{constructor(t){this.templateRef=t,this._contentClassName="cdk-no-data-row"}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.Rgc))},n.\u0275dir=a.lG2({type:n,selectors:[["ng-template","cdkNoDataRow",""]]}),n})();const CH=["top","bottom","left","right"];class yY{constructor(e,t,i,r,s=!0,c=!0,h){this._isNativeHtmlTable=e,this._stickCellCss=t,this.direction=i,this._coalescedStyleScheduler=r,this._isBrowser=s,this._needsPositionStickyOnElement=c,this._positionListener=h,this._cachedCellWidths=[],this._borderCellCss={top:`${t}-border-elem-top`,bottom:`${t}-border-elem-bottom`,left:`${t}-border-elem-left`,right:`${t}-border-elem-right`}}clearStickyPositioning(e,t){const i=[];for(const r of e)if(r.nodeType===r.ELEMENT_NODE){i.push(r);for(let s=0;s<r.children.length;s++)i.push(r.children[s])}this._coalescedStyleScheduler.schedule(()=>{for(const r of i)this._removeStickyStyle(r,t)})}updateStickyColumns(e,t,i,r=!0){if(!e.length||!this._isBrowser||!t.some(P=>P)&&!i.some(P=>P))return void(this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]})));const s=e[0],c=s.children.length,h=this._getCellWidths(s,r),p=this._getStickyStartColumnPositions(h,t),_=this._getStickyEndColumnPositions(h,i),T=t.lastIndexOf(!0),S=i.indexOf(!0);this._coalescedStyleScheduler.schedule(()=>{const P="rtl"===this.direction,H=P?"right":"left",q=P?"left":"right";for(const ae of e)for(let Ce=0;Ce<c;Ce++){const pt=ae.children[Ce];t[Ce]&&this._addStickyStyle(pt,H,p[Ce],Ce===T),i[Ce]&&this._addStickyStyle(pt,q,_[Ce],Ce===S)}this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:-1===T?[]:h.slice(0,T+1).map((ae,Ce)=>t[Ce]?ae:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:-1===S?[]:h.slice(S).map((ae,Ce)=>i[Ce+S]?ae:null).reverse()}))})}stickRows(e,t,i){if(!this._isBrowser)return;const r="bottom"===i?e.slice().reverse():e,s="bottom"===i?t.slice().reverse():t,c=[],h=[],p=[];for(let T=0,S=0;T<r.length;T++){if(!s[T])continue;c[T]=S;const P=r[T];p[T]=this._isNativeHtmlTable?Array.from(P.children):[P];const H=P.getBoundingClientRect().height;S+=H,h[T]=H}const _=s.lastIndexOf(!0);this._coalescedStyleScheduler.schedule(()=>{var T,S;for(let P=0;P<r.length;P++){if(!s[P])continue;const H=c[P],q=P===_;for(const ae of p[P])this._addStickyStyle(ae,i,H,q)}"top"===i?null===(T=this._positionListener)||void 0===T||T.stickyHeaderRowsUpdated({sizes:h,offsets:c,elements:p}):null===(S=this._positionListener)||void 0===S||S.stickyFooterRowsUpdated({sizes:h,offsets:c,elements:p})})}updateStickyFooterContainer(e,t){if(!this._isNativeHtmlTable)return;const i=e.querySelector("tfoot");this._coalescedStyleScheduler.schedule(()=>{t.some(r=>!r)?this._removeStickyStyle(i,["bottom"]):this._addStickyStyle(i,"bottom",0,!1)})}_removeStickyStyle(e,t){for(const r of t)e.style[r]="",e.classList.remove(this._borderCellCss[r]);CH.some(r=>-1===t.indexOf(r)&&e.style[r])?e.style.zIndex=this._getCalculatedZIndex(e):(e.style.zIndex="",this._needsPositionStickyOnElement&&(e.style.position=""),e.classList.remove(this._stickCellCss))}_addStickyStyle(e,t,i,r){e.classList.add(this._stickCellCss),r&&e.classList.add(this._borderCellCss[t]),e.style[t]=`${i}px`,e.style.zIndex=this._getCalculatedZIndex(e),this._needsPositionStickyOnElement&&(e.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(e){const t={top:100,bottom:10,left:1,right:1};let i=0;for(const r of CH)e.style[r]&&(i+=t[r]);return i?`${i}`:""}_getCellWidths(e,t=!0){if(!t&&this._cachedCellWidths.length)return this._cachedCellWidths;const i=[],r=e.children;for(let s=0;s<r.length;s++)i.push(r[s].getBoundingClientRect().width);return this._cachedCellWidths=i,i}_getStickyStartColumnPositions(e,t){const i=[];let r=0;for(let s=0;s<e.length;s++)t[s]&&(i[s]=r,r+=e[s]);return i}_getStickyEndColumnPositions(e,t){const i=[];let r=0;for(let s=e.length;s>0;s--)t[s]&&(i[s]=r,r+=e[s]);return i}}const XO=new a.OlP("CDK_SPL");let lA=(()=>{class n{constructor(t,i){this.viewContainer=t,this.elementRef=i}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.s_b),a.Y36(a.SBq))},n.\u0275dir=a.lG2({type:n,selectors:[["","rowOutlet",""]]}),n})(),cA=(()=>{class n{constructor(t,i){this.viewContainer=t,this.elementRef=i}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.s_b),a.Y36(a.SBq))},n.\u0275dir=a.lG2({type:n,selectors:[["","headerRowOutlet",""]]}),n})(),uA=(()=>{class n{constructor(t,i){this.viewContainer=t,this.elementRef=i}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.s_b),a.Y36(a.SBq))},n.\u0275dir=a.lG2({type:n,selectors:[["","footerRowOutlet",""]]}),n})(),dA=(()=>{class n{constructor(t,i){this.viewContainer=t,this.elementRef=i}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.s_b),a.Y36(a.SBq))},n.\u0275dir=a.lG2({type:n,selectors:[["","noDataRowOutlet",""]]}),n})(),hA=(()=>{class n{constructor(t,i,r,s,c,h,p,_,T,S,P,H){this._differs=t,this._changeDetectorRef=i,this._elementRef=r,this._dir=c,this._platform=p,this._viewRepeater=_,this._coalescedStyleScheduler=T,this._viewportRuler=S,this._stickyPositioningListener=P,this._ngZone=H,this._onDestroy=new I.x,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.contentChanged=new a.vpe,this.viewChange=new Wr({start:0,end:Number.MAX_VALUE}),s||this._elementRef.nativeElement.setAttribute("role","table"),this._document=h,this._isNativeHtmlTable="TABLE"===this._elementRef.nativeElement.nodeName}get trackBy(){return this._trackByFn}set trackBy(t){this._trackByFn=t}get dataSource(){return this._dataSource}set dataSource(t){this._dataSource!==t&&this._switchDataSource(t)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(t){this._multiTemplateDataRows=ou(t),this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout(t){this._fixedLayout=ou(t),this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}ngOnInit(){this._setupStickyStyler(),this._isNativeHtmlTable&&this._applyNativeTableSections(),this._dataDiffer=this._differs.find([]).create((t,i)=>this.trackBy?this.trackBy(i.dataIndex,i.data):i),this._viewportRuler.change().pipe(fl(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentChecked(){this._cacheRowDefs(),this._cacheColumnDefs();const i=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||i,this._forceRecalculateCellWidths=i,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}ngOnDestroy(){[this._rowOutlet.viewContainer,this._headerRowOutlet.viewContainer,this._footerRowOutlet.viewContainer,this._cachedRenderRowsMap,this._customColumnDefs,this._customRowDefs,this._customHeaderRowDefs,this._customFooterRowDefs,this._columnDefsByName].forEach(t=>{t.clear()}),this._headerRowDefs=[],this._footerRowDefs=[],this._defaultRowDef=null,this._onDestroy.next(),this._onDestroy.complete(),GO(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();const t=this._dataDiffer.diff(this._renderRows);if(!t)return this._updateNoDataRow(),void this.contentChanged.next();const i=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(t,i,(r,s,c)=>this._getEmbeddedViewArgs(r.item,c),r=>r.item.data,r=>{1===r.operation&&r.context&&this._renderCellTemplateForItem(r.record.item.rowDef,r.context)}),this._updateRowIndexContext(),t.forEachIdentityChange(r=>{i.get(r.currentIndex).context.$implicit=r.item.data}),this._updateNoDataRow(),this._ngZone&&a.R0b.isInAngularZone()?this._ngZone.onStable.pipe((0,Zi.q)(1),fl(this._onDestroy)).subscribe(()=>{this.updateStickyColumnStyles()}):this.updateStickyColumnStyles(),this.contentChanged.next()}addColumnDef(t){this._customColumnDefs.add(t)}removeColumnDef(t){this._customColumnDefs.delete(t)}addRowDef(t){this._customRowDefs.add(t)}removeRowDef(t){this._customRowDefs.delete(t)}addHeaderRowDef(t){this._customHeaderRowDefs.add(t),this._headerRowDefChanged=!0}removeHeaderRowDef(t){this._customHeaderRowDefs.delete(t),this._headerRowDefChanged=!0}addFooterRowDef(t){this._customFooterRowDefs.add(t),this._footerRowDefChanged=!0}removeFooterRowDef(t){this._customFooterRowDefs.delete(t),this._footerRowDefChanged=!0}setNoDataRow(t){this._customNoDataRow=t}updateStickyHeaderRowStyles(){const t=this._getRenderedRows(this._headerRowOutlet),r=this._elementRef.nativeElement.querySelector("thead");r&&(r.style.display=t.length?"":"none");const s=this._headerRowDefs.map(c=>c.sticky);this._stickyStyler.clearStickyPositioning(t,["top"]),this._stickyStyler.stickRows(t,s,"top"),this._headerRowDefs.forEach(c=>c.resetStickyChanged())}updateStickyFooterRowStyles(){const t=this._getRenderedRows(this._footerRowOutlet),r=this._elementRef.nativeElement.querySelector("tfoot");r&&(r.style.display=t.length?"":"none");const s=this._footerRowDefs.map(c=>c.sticky);this._stickyStyler.clearStickyPositioning(t,["bottom"]),this._stickyStyler.stickRows(t,s,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,s),this._footerRowDefs.forEach(c=>c.resetStickyChanged())}updateStickyColumnStyles(){const t=this._getRenderedRows(this._headerRowOutlet),i=this._getRenderedRows(this._rowOutlet),r=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...t,...i,...r],["left","right"]),this._stickyColumnStylesNeedReset=!1),t.forEach((s,c)=>{this._addStickyColumnStyles([s],this._headerRowDefs[c])}),this._rowDefs.forEach(s=>{const c=[];for(let h=0;h<i.length;h++)this._renderRows[h].rowDef===s&&c.push(i[h]);this._addStickyColumnStyles(c,s)}),r.forEach((s,c)=>{this._addStickyColumnStyles([s],this._footerRowDefs[c])}),Array.from(this._columnDefsByName.values()).forEach(s=>s.resetStickyChanged())}_getAllRenderRows(){const t=[],i=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let r=0;r<this._data.length;r++){let s=this._data[r];const c=this._getRenderRowsForData(s,r,i.get(s));this._cachedRenderRowsMap.has(s)||this._cachedRenderRowsMap.set(s,new WeakMap);for(let h=0;h<c.length;h++){let p=c[h];const _=this._cachedRenderRowsMap.get(p.data);_.has(p.rowDef)?_.get(p.rowDef).push(p):_.set(p.rowDef,[p]),t.push(p)}}return t}_getRenderRowsForData(t,i,r){return this._getRowDefs(t,i).map(c=>{const h=r&&r.has(c)?r.get(c):[];if(h.length){const p=h.shift();return p.dataIndex=i,p}return{data:t,rowDef:c,dataIndex:i}})}_cacheColumnDefs(){this._columnDefsByName.clear(),fA(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(i=>{this._columnDefsByName.has(i.name),this._columnDefsByName.set(i.name,i)})}_cacheRowDefs(){this._headerRowDefs=fA(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=fA(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=fA(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);const t=this._rowDefs.filter(i=>!i.when);this._defaultRowDef=t[0]}_renderUpdatedColumns(){const t=(c,h)=>c||!!h.getColumnsDiff(),i=this._rowDefs.reduce(t,!1);i&&this._forceRenderDataRows();const r=this._headerRowDefs.reduce(t,!1);r&&this._forceRenderHeaderRows();const s=this._footerRowDefs.reduce(t,!1);return s&&this._forceRenderFooterRows(),i||r||s}_switchDataSource(t){this._data=[],GO(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),t||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear()),this._dataSource=t}_observeRenderChanges(){if(!this.dataSource)return;let t;GO(this.dataSource)?t=this.dataSource.connect(this):function oY(n){return!!n&&(n instanceof G.y||(0,Ht.m)(n.lift)&&(0,Ht.m)(n.subscribe))}(this.dataSource)?t=this.dataSource:Array.isArray(this.dataSource)&&(t=N(this.dataSource)),this._renderChangeSubscription=t.pipe(fl(this._onDestroy)).subscribe(i=>{this._data=i||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((t,i)=>this._renderRow(this._headerRowOutlet,t,i)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((t,i)=>this._renderRow(this._footerRowOutlet,t,i)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(t,i){const r=Array.from(i.columns||[]).map(h=>this._columnDefsByName.get(h)),s=r.map(h=>h.sticky),c=r.map(h=>h.stickyEnd);this._stickyStyler.updateStickyColumns(t,s,c,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(t){const i=[];for(let r=0;r<t.viewContainer.length;r++){const s=t.viewContainer.get(r);i.push(s.rootNodes[0])}return i}_getRowDefs(t,i){if(1==this._rowDefs.length)return[this._rowDefs[0]];let r=[];if(this.multiTemplateDataRows)r=this._rowDefs.filter(s=>!s.when||s.when(i,t));else{let s=this._rowDefs.find(c=>c.when&&c.when(i,t))||this._defaultRowDef;s&&r.push(s)}return r}_getEmbeddedViewArgs(t,i){return{templateRef:t.rowDef.template,context:{$implicit:t.data},index:i}}_renderRow(t,i,r,s={}){const c=t.viewContainer.createEmbeddedView(i.template,s,r);return this._renderCellTemplateForItem(i,s),c}_renderCellTemplateForItem(t,i){for(let r of this._getCellTemplates(t))wh.mostRecentCellOutlet&&wh.mostRecentCellOutlet._viewContainer.createEmbeddedView(r,i);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const t=this._rowOutlet.viewContainer;for(let i=0,r=t.length;i<r;i++){const c=t.get(i).context;c.count=r,c.first=0===i,c.last=i===r-1,c.even=i%2==0,c.odd=!c.even,this.multiTemplateDataRows?(c.dataIndex=this._renderRows[i].dataIndex,c.renderIndex=i):c.index=this._renderRows[i].dataIndex}}_getCellTemplates(t){return t&&t.columns?Array.from(t.columns,i=>{const r=this._columnDefsByName.get(i);return t.extractCellTemplate(r)}):[]}_applyNativeTableSections(){const t=this._document.createDocumentFragment(),i=[{tag:"thead",outlets:[this._headerRowOutlet]},{tag:"tbody",outlets:[this._rowOutlet,this._noDataRowOutlet]},{tag:"tfoot",outlets:[this._footerRowOutlet]}];for(const r of i){const s=this._document.createElement(r.tag);s.setAttribute("role","rowgroup");for(const c of r.outlets)s.appendChild(c.elementRef.nativeElement);t.appendChild(s)}this._elementRef.nativeElement.appendChild(t)}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){const t=(i,r)=>i||r.hasStickyChanged();this._headerRowDefs.reduce(t,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(t,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(t,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){this._stickyStyler=new yY(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:N()).pipe(fl(this._onDestroy)).subscribe(i=>{this._stickyStyler.direction=i,this.updateStickyColumnStyles()})}_getOwnDefs(t){return t.filter(i=>!i._table||i._table===this)}_updateNoDataRow(){const t=this._customNoDataRow||this._noDataRow;if(!t)return;const i=0===this._rowOutlet.viewContainer.length;if(i===this._isShowingNoDataRow)return;const r=this._noDataRowOutlet.viewContainer;if(i){const s=r.createEmbeddedView(t.templateRef),c=s.rootNodes[0];1===s.rootNodes.length&&(null==c?void 0:c.nodeType)===this._document.ELEMENT_NODE&&(c.setAttribute("role","row"),c.classList.add(t._contentClassName))}else r.clear();this._isShowingNoDataRow=i}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.ZZ4),a.Y36(a.sBO),a.Y36(a.SBq),a.$8M("role"),a.Y36(gC,8),a.Y36(fe),a.Y36(va),a.Y36(OC),a.Y36(ZO),a.Y36(iA),a.Y36(XO,12),a.Y36(a.R0b,8))},n.\u0275cmp=a.Xpm({type:n,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(t,i,r){if(1&t&&(a.Suo(r,aA,5),a.Suo(r,bh,5),a.Suo(r,oA,5),a.Suo(r,NC,5),a.Suo(r,PC,5)),2&t){let s;a.iGM(s=a.CRH())&&(i._noDataRow=s.first),a.iGM(s=a.CRH())&&(i._contentColumnDefs=s),a.iGM(s=a.CRH())&&(i._contentRowDefs=s),a.iGM(s=a.CRH())&&(i._contentHeaderRowDefs=s),a.iGM(s=a.CRH())&&(i._contentFooterRowDefs=s)}},viewQuery:function(t,i){if(1&t&&(a.Gf(lA,7),a.Gf(cA,7),a.Gf(uA,7),a.Gf(dA,7)),2&t){let r;a.iGM(r=a.CRH())&&(i._rowOutlet=r.first),a.iGM(r=a.CRH())&&(i._headerRowOutlet=r.first),a.iGM(r=a.CRH())&&(i._footerRowOutlet=r.first),a.iGM(r=a.CRH())&&(i._noDataRowOutlet=r.first)}},hostAttrs:[1,"cdk-table"],hostVars:2,hostBindings:function(t,i){2&t&&a.ekj("cdk-table-fixed-layout",i.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:"multiTemplateDataRows",fixedLayout:"fixedLayout"},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],features:[a._Bn([{provide:gv,useExisting:n},{provide:OC,useClass:_H},{provide:ZO,useClass:wH},{provide:XO,useValue:null}])],ngContentSelectors:lY,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(t,i){1&t&&(a.F$t(aY),a.Hsn(0),a.Hsn(1,1),a.GkF(2,0)(3,1)(4,2)(5,3))},directives:[cA,lA,dA,uA],styles:[".cdk-table-fixed-layout{table-layout:fixed}\n"],encapsulation:2}),n})();function fA(n,e){return n.concat(Array.from(e))}let bY=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[PO]]}),n})();const wY=[[["caption"]],[["colgroup"],["col"]]],CY=["caption","colgroup, col"];let TH=(()=>{class n extends hA{constructor(){super(...arguments),this.stickyCssClass="mat-table-sticky",this.needsPositionStickyOnElement=!1}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=a.n5z(n)))(i||n)}}(),n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:[1,"mat-table"],hostVars:2,hostBindings:function(t,i){2&t&&a.ekj("mat-table-fixed-layout",i.fixedLayout)},exportAs:["matTable"],features:[a._Bn([{provide:OC,useClass:_H},{provide:hA,useExisting:n},{provide:gv,useExisting:n},{provide:ZO,useClass:wH},{provide:XO,useValue:null}]),a.qOj],ngContentSelectors:CY,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(t,i){1&t&&(a.F$t(wY),a.Hsn(0),a.Hsn(1,1),a.GkF(2,0)(3,1)(4,2)(5,3))},directives:[cA,lA,dA,uA],styles:["mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}table.mat-table{border-spacing:0}tr.mat-header-row{height:56px}tr.mat-row,tr.mat-footer-row{height:48px}th.mat-header-cell{text-align:left}[dir=rtl] th.mat-header-cell{text-align:right}th.mat-header-cell,td.mat-cell,td.mat-footer-cell{padding:0;border-bottom-width:1px;border-bottom-style:solid}th.mat-header-cell:first-of-type,td.mat-cell:first-of-type,td.mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] th.mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}th.mat-header-cell:last-of-type,td.mat-cell:last-of-type,td.mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] th.mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}.mat-table-sticky{position:sticky !important}.mat-table-fixed-layout{table-layout:fixed}\n"],encapsulation:2}),n})(),eN=(()=>{class n extends _v{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=a.n5z(n)))(i||n)}}(),n.\u0275dir=a.lG2({type:n,selectors:[["","matCellDef",""]],features:[a._Bn([{provide:_v,useExisting:n}]),a.qOj]}),n})(),tN=(()=>{class n extends yv{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=a.n5z(n)))(i||n)}}(),n.\u0275dir=a.lG2({type:n,selectors:[["","matHeaderCellDef",""]],features:[a._Bn([{provide:yv,useExisting:n}]),a.qOj]}),n})(),nN=(()=>{class n extends bh{get name(){return this._name}set name(t){this._setNameInput(t)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=a.n5z(n)))(i||n)}}(),n.\u0275dir=a.lG2({type:n,selectors:[["","matColumnDef",""]],inputs:{sticky:"sticky",name:["matColumnDef","name"]},features:[a._Bn([{provide:bh,useExisting:n},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),a.qOj]}),n})(),iN=(()=>{class n extends qO{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=a.n5z(n)))(i||n)}}(),n.\u0275dir=a.lG2({type:n,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-header-cell"],features:[a.qOj]}),n})(),rN=(()=>{class n extends WO{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=a.n5z(n)))(i||n)}}(),n.\u0275dir=a.lG2({type:n,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:["role","gridcell",1,"mat-cell"],features:[a.qOj]}),n})(),DH=(()=>{class n extends NC{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=a.n5z(n)))(i||n)}}(),n.\u0275dir=a.lG2({type:n,selectors:[["","matHeaderRowDef",""]],inputs:{columns:["matHeaderRowDef","columns"],sticky:["matHeaderRowDefSticky","sticky"]},features:[a._Bn([{provide:NC,useExisting:n}]),a.qOj]}),n})(),IH=(()=>{class n extends oA{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=a.n5z(n)))(i||n)}}(),n.\u0275dir=a.lG2({type:n,selectors:[["","matRowDef",""]],inputs:{columns:["matRowDefColumns","columns"],when:["matRowDefWhen","when"]},features:[a._Bn([{provide:oA,useExisting:n}]),a.qOj]}),n})(),SH=(()=>{class n extends KO{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=a.n5z(n)))(i||n)}}(),n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-header-row"],exportAs:["matHeaderRow"],features:[a._Bn([{provide:KO,useExisting:n}]),a.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,i){1&t&&a.GkF(0,0)},directives:[wh],encapsulation:2}),n})(),AH=(()=>{class n extends JO{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=a.n5z(n)))(i||n)}}(),n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-row"],exportAs:["matRow"],features:[a._Bn([{provide:JO,useExisting:n}]),a.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,i){1&t&&a.GkF(0,0)},directives:[wh],encapsulation:2}),n})(),RY=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[bY,Xr],Xr]}),n})();function NY(n,e){if(1&n&&(a.ynx(0),a.TgZ(1,"div",2)(2,"h5"),a._uU(3,"Fajr"),a.qZA(),a.TgZ(4,"div",3)(5,"div",4)(6,"mat-card")(7,"mat-card-title"),a._uU(8,"Azan"),a.qZA(),a.TgZ(9,"mat-card-content")(10,"div",5),a._uU(11),a.qZA()()()(),a.TgZ(12,"div",4)(13,"mat-card")(14,"mat-card-title"),a._uU(15,"Jamah"),a.qZA(),a.TgZ(16,"mat-card-content")(17,"div",5),a._uU(18),a.qZA()()()()()(),a.TgZ(19,"div",2)(20,"h5"),a._uU(21,"Zuhr"),a.qZA(),a.TgZ(22,"div",3)(23,"div",4)(24,"mat-card")(25,"mat-card-title"),a._uU(26,"Azan"),a.qZA(),a.TgZ(27,"mat-card-content")(28,"div",5),a._uU(29),a.qZA()()()(),a.TgZ(30,"div",4)(31,"mat-card")(32,"mat-card-title"),a._uU(33,"Jamah"),a.qZA(),a.TgZ(34,"mat-card-content")(35,"div",5),a._uU(36),a.qZA()()()()()(),a.TgZ(37,"div",2)(38,"h5"),a._uU(39,"Asr"),a.qZA(),a.TgZ(40,"div",3)(41,"div",4)(42,"mat-card")(43,"mat-card-title"),a._uU(44,"Azan"),a.qZA(),a.TgZ(45,"mat-card-content")(46,"div",5),a._uU(47),a.qZA()()()(),a.TgZ(48,"div",4)(49,"mat-card")(50,"mat-card-title"),a._uU(51,"Jamah"),a.qZA(),a.TgZ(52,"mat-card-content")(53,"div",5),a._uU(54),a.qZA()()()()()(),a.TgZ(55,"div",2)(56,"h5"),a._uU(57,"Magrib"),a.qZA(),a.TgZ(58,"div",3)(59,"div",4)(60,"mat-card")(61,"mat-card-title"),a._uU(62,"Azan"),a.qZA(),a.TgZ(63,"mat-card-content")(64,"div",5),a._uU(65),a.qZA()()()(),a.TgZ(66,"div",4)(67,"mat-card")(68,"mat-card-title"),a._uU(69,"Jamah"),a.qZA(),a.TgZ(70,"mat-card-content")(71,"div",5),a._uU(72),a.qZA()()()()()(),a.TgZ(73,"div",2)(74,"h5"),a._uU(75,"Isha"),a.qZA(),a.TgZ(76,"div",3)(77,"div",4)(78,"mat-card")(79,"mat-card-title"),a._uU(80,"Azan"),a.qZA(),a.TgZ(81,"mat-card-content")(82,"div",5),a._uU(83),a.qZA()()()(),a.TgZ(84,"div",4)(85,"mat-card")(86,"mat-card-title"),a._uU(87,"Jamah"),a.qZA(),a.TgZ(88,"mat-card-content")(89,"div",5),a._uU(90),a.qZA()()()()()(),a.BQk()),2&n){const t=a.oxw();a.xp6(11),a.Oqu(t.timing.first_a),a.xp6(7),a.Oqu(t.timing.first_j),a.xp6(11),a.Oqu(t.timing.second_a),a.xp6(7),a.Oqu(t.timing.second_j),a.xp6(11),a.Oqu(t.timing.third_a),a.xp6(7),a.Oqu(t.timing.third_j),a.xp6(11),a.Oqu(t.timing.fourth_a),a.xp6(7),a.Oqu(t.timing.fourth_j),a.xp6(11),a.Oqu(t.timing.fifth_a),a.xp6(7),a.Oqu(t.timing.fifth_j)}}function PY(n,e){1&n&&(a.TgZ(0,"div",6),a._uU(1,"Loading..."),a.qZA())}let FY=(()=>{class n{constructor(t){this.userService=t}ngOnInit(){this.getTiming()}getTiming(){this.userService.getTiming().subscribe(t=>{this.timing=t.map(i=>Object.assign({id:i.payload.doc.id},i.payload.doc.data())),this.timing=this.timing[0]})}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(Wy))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-timing"]],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["elseBock",""],[1,"time"],[1,"row"],[1,"col-6","timeCard"],[1,"timeT"],[1,"loading"]],template:function(t,i){if(1&t&&(a.YNc(0,NY,91,10,"ng-container",0),a.YNc(1,PY,2,0,"ng-template",null,1,a.W1O)),2&t){const r=a.MAs(2);a.Q6J("ngIf",i.timing)("ngIfElse",r)}},directives:[jn,YW,ZW,WW],styles:[""]}),n})();function LY(n,e){1&n&&(a.O4$(),a.TgZ(0,"svg",8),a._UZ(1,"path",9)(2,"path",10),a.qZA())}function VY(n,e){1&n&&(a.O4$(),a.TgZ(0,"svg",8),a._UZ(1,"path",11)(2,"path",12),a.qZA())}function BY(n,e){1&n&&(a.O4$(),a.TgZ(0,"svg",13),a._UZ(1,"path",14)(2,"path",15),a.qZA())}function UY(n,e){1&n&&(a.O4$(),a.TgZ(0,"svg",13),a._UZ(1,"path",16)(2,"path",17),a.qZA())}let HY=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-footer"]],decls:16,vars:4,consts:[[1,"site-footerBar"],["routerLinkActive","active"],["routerLink","../home","routerLinkActive",""],["home","routerLinkActive"],["width","19","height","21","viewBox","0 0 19 21","fill","none","xmlns","http://www.w3.org/2000/svg",4,"ngIf"],["routerLink","../my-account","routerLinkActive",""],["myAccount","routerLinkActive"],["width","18","height","20","viewBox","0 0 18 20","fill","none","xmlns","http://www.w3.org/2000/svg",4,"ngIf"],["width","19","height","21","viewBox","0 0 19 21","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M1 7.61111L9.5 1L18 7.61111V18C18 18.501 17.801 18.9814 17.4468 19.3356C17.0925 19.6899 16.6121 19.8889 16.1111 19.8889H2.88889C2.38792 19.8889 1.90748 19.6899 1.55324 19.3356C1.19901 18.9814 1 18.501 1 18V7.61111Z","stroke-width","1.5","stroke-linecap","round","stroke-linejoin","round","stroke","#FFFFFF"],["d","M6.66699 19.8888V10.4443H12.3337V19.8888","stroke-width","1.5","stroke-linecap","round","stroke-linejoin","round","stroke","#FFFFFF"],["d","M1 7.61111L9.5 1L18 7.61111V18C18 18.501 17.801 18.9814 17.4468 19.3356C17.0925 19.6899 16.6121 19.8889 16.1111 19.8889H2.88889C2.38792 19.8889 1.90748 19.6899 1.55324 19.3356C1.19901 18.9814 1 18.501 1 18V7.61111Z","stroke-width","1.5","stroke-linecap","round","stroke-linejoin","round","stroke","#AAAAAA"],["d","M6.66699 19.8888V10.4443H12.3337V19.8888","stroke-width","1.5","stroke-linecap","round","stroke-linejoin","round","stroke","#AAAAAA"],["width","18","height","20","viewBox","0 0 18 20","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M17 19V17C17 15.9391 16.5786 14.9217 15.8284 14.1716C15.0783 13.4214 14.0609 13 13 13H5C3.93913 13 2.92172 13.4214 2.17157 14.1716C1.42143 14.9217 1 15.9391 1 17V19","stroke-width","1.5","stroke-linecap","round","stroke-linejoin","round","stroke","#FFFFFF"],["d","M9 9C11.2091 9 13 7.20914 13 5C13 2.79086 11.2091 1 9 1C6.79086 1 5 2.79086 5 5C5 7.20914 6.79086 9 9 9Z","stroke-width","1.5","stroke-linecap","round","stroke-linejoin","round","stroke","#FFFFFF"],["d","M17 19V17C17 15.9391 16.5786 14.9217 15.8284 14.1716C15.0783 13.4214 14.0609 13 13 13H5C3.93913 13 2.92172 13.4214 2.17157 14.1716C1.42143 14.9217 1 15.9391 1 17V19","stroke-width","1.5","stroke-linecap","round","stroke-linejoin","round","stroke","#AAAAAA"],["d","M9 9C11.2091 9 13 7.20914 13 5C13 2.79086 11.2091 1 9 1C6.79086 1 5 2.79086 5 5C5 7.20914 6.79086 9 9 9Z","stroke-width","1.5","stroke-linecap","round","stroke-linejoin","round","stroke","#AAAAAA"]],template:function(t,i){if(1&t&&(a.TgZ(0,"div",0)(1,"ul")(2,"li",1)(3,"a",2,3),a.YNc(5,LY,3,0,"svg",4),a.YNc(6,VY,3,0,"svg",4),a.TgZ(7,"span"),a._uU(8,"Home"),a.qZA()()(),a.TgZ(9,"li",1)(10,"a",5,6),a.YNc(12,BY,3,0,"svg",7),a.YNc(13,UY,3,0,"svg",7),a.TgZ(14,"span"),a._uU(15,"Account"),a.qZA()()()()()),2&t){const r=a.MAs(4),s=a.MAs(11);a.xp6(5),a.Q6J("ngIf",r.isActive),a.xp6(1),a.Q6J("ngIf",!r.isActive),a.xp6(6),a.Q6J("ngIf",s.isActive),a.xp6(1),a.Q6J("ngIf",!s.isActive)}},directives:[BE,Hs,jn],styles:[""]}),n})(),jY=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-home"]],decls:6,vars:0,consts:[[1,"homeComponent","pb-80","pt-30"],[1,"appContainer"],[1,"px-20"],[1,"site-footer"]],template:function(t,i){1&t&&(a.TgZ(0,"div",0)(1,"div",1)(2,"div",2),a._UZ(3,"app-timing"),a.qZA(),a.TgZ(4,"div",3),a._UZ(5,"app-footer"),a.qZA()()())},directives:[FY,HY],styles:[".homeComponent[_ngcontent-%COMP%]{min-height:100vh;background:linear-gradient(135deg,#7463e4 0%,#462fb0 100%);position:relative}"]}),n})();function Re(n,e,t,i){var c,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(n,e,t,i);else for(var h=n.length-1;h>=0;h--)(c=n[h])&&(s=(r<3?c(s):r>3?c(e,t,s):c(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s}function lu(n,e){return function(t,i){e(t,i,n)}}var wa=$(7122);function $Y(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"ngx-material-timepicker-24-hours-face",17),a.NdJ("hourChange",function(r){return a.CHM(t),a.oxw(2).onHourChange(r)})("hourSelected",function(r){return a.CHM(t),a.oxw(2).onHourSelected(r)}),a.ALo(1,"async"),a.qZA()}if(2&n){const t=a.oxw(2);a.Q6J("selectedHour",a.lcZ(1,4,t.selectedHour))("minTime",t.minTime)("maxTime",t.maxTime)("format",t.format)}}function zY(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"ngx-material-timepicker-12-hours-face",18),a.NdJ("hourChange",function(r){return a.CHM(t),a.oxw(2).onHourChange(r)})("hourSelected",function(r){return a.CHM(t),a.oxw(2).onHourSelected(r)}),a.ALo(1,"async"),a.ALo(2,"async"),a.qZA()}if(2&n){const t=a.oxw(2);a.Q6J("selectedHour",a.lcZ(1,4,t.selectedHour))("period",a.lcZ(2,6,t.selectedPeriod))("minTime",t.minTime)("maxTime",t.maxTime)}}function qY(n,e){if(1&n&&(a.TgZ(0,"div"),a.YNc(1,$Y,2,6,"ngx-material-timepicker-24-hours-face",15),a.YNc(2,zY,3,8,"ng-template",null,16,a.W1O),a.qZA()),2&n){const t=a.MAs(3),i=a.oxw();a.xp6(1),a.Q6J("ngIf",24===i.format)("ngIfElse",t)}}function WY(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"ngx-material-timepicker-minutes-face",19),a.NdJ("minuteChange",function(r){return a.CHM(t),a.oxw().onMinuteChange(r)}),a.ALo(1,"async"),a.ALo(2,"async"),a.ALo(3,"async"),a.qZA()}if(2&n){const t=a.oxw();let i;a.Q6J("selectedMinute",a.lcZ(1,7,t.selectedMinute))("selectedHour",null==(i=a.lcZ(2,9,t.selectedHour))?null:i.time)("minTime",t.minTime)("maxTime",t.maxTime)("format",t.format)("period",a.lcZ(3,11,t.selectedPeriod))("minutesGap",t.minutesGap)}}function ZY(n,e){1&n&&a.GkF(0)}function YY(n,e){1&n&&a.GkF(0)}function KY(n,e){1&n&&(a.TgZ(0,"ngx-material-timepicker-button"),a._uU(1,"Cancel"),a.qZA())}function QY(n,e){1&n&&(a.TgZ(0,"ngx-material-timepicker-button"),a._uU(1,"Ok"),a.qZA())}const JY=function(n){return{"timepicker-backdrop-overlay--transparent":n}};function XY(n,e){1&n&&(a.O4$(),a.TgZ(0,"svg",2),a._UZ(1,"path",3),a.qZA())}const eK=[[["","ngxMaterialTimepickerToggleIcon",""]]],tK=["[ngxMaterialTimepickerToggleIcon]"],nK=["clockFace"],iK=["clockHand"],vv=function(n){return{transform:n}},oN=function(n,e){return{active:n,disabled:e}};function rK(n,e){if(1&n&&(a.TgZ(0,"div",9)(1,"span",10),a.ALo(2,"activeHour"),a._uU(3),a.ALo(4,"timeLocalizer"),a.qZA()()),2&n){const t=e.$implicit,i=a.oxw(2);a.Q6J("ngStyle",a.VKq(11,vv,"rotateZ("+t.angle+"deg) translateX(-50%)")),a.xp6(1),a.Q6J("ngStyle",a.VKq(13,vv,"rotateZ(-"+t.angle+"deg)"))("ngClass",a.WLB(15,oN,a.Dn7(2,4,t.time,i.selectedTime.time,i.isClockFaceDisabled),t.disabled)),a.xp6(2),a.hij(" ",a.xi3(4,8,t.time,i.timeUnit.HOUR)," ")}}function sK(n,e){if(1&n&&(a.TgZ(0,"div",13)(1,"span",10),a.ALo(2,"activeHour"),a._uU(3),a.ALo(4,"timeLocalizer"),a.qZA()()),2&n){const t=e.$implicit,i=a.oxw(3);a.Udp("height",i.innerClockFaceSize,"px"),a.Q6J("ngStyle",a.VKq(13,vv,"rotateZ("+t.angle+"deg) translateX(-50%)")),a.xp6(1),a.Q6J("ngStyle",a.VKq(15,vv,"rotateZ(-"+t.angle+"deg)"))("ngClass",a.WLB(17,oN,a.Dn7(2,6,t.time,null==i.selectedTime?null:i.selectedTime.time,i.isClockFaceDisabled),t.disabled)),a.xp6(2),a.hij(" ",a.xi3(4,10,t.time,i.timeUnit.HOUR),"")}}function oK(n,e){if(1&n&&(a.TgZ(0,"div",11),a.YNc(1,sK,5,20,"div",12),a.ALo(2,"slice"),a.qZA()),2&n){const t=a.oxw(2);a.Udp("top","calc(50% - "+t.innerClockFaceSize+"px)"),a.xp6(1),a.Q6J("ngForOf",a.Dn7(2,4,t.faceTime,12,24))("ngForTrackBy",t.trackByTime)}}function aK(n,e){if(1&n&&(a.TgZ(0,"div",6),a.YNc(1,rK,5,18,"div",7),a.ALo(2,"slice"),a.YNc(3,oK,3,8,"div",8),a.qZA()),2&n){const t=a.oxw();a.xp6(1),a.Q6J("ngForOf",a.Dn7(2,3,t.faceTime,0,12))("ngForTrackBy",t.trackByTime),a.xp6(2),a.Q6J("ngIf",t.faceTime.length>12)}}function lK(n,e){if(1&n&&(a.TgZ(0,"div",9)(1,"span",10),a.ALo(2,"activeMinute"),a._uU(3),a.ALo(4,"timeLocalizer"),a.ALo(5,"minutesFormatter"),a.qZA()()),2&n){const t=e.$implicit,i=a.oxw(2);a.Q6J("ngStyle",a.VKq(15,vv,"rotateZ("+t.angle+"deg) translateX(-50%)")),a.xp6(1),a.Q6J("ngStyle",a.VKq(17,vv,"rotateZ(-"+t.angle+"deg)"))("ngClass",a.WLB(19,oN,a.gM2(2,4,t.time,null==i.selectedTime?null:i.selectedTime.time,i.minutesGap,i.isClockFaceDisabled),t.disabled)),a.xp6(2),a.hij(" ",a.xi3(4,9,a.xi3(5,12,t.time,i.minutesGap),i.timeUnit.MINUTE),"")}}function cK(n,e){if(1&n&&(a.TgZ(0,"div",6),a.YNc(1,lK,6,22,"div",7),a.qZA()),2&n){const t=a.oxw();a.xp6(1),a.Q6J("ngForOf",t.faceTime)("ngForTrackBy",t.trackByTime)}}const uK=function(n){return{"clock-face__clock-hand_minute":n}},kH=["*"];function dK(n,e){1&n&&a.GkF(0)}function hK(n,e){1&n&&(a.TgZ(0,"small",10),a._uU(1," * use arrows ("),a.TgZ(2,"span"),a._uU(3,"\u21c5"),a.qZA(),a._uU(4,") to change the time"),a.qZA())}const fK=function(n){return{"timepicker-dial__hint-container--hidden":n}};function pK(n,e){if(1&n&&(a.TgZ(0,"div",7),a.YNc(1,dK,1,0,"ng-container",8),a.YNc(2,hK,5,0,"ng-template",null,9,a.W1O),a.qZA()),2&n){const t=a.MAs(3),i=a.oxw();a.Q6J("ngClass",a.VKq(2,fK,!i.isHintVisible)),a.xp6(1),a.Q6J("ngTemplateOutlet",i.editableHintTmpl?i.editableHintTmpl:t)}}const mK=function(n){return{"timepicker-dial__period--hidden":n}},mA=function(n){return{"timepicker-dial__item_active":n}};function gK(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"input",2),a.NdJ("ngModelChange",function(r){return a.CHM(t),a.oxw().time=r})("input",function(){return a.CHM(t),a.oxw().updateTime()})("focus",function(r){a.CHM(t);const s=a.oxw();return s.saveTimeAndChangeTimeUnit(r,s.timeUnit)}),a.ALo(1,"timeLocalizer"),a.qZA()}if(2&n){const t=a.oxw();a.Q6J("ngClass",a.VKq(7,mA,t.isActive))("ngModel",a.xi3(1,4,t.time,t.timeUnit))("disabled",t.disabled)("timepickerAutofocus",t.isActive)}}function _K(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"input",3),a.NdJ("ngModelChange",function(r){return a.CHM(t),a.oxw().onModelChange(r)})("input",function(){return a.CHM(t),a.oxw().updateTime()})("focus",function(r){a.CHM(t);const s=a.oxw();return s.saveTimeAndChangeTimeUnit(r,s.timeUnit)})("keydown",function(r){return a.CHM(t),a.oxw().onKeydown(r)})("keypress",function(r){return a.CHM(t),a.oxw().changeTimeByKeyboard(r)}),a.ALo(1,"timeLocalizer"),a.ALo(2,"timeParser"),a.qZA()}if(2&n){const t=a.oxw();a.Q6J("ngClass",a.VKq(11,mA,t.isActive))("ngModel",a.Dn7(1,4,a.xi3(2,8,t.time,t.timeUnit),t.timeUnit,!0))("disabled",t.disabled)("timepickerAutofocus",t.isActive)}}function yK(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"div",3),a.NdJ("@scaleInOut.done",function(){return a.CHM(t),a.oxw().animationDone()}),a.TgZ(1,"p"),a._uU(2,"Current time would be invalid in this period."),a.qZA()()}2&n&&a.Q6J("@scaleInOut",void 0)}function vK(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"ngx-timepicker-period-selector",9),a.NdJ("periodSelected",function(r){return a.CHM(t),a.oxw().changePeriod(r)}),a.qZA()}if(2&n){const t=a.oxw();a.Q6J("selectedPeriod",t.period)("disabled",t.disabled||t.isChangePeriodDisabled)}}function bK(n,e){1&n&&a.GkF(0)}const wK=function(n){return{"ngx-timepicker__toggle--left":n}};function CK(n,e){if(1&n&&(a.TgZ(0,"ngx-material-timepicker-toggle",10)(1,"span",11),a.YNc(2,bK,1,0,"ng-container",12),a.qZA()()),2&n){const t=a.oxw(),i=a.MAs(10),r=a.MAs(12);a.Q6J("ngClass",a.VKq(4,wK,"left"===t.buttonAlign))("for",i)("disabled",t.disabled),a.xp6(2),a.Q6J("ngTemplateOutlet",t.toggleIcon||r)}}function EK(n,e){1&n&&(a.O4$(),a.TgZ(0,"svg",13),a._UZ(1,"path",14),a.qZA())}const TK=function(n){return{"ngx-timepicker--disabled":n}},DK=function(n){return{"ngx-timepicker-control--active":n}},RH=function(n){return{"period-selector__button--active":n}};function IK(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"ul",6)(1,"li")(2,"button",7),a.NdJ("click",function(){a.CHM(t);const r=a.oxw();return r.select(r.period.AM)}),a._uU(3),a.qZA()(),a.TgZ(4,"li")(5,"button",7),a.NdJ("click",function(){a.CHM(t);const r=a.oxw();return r.select(r.period.PM)}),a._uU(6),a.qZA()()()}if(2&n){const t=a.oxw();a.Q6J("@scaleInOut",void 0)("timepickerAutofocus",!0),a.xp6(2),a.Q6J("ngClass",a.VKq(6,RH,t.localizedPeriod===t.meridiems[0])),a.xp6(1),a.Oqu(t.meridiems[0]),a.xp6(2),a.Q6J("ngClass",a.VKq(8,RH,t.localizedPeriod===t.meridiems[1])),a.xp6(1),a.Oqu(t.meridiems[1])}}function SK(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"div",8),a.NdJ("click",function(){return a.CHM(t),a.oxw().backdropClick()}),a.qZA()}}const AK=function(n){return{"period-control__button--disabled":n}};function MK(n,e){1&n&&a.GkF(0)}function xK(n,e){if(1&n&&(a.TgZ(0,"div",3),a.YNc(1,MK,1,0,"ng-container",4),a.qZA()),2&n){const t=a.oxw(),i=a.MAs(4);a.Q6J("ngxAppendToInput",t.inputElement),a.xp6(1),a.Q6J("ngTemplateOutlet",i)}}function kK(n,e){1&n&&a.GkF(0)}function RK(n,e){if(1&n&&a.YNc(0,kK,1,0,"ng-container",4),2&n){a.oxw();const t=a.MAs(4);a.Q6J("ngTemplateOutlet",t)}}function OK(n,e){1&n&&a.Hsn(0)}let cu=class{constructor(){this.backdropClickSubject=new I.x,this.keydownEventSubject=new I.x}get backdropClick(){return this.backdropClickSubject.asObservable().pipe(hn({bufferSize:1,refCount:!0}))}get keydownEvent(){return this.keydownEventSubject.asObservable().pipe(hn({bufferSize:1,refCount:!0}))}dispatchEvent(e){switch(e.type){case"click":this.backdropClickSubject.next(e);break;case"keydown":this.keydownEventSubject.next(e);break;default:throw new Error("no such event type")}}};cu.\u0275fac=function(e){return new(e||cu)},cu.\u0275prov=a.Yz7({token:cu,factory:function(n){return cu.\u0275fac(n)},providedIn:"root"}),cu.ngInjectableDef=(0,a.Yz7)({factory:function(){return new cu},token:cu,providedIn:"root"});let uu=class{constructor(e,t,i,r){this.cfr=e,this.appRef=t,this.injector=i,this.document=r}appendTimepickerToBody(e,t){this.componentRef=this.cfr.resolveComponentFactory(e).create(this.injector),Object.keys(t).forEach(r=>this.componentRef.instance[r]=t[r]),this.appRef.attachView(this.componentRef.hostView),this.document.body.appendChild(this.componentRef.hostView.rootNodes[0])}destroyTimepicker(){this.componentRef.destroy(),this.appRef.detachView(this.componentRef.hostView)}};uu.\u0275fac=function(e){return new(e||uu)(a.LFG(a._Vd),a.LFG(a.z2F),a.LFG(a.zs3),a.LFG(fe,8))},uu.\u0275prov=a.Yz7({token:uu,factory:function(n){return uu.\u0275fac(n)},providedIn:"root"}),uu.ngInjectableDef=(0,a.Yz7)({factory:function(){return new uu((0,a.LFG)(a._Vd),(0,a.LFG)(a.z2F),(0,a.LFG)(a.gxx),(0,a.LFG)(fe,8))},token:uu,providedIn:"root"}),uu=Re([lu(3,(0,a.FiY)()),lu(3,(0,a.tBr)(fe))],uu);var Ms=(()=>(function(n){n[n.HOUR=0]="HOUR",n[n.MINUTE=1]="MINUTE"}(Ms||(Ms={})),Ms))(),xs=(()=>(function(n){n.AM="AM",n.PM="PM"}(xs||(xs={})),xs))(),du=(()=>(function(n){n.TWELVE="hh:mm a",n.TWELVE_SHORT="h:m a",n.TWENTY_FOUR="HH:mm",n.TWENTY_FOUR_SHORT="H:m"}(du||(du={})),du))();function aN(n,e,t="minutes"){return"hours"===t?n.hour>=e.hour:"minutes"===t?n.hasSame(e,t)||n.valueOf()>e.valueOf():void 0}function lN(n,e,t="minutes"){return"hours"===t?n.hour<=e.hour:"minutes"===t?n.hasSame(e,t)||n.valueOf()<=e.valueOf():void 0}function OH(n){return!!([46,8,9,27,13].some(e=>e===n.keyCode)||65==n.keyCode&&(!0===n.ctrlKey||!0===n.metaKey)||67==n.keyCode&&(!0===n.ctrlKey||!0===n.metaKey)||88==n.keyCode&&(!0===n.ctrlKey||!0===n.metaKey)||n.keyCode>=35&&n.keyCode<=40)||!((n.keyCode<48||n.keyCode>57)&&(n.keyCode<96||n.keyCode>105))}let Ir=(()=>{class n{static parseTime(t,i){const{numberingSystem:r,locale:s}=n.getLocaleOptionsByTime(t,i),h=2===t.split(" ").length?du.TWELVE_SHORT:du.TWENTY_FOUR_SHORT;return wa.ou.fromFormat(t,h,{numberingSystem:r,locale:s})}static formatTime(t,i){if(!t)return"Invalid Time";const{format:r}=i,s=n.parseTime(t,i).setLocale(n.DEFAULT_LOCALE);return 24!==r?s.toLocaleString(Object.assign({},wa.ou.TIME_SIMPLE,{hour12:24!==r,numberingSystem:n.DEFAULT_NUMBERING_SYSTEM})).replace(/\u200E/g,""):s.toISOTime({includeOffset:!1,suppressMilliseconds:!0,suppressSeconds:!0}).replace(/\u200E/g,"")}static toLocaleTimeString(t,i={}){const{format:r=n.DEFAULT_FORMAT,locale:s=n.DEFAULT_LOCALE}=i,h=Object.assign({},wa.ou.TIME_SIMPLE,{hourCycle:24===r?"h23":"h12"});return wa.ou.fromFormat(t,24===r?du.TWENTY_FOUR_SHORT:du.TWELVE_SHORT).setLocale(s).toLocaleString(h)}static isTimeAvailable(t,i,r,s,c,h){if(!t)return;const p=this.parseTime(t,{format:h}),_=p.minute;if(c&&_==_&&_%c!=0)throw new Error(`Your minutes - ${_} doesn't match your minutesGap - ${c}`);const T=i&&!r&&aN(p,i,s),S=r&&!i&&lN(p,r,s),P=i&&r&&function NK(n,e,t,i="minutes"){return"hours"===i?lN(n,t,i)&&aN(n,e,i):"minutes"===i?lN(n,t)&&aN(n,e):void 0}(p,i,r,s);return T||S||P||!i&&!r}static formatHour(t,i,r){if(24===i)return t;const s=r===xs.AM?t:t+12;return r===xs.AM&&12===s?0:r===xs.PM&&24===s?12:s}static fromDateTimeToString(t,i){const r=24===i?du.TWENTY_FOUR:du.TWELVE;return t.reconfigure({numberingSystem:n.DEFAULT_NUMBERING_SYSTEM,locale:n.DEFAULT_LOCALE}).toFormat(r)}static getLocaleOptionsByTime(t,i){const{numberingSystem:r,locale:s}=wa.ou.local().setLocale(i.locale).resolvedLocaleOpts(),c={numberingSystem:r,locale:s},h={numberingSystem:n.DEFAULT_NUMBERING_SYSTEM,locale:n.DEFAULT_LOCALE};return isNaN(parseInt(t,10))?c:h}}return n.DEFAULT_FORMAT=12,n.DEFAULT_LOCALE="en-US",n.DEFAULT_NUMBERING_SYSTEM="latn",n})();const gA={time:12,angle:360},_A={time:0,angle:360};let gl=class{constructor(){this.hourSubject=new Wr(gA),this.minuteSubject=new Wr(_A),this.periodSubject=new Wr(xs.AM)}set hour(e){this.hourSubject.next(e)}get selectedHour(){return this.hourSubject.asObservable()}set minute(e){this.minuteSubject.next(e)}get selectedMinute(){return this.minuteSubject.asObservable()}set period(e){(e===xs.AM||e===xs.PM)&&this.periodSubject.next(e)}get selectedPeriod(){return this.periodSubject.asObservable()}setDefaultTimeIfAvailable(e,t,i,r,s){try{Ir.isTimeAvailable(e,t,i,"minutes",s)&&this.setDefaultTime(e,r)}catch(c){console.error(c)}}getFullTime(e){const t=this.hourSubject.getValue().time,i=this.minuteSubject.getValue().time,h=`${null!=t?t:gA.time}:${null!=i?i:_A.time} ${12===e?this.periodSubject.getValue():""}`.trim();return Ir.formatTime(h,{format:e})}setDefaultTime(e,t){const i=Ir.parseTime(e,{format:t}).toJSDate();if(wa.ou.fromJSDate(i).isValid){const r=e.substr(e.length-2).toUpperCase(),s=i.getHours();this.hour=Object.assign({},gA,{time:PK(s,r)}),this.minute=Object.assign({},_A,{time:i.getMinutes()}),this.period=r}else this.resetTime()}resetTime(){this.hour=Object.assign({},gA),this.minute=Object.assign({},_A),this.period=xs.AM}};function PK(n,e){switch(e){case xs.AM:return 0===n?12:n;case xs.PM:return 12===n?12:n-12;default:return n}}gl.\u0275fac=function(e){return new(e||gl)},gl.\u0275prov=a.Yz7({token:gl,factory:function(n){return gl.\u0275fac(n)},providedIn:"root"}),gl.ngInjectableDef=(0,a.Yz7)({factory:function(){return new gl},token:gl,providedIn:"root"});const po=new a.OlP("TimeLocale",{providedIn:"root",factory:()=>Ir.DEFAULT_LOCALE});var Ch=(()=>(function(n){n.ENTER="enter",n.LEAVE="leave"}(Ch||(Ch={})),Ch))();let FK=(()=>{let n=class{constructor(t,i,r){this.timepickerService=t,this.eventService=i,this.locale=r,this.timeUnit=Ms,this.activeTimeUnit=Ms.HOUR,this.unsubscribe=new I.x}set defaultTime(t){this._defaultTime=t,this.setDefaultTime(t)}get defaultTime(){return this._defaultTime}onKeydown(t){this.eventService.dispatchEvent(t),t.stopPropagation()}ngOnInit(){this.animationState=!this.disableAnimation&&Ch.ENTER,this.defineTime(),this.selectedHour=this.timepickerService.selectedHour.pipe(hn({bufferSize:1,refCount:!0})),this.selectedMinute=this.timepickerService.selectedMinute.pipe(hn({bufferSize:1,refCount:!0})),this.selectedPeriod=this.timepickerService.selectedPeriod.pipe(hn({bufferSize:1,refCount:!0})),this.timepickerBaseRef.timeUpdated.pipe(fl(this.unsubscribe)).subscribe(this.setDefaultTime.bind(this))}onHourChange(t){this.timepickerService.hour=t,this.onTimeChange()}onHourSelected(t){this.hoursOnly||this.changeTimeUnit(Ms.MINUTE),this.timepickerBaseRef.hourSelected.next(t)}onMinuteChange(t){this.timepickerService.minute=t,this.onTimeChange()}changePeriod(t){this.timepickerService.period=t,this.onTimeChange()}changeTimeUnit(t){this.activeTimeUnit=t}setTime(){this.timepickerBaseRef.timeSet.next(this.timepickerService.getFullTime(this.format)),this.close()}close(){this.disableAnimation?this.timepickerBaseRef.close():this.animationState=Ch.LEAVE}animationDone(t){"done"===t.phaseName&&t.toState===Ch.LEAVE&&this.timepickerBaseRef.close()}ngOnDestroy(){this.unsubscribe.next(),this.unsubscribe.complete()}setDefaultTime(t){this.timepickerService.setDefaultTimeIfAvailable(t,this.minTime,this.maxTime,this.format,this.minutesGap)}defineTime(){const t=this.minTime;if(t&&!this.time&&!this.defaultTime){const i=Ir.fromDateTimeToString(t,this.format);this.setDefaultTime(i)}}onTimeChange(){const t=Ir.toLocaleTimeString(this.timepickerService.getFullTime(this.format),{locale:this.locale,format:this.format});this.timepickerBaseRef.timeChanged.emit(t)}};return n.\u0275fac=function(t){return new(t||n)(a.Y36(gl),a.Y36(cu),a.Y36(po))},n.\u0275cmp=a.Xpm({type:n,selectors:[["ngx-material-timepicker-container"]],hostBindings:function(t,i){1&t&&a.NdJ("keydown",function(s){return i.onKeydown(s)})},inputs:{defaultTime:"defaultTime"},features:[a._Bn([gl])],decls:22,vars:31,consts:[[1,"timepicker-backdrop-overlay",3,"overlay","ngClass"],[1,"timepicker-overlay"],[3,"appendToInput","inputElement","ngxMaterialTimepickerTheme"],[1,"timepicker",3,"ngClass"],[1,"timepicker__header"],[3,"format","hour","minute","period","activeTimeUnit","minTime","maxTime","isEditable","editableHintTmpl","minutesGap","hoursOnly","periodChanged","timeUnitChanged","hourChanged","minuteChanged"],[1,"timepicker__main-content"],[1,"timepicker__body",3,"ngSwitch"],[4,"ngSwitchCase"],[3,"selectedMinute","selectedHour","minTime","maxTime","format","period","minutesGap","minuteChange",4,"ngSwitchCase"],[1,"timepicker__actions"],[3,"click"],[4,"ngTemplateOutlet"],["cancelBtnDefault",""],["confirmBtnDefault",""],[3,"selectedHour","minTime","maxTime","format","hourChange","hourSelected",4,"ngIf","ngIfElse"],["ampmHours",""],[3,"selectedHour","minTime","maxTime","format","hourChange","hourSelected"],[3,"selectedHour","period","minTime","maxTime","hourChange","hourSelected"],[3,"selectedMinute","selectedHour","minTime","maxTime","format","period","minutesGap","minuteChange"]],template:function(t,i){if(1&t&&(a._UZ(0,"div",0),a.TgZ(1,"div",1)(2,"ngx-material-timepicker-content",2)(3,"div",3),a.NdJ("@timepicker.done",function(s){return i.animationDone(s)}),a.TgZ(4,"header",4)(5,"ngx-material-timepicker-dial",5),a.NdJ("periodChanged",function(s){return i.changePeriod(s)})("timeUnitChanged",function(s){return i.changeTimeUnit(s)})("hourChanged",function(s){return i.onHourChange(s)})("minuteChanged",function(s){return i.onMinuteChange(s)}),a.ALo(6,"async"),a.ALo(7,"async"),a.ALo(8,"async"),a.qZA()(),a.TgZ(9,"div",6)(10,"div",7),a.YNc(11,qY,4,2,"div",8),a.YNc(12,WY,4,13,"ngx-material-timepicker-minutes-face",9),a.qZA(),a.TgZ(13,"div",10)(14,"div",11),a.NdJ("click",function(){return i.close()}),a.YNc(15,ZY,1,0,"ng-container",12),a.qZA(),a.TgZ(16,"div",11),a.NdJ("click",function(){return i.setTime()}),a.YNc(17,YY,1,0,"ng-container",12),a.qZA()()()()()(),a.YNc(18,KY,2,0,"ng-template",null,13,a.W1O),a.YNc(20,QY,2,0,"ng-template",null,14,a.W1O)),2&t){const r=a.MAs(19),s=a.MAs(21);let c,h;a.Q6J("overlay",i.preventOverlayClick)("ngClass",a.VKq(29,JY,i.appendToInput)),a.xp6(2),a.Q6J("appendToInput",i.appendToInput)("inputElement",i.inputElement)("ngxMaterialTimepickerTheme",i.theme),a.xp6(1),a.Q6J("@timepicker",i.animationState)("ngClass",i.timepickerClass),a.xp6(2),a.Q6J("format",i.format)("hour",null==(c=a.lcZ(6,23,i.selectedHour))?null:c.time)("minute",null==(h=a.lcZ(7,25,i.selectedMinute))?null:h.time)("period",a.lcZ(8,27,i.selectedPeriod))("activeTimeUnit",i.activeTimeUnit)("minTime",i.minTime)("maxTime",i.maxTime)("isEditable",i.enableKeyboardInput)("editableHintTmpl",i.editableHintTmpl)("minutesGap",i.minutesGap)("hoursOnly",i.hoursOnly),a.xp6(5),a.Q6J("ngSwitch",i.activeTimeUnit),a.xp6(1),a.Q6J("ngSwitchCase",i.timeUnit.HOUR),a.xp6(1),a.Q6J("ngSwitchCase",i.timeUnit.MINUTE),a.xp6(3),a.Q6J("ngTemplateOutlet",i.cancelBtnTmpl?i.cancelBtnTmpl:r),a.xp6(2),a.Q6J("ngTemplateOutlet",i.confirmBtnTmpl?i.confirmBtnTmpl:s)}},directives:function(){return[QK,Ai,rQ,BK,WK,ji,mr,jn,HK,jK,GK,_o,qK]},pipes:function(){return[fu]},styles:["[_nghost-%COMP%]{--body-background-color:#fff;--primary-font-family:'Roboto',sans-serif;--button-color:deepskyblue;--dial-active-color:#fff;--dial-inactive-color:rgba(255, 255, 255, .5);--dial-background-color:deepskyblue;--dial-editable-active-color:deepskyblue;--dial-editable-background-color:#fff;--clock-face-time-active-color:#fff;--clock-face-time-inactive-color:#6c6c6c;--clock-face-inner-time-inactive-color:#929292;--clock-face-time-disabled-color:#c5c5c5;--clock-face-background-color:#f0f0f0;--clock-hand-color:deepskyblue}.timepicker-backdrop-overlay[_ngcontent-%COMP%]{position:fixed;top:0;bottom:0;right:0;left:0;background-color:rgba(0,0,0,.3);z-index:999;pointer-events:auto}.timepicker-backdrop-overlay--transparent[_ngcontent-%COMP%]{background-color:transparent}.timepicker-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;z-index:999;pointer-events:none}.timepicker[_ngcontent-%COMP%]{width:300px;border-radius:2px;box-shadow:rgba(0,0,0,.25) 0 14px 45px,rgba(0,0,0,.22) 0 10px 18px;outline:0;position:static;z-index:999;pointer-events:auto}.timepicker__header[_ngcontent-%COMP%]{padding:15px 30px;background-color:#00bfff}@supports (background-color:var(--dial-background-color)){.timepicker__header[_ngcontent-%COMP%]{background-color:var(--dial-background-color)}}.timepicker__body[_ngcontent-%COMP%]{padding:15px 5px;display:flex;justify-content:center;align-items:center;background-color:#fff}@supports (background-color:var(--body-background-color)){.timepicker__body[_ngcontent-%COMP%]{background-color:var(--body-background-color)}}.timepicker__actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;padding:15px;background-color:#fff}@supports (background-color:var(--body-background-color)){.timepicker__actions[_ngcontent-%COMP%]{background-color:var(--body-background-color)}}@media (max-device-width:1023px) and (orientation:landscape){.timepicker[_ngcontent-%COMP%]{display:flex;width:515px}.timepicker__header[_ngcontent-%COMP%]{display:flex;align-items:center}.timepicker__main-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%}.timepicker__actions[_ngcontent-%COMP%]{padding:5px;margin-top:-1px}}"],data:{animation:[vC("timepicker",[sp(`* => ${Ch.ENTER}`,[As({transform:"translateY(-30%)"}),id("0.2s ease-out",As({transform:"translateY(0)"}))]),sp(`${Ch.ENTER} => ${Ch.LEAVE}`,[As({transform:"translateY(0)",opacity:1}),id("0.2s ease-out",As({transform:"translateY(-30%)",opacity:0}))])])]}}),Re([(0,a.IIB)()],n.prototype,"defaultTime",null),Re([(0,a.L6J)("keydown",["$event"])],n.prototype,"onKeydown",null),n=Re([lu(2,(0,a.tBr)(po))],n),n})(),NH=(()=>{let n=class{constructor(t,i){this.eventService=t,this.domService=i,this.timeUpdated=new I.x,this.isEsc=!0,this.hoursOnly=!1,this.timeSet=new a.vpe,this.opened=new a.vpe,this.closed=new a.vpe,this.hourSelected=new a.vpe,this.timeChanged=new a.vpe,this.unsubscribe=new I.x}set ngxMaterialTimepickerTheme(t){console.warn("'ngxMaterialTimepickerTheme' is deprecated. Use 'theme' instead"),this._ngxMaterialTimepickerTheme=t}set format(t){this._format=24===t?24:12}get format(){return this.timepickerInput?this.timepickerInput.format:this._format}set minutesGap(t){null!=t&&(t=Math.floor(t),this._minutesGap=t<=59?t:1)}get minutesGap(){return this._minutesGap}get minTime(){return this.timepickerInput?this.timepickerInput.min:this.min}get maxTime(){return this.timepickerInput?this.timepickerInput.max:this.max}get disabled(){return this.timepickerInput&&this.timepickerInput.disabled}get time(){return this.timepickerInput&&this.timepickerInput.value}get inputElement(){return this.timepickerInput&&this.timepickerInput.element}registerInput(t){if(this.timepickerInput)throw Error("A Timepicker can only be associated with a single input.");this.timepickerInput=t}open(){this.domService.appendTimepickerToBody(FK,{timepickerBaseRef:this,time:this.time,defaultTime:this.defaultTime,maxTime:this.maxTime,minTime:this.minTime,format:this.format,minutesGap:this.minutesGap,disableAnimation:this.disableAnimation,cancelBtnTmpl:this.cancelBtnTmpl,confirmBtnTmpl:this.confirmBtnTmpl,editableHintTmpl:this.editableHintTmpl,disabled:this.disabled,enableKeyboardInput:this.enableKeyboardInput,preventOverlayClick:this.preventOverlayClick,appendToInput:this.appendToInput,hoursOnly:this.hoursOnly,theme:this.theme||this._ngxMaterialTimepickerTheme,timepickerClass:this.timepickerClass,inputElement:this.inputElement}),this.opened.next(),this.subscribeToEvents()}close(){this.domService.destroyTimepicker(),this.closed.next(),this.unsubscribeFromEvents()}updateTime(t){this.timeUpdated.next(t)}subscribeToEvents(){(0,Q.T)(this.eventService.backdropClick,this.eventService.keydownEvent.pipe(ii(t=>27===t.keyCode&&this.isEsc))).pipe(fl(this.unsubscribe)).subscribe(()=>this.close())}unsubscribeFromEvents(){this.unsubscribe.next(),this.unsubscribe.complete()}};return n.\u0275fac=function(t){return new(t||n)(a.Y36(cu),a.Y36(uu))},n.\u0275cmp=a.Xpm({type:n,selectors:[["ngx-material-timepicker"]],inputs:{isEsc:["ESC","isEsc"],hoursOnly:"hoursOnly",ngxMaterialTimepickerTheme:"ngxMaterialTimepickerTheme",format:"format",minutesGap:"minutesGap",cancelBtnTmpl:"cancelBtnTmpl",editableHintTmpl:"editableHintTmpl",confirmBtnTmpl:"confirmBtnTmpl",enableKeyboardInput:"enableKeyboardInput",preventOverlayClick:"preventOverlayClick",disableAnimation:"disableAnimation",appendToInput:"appendToInput",defaultTime:"defaultTime",timepickerClass:"timepickerClass",theme:"theme",min:"min",max:"max"},outputs:{timeSet:"timeSet",opened:"opened",closed:"closed",hourSelected:"hourSelected",timeChanged:"timeChanged"},decls:0,vars:0,template:function(t,i){},encapsulation:2}),Re([(0,a.IIB)()],n.prototype,"cancelBtnTmpl",void 0),Re([(0,a.IIB)()],n.prototype,"editableHintTmpl",void 0),Re([(0,a.IIB)()],n.prototype,"confirmBtnTmpl",void 0),Re([(0,a.IIB)("ESC")],n.prototype,"isEsc",void 0),Re([(0,a.IIB)()],n.prototype,"enableKeyboardInput",void 0),Re([(0,a.IIB)()],n.prototype,"preventOverlayClick",void 0),Re([(0,a.IIB)()],n.prototype,"disableAnimation",void 0),Re([(0,a.IIB)()],n.prototype,"appendToInput",void 0),Re([(0,a.IIB)()],n.prototype,"hoursOnly",void 0),Re([(0,a.IIB)()],n.prototype,"defaultTime",void 0),Re([(0,a.IIB)()],n.prototype,"timepickerClass",void 0),Re([(0,a.IIB)()],n.prototype,"theme",void 0),Re([(0,a.IIB)()],n.prototype,"min",void 0),Re([(0,a.IIB)()],n.prototype,"max",void 0),Re([(0,a.IIB)()],n.prototype,"ngxMaterialTimepickerTheme",null),Re([(0,a.IIB)()],n.prototype,"format",null),Re([(0,a.IIB)()],n.prototype,"minutesGap",null),Re([(0,a.r_U)()],n.prototype,"timeSet",void 0),Re([(0,a.r_U)()],n.prototype,"opened",void 0),Re([(0,a.r_U)()],n.prototype,"closed",void 0),Re([(0,a.r_U)()],n.prototype,"hourSelected",void 0),Re([(0,a.r_U)()],n.prototype,"timeChanged",void 0),n})(),cN=(()=>{let n=class{};return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=a.lG2({type:n,selectors:[["","ngxMaterialTimepickerToggleIcon",""]]}),n})(),VK=(()=>{let n=class{get disabled(){return void 0===this._disabled?this.timepicker.disabled:this._disabled}set disabled(t){this._disabled=t}open(t){this.timepicker&&(this.timepicker.open(),t.stopPropagation())}};return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["ngx-material-timepicker-toggle"]],contentQueries:function(t,i,r){if(1&t&&a.Suo(r,cN,7),2&t){let s;a.iGM(s=a.CRH())&&(i.customIcon=s.first)}},inputs:{disabled:"disabled",timepicker:["for","timepicker"]},ngContentSelectors:tK,decls:3,vars:2,consts:[["type","button",1,"ngx-material-timepicker-toggle",3,"disabled","click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","width","24px","height","24px",4,"ngIf"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","width","24px","height","24px"],["d","M 12 2 C 6.4889971 2 2 6.4889971 2 12 C 2 17.511003                   6.4889971 22 12 22 C 17.511003 22 22 17.511003 22 12 C 22 6.4889971 17.511003 2 12 2 z M 12 4 C 16.430123 4 20 7.5698774 20 12 C 20 16.430123 16.430123 20 12 20 C 7.5698774 20 4 16.430123 4 12 C 4 7.5698774 7.5698774 4 12 4 z M 11 6 L 11 12.414062 L 15.292969 16.707031 L 16.707031 15.292969 L 13 11.585938 L 13 6 L 11 6 z"]],template:function(t,i){1&t&&(a.F$t(eK),a.TgZ(0,"button",0),a.NdJ("click",function(s){return i.open(s)}),a.YNc(1,XY,2,0,"svg",1),a.Hsn(2),a.qZA()),2&t&&(a.Q6J("disabled",i.disabled),a.xp6(1),a.Q6J("ngIf",!i.customIcon))},directives:[jn],styles:[".ngx-material-timepicker-toggle[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;padding:4px;background-color:transparent;border-radius:50%;text-align:center;border:none;outline:0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:background-color .3s;cursor:pointer}.ngx-material-timepicker-toggle[_ngcontent-%COMP%]:focus{background-color:rgba(0,0,0,.07)}"]}),Re([(0,a.IIB)("for")],n.prototype,"timepicker",void 0),Re([(0,a.IIB)()],n.prototype,"disabled",null),Re([(0,a.aQ5)(cN,{static:!0})],n.prototype,"customIcon",void 0),n})();var uN;let jo=uN=class{constructor(e,t){this.elementRef=e,this.locale=t,this._format=12,this._value="",this.timepickerSubscriptions=[],this.onTouched=()=>{},this.onChange=()=>{}}set format(e){this._format=24===e?24:12,e&&this.previousFormat&&this.previousFormat!==this._format&&(this.value=this._value,this._timepicker.updateTime(this._value)),this.previousFormat=this._format}get format(){return this._format}set min(e){this._min="string"!=typeof e?e:Ir.parseTime(e,{locale:this.locale,format:this.format})}get min(){return this._min}set max(e){this._max="string"!=typeof e?e:Ir.parseTime(e,{locale:this.locale,format:this.format})}get max(){return this._max}set timepicker(e){this.registerTimepicker(e)}set value(e){if(!e)return this._value="",void this.updateInputValue();const t=Ir.formatTime(e,{locale:this.locale,format:this.format});if(Ir.isTimeAvailable(t,this._min,this._max,"minutes",this._timepicker.minutesGap,this._format))return this._value=t,void this.updateInputValue();console.warn("Selected time doesn't match min or max value")}get value(){return this._value?Ir.toLocaleTimeString(this._value,{format:this.format,locale:this.locale}):""}get element(){return this.elementRef&&this.elementRef.nativeElement}set defaultTime(e){this._timepicker.defaultTime=Ir.formatTime(e,{locale:this.locale,format:this.format})}updateValue(e){this.value=e,this.onChange(e)}ngOnChanges(e){e.value&&e.value.currentValue&&(this.defaultTime=e.value.currentValue)}onClick(e){this.disableClick||(this._timepicker.open(),e.stopPropagation())}writeValue(e){this.value=e,e&&(this.defaultTime=e)}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.disabled=e}ngOnDestroy(){this.timepickerSubscriptions.forEach(e=>e.unsubscribe())}registerTimepicker(e){if(!e)throw new Error("NgxMaterialTimepickerComponent is not defined. Please make sure you passed the timepicker to ngxTimepicker directive");this._timepicker=e,this._timepicker.registerInput(this),this.timepickerSubscriptions.push(this._timepicker.timeSet.subscribe(t=>{this.value=t,this.onChange(this.value),this.onTouched(),this.defaultTime=this._value}))}updateInputValue(){this.elementRef.nativeElement.value=this.value}};jo.\u0275fac=function(e){return new(e||jo)(a.Y36(a.SBq),a.Y36(po))},jo.\u0275dir=a.lG2({type:jo,selectors:[["","ngxTimepicker",""]],hostVars:1,hostBindings:function(e,t){1&e&&a.NdJ("change",function(r){return t.updateValue(r.target.value)})("blur",function(){return t.onTouched()})("click",function(r){return t.onClick(r)}),2&e&&a.Ikx("disabled",t.disabled)},inputs:{format:"format",value:"value",min:"min",max:"max",timepicker:["ngxTimepicker","timepicker"],disabled:"disabled",disableClick:"disableClick"},features:[a._Bn([{provide:ac,useExisting:uN,multi:!0}]),a.TTD]}),jo.ctorParameters=()=>[{type:a.SBq},{type:String,decorators:[{type:a.tBr,args:[po]}]}],Re([(0,a.IIB)()],jo.prototype,"format",null),Re([(0,a.IIB)()],jo.prototype,"min",null),Re([(0,a.IIB)()],jo.prototype,"max",null),Re([(0,a.IIB)("ngxTimepicker")],jo.prototype,"timepicker",null),Re([(0,a.IIB)()],jo.prototype,"value",null),Re([(0,a.IIB)()],jo.prototype,"disabled",void 0),Re([(0,a.IIB)()],jo.prototype,"disableClick",void 0),Re([(0,a.L6J)("click",["$event"])],jo.prototype,"onClick",null),jo=uN=Re([lu(1,(0,a.tBr)(po))],jo);let BK=(()=>{let n=class{constructor(t){this.element=t.nativeElement}ngAfterViewInit(){this.theme&&this.setTheme(this.theme)}setTheme(t){for(const i in t)if(t.hasOwnProperty(i)){if("string"==typeof t[i]){for(const r in t)t.hasOwnProperty(r)&&this.element.style.setProperty(`--${UK(r)}`,t[r]);return}this.setTheme(t[i])}}};return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.SBq))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngxMaterialTimepickerTheme",""]],inputs:{theme:["ngxMaterialTimepickerTheme","theme"]}}),Re([(0,a.IIB)("ngxMaterialTimepickerTheme")],n.prototype,"theme",void 0),n})();function UK(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}class Ys{static getHours(e){return Array(e).fill(1).map((t,i)=>{const s=t+i;return{time:24===s?0:s,angle:30*s}})}static disableHours(e,t){return t.min||t.max?e.map(i=>{const r=24===t.format?i.time:Ir.formatHour(i.time,t.format,t.period),s=wa.ou.fromObject({hour:r}).toFormat(du.TWELVE);return Object.assign({},i,{disabled:!Ir.isTimeAvailable(s,t.min,t.max,"hours")})}):e}static getMinutes(e=1){const r=[];for(let s=0;s<60;s++){const c=6*s;s%e==0&&r.push({time:s,angle:0!==c?c:360})}return r}static disableMinutes(e,t,i){if(i.min||i.max){const r=Ir.formatHour(t,i.format,i.period);return e.map(s=>{const c=wa.ou.fromObject({hour:r,minute:s.time}).toFormat(du.TWELVE);return Object.assign({},s,{disabled:!Ir.isTimeAvailable(c,i.min,i.max,"minutes")})})}return e}}let PH=(()=>{class n{constructor(t){this.hourChange=new a.vpe,this.hourSelected=new a.vpe,this.hoursList=[],this.hoursList=Ys.getHours(t)}onTimeSelected(t){this.hourSelected.next(t)}}return n.\u0275fac=function(t){a.$Z()},n.\u0275dir=a.lG2({type:n,inputs:{selectedHour:"selectedHour",minTime:"minTime",maxTime:"maxTime",format:"format"},outputs:{hourChange:"hourChange",hourSelected:"hourSelected"}}),Re([(0,a.IIB)()],n.prototype,"selectedHour",void 0),Re([(0,a.IIB)()],n.prototype,"minTime",void 0),Re([(0,a.IIB)()],n.prototype,"maxTime",void 0),Re([(0,a.IIB)()],n.prototype,"format",void 0),Re([(0,a.r_U)()],n.prototype,"hourChange",void 0),Re([(0,a.r_U)()],n.prototype,"hourSelected",void 0),n})(),HK=(()=>{let n=class extends PH{constructor(){super(24)}ngAfterContentInit(){this.hoursList=Ys.disableHours(this.hoursList,{min:this.minTime,max:this.maxTime,format:this.format})}};return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["ngx-material-timepicker-24-hours-face"]],features:[a.qOj],decls:1,vars:3,consts:[[3,"selectedTime","faceTime","format","timeChange","timeSelected"]],template:function(t,i){1&t&&(a.TgZ(0,"ngx-material-timepicker-face",0),a.NdJ("timeChange",function(s){return i.hourChange.next(s)})("timeSelected",function(s){return i.onTimeSelected(s)}),a.qZA()),2&t&&a.Q6J("selectedTime",i.selectedHour)("faceTime",i.hoursList)("format",i.format)},directives:function(){return[dN]},encapsulation:2,changeDetection:0}),n})(),jK=(()=>{let n=class extends PH{constructor(){super(12)}ngOnChanges(t){t.period&&t.period.currentValue&&(this.hoursList=Ys.disableHours(this.hoursList,{min:this.minTime,max:this.maxTime,format:this.format,period:this.period}))}};return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["ngx-material-timepicker-12-hours-face"]],inputs:{period:"period"},features:[a.qOj,a.TTD],decls:1,vars:2,consts:[[3,"selectedTime","faceTime","timeChange","timeSelected"]],template:function(t,i){1&t&&(a.TgZ(0,"ngx-material-timepicker-face",0),a.NdJ("timeChange",function(s){return i.hourChange.next(s)})("timeSelected",function(s){return i.onTimeSelected(s)}),a.qZA()),2&t&&a.Q6J("selectedTime",i.selectedHour)("faceTime",i.hoursList)},directives:function(){return[dN]},encapsulation:2,changeDetection:0}),Re([(0,a.IIB)()],n.prototype,"period",void 0),n})(),GK=(()=>{let n=class{constructor(){this.minutesList=[],this.timeUnit=Ms,this.minuteChange=new a.vpe}ngOnChanges(t){if(t.period&&t.period.currentValue){const i=Ys.getMinutes(this.minutesGap);this.minutesList=Ys.disableMinutes(i,this.selectedHour,{min:this.minTime,max:this.maxTime,format:this.format,period:this.period})}}};return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["ngx-material-timepicker-minutes-face"]],inputs:{selectedMinute:"selectedMinute",selectedHour:"selectedHour",period:"period",minTime:"minTime",maxTime:"maxTime",format:"format",minutesGap:"minutesGap"},outputs:{minuteChange:"minuteChange"},features:[a.TTD],decls:1,vars:4,consts:[[3,"faceTime","selectedTime","minutesGap","unit","timeChange"]],template:function(t,i){1&t&&(a.TgZ(0,"ngx-material-timepicker-face",0),a.NdJ("timeChange",function(s){return i.minuteChange.next(s)}),a.qZA()),2&t&&a.Q6J("faceTime",i.minutesList)("selectedTime",i.selectedMinute)("minutesGap",i.minutesGap)("unit",i.timeUnit.MINUTE)},directives:function(){return[dN]},encapsulation:2}),Re([(0,a.IIB)()],n.prototype,"selectedMinute",void 0),Re([(0,a.IIB)()],n.prototype,"selectedHour",void 0),Re([(0,a.IIB)()],n.prototype,"period",void 0),Re([(0,a.IIB)()],n.prototype,"minTime",void 0),Re([(0,a.IIB)()],n.prototype,"maxTime",void 0),Re([(0,a.IIB)()],n.prototype,"format",void 0),Re([(0,a.IIB)()],n.prototype,"minutesGap",void 0),Re([(0,a.r_U)()],n.prototype,"minuteChange",void 0),n})();const yA_small_height="75px",yA_small_top="calc(50% - 75px)",yA_large_height="103px",yA_large_top="calc(50% - 103px)";let dN=(()=>{let n=class{constructor(){this.timeUnit=Ms,this.innerClockFaceSize=85,this.timeChange=new a.vpe,this.timeSelected=new a.vpe}ngAfterViewInit(){this.setClockHandPosition(),this.addTouchEvents()}ngOnChanges(t){const i=t.faceTime,r=t.selectedTime;i&&i.currentValue&&r&&r.currentValue&&(this.selectedTime=this.faceTime.find(s=>s.time===this.selectedTime.time)),r&&r.currentValue&&this.setClockHandPosition(),i&&i.currentValue&&setTimeout(()=>this.selectAvailableTime())}trackByTime(t,i){return i.time}onMousedown(t){t.preventDefault(),this.isStarted=!0}selectTime(t){if(!this.isStarted&&t instanceof MouseEvent&&"click"!==t.type)return;const i=this.clockFace.nativeElement.getBoundingClientRect(),r=i.left+i.width/2,s=i.top+i.height/2,c=180*Math.atan(Math.abs(t.clientX-r)/Math.abs(t.clientY-s))/Math.PI,h=function zK(n,e,t,i,r){return i>e&&t>=n?180-r:i>e&&t<n?180+r:i<e&&t<n?360-r:r}(r,s,t.clientX,t.clientY,c),p=this.format&&this.isInnerClockFace(r,s,t.clientX,t.clientY),S=(function $K(n,e){return Math.round(n/e)*e}(h,this.unit===Ms.MINUTE?6*(this.minutesGap||1):30)||360)+(p?360:0),P=this.faceTime.find(H=>H.angle===S);P&&!P.disabled&&(this.timeChange.next(P),this.isStarted||this.timeSelected.next(P.time))}onMouseup(t){t.preventDefault(),this.isStarted=!1}ngOnDestroy(){this.removeTouchEvents()}addTouchEvents(){this.touchStartHandler=this.onMousedown.bind(this),this.touchEndHandler=this.onMouseup.bind(this),this.clockFace.nativeElement.addEventListener("touchstart",this.touchStartHandler),this.clockFace.nativeElement.addEventListener("touchend",this.touchEndHandler)}removeTouchEvents(){this.clockFace.nativeElement.removeEventListener("touchstart",this.touchStartHandler),this.clockFace.nativeElement.removeEventListener("touchend",this.touchEndHandler)}setClockHandPosition(){24===this.format&&(this.selectedTime.time>12||0===this.selectedTime.time?this.decreaseClockHand():this.increaseClockHand()),this.clockHand.nativeElement.style.transform=`rotate(${this.selectedTime.angle}deg)`}selectAvailableTime(){const t=this.faceTime.find(i=>this.selectedTime.time===i.time);if(this.isClockFaceDisabled=this.faceTime.every(i=>i.disabled),t&&t.disabled&&!this.isClockFaceDisabled){const i=this.faceTime.find(r=>!r.disabled);this.timeChange.next(i)}}isInnerClockFace(t,i,r,s){return Math.sqrt(Math.pow(r-t,2)+Math.pow(s-i,2))<this.innerClockFaceSize}decreaseClockHand(){this.clockHand.nativeElement.style.height=yA_small_height,this.clockHand.nativeElement.style.top=yA_small_top}increaseClockHand(){this.clockHand.nativeElement.style.height=yA_large_height,this.clockHand.nativeElement.style.top=yA_large_top}};return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["ngx-material-timepicker-face"]],viewQuery:function(t,i){if(1&t&&(a.Gf(nK,7),a.Gf(iK,7)),2&t){let r;a.iGM(r=a.CRH())&&(i.clockFace=r.first),a.iGM(r=a.CRH())&&(i.clockHand=r.first)}},hostBindings:function(t,i){1&t&&a.NdJ("mousedown",function(s){return i.onMousedown(s)})("click",function(s){return i.selectTime(s)})("touchmove",function(s){return i.selectTime(s.changedTouches[0])})("touchend",function(s){return i.selectTime(s.changedTouches[0])})("mousemove",function(s){return i.selectTime(s)})("mouseup",function(s){return i.onMouseup(s)})},inputs:{selectedTime:"selectedTime",faceTime:"faceTime",unit:"unit",format:"format",minutesGap:"minutesGap"},outputs:{timeChange:"timeChange",timeSelected:"timeSelected"},features:[a.TTD],decls:7,vars:6,consts:[[1,"clock-face"],["clockFace",""],["class","clock-face__container",4,"ngIf","ngIfElse"],[1,"clock-face__clock-hand",3,"ngClass","hidden"],["clockHand",""],["minutesFace",""],[1,"clock-face__container"],["class","clock-face__number clock-face__number--outer",3,"ngStyle",4,"ngFor","ngForOf","ngForTrackBy"],["class","clock-face__inner",3,"top",4,"ngIf"],[1,"clock-face__number","clock-face__number--outer",3,"ngStyle"],[3,"ngStyle","ngClass"],[1,"clock-face__inner"],["class","clock-face__number clock-face__number--inner",3,"ngStyle","height",4,"ngFor","ngForOf","ngForTrackBy"],[1,"clock-face__number","clock-face__number--inner",3,"ngStyle"]],template:function(t,i){if(1&t&&(a.TgZ(0,"div",0,1),a.YNc(2,aK,4,7,"div",2),a._UZ(3,"span",3,4),a.qZA(),a.YNc(5,cK,2,2,"ng-template",null,5,a.W1O)),2&t){const r=a.MAs(6);a.xp6(2),a.Q6J("ngIf",i.unit!==i.timeUnit.MINUTE)("ngIfElse",r),a.xp6(1),a.Q6J("ngClass",a.VKq(4,uK,i.unit===i.timeUnit.MINUTE))("hidden",i.isClockFaceDisabled)}},directives:function(){return[jn,Mi,wl,Ai]},pipes:function(){return[qo,nQ,fN,iQ,JK]},styles:[".clock-face[_ngcontent-%COMP%]{width:290px;height:290px;border-radius:50%;position:relative;display:flex;justify-content:center;padding:20px;box-sizing:border-box;background-color:#f0f0f0}@supports (background-color:var(--clock-face-background-color)){.clock-face[_ngcontent-%COMP%]{background-color:var(--clock-face-background-color)}}.clock-face__inner[_ngcontent-%COMP%]{position:absolute}.clock-face__container[_ngcontent-%COMP%]{margin-left:-2px}.clock-face__number[_ngcontent-%COMP%]{position:absolute;transform-origin:0 100%;width:50px;text-align:center;z-index:2}.clock-face__number--outer[_ngcontent-%COMP%]{height:calc(290px / 2 - 20px)}.clock-face__number--outer[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{font-size:16px;color:#6c6c6c}@supports (color:var(--clock-face-time-inactive-color)){.clock-face__number--outer[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{color:var(--clock-face-time-inactive-color)}}.clock-face__number--inner[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{font-size:14px;color:#929292}@supports (color:var(--clock-face-inner-time-inactive-color)){.clock-face__number--inner[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{color:var(--clock-face-inner-time-inactive-color)}}.clock-face__number[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;width:30px;height:30px;display:flex;justify-content:center;align-items:center;margin:auto;border-radius:50%;font-weight:500;font-family:Roboto,sans-serif}@supports (font-family:var(--primary-font-family)){.clock-face__number[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{font-family:var(--primary-font-family)}}.clock-face__number[_ngcontent-%COMP%] > span.active[_ngcontent-%COMP%]{background-color:#00bfff;color:#fff}@supports (background-color:var(--clock-hand-color)){.clock-face__number[_ngcontent-%COMP%] > span.active[_ngcontent-%COMP%]{background-color:var(--clock-hand-color);color:var(--clock-face-time-active-color)}}.clock-face__number[_ngcontent-%COMP%] > span.disabled[_ngcontent-%COMP%]{color:#c5c5c5}@supports (color:var(--clock-face-time-disabled-color)){.clock-face__number[_ngcontent-%COMP%] > span.disabled[_ngcontent-%COMP%]{color:var(--clock-face-time-disabled-color)}}.clock-face__clock-hand[_ngcontent-%COMP%]{height:103px;width:2px;transform-origin:0 100%;position:absolute;top:calc(50% - 103px);z-index:1;background-color:#00bfff}@supports (background-color:var(--clock-hand-color)){.clock-face__clock-hand[_ngcontent-%COMP%]{background-color:var(--clock-hand-color)}}.clock-face__clock-hand[_ngcontent-%COMP%]:after{content:'';width:7px;height:7px;border-radius:50%;background-color:inherit;position:absolute;bottom:-3px;left:-3.5px}.clock-face__clock-hand_minute[_ngcontent-%COMP%]:before{content:'';width:7px;height:7px;background-color:#fff;border-radius:50%;position:absolute;top:-8px;left:calc(50% - 8px);box-sizing:content-box;border:4px solid #00bfff}@supports (border-color:var(--clock-hand-color)){.clock-face__clock-hand_minute[_ngcontent-%COMP%]:before{border-color:var(--clock-hand-color)}}@media (max-device-width:1023px) and (orientation:landscape){.clock-face[_ngcontent-%COMP%]{width:225px;height:225px;padding:5px}.clock-face__number--outer[_ngcontent-%COMP%]{height:calc(225px / 2 - 5px)}.clock-face__clock-hand_minute[_ngcontent-%COMP%]:before{top:0}}"],changeDetection:0}),Re([(0,a.IIB)()],n.prototype,"faceTime",void 0),Re([(0,a.IIB)()],n.prototype,"selectedTime",void 0),Re([(0,a.IIB)()],n.prototype,"unit",void 0),Re([(0,a.IIB)()],n.prototype,"format",void 0),Re([(0,a.IIB)()],n.prototype,"minutesGap",void 0),Re([(0,a.r_U)()],n.prototype,"timeChange",void 0),Re([(0,a.r_U)()],n.prototype,"timeSelected",void 0),Re([(0,a.i9L)("clockFace",{static:!0})],n.prototype,"clockFace",void 0),Re([(0,a.i9L)("clockHand",{static:!0})],n.prototype,"clockHand",void 0),Re([(0,a.L6J)("mousedown",["$event"])],n.prototype,"onMousedown",null),Re([(0,a.L6J)("click",["$event"]),(0,a.L6J)("touchmove",["$event.changedTouches[0]"]),(0,a.L6J)("touchend",["$event.changedTouches[0]"]),(0,a.L6J)("mousemove",["$event"])],n.prototype,"selectTime",null),Re([(0,a.L6J)("mouseup",["$event"])],n.prototype,"onMouseup",null),n})(),qK=(()=>{let n=class{};return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["ngx-material-timepicker-button"]],ngContentSelectors:kH,decls:3,vars:0,consts:[["type","button",1,"timepicker-button"]],template:function(t,i){1&t&&(a.F$t(),a.TgZ(0,"button",0)(1,"span"),a.Hsn(2),a.qZA()())},styles:[".timepicker-button[_ngcontent-%COMP%]{display:inline-block;height:36px;min-width:88px;line-height:36px;border:12px;border-radius:2px;background-color:transparent;text-align:center;transition:450ms cubic-bezier(.23,1,.32,1);overflow:hidden;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;position:relative;cursor:pointer;outline:0;color:#00bfff}@supports (color:var(--button-color)){.timepicker-button[_ngcontent-%COMP%]{color:var(--button-color)}}.timepicker-button[_ngcontent-%COMP%]:focus, .timepicker-button[_ngcontent-%COMP%]:hover{background-color:rgba(153,153,153,.2)}.timepicker-button[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{font-size:14px;text-transform:uppercase;font-weight:600;padding-left:16px;padding-right:16px;font-family:Roboto,sans-serif}@supports (font-family:var(--primary-font-family)){.timepicker-button[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{font-family:var(--primary-font-family)}}"]}),n})(),WK=(()=>{let n=class{constructor(t){this.locale=t,this.timeUnit=Ms,this.meridiems=wa.kI.meridiems({locale:this.locale}),this.periodChanged=new a.vpe,this.timeUnitChanged=new a.vpe,this.hourChanged=new a.vpe,this.minuteChanged=new a.vpe}ngOnChanges(t){if(t.period&&t.period.currentValue||t.format&&t.format.currentValue){const i=Ys.getHours(this.format);this.hours=Ys.disableHours(i,{min:this.minTime,max:this.maxTime,format:this.format,period:this.period})}if(t.period&&t.period.currentValue||t.hour&&t.hour.currentValue){const i=Ys.getMinutes(this.minutesGap);this.minutes=Ys.disableMinutes(i,+this.hour,{min:this.minTime,max:this.maxTime,format:this.format,period:this.period})}}changeTimeUnit(t){this.timeUnitChanged.next(t)}changePeriod(t){this.periodChanged.next(t)}changeHour(t){this.hourChanged.next(t)}changeMinute(t){this.minuteChanged.next(t)}showHint(){this.isHintVisible=!0}hideHint(){this.isHintVisible=!1}};return n.\u0275fac=function(t){return new(t||n)(a.Y36(po))},n.\u0275cmp=a.Xpm({type:n,selectors:[["ngx-material-timepicker-dial"]],inputs:{editableHintTmpl:"editableHintTmpl",hour:"hour",minute:"minute",format:"format",period:"period",activeTimeUnit:"activeTimeUnit",minTime:"minTime",maxTime:"maxTime",isEditable:"isEditable",minutesGap:"minutesGap",hoursOnly:"hoursOnly"},outputs:{periodChanged:"periodChanged",timeUnitChanged:"timeUnitChanged",hourChanged:"hourChanged",minuteChanged:"minuteChanged"},features:[a.TTD],decls:9,vars:25,consts:[[1,"timepicker-dial"],[1,"timepicker-dial__container"],[1,"timepicker-dial__time"],[3,"timeList","time","timeUnit","isActive","isEditable","timeUnitChanged","timeChanged","focused","unfocused"],[3,"timeList","time","timeUnit","isActive","isEditable","minutesGap","disabled","timeUnitChanged","timeChanged","focused","unfocused"],[1,"timepicker-dial__period",3,"ngClass","selectedPeriod","activeTimeUnit","maxTime","minTime","format","hours","minutes","selectedHour","meridiems","periodChanged"],[3,"ngClass",4,"ngIf"],[3,"ngClass"],[4,"ngTemplateOutlet"],["editableHintDefault",""],[1,"timepicker-dial__hint"]],template:function(t,i){1&t&&(a.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"ngx-material-timepicker-dial-control",3),a.NdJ("timeUnitChanged",function(s){return i.changeTimeUnit(s)})("timeChanged",function(s){return i.changeHour(s)})("focused",function(){return i.showHint()})("unfocused",function(){return i.hideHint()}),a.qZA(),a.TgZ(4,"span"),a._uU(5,":"),a.qZA(),a.TgZ(6,"ngx-material-timepicker-dial-control",4),a.NdJ("timeUnitChanged",function(s){return i.changeTimeUnit(s)})("timeChanged",function(s){return i.changeMinute(s)})("focused",function(){return i.showHint()})("unfocused",function(){return i.hideHint()}),a.qZA()(),a.TgZ(7,"ngx-material-timepicker-period",5),a.NdJ("periodChanged",function(s){return i.changePeriod(s)}),a.qZA()(),a.YNc(8,pK,4,4,"div",6),a.qZA()),2&t&&(a.xp6(3),a.Q6J("timeList",i.hours)("time",i.hour)("timeUnit",i.timeUnit.HOUR)("isActive",i.activeTimeUnit===i.timeUnit.HOUR)("isEditable",i.isEditable),a.xp6(3),a.Q6J("timeList",i.minutes)("time",i.minute)("timeUnit",i.timeUnit.MINUTE)("isActive",i.activeTimeUnit===i.timeUnit.MINUTE)("isEditable",i.isEditable)("minutesGap",i.minutesGap)("disabled",i.hoursOnly),a.xp6(1),a.Q6J("ngClass",a.VKq(23,mK,24===i.format))("selectedPeriod",i.period)("activeTimeUnit",i.activeTimeUnit)("maxTime",i.maxTime)("minTime",i.minTime)("format",i.format)("hours",i.hours)("minutes",i.minutes)("selectedHour",i.hour)("meridiems",i.meridiems),a.xp6(1),a.Q6J("ngIf",i.isEditable||i.editableHintTmpl))},directives:function(){return[ZK,KK,Ai,jn,_o]},styles:[".timepicker-dial[_ngcontent-%COMP%]{text-align:right}.timepicker-dial__container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-end;-webkit-tap-highlight-color:transparent}.timepicker-dial__time[_ngcontent-%COMP%]{display:flex;align-items:baseline;line-height:normal;font-size:50px;color:rgba(255,255,255,.5);font-family:Roboto,sans-serif}@supports (font-family:var(--primary-font-family)){.timepicker-dial__time[_ngcontent-%COMP%]{font-family:var(--primary-font-family);color:var(--dial-inactive-color)}}.timepicker-dial__period[_ngcontent-%COMP%]{display:block;margin-left:10px}.timepicker-dial__hint-container--hidden[_ngcontent-%COMP%], .timepicker-dial__period--hidden[_ngcontent-%COMP%]{visibility:hidden}.timepicker-dial__hint[_ngcontent-%COMP%]{display:inline-block;font-size:10px;color:#fff}@supports (color:var(--dial-active-color)){.timepicker-dial__hint[_ngcontent-%COMP%]{color:var(--dial-active-color)}}.timepicker-dial__hint[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px}@media (max-device-width:1023px) and (orientation:landscape){.timepicker-dial__container[_ngcontent-%COMP%]{flex-direction:column}.timepicker-dial__period[_ngcontent-%COMP%]{margin-left:0}}"],changeDetection:0}),Re([(0,a.IIB)()],n.prototype,"editableHintTmpl",void 0),Re([(0,a.IIB)()],n.prototype,"hour",void 0),Re([(0,a.IIB)()],n.prototype,"minute",void 0),Re([(0,a.IIB)()],n.prototype,"format",void 0),Re([(0,a.IIB)()],n.prototype,"period",void 0),Re([(0,a.IIB)()],n.prototype,"activeTimeUnit",void 0),Re([(0,a.IIB)()],n.prototype,"minTime",void 0),Re([(0,a.IIB)()],n.prototype,"maxTime",void 0),Re([(0,a.IIB)()],n.prototype,"isEditable",void 0),Re([(0,a.IIB)()],n.prototype,"minutesGap",void 0),Re([(0,a.IIB)()],n.prototype,"hoursOnly",void 0),Re([(0,a.r_U)()],n.prototype,"periodChanged",void 0),Re([(0,a.r_U)()],n.prototype,"timeUnitChanged",void 0),Re([(0,a.r_U)()],n.prototype,"hourChanged",void 0),Re([(0,a.r_U)()],n.prototype,"minuteChanged",void 0),n=Re([lu(0,(0,a.tBr)(po))],n),n})(),bv=(()=>{let n=class{constructor(t){this.locale=t,this.numberingSystem=wa.ou.local().setLocale(this.locale).resolvedLocaleOpts().numberingSystem}transform(t,i=Ms.HOUR){return null==t||""===t?"":isNaN(+t)?i===Ms.MINUTE?this.parseTime(t,"m","minute"):this.parseTime(t,"H","hour"):t}parseTime(t,i,r){const s=wa.ou.fromFormat(String(t),i,{numberingSystem:this.numberingSystem})[r];if(!isNaN(s))return s;throw new Error(`Cannot parse time - ${t}`)}};return n.\u0275fac=function(t){return new(t||n)(a.Y36(po,16))},n.\u0275pipe=a.Yjl({name:"timeParser",type:n,pure:!0}),n.\u0275prov=a.Yz7({token:n,factory:function(e){return n.\u0275fac(e)}}),n=Re([lu(0,(0,a.tBr)(po))],n),n})(),ZK=(()=>{let n=class{constructor(t){this.timeParserPipe=t,this.timeUnitChanged=new a.vpe,this.timeChanged=new a.vpe,this.focused=new a.vpe,this.unfocused=new a.vpe}get selectedTime(){if(this.time)return this.timeList.find(t=>t.time===+this.time)}saveTimeAndChangeTimeUnit(t,i){t.preventDefault(),this.previousTime=this.time,this.timeUnitChanged.next(i),this.focused.next()}updateTime(){const t=this.selectedTime;t&&(this.timeChanged.next(t),this.previousTime=t.time)}changeTimeByKeyboard(t){const i=String.fromCharCode(t.keyCode);(function YK(n,e,t){if(/\d/.test(e))return FH(n+e,t)})(this.time,i,this.timeList)&&t.preventDefault()}onKeydown(t){OH(t)?this.changeTimeByArrow(t.keyCode):t.preventDefault()}onModelChange(t){this.time=this.timeParserPipe.transform(t,this.timeUnit).toString()}changeTimeByArrow(t){let s;38===t?s=String(+this.time+(this.minutesGap||1)):40===t&&(s=String(+this.time-(this.minutesGap||1))),FH(s,this.timeList)||(this.time=s,this.updateTime())}};return n.\u0275fac=function(t){return new(t||n)(a.Y36(bv))},n.\u0275cmp=a.Xpm({type:n,selectors:[["ngx-material-timepicker-dial-control"]],inputs:{time:"time",timeList:"timeList",timeUnit:"timeUnit",isActive:"isActive",isEditable:"isEditable",minutesGap:"minutesGap",disabled:"disabled"},outputs:{timeUnitChanged:"timeUnitChanged",timeChanged:"timeChanged",focused:"focused",unfocused:"unfocused"},features:[a._Bn([bv])],decls:3,vars:2,consts:[["class","timepicker-dial__control timepicker-dial__item","readonly","",3,"ngClass","ngModel","disabled","timepickerAutofocus","ngModelChange","input","focus",4,"ngIf","ngIfElse"],["editableTemplate",""],["readonly","",1,"timepicker-dial__control","timepicker-dial__item",3,"ngClass","ngModel","disabled","timepickerAutofocus","ngModelChange","input","focus"],[1,"timepicker-dial__control","timepicker-dial__item","timepicker-dial__control_editable",3,"ngClass","ngModel","disabled","timepickerAutofocus","ngModelChange","input","focus","keydown","keypress"]],template:function(t,i){if(1&t&&(a.YNc(0,gK,2,9,"input",0),a.YNc(1,_K,3,13,"ng-template",null,1,a.W1O)),2&t){const r=a.MAs(2);a.Q6J("ngIf",!i.isEditable)("ngIfElse",r)}},directives:function(){return[jn,pv,Ai,HS,QS,LH]},pipes:function(){return[fN,bv]},styles:[".timepicker-dial__item[_ngcontent-%COMP%]{cursor:pointer;color:rgba(255,255,255,.5);font-family:Roboto,sans-serif}@supports (font-family:var(--primary-font-family)){.timepicker-dial__item[_ngcontent-%COMP%]{font-family:var(--primary-font-family);color:var(--dial-inactive-color)}}.timepicker-dial__item_active[_ngcontent-%COMP%]{color:#fff}@supports (color:var(--dial-active-color)){.timepicker-dial__item_active[_ngcontent-%COMP%]{color:var(--dial-active-color)}}.timepicker-dial__control[_ngcontent-%COMP%]{border:none;background-color:transparent;font-size:50px;width:60px;padding:0;border-radius:3px;text-align:right}.timepicker-dial__control_editable[_ngcontent-%COMP%]:focus{color:#00bfff;background-color:#fff;outline:#00bfff}@supports (color:var(--dial-editable-active-color)){.timepicker-dial__control_editable[_ngcontent-%COMP%]:focus{color:var(--dial-editable-active-color)}}@supports (background-color:var(--dial-editable-background-color)){.timepicker-dial__control_editable[_ngcontent-%COMP%]:focus{background-color:var(--dial-editable-background-color)}}@supports (outline:var(--dial-editable-active-color)){.timepicker-dial__control_editable[_ngcontent-%COMP%]:focus{outline:var(--dial-editable-active-color)}}.timepicker-dial__control[_ngcontent-%COMP%]:disabled{cursor:default}"]}),Re([(0,a.IIB)()],n.prototype,"timeList",void 0),Re([(0,a.IIB)()],n.prototype,"timeUnit",void 0),Re([(0,a.IIB)()],n.prototype,"time",void 0),Re([(0,a.IIB)()],n.prototype,"isActive",void 0),Re([(0,a.IIB)()],n.prototype,"isEditable",void 0),Re([(0,a.IIB)()],n.prototype,"minutesGap",void 0),Re([(0,a.IIB)()],n.prototype,"disabled",void 0),Re([(0,a.r_U)()],n.prototype,"timeUnitChanged",void 0),Re([(0,a.r_U)()],n.prototype,"timeChanged",void 0),Re([(0,a.r_U)()],n.prototype,"focused",void 0),Re([(0,a.r_U)()],n.prototype,"unfocused",void 0),n})();function FH(n,e){const t=e.find(i=>i.time===+n);return!t||t&&t.disabled}let KK=(()=>{let n=class{constructor(){this.timePeriod=xs,this.isPeriodAvailable=!0,this.periodChanged=new a.vpe}changePeriod(t){this.isPeriodAvailable=this.isSwitchPeriodAvailable(t),this.isPeriodAvailable&&this.periodChanged.next(t)}animationDone(){this.isPeriodAvailable=!0}isSwitchPeriodAvailable(t){return!this.getDisabledTimeByPeriod(t).every(r=>r.disabled)}getDisabledTimeByPeriod(t){switch(this.activeTimeUnit){case Ms.HOUR:return Ys.disableHours(this.hours,{min:this.minTime,max:this.maxTime,format:this.format,period:t});case Ms.MINUTE:return Ys.disableMinutes(this.minutes,+this.selectedHour,{min:this.minTime,max:this.maxTime,format:this.format,period:t});default:throw new Error("no such TimeUnit")}}};return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["ngx-material-timepicker-period"]],inputs:{selectedPeriod:"selectedPeriod",format:"format",activeTimeUnit:"activeTimeUnit",hours:"hours",minutes:"minutes",minTime:"minTime",maxTime:"maxTime",selectedHour:"selectedHour",meridiems:"meridiems"},outputs:{periodChanged:"periodChanged"},decls:6,vars:9,consts:[[1,"timepicker-period"],["type","button",1,"timepicker-dial__item","timepicker-period__btn",3,"ngClass","click"],["class","timepicker-period__warning",4,"ngIf"],[1,"timepicker-period__warning"]],template:function(t,i){1&t&&(a.TgZ(0,"div",0)(1,"button",1),a.NdJ("click",function(){return i.changePeriod(i.timePeriod.AM)}),a._uU(2),a.qZA(),a.TgZ(3,"button",1),a.NdJ("click",function(){return i.changePeriod(i.timePeriod.PM)}),a._uU(4),a.qZA(),a.YNc(5,yK,3,1,"div",2),a.qZA()),2&t&&(a.xp6(1),a.Q6J("ngClass",a.VKq(5,mA,i.selectedPeriod===i.timePeriod.AM)),a.xp6(1),a.Oqu(i.meridiems[0]),a.xp6(1),a.Q6J("ngClass",a.VKq(7,mA,i.selectedPeriod===i.timePeriod.PM)),a.xp6(1),a.Oqu(i.meridiems[1]),a.xp6(1),a.Q6J("ngIf",!i.isPeriodAvailable))},directives:[Ai,jn],styles:[".timepicker-dial__item[_ngcontent-%COMP%]{cursor:pointer;color:rgba(255,255,255,.5);font-family:Roboto,sans-serif}@supports (font-family:var(--primary-font-family)){.timepicker-dial__item[_ngcontent-%COMP%]{font-family:var(--primary-font-family);color:var(--dial-inactive-color)}}.timepicker-dial__item_active[_ngcontent-%COMP%]{color:#fff}@supports (color:var(--dial-active-color)){.timepicker-dial__item_active[_ngcontent-%COMP%]{color:var(--dial-active-color)}}.timepicker-period[_ngcontent-%COMP%]{display:flex;flex-direction:column;position:relative}.timepicker-period__btn[_ngcontent-%COMP%]{padding:1px 3px;border:0;background-color:transparent;font-size:18px;font-weight:500;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;outline:0;border-radius:3px;transition:background-color .5s;font-family:Roboto,sans-serif}.timepicker-period__btn[_ngcontent-%COMP%]:focus{background-color:rgba(0,0,0,.07)}.timepicker-period__warning[_ngcontent-%COMP%]{padding:5px 10px;border-radius:3px;background-color:rgba(0,0,0,.55);color:#fff;position:absolute;width:200px;left:-20px;top:40px}.timepicker-period__warning[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{margin:0;font-size:12px;font-family:Roboto,sans-serif}@supports (font-family:var(--primary-font-family)){.timepicker-period__btn[_ngcontent-%COMP%], .timepicker-period__warning[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{font-family:var(--primary-font-family)}}"],data:{animation:[vC("scaleInOut",[sp(":enter",[As({transform:"scale(0)"}),id(".2s",As({transform:"scale(1)"})),kR([id("3s",As({opacity:1})),id(".3s",As({opacity:0}))])])])]}}),Re([(0,a.IIB)()],n.prototype,"selectedPeriod",void 0),Re([(0,a.IIB)()],n.prototype,"format",void 0),Re([(0,a.IIB)()],n.prototype,"activeTimeUnit",void 0),Re([(0,a.IIB)()],n.prototype,"hours",void 0),Re([(0,a.IIB)()],n.prototype,"minutes",void 0),Re([(0,a.IIB)()],n.prototype,"minTime",void 0),Re([(0,a.IIB)()],n.prototype,"maxTime",void 0),Re([(0,a.IIB)()],n.prototype,"selectedHour",void 0),Re([(0,a.IIB)()],n.prototype,"meridiems",void 0),Re([(0,a.r_U)()],n.prototype,"periodChanged",void 0),n})(),QK=(()=>{let n=class{constructor(t){this.eventService=t}onClick(t){this.preventClick||this.eventService.dispatchEvent(t),t.preventDefault()}};return n.\u0275fac=function(t){return new(t||n)(a.Y36(cu))},n.\u0275dir=a.lG2({type:n,selectors:[["","overlay",""]],hostBindings:function(t,i){1&t&&a.NdJ("click",function(s){return i.onClick(s)})},inputs:{preventClick:["overlay","preventClick"]}}),Re([(0,a.IIB)("overlay")],n.prototype,"preventClick",void 0),Re([(0,a.L6J)("click",["$event"])],n.prototype,"onClick",null),n})(),JK=(()=>{let n=class{transform(t,i=5){return t&&(t%i==0?t:"")}};return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=a.Yjl({name:"minutesFormatter",type:n,pure:!0}),n})(),LH=(()=>{let n=class{constructor(t,i){this.element=t,this.document=i,this.activeElement=this.document.activeElement}ngOnChanges(){this.isFocusActive&&setTimeout(()=>this.element.nativeElement.focus({preventScroll:!0}))}ngOnDestroy(){setTimeout(()=>this.activeElement.focus({preventScroll:!0}))}};return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.SBq),a.Y36(fe,8))},n.\u0275dir=a.lG2({type:n,selectors:[["","timepickerAutofocus",""]],inputs:{isFocusActive:["timepickerAutofocus","isFocusActive"]},features:[a.TTD]}),Re([(0,a.IIB)("timepickerAutofocus")],n.prototype,"isFocusActive",void 0),n=Re([lu(1,(0,a.FiY)()),lu(1,(0,a.tBr)(fe))],n),n})();var hN;let ks=hN=class{constructor(e,t){this.timepickerService=e,this.locale=t,this.minHour=1,this.maxHour=12,this.timeUnit=Ms,this.buttonAlign="right",this.timeChanged=new a.vpe,this._format=12,this.unsubscribe$=new I.x,this.isFirstTimeChange=!0,this.onChange=()=>{}}set format(e){this._format=24===e?24:12,this.minHour=12===this._format?1:0,this.maxHour=12===this._format?12:23,this.hoursList=Ys.getHours(this._format),e&&this.previousFormat&&this.previousFormat!==this._format&&this.updateTime(this.timepickerTime),this.previousFormat=this._format}get format(){return this._format}set min(e){this._min="string"!=typeof e?e:Ir.parseTime(e,{locale:this.locale,format:this.format})}get min(){return this._min}set max(e){this._max="string"!=typeof e?e:Ir.parseTime(e,{locale:this.locale,format:this.format})}get max(){return this._max}set defaultTime(e){this._defaultTime=e,this.isDefaultTime=!!e}get defaultTime(){return this._defaultTime}ngOnInit(){this.initTime(this.defaultTime),this.hoursList=Ys.getHours(this._format),this.minutesList=Ys.getMinutes(),this.isTimeRangeSet=!(!this.min&&!this.max),this.hour$=this.timepickerService.selectedHour.pipe((0,br.b)(e=>this.selectedHour=e.time),(0,be.U)(this.changeDefaultTimeValue.bind(this)),(0,br.b)(()=>this.isTimeRangeSet&&this.updateAvailableMinutes())),this.minute$=this.timepickerService.selectedMinute.pipe((0,be.U)(this.changeDefaultTimeValue.bind(this)),(0,br.b)(()=>this.isFirstTimeChange=!1)),12===this.format&&this.timepickerService.selectedPeriod.pipe(y_(),(0,br.b)(e=>this.period=e),(0,br.b)(e=>this.isChangePeriodDisabled=this.isPeriodDisabled(e)),fl(this.unsubscribe$)).subscribe(()=>this.isTimeRangeSet&&this.updateAvailableTime())}writeValue(e){e?this.initTime(e):this.resetTime()}registerOnTouched(e){}registerOnChange(e){this.onChange=e}setDisabledState(e){this.disabled=e}changeHour(e){this.timepickerService.hour=this.hoursList.find(t=>t.time===e),this.changeTime()}changeMinute(e){this.timepickerService.minute=this.minutesList.find(t=>t.time===e),this.changeTime()}changePeriod(e){this.timepickerService.period=e,this.changeTime()}onTimeSet(e){this.updateTime(e),this.emitLocalTimeChange(e)}ngOnDestroy(){this.unsubscribe$.next(),this.unsubscribe$.complete()}changeTime(){const e=this.timepickerService.getFullTime(this.format);this.timepickerTime=e,this.emitLocalTimeChange(e)}resetTime(){this.timepickerService.hour={angle:0,time:null},this.timepickerService.minute={angle:0,time:null}}emitLocalTimeChange(e){const t=Ir.toLocaleTimeString(e,{format:this.format,locale:this.locale});this.onChange(t),this.timeChanged.emit(t)}changeDefaultTimeValue(e){return!this.isDefaultTime&&this.isFirstTimeChange?Object.assign({},e,{time:null}):e}updateAvailableHours(){this.hoursList=Ys.disableHours(this.hoursList,{min:this.min,max:this.max,format:this.format,period:this.period})}updateAvailableMinutes(){this.minutesList=Ys.disableMinutes(this.minutesList,this.selectedHour,{min:this.min,max:this.max,format:this.format,period:this.period})}updateAvailableTime(){this.updateAvailableHours(),this.selectedHour&&this.updateAvailableMinutes()}updateTime(e){if(e){const t=Ir.formatTime(e,{locale:this.locale,format:this.format});this.timepickerService.setDefaultTimeIfAvailable(t,this.min,this.max,this.format),this.timepickerTime=t}}initTime(e){if(!Ir.isTimeAvailable(e,this.min,this.max,"minutes",null,this.format)){if(this.min)return void this.updateTime(Ir.fromDateTimeToString(this.min,this.format));if(this.max)return void this.updateTime(Ir.fromDateTimeToString(this.max,this.format))}this.updateTime(e)}isPeriodDisabled(e){return Ys.disableHours(Ys.getHours(12),{min:this.min,max:this.max,format:12,period:e===xs.AM?xs.PM:xs.AM}).every(t=>t.disabled)}};ks.\u0275fac=function(e){return new(e||ks)(a.Y36(gl),a.Y36(po))},ks.\u0275cmp=a.Xpm({type:ks,selectors:[["ngx-timepicker-field"]],inputs:{buttonAlign:"buttonAlign",format:"format",min:"min",max:"max",defaultTime:"defaultTime",disabled:"disabled",toggleIcon:"toggleIcon",clockTheme:"clockTheme",controlOnly:"controlOnly",cancelBtnTmpl:"cancelBtnTmpl",confirmBtnTmpl:"confirmBtnTmpl"},outputs:{timeChanged:"timeChanged"},features:[a._Bn([gl,{provide:ac,useExisting:hN,multi:!0}])],decls:13,vars:32,consts:[[1,"ngx-timepicker",3,"ngClass"],[1,"ngx-timepicker__control--first",3,"placeholder","time","min","max","timeUnit","disabled","timeList","preventTyping","timeChanged"],[1,"ngx-timepicker__time-colon","ngx-timepicker__control--second"],[1,"ngx-timepicker__control--third",3,"placeholder","time","min","max","timeUnit","disabled","timeList","preventTyping","timeChanged"],["class","ngx-timepicker__control--forth",3,"selectedPeriod","disabled","periodSelected",4,"ngIf"],["class","ngx-timepicker__toggle",3,"ngClass","for","disabled",4,"ngIf"],[3,"min","max","theme","defaultTime","format","cancelBtnTmpl","confirmBtnTmpl","timeSet"],["timepicker",""],["defaultIcon",""],[1,"ngx-timepicker__control--forth",3,"selectedPeriod","disabled","periodSelected"],[1,"ngx-timepicker__toggle",3,"ngClass","for","disabled"],["ngxMaterialTimepickerToggleIcon",""],[4,"ngTemplateOutlet"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","width","24px","height","24px"],["d","M 12 2 C 6.4889971 2 2 6.4889971 2 12 C 2 17.511003                   6.4889971 22 12 22 C 17.511003 22 22 17.511003 22 12 C 22 6.4889971 17.511003 2 12 2 z M 12 4 C 16.430123 4 20 7.5698774 20 12 C 20 16.430123 16.430123 20 12 20 C 7.5698774 20 4 16.430123 4 12 C 4 7.5698774 7.5698774 4 12 4 z M 11 6 L 11 12.414062 L 15.292969 16.707031 L 16.707031 15.292969 L 13 11.585938 L 13 6 L 11 6 z"]],template:function(e,t){if(1&e&&(a.TgZ(0,"div",0)(1,"ngx-timepicker-time-control",1),a.NdJ("timeChanged",function(r){return t.changeHour(r)}),a.ALo(2,"async"),a.qZA(),a.TgZ(3,"span",2),a._uU(4,":"),a.qZA(),a.TgZ(5,"ngx-timepicker-time-control",3),a.NdJ("timeChanged",function(r){return t.changeMinute(r)}),a.ALo(6,"async"),a.qZA(),a.YNc(7,vK,1,2,"ngx-timepicker-period-selector",4),a.YNc(8,CK,3,6,"ngx-material-timepicker-toggle",5),a.qZA(),a.TgZ(9,"ngx-material-timepicker",6,7),a.NdJ("timeSet",function(r){return t.onTimeSet(r)}),a.qZA(),a.YNc(11,EK,2,0,"ng-template",null,8,a.W1O)),2&e){let i,r;a.Q6J("ngClass",a.VKq(30,TK,t.disabled)),a.xp6(1),a.Q6J("placeholder","HH")("time",null==(i=a.lcZ(2,26,t.hour$))?null:i.time)("min",t.minHour)("max",t.maxHour)("timeUnit",t.timeUnit.HOUR)("disabled",t.disabled)("timeList",t.hoursList)("preventTyping",t.isTimeRangeSet),a.xp6(4),a.Q6J("placeholder","MM")("time",null==(r=a.lcZ(6,28,t.minute$))?null:r.time)("min",0)("max",59)("timeUnit",t.timeUnit.MINUTE)("disabled",t.disabled)("timeList",t.minutesList)("preventTyping",t.isTimeRangeSet),a.xp6(2),a.Q6J("ngIf",24!==t.format),a.xp6(1),a.Q6J("ngIf",!t.controlOnly),a.xp6(1),a.Q6J("min",t.min)("max",t.max)("theme",t.clockTheme)("defaultTime",t.timepickerTime)("format",t.format)("cancelBtnTmpl",t.cancelBtnTmpl)("confirmBtnTmpl",t.confirmBtnTmpl)}},directives:function(){return[Ai,XK,jn,tQ,VK,cN,_o,NH]},pipes:function(){return[fu]},styles:[".ngx-timepicker[_ngcontent-%COMP%]{display:flex;align-items:center;height:100%;border-bottom:1px solid rgba(0,0,0,.12)}.ngx-timepicker--disabled[_ngcontent-%COMP%]{background:rgba(0,0,0,.07);pointer-events:none}.ngx-timepicker__time-colon[_ngcontent-%COMP%]{margin-left:10px}.ngx-timepicker__control--first[_ngcontent-%COMP%]{order:1}.ngx-timepicker__control--second[_ngcontent-%COMP%]{order:2}.ngx-timepicker__control--third[_ngcontent-%COMP%]{order:3}.ngx-timepicker__control--forth[_ngcontent-%COMP%], .ngx-timepicker__toggle[_ngcontent-%COMP%]{order:4}.ngx-timepicker__toggle--left[_ngcontent-%COMP%]{order:0}"],changeDetection:0}),ks.ctorParameters=()=>[{type:gl},{type:String,decorators:[{type:a.tBr,args:[po]}]}],Re([(0,a.IIB)()],ks.prototype,"disabled",void 0),Re([(0,a.IIB)()],ks.prototype,"toggleIcon",void 0),Re([(0,a.IIB)()],ks.prototype,"buttonAlign",void 0),Re([(0,a.IIB)()],ks.prototype,"clockTheme",void 0),Re([(0,a.IIB)()],ks.prototype,"controlOnly",void 0),Re([(0,a.IIB)()],ks.prototype,"cancelBtnTmpl",void 0),Re([(0,a.IIB)()],ks.prototype,"confirmBtnTmpl",void 0),Re([(0,a.IIB)()],ks.prototype,"format",null),Re([(0,a.IIB)()],ks.prototype,"min",null),Re([(0,a.IIB)()],ks.prototype,"max",null),Re([(0,a.IIB)()],ks.prototype,"defaultTime",null),Re([(0,a.r_U)()],ks.prototype,"timeChanged",void 0),ks=hN=Re([lu(1,(0,a.tBr)(po))],ks);let XK=(()=>{let n=class{constructor(t){this.timeParser=t,this.timeChanged=new a.vpe}ngOnChanges(t){t.timeList&&null!=this.time&&this.isSelectedTimeDisabled(this.time)&&this.setAvailableTime()}changeTime(t){t.stopPropagation();const i=String.fromCharCode(t.keyCode),r=function eQ(n,e){if(/\d/.test(e))return+(n+e)}(String(this.time),i);this.changeTimeIfValid(r)}onKeydown(t){switch(t.stopPropagation(),OH(t)||t.preventDefault(),t.key){case"ArrowUp":this.increase();break;case"ArrowDown":this.decrease()}this.preventTyping&&"Tab"!==t.key&&t.preventDefault()}increase(){if(!this.disabled){let t=+this.time+1;t>this.max&&(t=this.min),this.isSelectedTimeDisabled(t)&&(t=this.getAvailableTime(t,this.getNextAvailableTime.bind(this))),t!==this.time&&this.timeChanged.emit(t)}}decrease(){if(!this.disabled){let t=+this.time-1;t<this.min&&(t=this.max),this.isSelectedTimeDisabled(t)&&(t=this.getAvailableTime(t,this.getPrevAvailableTime.bind(this))),t!==this.time&&this.timeChanged.emit(t)}}onFocus(){this.isFocused=!0,this.previousTime=this.time}onBlur(){this.isFocused=!1,this.previousTime!==this.time&&this.changeTimeIfValid(+this.time)}onModelChange(t){this.time=+this.timeParser.transform(t,this.timeUnit)}changeTimeIfValid(t){if(!isNaN(t)){if(this.time=t,this.time>this.max){const i=String(t);this.time=+i[i.length-1]}this.time<this.min&&(this.time=this.min),this.timeChanged.emit(this.time)}}isSelectedTimeDisabled(t){return this.timeList.find(i=>i.time===t).disabled}getNextAvailableTime(t){const i=this.timeList,r=i.length;for(let s=t+1;s<r;s++){const c=i[s];if(!c.disabled)return c.time}}getPrevAvailableTime(t){for(let i=t;i>=0;i--){const r=this.timeList[i];if(!r.disabled)return r.time}}getAvailableTime(t,i){const s=i(this.timeList.findIndex(c=>c.time===t));return null!=s?s:this.time}setAvailableTime(){this.time=this.timeList.find(t=>!t.disabled).time,this.timeChanged.emit(this.time)}};return n.\u0275fac=function(t){return new(t||n)(a.Y36(bv))},n.\u0275cmp=a.Xpm({type:n,selectors:[["ngx-timepicker-time-control"]],inputs:{time:"time",min:"min",max:"max",placeholder:"placeholder",timeUnit:"timeUnit",disabled:"disabled",timeList:"timeList",preventTyping:"preventTyping"},outputs:{timeChanged:"timeChanged"},features:[a._Bn([bv]),a.TTD],decls:9,vars:13,consts:[[1,"ngx-timepicker-control",3,"ngClass"],["maxlength","2",1,"ngx-timepicker-control__input",3,"ngModel","placeholder","disabled","ngModelChange","keydown","keypress","focus","blur"],[1,"ngx-timepicker-control__arrows"],["role","button",1,"ngx-timepicker-control__arrow",3,"click"]],template:function(t,i){1&t&&(a.TgZ(0,"div",0)(1,"input",1),a.NdJ("ngModelChange",function(s){return i.onModelChange(s)})("keydown",function(s){return i.onKeydown(s)})("keypress",function(s){return i.changeTime(s)})("focus",function(){return i.onFocus()})("blur",function(){return i.onBlur()}),a.ALo(2,"timeLocalizer"),a.ALo(3,"timeParser"),a.qZA(),a.TgZ(4,"div",2)(5,"span",3),a.NdJ("click",function(){return i.increase()}),a._uU(6," \u25b2 "),a.qZA(),a.TgZ(7,"span",3),a.NdJ("click",function(){return i.decrease()}),a._uU(8," \u25bc "),a.qZA()()()),2&t&&(a.Q6J("ngClass",a.VKq(11,DK,i.isFocused)),a.xp6(1),a.Q6J("ngModel",a.Dn7(2,4,a.xi3(3,8,i.time,i.timeUnit),i.timeUnit,!0))("placeholder",i.placeholder)("disabled",i.disabled))},directives:function(){return[Ai,pv,AO,HS,QS]},pipes:function(){return[fN,bv]},styles:[".ngx-timepicker-control[_ngcontent-%COMP%]{position:relative;display:flex;width:60px;height:30px;padding:0 5px;box-sizing:border-box}.ngx-timepicker-control--active[_ngcontent-%COMP%]:after{content:'';position:absolute;bottom:-2px;left:0;width:100%;height:1px;background-color:#00bfff}.ngx-timepicker-control__input[_ngcontent-%COMP%]{width:100%;height:100%;padding:0 5px 0 0;border:0;font-size:1rem;color:inherit;outline:0;text-align:center}.ngx-timepicker-control__input[_ngcontent-%COMP%]:disabled{background-color:transparent}.ngx-timepicker-control__arrows[_ngcontent-%COMP%]{position:absolute;right:2px;top:0;display:flex;flex-direction:column}.ngx-timepicker-control__arrow[_ngcontent-%COMP%]{font-size:11px;color:rgba(0,0,0,.4);cursor:pointer;transition:color .2s;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.ngx-timepicker-control__arrow[_ngcontent-%COMP%]:hover{color:rgba(0,0,0,.9)}"],changeDetection:0}),Re([(0,a.IIB)()],n.prototype,"time",void 0),Re([(0,a.IIB)()],n.prototype,"min",void 0),Re([(0,a.IIB)()],n.prototype,"max",void 0),Re([(0,a.IIB)()],n.prototype,"placeholder",void 0),Re([(0,a.IIB)()],n.prototype,"timeUnit",void 0),Re([(0,a.IIB)()],n.prototype,"disabled",void 0),Re([(0,a.IIB)()],n.prototype,"timeList",void 0),Re([(0,a.IIB)()],n.prototype,"preventTyping",void 0),Re([(0,a.r_U)()],n.prototype,"timeChanged",void 0),n})(),tQ=(()=>{let n=class{constructor(t){this.locale=t,this.periodSelected=new a.vpe,this.period=xs,this.meridiems=wa.kI.meridiems({locale:this.locale})}set selectedPeriod(t){t&&(this.localizedPeriod=this.meridiems[[xs.AM,xs.PM].indexOf(t)])}open(){this.disabled||(this.isOpened=!0)}select(t){this.periodSelected.next(t),this.isOpened=!1}backdropClick(){this.isOpened=!1}};return n.\u0275fac=function(t){return new(t||n)(a.Y36(po))},n.\u0275cmp=a.Xpm({type:n,selectors:[["ngx-timepicker-period-selector"]],inputs:{selectedPeriod:"selectedPeriod",isOpened:"isOpened",disabled:"disabled"},outputs:{periodSelected:"periodSelected"},decls:9,vars:6,consts:[[1,"period"],[1,"period-control"],["type","button",1,"period-control__button","period__btn--default",3,"ngClass","click"],[1,"period-control__arrow"],["class","period-selector",3,"timepickerAutofocus",4,"ngIf"],["class","overlay",3,"click",4,"ngIf"],[1,"period-selector",3,"timepickerAutofocus"],["type","button",1,"period-selector__button","period__btn--default",3,"ngClass","click"],[1,"overlay",3,"click"]],template:function(t,i){1&t&&(a.TgZ(0,"div",0)(1,"div",1)(2,"button",2),a.NdJ("click",function(){return i.open()}),a.TgZ(3,"span"),a._uU(4),a.qZA(),a.TgZ(5,"span",3),a._uU(6,"\u25bc"),a.qZA()()(),a.YNc(7,IK,7,10,"ul",4),a.qZA(),a.YNc(8,SK,1,0,"div",5)),2&t&&(a.xp6(2),a.Q6J("ngClass",a.VKq(4,AK,i.disabled)),a.xp6(2),a.Oqu(i.localizedPeriod),a.xp6(3),a.Q6J("ngIf",i.isOpened),a.xp6(1),a.Q6J("ngIf",i.isOpened))},directives:[Ai,jn,LH],styles:[".period[_ngcontent-%COMP%]{position:relative}.period__btn--default[_ngcontent-%COMP%]{padding:0;border:none;background-color:transparent;cursor:pointer;text-align:left;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-tap-highlight-color:transparent;outline:0}.period-control[_ngcontent-%COMP%]{position:relative}.period-control__button[_ngcontent-%COMP%]{position:relative;width:60px;font-size:1rem;color:inherit;text-align:center}.period-control__button[_ngcontent-%COMP%]:not(.period-control__button--disabled):focus:after{content:'';position:absolute;bottom:-8px;left:0;width:100%;height:1px;background-color:#00bfff}.period-control__arrow[_ngcontent-%COMP%]{margin-left:10px;font-size:12px;color:rgba(0,0,0,.4)}.period-selector[_ngcontent-%COMP%]{position:absolute;top:calc(50% - 50px);right:calc(-50% + -50px);max-width:135px;width:150px;padding:6px 0;margin:0;list-style:none;background-color:#f5f5f5;box-shadow:0 1px 3px 0 rgba(0,0,0,.2),0 1px 1px 0 rgba(0,0,0,.14),0 2px 1px -1px rgba(0,0,0,.12);z-index:201}.period-selector__button[_ngcontent-%COMP%]{width:100%;height:48px;padding:0 16px;line-height:48px}.period-selector__button--active[_ngcontent-%COMP%]{color:#00bfff}.period-selector__button[_ngcontent-%COMP%]:focus{background-color:#eee}.overlay[_ngcontent-%COMP%]{position:fixed;width:100%;height:100%;top:0;left:0;background-color:transparent;z-index:200}"],data:{animation:[vC("scaleInOut",[sp(":enter",[As({transform:"scale(0)",opacity:0}),id(200,As({transform:"scale(1)",opacity:1}))]),sp(":leave",[id(200,As({transform:"scale(0)",opacity:0}))])])]},changeDetection:0}),Re([(0,a.IIB)()],n.prototype,"isOpened",void 0),Re([(0,a.IIB)()],n.prototype,"disabled",void 0),Re([(0,a.IIB)()],n.prototype,"selectedPeriod",null),Re([(0,a.r_U)()],n.prototype,"periodSelected",void 0),n=Re([lu(0,(0,a.tBr)(po))],n),n})(),fN=(()=>{let n=class{constructor(t){this.locale=t}transform(t,i,r=!1){if(null==t||""===t)return"";switch(i){case Ms.HOUR:return this.formatTime("hour",t,0===t||r?"HH":"H");case Ms.MINUTE:return this.formatTime("minute",t,"mm");default:throw new Error(`There is no Time Unit with type ${i}`)}}formatTime(t,i,r){try{return wa.ou.fromObject({[t]:+i}).setLocale(this.locale).toFormat(r)}catch(s){throw new Error(`Cannot format provided time - ${i} to locale - ${this.locale}`)}}};return n.\u0275fac=function(t){return new(t||n)(a.Y36(po,16))},n.\u0275pipe=a.Yjl({name:"timeLocalizer",type:n,pure:!0}),n=Re([lu(0,(0,a.tBr)(po))],n),n})(),nQ=(()=>{let n=class{transform(t,i,r){return null!=t&&!r&&t===i}};return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=a.Yjl({name:"activeHour",type:n,pure:!0}),n})(),iQ=(()=>{let n=class{transform(t,i,r,s){return null!=t&&!s&&i===t&&t%(r||5)==0}};return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=a.Yjl({name:"activeMinute",type:n,pure:!0}),n})(),rQ=(()=>{let n=class{};return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["ngx-material-timepicker-content"]],inputs:{appendToInput:"appendToInput",inputElement:"inputElement"},ngContentSelectors:kH,decls:5,vars:2,consts:[[3,"ngxAppendToInput",4,"ngIf","ngIfElse"],["timepickerModal",""],["timepickerOutlet",""],[3,"ngxAppendToInput"],[4,"ngTemplateOutlet"]],template:function(t,i){if(1&t&&(a.F$t(),a.YNc(0,xK,2,2,"div",0),a.YNc(1,RK,1,1,"ng-template",null,1,a.W1O),a.YNc(3,OK,1,0,"ng-template",null,2,a.W1O)),2&t){const r=a.MAs(2);a.Q6J("ngIf",i.appendToInput)("ngIfElse",r)}},directives:function(){return[jn,sQ,_o]},encapsulation:2}),Re([(0,a.IIB)()],n.prototype,"appendToInput",void 0),Re([(0,a.IIB)()],n.prototype,"inputElement",void 0),n})(),sQ=(()=>{let n=class{constructor(t,i){this.renderer=i,this.element=t.nativeElement}get inputCords(){return this.inputElement.getBoundingClientRect()}get direction(){const t=this.element.offsetHeight,{bottom:i,top:r}=this._inputCords,s=(window&&window.innerHeight)-i<t;return s&&r>t?"top":s&&r<t?"center":"bottom"}ngAfterViewInit(){this._inputCords=this.inputCords,this._direction=this.direction,this.append()}changePosition(){const{bottom:t,top:i}=this.inputCords,r=this.defineElementYByDirection(i,t);this.setStyle("top",`${r}px`)}append(){const{left:t,bottom:i,top:r}=this._inputCords,s=this.defineElementYByDirection(r,i);this.setStyle("position","fixed"),this.setStyle("left",`${t}px`),this.setStyle("top",`${s}px`)}setStyle(t,i){this.renderer.setStyle(this.element,t,i)}defineElementYByDirection(t,i){return"top"===this._direction?t-this.element.offsetHeight:"center"===this._direction?t-this.element.offsetHeight/2:i}};return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.SBq),a.Y36(a.Qsj))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngxAppendToInput",""]],hostBindings:function(t,i){1&t&&a.NdJ("scroll",function(){return i.changePosition()},!1,a.Jf7)},inputs:{inputElement:["ngxAppendToInput","inputElement"]}}),Re([(0,a.IIB)("ngxAppendToInput")],n.prototype,"inputElement",void 0),Re([(0,a.L6J)("window:scroll")],n.prototype,"changePosition",null),n})();var VH;let wv=VH=class{static setLocale(e){return{ngModule:VH,providers:[{provide:po,useValue:e}]}}};function oQ(n,e){1&n&&(a.TgZ(0,"mat-error"),a._uU(1," Field is required "),a.qZA())}function aQ(n,e){1&n&&(a.TgZ(0,"mat-error"),a._uU(1," Field is required "),a.qZA())}function lQ(n,e){1&n&&(a.TgZ(0,"mat-error"),a._uU(1," Field is required "),a.qZA())}function cQ(n,e){1&n&&(a.TgZ(0,"mat-error"),a._uU(1," Field is required "),a.qZA())}function uQ(n,e){1&n&&(a.TgZ(0,"mat-error"),a._uU(1," Field is required "),a.qZA())}function dQ(n,e){1&n&&(a.TgZ(0,"mat-error"),a._uU(1," Field is required "),a.qZA())}function hQ(n,e){1&n&&(a.TgZ(0,"mat-error"),a._uU(1," Field is required "),a.qZA())}function fQ(n,e){1&n&&(a.TgZ(0,"mat-error"),a._uU(1," Field is required "),a.qZA())}function pQ(n,e){1&n&&(a.TgZ(0,"mat-error"),a._uU(1," Field is required "),a.qZA())}function mQ(n,e){1&n&&(a.TgZ(0,"mat-error"),a._uU(1," Field is required "),a.qZA())}function gQ(n,e){if(1&n){const t=a.EpF();a.ynx(0),a.TgZ(1,"form",11),a.NdJ("ngSubmit",function(){return a.CHM(t),a.oxw().submitTiming()}),a.TgZ(2,"div",12)(3,"h5"),a._uU(4,"Fajr"),a.qZA(),a.TgZ(5,"div",13)(6,"div",14)(7,"mat-form-field",15)(8,"mat-label"),a._uU(9,"Azan"),a.qZA(),a.TgZ(10,"input",16),a.NdJ("ngModelChange",function(r){return a.CHM(t),a.oxw().timing.first_a=r}),a.qZA(),a._UZ(11,"ngx-material-timepicker",null,17),a.YNc(13,oQ,2,0,"mat-error",18),a.qZA()(),a.TgZ(14,"div",14)(15,"mat-form-field",15)(16,"mat-label"),a._uU(17,"Jamah"),a.qZA(),a.TgZ(18,"input",19),a.NdJ("ngModelChange",function(r){return a.CHM(t),a.oxw().timing.first_j=r}),a.qZA(),a._UZ(19,"ngx-material-timepicker",null,20),a.YNc(21,aQ,2,0,"mat-error",18),a.qZA()()()(),a.TgZ(22,"div",12)(23,"h5"),a._uU(24,"Zuhr"),a.qZA(),a.TgZ(25,"div",13)(26,"div",14)(27,"mat-form-field",15)(28,"mat-label"),a._uU(29,"Azan"),a.qZA(),a.TgZ(30,"input",21),a.NdJ("ngModelChange",function(r){return a.CHM(t),a.oxw().timing.second_a=r}),a.qZA(),a._UZ(31,"ngx-material-timepicker",null,22),a.YNc(33,lQ,2,0,"mat-error",18),a.qZA()(),a.TgZ(34,"div",14)(35,"mat-form-field",15)(36,"mat-label"),a._uU(37,"Jamah"),a.qZA(),a.TgZ(38,"input",23),a.NdJ("ngModelChange",function(r){return a.CHM(t),a.oxw().timing.second_j=r}),a.qZA(),a._UZ(39,"ngx-material-timepicker",null,24),a.YNc(41,cQ,2,0,"mat-error",18),a.qZA()()()(),a.TgZ(42,"div",12)(43,"h5"),a._uU(44,"Asr"),a.qZA(),a.TgZ(45,"div",13)(46,"div",14)(47,"mat-form-field",15)(48,"mat-label"),a._uU(49,"Azan"),a.qZA(),a.TgZ(50,"input",25),a.NdJ("ngModelChange",function(r){return a.CHM(t),a.oxw().timing.third_a=r}),a.qZA(),a._UZ(51,"ngx-material-timepicker",null,26),a.YNc(53,uQ,2,0,"mat-error",18),a.qZA()(),a.TgZ(54,"div",14)(55,"mat-form-field",15)(56,"mat-label"),a._uU(57,"Jamah"),a.qZA(),a.TgZ(58,"input",27),a.NdJ("ngModelChange",function(r){return a.CHM(t),a.oxw().timing.third_j=r}),a.qZA(),a._UZ(59,"ngx-material-timepicker",null,28),a.YNc(61,dQ,2,0,"mat-error",18),a.qZA()()()(),a.TgZ(62,"div",12)(63,"h5"),a._uU(64,"Magrib"),a.qZA(),a.TgZ(65,"div",13)(66,"div",14)(67,"mat-form-field",15)(68,"mat-label"),a._uU(69,"Azan"),a.qZA(),a.TgZ(70,"input",29),a.NdJ("ngModelChange",function(r){return a.CHM(t),a.oxw().timing.fourth_a=r}),a.qZA(),a._UZ(71,"ngx-material-timepicker",null,30),a.YNc(73,hQ,2,0,"mat-error",18),a.qZA()(),a.TgZ(74,"div",14)(75,"mat-form-field",15)(76,"mat-label"),a._uU(77,"Jamah"),a.qZA(),a.TgZ(78,"input",31),a.NdJ("ngModelChange",function(r){return a.CHM(t),a.oxw().timing.fourth_j=r}),a.qZA(),a._UZ(79,"ngx-material-timepicker",null,32),a.YNc(81,fQ,2,0,"mat-error",18),a.qZA()()()(),a.TgZ(82,"div",12)(83,"h5"),a._uU(84,"Magrib"),a.qZA(),a.TgZ(85,"div",13)(86,"div",14)(87,"mat-form-field",15)(88,"mat-label"),a._uU(89,"Azan"),a.qZA(),a.TgZ(90,"input",33),a.NdJ("ngModelChange",function(r){return a.CHM(t),a.oxw().timing.fifth_a=r}),a.qZA(),a._UZ(91,"ngx-material-timepicker",null,34),a.YNc(93,pQ,2,0,"mat-error",18),a.qZA()(),a.TgZ(94,"div",14)(95,"mat-form-field",15)(96,"mat-label"),a._uU(97,"Jamah"),a.qZA(),a.TgZ(98,"input",35),a.NdJ("ngModelChange",function(r){return a.CHM(t),a.oxw().timing.fifth_j=r}),a.qZA(),a._UZ(99,"ngx-material-timepicker",null,36),a.YNc(101,mQ,2,0,"mat-error",18),a.qZA()()()(),a.TgZ(102,"button",37),a._uU(103,"Update Timing"),a.qZA()(),a.BQk()}if(2&n){const t=a.MAs(12),i=a.MAs(20),r=a.MAs(32),s=a.MAs(40),c=a.MAs(52),h=a.MAs(60),p=a.MAs(72),_=a.MAs(80),T=a.MAs(92),S=a.MAs(100),P=a.oxw();a.xp6(1),a.Q6J("formGroup",P.updateTimingForm),a.xp6(9),a.Q6J("ngxTimepicker",t)("ngModel",P.timing.first_a),a.xp6(3),a.Q6J("ngIf",P.updateTimingForm.get("first_a").invalid),a.xp6(5),a.Q6J("ngxTimepicker",i)("ngModel",P.timing.first_j),a.xp6(3),a.Q6J("ngIf",P.updateTimingForm.get("first_j").invalid),a.xp6(9),a.Q6J("ngxTimepicker",r)("ngModel",P.timing.second_a),a.xp6(3),a.Q6J("ngIf",P.updateTimingForm.get("second_a").invalid),a.xp6(5),a.Q6J("ngxTimepicker",s)("ngModel",P.timing.second_j),a.xp6(3),a.Q6J("ngIf",P.updateTimingForm.get("second_j").invalid),a.xp6(9),a.Q6J("ngxTimepicker",c)("ngModel",P.timing.third_a),a.xp6(3),a.Q6J("ngIf",P.updateTimingForm.get("third_a").invalid),a.xp6(5),a.Q6J("ngxTimepicker",h)("ngModel",P.timing.third_j),a.xp6(3),a.Q6J("ngIf",P.updateTimingForm.get("third_j").invalid),a.xp6(9),a.Q6J("ngxTimepicker",p)("ngModel",P.timing.fourth_a),a.xp6(3),a.Q6J("ngIf",P.updateTimingForm.get("fourth_a").invalid),a.xp6(5),a.Q6J("ngxTimepicker",_)("ngModel",P.timing.fourth_j),a.xp6(3),a.Q6J("ngIf",P.updateTimingForm.get("fourth_j").invalid),a.xp6(9),a.Q6J("ngxTimepicker",T)("ngModel",P.timing.fifth_a),a.xp6(3),a.Q6J("ngIf",P.updateTimingForm.get("fifth_a").invalid),a.xp6(5),a.Q6J("ngxTimepicker",S)("ngModel",P.timing.fifth_j),a.xp6(3),a.Q6J("ngIf",P.updateTimingForm.get("fifth_j").invalid)}}function _Q(n,e){1&n&&(a.TgZ(0,"div",38),a._uU(1,"Loading..."),a.qZA())}wv.\u0275fac=function(e){return new(e||wv)},wv.\u0275mod=a.oAB({type:wv}),wv.\u0275inj=a.cJS({imports:[[to,WZ]]});let yQ=(()=>{class n{constructor(t,i,r){this.fb=t,this.userService=i,this.router=r,this.updateTimingForm=SC}ngOnInit(){this.updateTimingForm=this.fb.group({first_a:["",au.required],first_j:["",au.required],second_a:["",au.required],second_j:["",au.required],third_a:["",au.required],third_j:["",au.required],fourth_a:["",au.required],fourth_j:["",au.required],fifth_a:["",au.required],fifth_j:["",au.required]}),this.getTiming()}getTiming(){this.userService.getTiming().subscribe(t=>{this.timing=t.map(i=>Object.assign({id:i.payload.doc.id},i.payload.doc.data())),this.timing=this.timing[0],console.log(this.timing)})}submitTiming(){this.updateTimingForm.value.id=this.timing.id,console.log(this.updateTimingForm.value),this.userService.updateTiming(this.updateTimingForm.value),this.router.navigate(["home"])}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(YZ),a.Y36(Wy),a.Y36(Kr))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-update-timing"]],decls:14,vars:2,consts:[[1,"appWrapper"],[1,"appContainer"],[1,"pageHeader"],[1,"headerLeft"],["routerLink","../home"],["width","9","height","16","viewBox","0 0 9 16","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M8 15L1 8L8 1","stroke","#1C1C1C","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],[1,"pageTitle"],[1,"pb-30","px-25"],[4,"ngIf","ngIfElse"],["elseBock",""],[3,"formGroup","ngSubmit"],[1,"updateT"],[1,"row"],[1,"col-md-6"],["appearance","fill",1,"example-full-width"],["matInput","","formControlName","first_a",3,"ngxTimepicker","ngModel","ngModelChange"],["picker_first_a",""],[4,"ngIf"],["matInput","","formControlName","first_j",3,"ngxTimepicker","ngModel","ngModelChange"],["picker_first_j",""],["matInput","","formControlName","second_a",3,"ngxTimepicker","ngModel","ngModelChange"],["picker_second_a",""],["matInput","","formControlName","second_j",3,"ngxTimepicker","ngModel","ngModelChange"],["picker_second_j",""],["matInput","","formControlName","third_a",3,"ngxTimepicker","ngModel","ngModelChange"],["picker_third_a",""],["matInput","","formControlName","third_j",3,"ngxTimepicker","ngModel","ngModelChange"],["picker_third_j",""],["matInput","","formControlName","fourth_a",3,"ngxTimepicker","ngModel","ngModelChange"],["picker_fourth_a",""],["matInput","","formControlName","fourth_j",3,"ngxTimepicker","ngModel","ngModelChange"],["picker_fourth_j",""],["matInput","","formControlName","fifth_a",3,"ngxTimepicker","ngModel","ngModelChange"],["picker_fifth_a",""],["matInput","","formControlName","fifth_j",3,"ngxTimepicker","ngModel","ngModelChange"],["picker_fifth_j",""],["mat-raised-button","","color","primary"],[1,"loading"]],template:function(t,i){if(1&t&&(a.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"a",4),a.O4$(),a.TgZ(5,"svg",5),a._UZ(6,"path",6),a.qZA()()(),a.kcU(),a.TgZ(7,"div",7)(8,"h4"),a._uU(9,"Update Timing"),a.qZA()()(),a.TgZ(10,"div",8),a.YNc(11,gQ,104,31,"ng-container",9),a.qZA()()(),a.YNc(12,_Q,2,0,"ng-template",null,10,a.W1O)),2&t){const r=a.MAs(13);a.xp6(11),a.Q6J("ngIf",i.timing)("ngIfElse",r)}},directives:[Hs,jn,fU,QB,MC,R7,xO,V7,pv,HS,TO,jo,NH,E7,EB],styles:[""]}),n})(),vQ=(()=>{class n{constructor(t,i,r){this.authService=t,this.router=i,this.userService=r}canActivate(t,i){return this.authService.isLoggedIn&&1!=this.userService.loggedInUser().isAdmin&&this.router.navigate(["user-notes"]),!0}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(II),a.LFG(Kr),a.LFG(Wy))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function bQ(n,e){1&n&&a._UZ(0,"th",19)}function wQ(n,e){if(1&n&&(a.TgZ(0,"td",20),a._UZ(1,"img",21),a.qZA()),2&n){const t=e.$implicit;a.xp6(1),a.Q6J("src",t.photoURL,a.LSH)}}function CQ(n,e){1&n&&(a.TgZ(0,"th",19),a._uU(1,"Name"),a.qZA())}function EQ(n,e){if(1&n&&(a.TgZ(0,"td",20),a._uU(1),a.qZA()),2&n){const t=e.$implicit;a.xp6(1),a.hij(" ",t.displayName," ")}}function TQ(n,e){1&n&&(a.TgZ(0,"th",19),a._uU(1,"Email"),a.qZA())}function DQ(n,e){if(1&n&&(a.TgZ(0,"td",20),a._uU(1),a.qZA()),2&n){const t=e.$implicit;a.xp6(1),a.hij(" ",t.email," ")}}function IQ(n,e){1&n&&(a.TgZ(0,"th",19),a._uU(1,"Is Verified"),a.qZA())}function SQ(n,e){if(1&n&&(a.TgZ(0,"td",20),a._uU(1),a.qZA()),2&n){const t=e.$implicit;a.xp6(1),a.hij(" ",t.isVerified," ")}}function AQ(n,e){1&n&&a._UZ(0,"th",19)}function MQ(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"td",20)(1,"button",22),a.NdJ("click",function(){const s=a.CHM(t).$implicit;return a.oxw().activeDeactiveUser(s.id,1)}),a._uU(2,"Activate"),a.qZA(),a.TgZ(3,"button",23),a.NdJ("click",function(){const s=a.CHM(t).$implicit;return a.oxw().activeDeactiveUser(s.id,0)}),a._uU(4,"Deactivate"),a.qZA()()}}function xQ(n,e){1&n&&a._UZ(0,"tr",24)}function kQ(n,e){1&n&&a._UZ(0,"tr",25)}let RQ=(()=>{class n{constructor(t){this.userService=t,this.users=[],this.displayedColumns=["photoURL","displayName","email","isVerified","Action"]}ngOnInit(){this.getAllUsers()}getAllUsers(){this.userService.getUsers().subscribe(t=>{this.users=t.map(i=>Object.assign({id:i.payload.doc.id},i.payload.doc.data())),console.log(this.users,"this.users")})}activeDeactiveUser(t,i){this.userService.activeDeactiveUser(t,i)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(Wy))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-users"]],decls:29,vars:3,consts:[[1,"appWrapper"],[1,"appContainer"],[1,"pageHeader"],[1,"headerLeft"],["routerLink","../home"],["width","9","height","16","viewBox","0 0 9 16","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M8 15L1 8L8 1","stroke","#1C1C1C","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],[1,"pageTitle"],[1,"pb-30","px-25"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","photoURL"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","displayName"],["matColumnDef","email"],["matColumnDef","isVerified"],["matColumnDef","Action"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],[3,"src"],["mat-raised-button","","color","primary",1,"me-3",3,"click"],["mat-raised-button","","color","warn",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(t,i){1&t&&(a.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"a",4),a.O4$(),a.TgZ(5,"svg",5),a._UZ(6,"path",6),a.qZA()()(),a.kcU(),a.TgZ(7,"div",7)(8,"h4"),a._uU(9,"Users"),a.qZA()()(),a.TgZ(10,"div",8)(11,"table",9),a.ynx(12,10),a.YNc(13,bQ,1,0,"th",11),a.YNc(14,wQ,2,1,"td",12),a.BQk(),a.ynx(15,13),a.YNc(16,CQ,2,0,"th",11),a.YNc(17,EQ,2,1,"td",12),a.BQk(),a.ynx(18,14),a.YNc(19,TQ,2,0,"th",11),a.YNc(20,DQ,2,1,"td",12),a.BQk(),a.ynx(21,15),a.YNc(22,IQ,2,0,"th",11),a.YNc(23,SQ,2,1,"td",12),a.BQk(),a.ynx(24,16),a.YNc(25,AQ,1,0,"th",11),a.YNc(26,MQ,5,0,"td",12),a.BQk(),a.YNc(27,xQ,1,0,"tr",17),a.YNc(28,kQ,1,0,"tr",18),a.qZA()()()()),2&t&&(a.xp6(11),a.Q6J("dataSource",i.users),a.xp6(16),a.Q6J("matHeaderRowDef",i.displayedColumns),a.xp6(1),a.Q6J("matRowDefColumns",i.displayedColumns))},directives:[Hs,TH,nN,tN,iN,eN,rN,EB,DH,SH,IH,AH],styles:["table[_ngcontent-%COMP%]{width:100%}td.mat-column-star[_ngcontent-%COMP%]{width:20px;padding-right:8px!important}.mat-row[_ngcontent-%COMP%]:hover{background-color:#e9f3ff}.mat-row[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#3e75ff;text-decoration:none}.mat-row[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.mat-form-field[_ngcontent-%COMP%]{font-size:14px;width:100%}.mat-icon[_ngcontent-%COMP%]{color:#3e75ff}@media screen and (max-width: 960px){.mat-elevation-z8[_ngcontent-%COMP%]{background:transparent;box-shadow:none}.mat-header-row[_ngcontent-%COMP%]{display:none}tbody[_ngcontent-%COMP%]{display:block;width:100%}.mat-table[_ngcontent-%COMP%]{background:transparent}.mat-table[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{box-sizing:border-box}.mat-table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]{display:block;overflow:hidden;height:auto;position:relative;clear:both;box-shadow:0 2px 1px -1px #0003,0 1px 1px #00000024,0 1px 3px #0000001f;background-color:#fff;border-radius:3px}.mat-table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%] + .mat-row[_ngcontent-%COMP%]{margin-top:24px}.mat-table[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]{display:block;width:100%;padding:0 16px;margin:16px 0;border:0 none}.mat-table[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]:first-child{padding:0 48px 0 16px}.mat-table[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]:first-child   a[_ngcontent-%COMP%]{font-size:20px;color:inherit}.mat-table[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]:first-child:before{display:none}.mat-table[_ngcontent-%COMP%]   .mat-cell.m-card-sub-title[_ngcontent-%COMP%]{margin-top:-8px;padding:0 48px 0 16px;color:#0000008a}.mat-table[_ngcontent-%COMP%]   .has_label_on_mobile[_ngcontent-%COMP%]:before{content:attr(data-label);display:inline;font-weight:400}.mat-table[_ngcontent-%COMP%]   .mat-column-star[_ngcontent-%COMP%]{width:auto;padding:8px 0 0!important;margin:0;position:absolute;top:0;right:0}.mat-table[_ngcontent-%COMP%]   .mat-column-star[_ngcontent-%COMP%]:before{display:none}.mat-paginator[_ngcontent-%COMP%]{margin-top:24px}}"]}),n})(),OQ=(()=>{class n{constructor(t){this.router=t}ngOnInit(){setTimeout(()=>{this.router.navigate(["home"])},3e3)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(Kr))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-splash"]],decls:3,vars:0,consts:[[1,"splashScreen"],[1,"splashScreenInner"],["src","assets/images/logo-light.png"]],template:function(t,i){1&t&&(a.TgZ(0,"div",0)(1,"div",1),a._UZ(2,"img",2),a.qZA()())},styles:[""]}),n})();function NQ(n,e){1&n&&(a.TgZ(0,"li")(1,"a",16),a.O4$(),a.TgZ(2,"svg",17),a._UZ(3,"path",18),a.qZA(),a.kcU(),a.TgZ(4,"span"),a._uU(5,"Update Time"),a.qZA()()())}function PQ(n,e){1&n&&(a.TgZ(0,"li")(1,"a",19),a.O4$(),a.TgZ(2,"svg",20),a._UZ(3,"path",21)(4,"path",22),a.qZA(),a.kcU(),a.TgZ(5,"span"),a._uU(6,"Users"),a.qZA()()())}function FQ(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"ul")(1,"li")(2,"a",23),a.O4$(),a.TgZ(3,"svg",24)(4,"g",25),a._UZ(5,"path",26),a.qZA(),a.TgZ(6,"defs")(7,"clipPath",27),a._UZ(8,"rect",28),a.qZA()()(),a.kcU(),a.TgZ(9,"span",29),a.NdJ("click",function(){return a.CHM(t),a.oxw().logout()}),a._uU(10,"Logout"),a.qZA()()()()}}function LQ(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"div",30)(1,"button",31),a.NdJ("click",function(){return a.CHM(t),a.oxw().signIn()}),a.O4$(),a.TgZ(2,"svg",32),a._UZ(3,"path",33),a.qZA(),a.kcU(),a.TgZ(4,"span"),a._uU(5,"Login"),a.qZA()()()}}const VQ=[{path:"",component:OQ},{path:"home",component:jY},{path:"my-account",component:(()=>{class n{constructor(t,i){this.authService=t,this.userService=i,this.userLogin=!1}ngOnInit(){this.loggedInUser(),this.isLoggedIn()}logout(){this.authService.SignOut(),this.isLoggedIn()}signIn(){this.authService.GoogleAuth()}isLoggedIn(){this.userLogin=this.authService.isLoggedIn,console.log(this.authService.isLoggedIn,"this.userLogin")}loggedInUser(){this.loginUserData=this.userService.loggedInUser()}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(II),a.Y36(Wy))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-my-account"]],decls:30,vars:4,consts:[[1,"appWrapper"],[1,"appContainer"],[1,"page-with-footer"],[1,"pt-50"],[1,"myAccount","px-25"],[1,"myAccountMenulist"],["routerLink","../home"],["width","19","height","21","viewBox","0 0 19 21","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M1 7.61111L9.5 1L18 7.61111V18C18 18.501 17.801 18.9814 17.4468 19.3356C17.0925 19.6899 16.6121 19.8889 16.1111 19.8889H2.88889C2.38792 19.8889 1.90748 19.6899 1.55324 19.3356C1.19901 18.9814 1 18.501 1 18V7.61111Z","stroke-width","1.5","stroke-linecap","round","stroke-linejoin","round","stroke","#4F4F4F"],["d","M6.66699 19.8888V10.4443H12.3337V19.8888","stroke-width","1.5","stroke-linecap","round","stroke-linejoin","round","stroke","#4F4F4F"],[4,"ngIf"],[1,"myAccountMenulist","pl-30","pb-30"],[1,"mya_seprateMenu","pr-30"],["class","withoutLoginbtns",4,"ngIf"],[1,"footerLine"],[1,"heart"],["routerLink","../update-timing"],["fill","#4F4F4F","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 64 64"],["d","M 32 6 C 17.641 6 6 17.641 6 32 C 6 46.359 17.641 58 32 58 C 46.359 58 58 46.359 58 32 C 58 17.641 46.359 6 32 6 z M 32 10 C 44.15 10 54 19.85 54 32 C 54 44.15 44.15 54 32 54 C 19.85 54 10 44.15 10 32 C 10 19.85 19.85 10 32 10 z M 30.5 14 L 31 18 L 33 18 L 33.5 14 L 30.5 14 z M 44.021484 18.564453 L 33.25 28.203125 A 4 4 0 0 0 32 28 A 4 4 0 0 0 32 36 A 4 4 0 0 0 32.722656 35.931641 L 40.816406 42.638672 L 42.640625 40.816406 L 35.931641 32.720703 A 4 4 0 0 0 35.796875 30.75 L 45.435547 19.978516 L 44.021484 18.564453 z M 14 30.5 L 14 33.5 L 18 33 L 18 31 L 14 30.5 z M 50 30.5 L 46 31 L 46 33 L 50 33.5 L 50 30.5 z M 31 46 L 30.5 50 L 33.5 50 L 33 46 L 31 46 z"],["routerLink","../users"],["width","18","height","20","viewBox","0 0 18 20","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M17 19V17C17 15.9391 16.5786 14.9217 15.8284 14.1716C15.0783 13.4214 14.0609 13 13 13H5C3.93913 13 2.92172 13.4214 2.17157 14.1716C1.42143 14.9217 1 15.9391 1 17V19","stroke-width","1.5","stroke-linecap","round","stroke-linejoin","round","stroke","#4F4F4F"],["d","M9 9C11.2091 9 13 7.20914 13 5C13 2.79086 11.2091 1 9 1C6.79086 1 5 2.79086 5 5C5 7.20914 6.79086 9 9 9Z","stroke-width","1.5","stroke-linecap","round","stroke-linejoin","round","stroke","#4F4F4F"],[2,"cursor","pointer"],["width","24","height","24","viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg"],["clip-path","url(#clip0)"],["d","M16.9688 18.375V20.25C16.9688 22.3178 15.2866 24 13.2188 24H3.79688C1.72906 24 0.046875 22.3178 0.046875 20.25V3.75C0.046875 1.68219 1.72906 0 3.79688 0H13.2188C15.2866 0 16.9688 1.68219 16.9688 3.75V5.625C16.9688 6.14282 16.5491 6.5625 16.0312 6.5625C15.5134 6.5625 15.0938 6.14282 15.0938 5.625V3.75C15.0938 2.71619 14.2526 1.875 13.2188 1.875H3.79688C2.76306 1.875 1.92188 2.71619 1.92188 3.75V20.25C1.92188 21.2838 2.76306 22.125 3.79688 22.125H13.2188C14.2526 22.125 15.0938 21.2838 15.0938 20.25V18.375C15.0938 17.8572 15.5134 17.4375 16.0312 17.4375C16.5491 17.4375 16.9688 17.8572 16.9688 18.375ZM23.3604 10.3896L21.2611 8.29028C20.8949 7.92407 20.3013 7.92407 19.9352 8.29028C19.569 8.65631 19.569 9.24994 19.9352 9.61597L21.4285 11.1094H10.1719C9.65405 11.1094 9.23438 11.5291 9.23438 12.0469C9.23438 12.5647 9.65405 12.9844 10.1719 12.9844H21.4285L19.9352 14.4778C19.569 14.8438 19.569 15.4374 19.9352 15.8035C20.1183 15.9866 20.3582 16.0781 20.5981 16.0781C20.8381 16.0781 21.078 15.9866 21.2611 15.8035L23.3604 13.7042C24.2743 12.7903 24.2743 11.3035 23.3604 10.3896Z","fill","#4F4F4F"],["id","clip0"],["width","24","height","24","fill","white"],[3,"click"],[1,"withoutLoginbtns"],[1,"btn",3,"click"],["width","26","height","27","viewBox","0 0 26 27","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M13.0892 26.1782C20.6425 26.1782 25.66 20.8762 25.66 13.3928C25.66 12.5359 25.571 11.8744 25.4471 11.2147H13.0909V15.7139H20.5203C20.2167 17.6249 18.2707 21.3562 13.0909 21.3562C8.62838 21.3562 4.98435 17.6598 4.98435 13.0891C4.98435 8.51839 8.62663 4.82028 13.0909 4.82028C15.6442 4.82028 17.3405 5.90929 18.3056 6.83775L21.8589 3.4276C19.5709 1.28622 16.625 0 13.0892 0C5.85697 0 0 5.85694 0 13.0891C0 20.3213 5.85697 26.1782 13.0892 26.1782Z","fill","#DC4E43"]],template:function(t,i){1&t&&(a.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h3"),a._uU(6,"My Account"),a.qZA(),a.TgZ(7,"div",5)(8,"ul")(9,"li")(10,"a",6),a.O4$(),a.TgZ(11,"svg",7),a._UZ(12,"path",8)(13,"path",9),a.qZA(),a.kcU(),a.TgZ(14,"span"),a._uU(15,"Home"),a.qZA()()(),a.YNc(16,NQ,6,0,"li",10),a.YNc(17,PQ,7,0,"li",10),a.qZA()()()(),a.TgZ(18,"div",11)(19,"div",12),a.YNc(20,FQ,11,0,"ul",10),a.YNc(21,LQ,6,0,"div",13),a.qZA()()(),a.TgZ(22,"div",14)(23,"p"),a._uU(24,"Designed with "),a.TgZ(25,"span",15),a._uU(26,"\u2764"),a.qZA(),a._uU(27," By "),a.TgZ(28,"span"),a._uU(29,"Zulqarnain"),a.qZA()()()()()),2&t&&(a.xp6(16),a.Q6J("ngIf",i.userLogin&&((null==i.loginUserData?null:i.loginUserData.isVerified)||(null==i.loginUserData?null:i.loginUserData.isAdmin))),a.xp6(1),a.Q6J("ngIf",i.userLogin&&(null==i.loginUserData?null:i.loginUserData.isAdmin)),a.xp6(3),a.Q6J("ngIf",i.userLogin),a.xp6(1),a.Q6J("ngIf",!i.userLogin))},directives:[Hs,jn],styles:[""]}),n})()},{path:"update-timing",component:yQ,canActivate:[oF]},{path:"users",component:RQ,canActivate:[vQ]}];let BQ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[zE.forRoot(VQ)],zE]}),n})(),UQ=(()=>{class n{constructor(){this.title="ng-firebase"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(t,i){1&t&&a._UZ(0,"router-outlet")},directives:[Bp],styles:[""]}),n})(),HQ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n,bootstrap:[UQ]}),n.\u0275inj=a.cJS({providers:[II,oF,$3],imports:[[so,Bn.hO.initializeApp(uV_firebase),Uh,G3,OG,$q,BQ,DW,kU,wv,$W,KW,XW,B7,t9,Q9,sY,RY]]}),n})();(0,a.G48)(),_r().bootstrapModule(HQ).catch(n=>console.error(n))},5867:(Rt,He,$)=>{$.d(He,{C6:()=>a.getApps,Mq:()=>a.getApp});var a=$(9681);(0,a.registerVersion)("firebase","9.6.11","app")},127:(Rt,He,$)=>{$.d(He,{Z:()=>a.Z});var a=$(3942);a.Z.registerVersion("firebase","9.6.11","app-compat")},5881:(Rt,He,$)=>{$.r(He);var a=$(5861),J=$(3942),U=$(573),ye=$(2090),fe=($(9681),$(1877),$(4859));function Te(){return window}function ne(){return(ne=(0,a.Z)(function*(z,K,te){var Ee;const{BuildInfo:tt}=Te();(0,U.ap)(K.sessionId,"AuthEvent did not contain a session ID");const lt=yield Be(K.sessionId),Bt={};return(0,U.aq)()?Bt.ibi=tt.packageName:(0,U.ar)()?Bt.apn=tt.packageName:(0,U.as)(z,"operation-not-supported-in-this-environment"),tt.displayName&&(Bt.appDisplayName=tt.displayName),Bt.sessionId=lt,(0,U.at)(z,te,K.type,void 0,null!==(Ee=K.eventId)&&void 0!==Ee?Ee:void 0,Bt)})).apply(this,arguments)}function st(){return(st=(0,a.Z)(function*(z){const{BuildInfo:K}=Te(),te={};(0,U.aq)()?te.iosBundleId=K.packageName:(0,U.ar)()?te.androidPackageName=K.packageName:(0,U.as)(z,"operation-not-supported-in-this-environment"),yield(0,U.au)(z,te)})).apply(this,arguments)}function et(){return(et=(0,a.Z)(function*(z,K,te){const{cordova:Ee}=Te();let tt=()=>{};try{yield new Promise((lt,Bt)=>{let bt=null;function Gt(){var yn;lt();const tr=null===(yn=Ee.plugins.browsertab)||void 0===yn?void 0:yn.close;"function"==typeof tr&&tr(),"function"==typeof(null==te?void 0:te.close)&&te.close()}function li(){bt||(bt=window.setTimeout(()=>{Bt((0,U.av)(z,"redirect-cancelled-by-user"))},2e3))}function Bi(){"visible"===(null==document?void 0:document.visibilityState)&&li()}K.addPassiveListener(Gt),document.addEventListener("resume",li,!1),(0,U.ar)()&&document.addEventListener("visibilitychange",Bi,!1),tt=()=>{K.removePassiveListener(Gt),document.removeEventListener("resume",li,!1),document.removeEventListener("visibilitychange",Bi,!1),bt&&window.clearTimeout(bt)}})}finally{tt()}})).apply(this,arguments)}function Be(z){return gt.apply(this,arguments)}function gt(){return(gt=(0,a.Z)(function*(z){const K=Je(z),te=yield crypto.subtle.digest("SHA-256",K);return Array.from(new Uint8Array(te)).map(tt=>tt.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Je(z){if((0,U.ap)(/[0-9a-zA-Z]+/.test(z),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(z);const K=new ArrayBuffer(z.length),te=new Uint8Array(K);for(let Ee=0;Ee<z.length;Ee++)te[Ee]=z.charCodeAt(Ee);return te}class ce extends U.az{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(K=>{this.resolveInialized=K})}addPassiveListener(K){this.passiveListeners.add(K)}removePassiveListener(K){this.passiveListeners.delete(K)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(K){return this.resolveInialized(),this.passiveListeners.forEach(te=>te(K)),super.onEvent(K)}initialized(){var K=this;return(0,a.Z)(function*(){yield K.initPromise})()}}function me(z){return ft.apply(this,arguments)}function ft(){return(ft=(0,a.Z)(function*(z){const K=yield De()._get(Ae(z));return K&&(yield De()._remove(Ae(z))),K})).apply(this,arguments)}function Se(){const z=[],K="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let te=0;te<20;te++){const Ee=Math.floor(Math.random()*K.length);z.push(K.charAt(Ee))}return z.join("")}function De(){return(0,U.ax)(U.b)}function Ae(z){return(0,U.ay)("authEvent",z.config.apiKey,z.name)}function Vt(z){if(!(null==z?void 0:z.includes("?")))return{};const[K,...te]=z.split("?");return(0,ye.zd)(te.join("?"))}function St(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,U.av)("no-auth-event")}}function _n(){var z;return(null===(z=null==self?void 0:self.location)||void 0===z?void 0:z.protocol)||null}function Jn(z=(0,ye.z$)()){return!("file:"!==_n()&&"ionic:"!==_n()||!z.toLowerCase().match(/iphone|ipad|ipod|android/))}function es(){try{const z=self.localStorage,K=U.aG();if(z)return z.setItem(K,"1"),z.removeItem(K),!function Vr(z=(0,ye.z$)()){return function Zt(){return(0,ye.w1)()&&11===(null==document?void 0:document.documentMode)}()||function _i(z=(0,ye.z$)()){return/Edge\/\d+/.test(z)}(z)}()||(0,ye.hl)()}catch(z){return zi()&&(0,ye.hl)()}return!1}function zi(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Xn(){return(function Tn(){return"http:"===_n()||"https:"===_n()}()||(0,ye.ru)()||Jn())&&!function Si(){return(0,ye.b$)()||(0,ye.UG)()}()&&es()&&!zi()}function xr(){return Jn()&&"undefined"!=typeof document}function hr(){return(hr=(0,a.Z)(function*(){return!!xr()&&new Promise(z=>{const K=setTimeout(()=>{z(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(K),z(!0)})})})).apply(this,arguments)}const xn={LOCAL:"local",NONE:"none",SESSION:"session"},ei=U.aw,Ei="persistence";function zn(z){return Vn.apply(this,arguments)}function Vn(){return(Vn=(0,a.Z)(function*(z){yield z._initializationPromise;const K=en(),te=U.ay(Ei,z.config.apiKey,z.name);K&&K.setItem(te,z._getPersistence())})).apply(this,arguments)}function en(){var z;try{return(null===(z=function yi(){return"undefined"!=typeof window?window:null}())||void 0===z?void 0:z.sessionStorage)||null}catch(K){return null}}const Dt=U.aw;class vt{constructor(){this.browserResolver=U.ax(U.k),this.cordovaResolver=U.ax(class fi{constructor(){this._redirectPersistence=U.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=U.aA}_initialize(K){var te=this;return(0,a.Z)(function*(){const Ee=K._key();let tt=te.eventManagers.get(Ee);return tt||(tt=new ce(K),te.eventManagers.set(Ee,tt),te.attachCallbackListeners(K,tt)),tt})()}_openPopup(K){(0,U.as)(K,"operation-not-supported-in-this-environment")}_openRedirect(K,te,Ee,tt){var lt=this;return(0,a.Z)(function*(){!function Oe(z){var K,te,Ee,tt,lt,Bt,bt,Gt,li,Bi;const yn=Te();(0,U.aw)("function"==typeof(null===(K=null==yn?void 0:yn.universalLinks)||void 0===K?void 0:K.subscribe),z,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,U.aw)(void 0!==(null===(te=null==yn?void 0:yn.BuildInfo)||void 0===te?void 0:te.packageName),z,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,U.aw)("function"==typeof(null===(lt=null===(tt=null===(Ee=null==yn?void 0:yn.cordova)||void 0===Ee?void 0:Ee.plugins)||void 0===tt?void 0:tt.browsertab)||void 0===lt?void 0:lt.openUrl),z,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,U.aw)("function"==typeof(null===(Gt=null===(bt=null===(Bt=null==yn?void 0:yn.cordova)||void 0===Bt?void 0:Bt.plugins)||void 0===bt?void 0:bt.browsertab)||void 0===Gt?void 0:Gt.isAvailable),z,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,U.aw)("function"==typeof(null===(Bi=null===(li=null==yn?void 0:yn.cordova)||void 0===li?void 0:li.InAppBrowser)||void 0===Bi?void 0:Bi.open),z,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(K);const Bt=yield lt._initialize(K);yield Bt.initialized(),Bt.resetRedirect(),(0,U.aB)(),yield lt._originValidation(K);const bt=function Ne(z,K,te=null){return{type:K,eventId:te,urlResponse:null,sessionId:Se(),postBody:null,tenantId:z.tenantId,error:(0,U.av)(z,"no-auth-event")}}(K,Ee,tt);yield function rt(z,K){return De()._set(Ae(z),K)}(K,bt);const Gt=yield function re(z,K,te){return ne.apply(this,arguments)}(K,bt,te),li=yield function Ge(z){const{cordova:K}=Te();return new Promise(te=>{K.plugins.browsertab.isAvailable(Ee=>{let tt=null;Ee?K.plugins.browsertab.openUrl(z):tt=K.InAppBrowser.open(z,(0,U.ao)()?"_blank":"_system","location=yes"),te(tt)})})}(Gt);return function Qe(z,K,te){return et.apply(this,arguments)}(K,Bt,li)})()}_isIframeWebStorageSupported(K,te){throw new Error("Method not implemented.")}_originValidation(K){const te=K._key();return this.originValidationPromises[te]||(this.originValidationPromises[te]=function _e(z){return st.apply(this,arguments)}(K)),this.originValidationPromises[te]}attachCallbackListeners(K,te){const{universalLinks:Ee,handleOpenURL:tt,BuildInfo:lt}=Te(),Bt=setTimeout((0,a.Z)(function*(){yield me(K),te.onEvent(St())}),500),bt=function(){var Bi=(0,a.Z)(function*(yn){clearTimeout(Bt);const tr=yield me(K);let ps=null;tr&&(null==yn?void 0:yn.url)&&(ps=function ue(z,K){var te,Ee;const tt=function we(z){const K=Vt(z),te=K.link?decodeURIComponent(K.link):void 0,Ee=Vt(te).link,tt=K.deep_link_id?decodeURIComponent(K.deep_link_id):void 0;return Vt(tt).link||tt||Ee||te||z}(K);if(tt.includes("/__/auth/callback")){const lt=Vt(tt),Bt=lt.firebaseError?function Ye(z){try{return JSON.parse(z)}catch(K){return null}}(decodeURIComponent(lt.firebaseError)):null,bt=null===(Ee=null===(te=null==Bt?void 0:Bt.code)||void 0===te?void 0:te.split("auth/"))||void 0===Ee?void 0:Ee[1],Gt=bt?(0,U.av)(bt):null;return Gt?{type:z.type,eventId:z.eventId,tenantId:z.tenantId,error:Gt,urlResponse:null,sessionId:null,postBody:null}:{type:z.type,eventId:z.eventId,tenantId:z.tenantId,sessionId:z.sessionId,urlResponse:tt,postBody:null}}return null}(tr,yn.url)),te.onEvent(ps||St())});return function(tr){return Bi.apply(this,arguments)}}();void 0!==Ee&&"function"==typeof Ee.subscribe&&Ee.subscribe(null,bt);const Gt=tt,li=`${lt.packageName.toLowerCase()}://`;Te().handleOpenURL=function(){var Bi=(0,a.Z)(function*(yn){if(yn.toLowerCase().startsWith(li)&&bt({url:yn}),"function"==typeof Gt)try{Gt(yn)}catch(tr){console.error(tr)}});return function(yn){return Bi.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=U.a,this._completeRedirectFn=U.aA}_initialize(K){var te=this;return(0,a.Z)(function*(){return yield te.selectUnderlyingResolver(),te.assertedUnderlyingResolver._initialize(K)})()}_openPopup(K,te,Ee,tt){var lt=this;return(0,a.Z)(function*(){return yield lt.selectUnderlyingResolver(),lt.assertedUnderlyingResolver._openPopup(K,te,Ee,tt)})()}_openRedirect(K,te,Ee,tt){var lt=this;return(0,a.Z)(function*(){return yield lt.selectUnderlyingResolver(),lt.assertedUnderlyingResolver._openRedirect(K,te,Ee,tt)})()}_isIframeWebStorageSupported(K,te){this.assertedUnderlyingResolver._isIframeWebStorageSupported(K,te)}_originValidation(K){return this.assertedUnderlyingResolver._originValidation(K)}get _shouldInitProactively(){return xr()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Dt(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var K=this;return(0,a.Z)(function*(){if(K.underlyingResolver)return;const te=yield function xt(){return hr.apply(this,arguments)}();K.underlyingResolver=te?K.cordovaResolver:K.browserResolver})()}}function er(z){return z.unwrap()}function sn(z){return bi(z)}function bi(z){const{_tokenResponse:K}=z instanceof ye.ZR?z.customData:z;if(!K)return null;if(!(z instanceof ye.ZR)&&"temporaryProof"in K&&"phoneNumber"in K)return U.P.credentialFromResult(z);const te=K.providerId;if(!te||te===U.o.PASSWORD)return null;let Ee;switch(te){case U.o.GOOGLE:Ee=U.N;break;case U.o.FACEBOOK:Ee=U.M;break;case U.o.GITHUB:Ee=U.Q;break;case U.o.TWITTER:Ee=U.V;break;default:const{oauthIdToken:tt,oauthAccessToken:lt,oauthTokenSecret:Bt,pendingToken:bt,nonce:Gt}=K;return lt||Bt||tt||bt?bt?te.startsWith("saml.")?U.aJ._create(te,bt):U.I._fromParams({providerId:te,signInMethod:te,pendingToken:bt,idToken:tt,accessToken:lt}):new U.T(te).credential({idToken:tt,accessToken:lt,rawNonce:Gt}):null}return z instanceof ye.ZR?Ee.credentialFromError(z):Ee.credentialFromResult(z)}function Sn(z,K){return K.catch(te=>{throw te instanceof ye.ZR&&function ns(z,K){var te;const Ee=null===(te=K.customData)||void 0===te?void 0:te._tokenResponse;if("auth/multi-factor-auth-required"===K.code)K.resolver=new on(z,U.am(z,K));else if(Ee){const tt=bi(K),lt=K;tt&&(lt.credential=tt,lt.tenantId=Ee.tenantId||void 0,lt.email=Ee.email||void 0,lt.phoneNumber=Ee.phoneNumber||void 0)}}(z,te),te}).then(te=>{const tt=te.user;return{operationType:te.operationType,credential:sn(te),additionalUserInfo:U.ak(te),user:at.getOrCreate(tt)}})}function Nt(z,K){return ai.apply(this,arguments)}function ai(){return(ai=(0,a.Z)(function*(z,K){const te=yield K;return{verificationId:te.verificationId,confirm:Ee=>Sn(z,te.confirm(Ee))}})).apply(this,arguments)}class on{constructor(K,te){this.resolver=te,this.auth=function ts(z){return z.wrapped()}(K)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(K){return Sn(er(this.auth),this.resolver.resolveSignIn(K))}}class at{constructor(K){this._delegate=K,this.multiFactor=U.an(K)}static getOrCreate(K){return at.USER_MAP.has(K)||at.USER_MAP.set(K,new at(K)),at.USER_MAP.get(K)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(K){return this._delegate.getIdTokenResult(K)}getIdToken(K){return this._delegate.getIdToken(K)}linkAndRetrieveDataWithCredential(K){return this.linkWithCredential(K)}linkWithCredential(K){var te=this;return(0,a.Z)(function*(){return Sn(te.auth,U.Y(te._delegate,K))})()}linkWithPhoneNumber(K,te){var Ee=this;return(0,a.Z)(function*(){return Nt(Ee.auth,U.l(Ee._delegate,K,te))})()}linkWithPopup(K){var te=this;return(0,a.Z)(function*(){return Sn(te.auth,U.d(te._delegate,K,vt))})()}linkWithRedirect(K){var te=this;return(0,a.Z)(function*(){return yield zn(U.aC(te.auth)),U.g(te._delegate,K,vt)})()}reauthenticateAndRetrieveDataWithCredential(K){return this.reauthenticateWithCredential(K)}reauthenticateWithCredential(K){var te=this;return(0,a.Z)(function*(){return Sn(te.auth,U.Z(te._delegate,K))})()}reauthenticateWithPhoneNumber(K,te){return Nt(this.auth,U.r(this._delegate,K,te))}reauthenticateWithPopup(K){return Sn(this.auth,U.e(this._delegate,K,vt))}reauthenticateWithRedirect(K){var te=this;return(0,a.Z)(function*(){return yield zn(U.aC(te.auth)),U.h(te._delegate,K,vt)})()}sendEmailVerification(K){return U.aa(this._delegate,K)}unlink(K){var te=this;return(0,a.Z)(function*(){return yield U.aj(te._delegate,K),te})()}updateEmail(K){return U.af(this._delegate,K)}updatePassword(K){return U.ag(this._delegate,K)}updatePhoneNumber(K){return U.u(this._delegate,K)}updateProfile(K){return U.ae(this._delegate,K)}verifyBeforeUpdateEmail(K,te){return U.ab(this._delegate,K,te)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}at.USER_MAP=new WeakMap;const Ue=U.aw;let Xe=(()=>{class z{constructor(te,Ee){if(this.app=te,Ee.isInitialized())return this._delegate=Ee.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:tt}=te.options;Ue(tt,"invalid-api-key",{appName:te.name}),Ue(tt,"invalid-api-key",{appName:te.name});const lt="undefined"!=typeof window?vt:void 0;this._delegate=Ee.initialize({options:{persistence:Jt(tt,te.name),popupRedirectResolver:lt}}),this._delegate._updateErrorMap(U.z),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?at.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(te){this._delegate.languageCode=te}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(te){this._delegate.tenantId=te}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(te,Ee){U.E(this._delegate,te,Ee)}applyActionCode(te){return U.a1(this._delegate,te)}checkActionCode(te){return U.a2(this._delegate,te)}confirmPasswordReset(te,Ee){return U.a0(this._delegate,te,Ee)}createUserWithEmailAndPassword(te,Ee){var tt=this;return(0,a.Z)(function*(){return Sn(tt._delegate,U.a4(tt._delegate,te,Ee))})()}fetchProvidersForEmail(te){return this.fetchSignInMethodsForEmail(te)}fetchSignInMethodsForEmail(te){return U.a9(this._delegate,te)}isSignInWithEmailLink(te){return U.a7(this._delegate,te)}getRedirectResult(){var te=this;return(0,a.Z)(function*(){Ue(Xn(),te._delegate,"operation-not-supported-in-this-environment");const Ee=yield U.j(te._delegate,vt);return Ee?Sn(te._delegate,Promise.resolve(Ee)):{credential:null,user:null}})()}addFrameworkForLogging(te){!function Ln(z,K){(0,U.aC)(z)._logFramework(K)}(this._delegate,te)}onAuthStateChanged(te,Ee,tt){const{next:lt,error:Bt,complete:bt}=Ot(te,Ee,tt);return this._delegate.onAuthStateChanged(lt,Bt,bt)}onIdTokenChanged(te,Ee,tt){const{next:lt,error:Bt,complete:bt}=Ot(te,Ee,tt);return this._delegate.onIdTokenChanged(lt,Bt,bt)}sendSignInLinkToEmail(te,Ee){return U.a6(this._delegate,te,Ee)}sendPasswordResetEmail(te,Ee){return U.$(this._delegate,te,Ee||void 0)}setPersistence(te){var Ee=this;return(0,a.Z)(function*(){let tt;switch(function vi(z,K){ei(Object.values(xn).includes(K),z,"invalid-persistence-type"),(0,ye.b$)()?ei(K!==xn.SESSION,z,"unsupported-persistence-type"):(0,ye.UG)()?ei(K===xn.NONE,z,"unsupported-persistence-type"):zi()?ei(K===xn.NONE||K===xn.LOCAL&&(0,ye.hl)(),z,"unsupported-persistence-type"):ei(K===xn.NONE||es(),z,"unsupported-persistence-type")}(Ee._delegate,te),te){case xn.SESSION:tt=U.a;break;case xn.LOCAL:tt=(yield U.ax(U.i)._isAvailable())?U.i:U.b;break;case xn.NONE:tt=U.K;break;default:return U.as("argument-error",{appName:Ee._delegate.name})}return Ee._delegate.setPersistence(tt)})()}signInAndRetrieveDataWithCredential(te){return this.signInWithCredential(te)}signInAnonymously(){return Sn(this._delegate,U.W(this._delegate))}signInWithCredential(te){return Sn(this._delegate,U.X(this._delegate,te))}signInWithCustomToken(te){return Sn(this._delegate,U._(this._delegate,te))}signInWithEmailAndPassword(te,Ee){return Sn(this._delegate,U.a5(this._delegate,te,Ee))}signInWithEmailLink(te,Ee){return Sn(this._delegate,U.a8(this._delegate,te,Ee))}signInWithPhoneNumber(te,Ee){return Nt(this._delegate,U.s(this._delegate,te,Ee))}signInWithPopup(te){var Ee=this;return(0,a.Z)(function*(){return Ue(Xn(),Ee._delegate,"operation-not-supported-in-this-environment"),Sn(Ee._delegate,U.c(Ee._delegate,te,vt))})()}signInWithRedirect(te){var Ee=this;return(0,a.Z)(function*(){return Ue(Xn(),Ee._delegate,"operation-not-supported-in-this-environment"),yield zn(Ee._delegate),U.f(Ee._delegate,te,vt)})()}updateCurrentUser(te){return this._delegate.updateCurrentUser(te)}verifyPasswordResetCode(te){return U.a3(this._delegate,te)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return z.Persistence=xn,z})();function Ot(z,K,te){let Ee=z;"function"!=typeof z&&({next:Ee,error:K,complete:te}=z);const tt=Ee;return{next:Bt=>tt(Bt&&at.getOrCreate(Bt)),error:K,complete:te}}function Jt(z,K){const te=function Rs(z,K){const te=en();if(!te)return[];const Ee=U.ay(Ei,z,K);switch(te.getItem(Ee)){case xn.NONE:return[U.K];case xn.LOCAL:return[U.i,U.a];case xn.SESSION:return[U.a];default:return[]}}(z,K);if("undefined"!=typeof self&&!te.includes(U.i)&&te.push(U.i),"undefined"!=typeof window)for(const Ee of[U.b,U.a])te.includes(Ee)||te.push(Ee);return te.includes(U.K)||te.push(U.K),te}class tn{constructor(){this.providerId="phone",this._delegate=new U.P(er(J.Z.auth()))}static credential(K,te){return U.P.credential(K,te)}verifyPhoneNumber(K,te){return this._delegate.verifyPhoneNumber(K,te)}unwrap(){return this._delegate}}tn.PHONE_SIGN_IN_METHOD=U.P.PHONE_SIGN_IN_METHOD,tn.PROVIDER_ID=U.P.PROVIDER_ID;const se=U.aw;class ee{constructor(K,te,Ee=J.Z.app()){var tt;se(null===(tt=Ee.options)||void 0===tt?void 0:tt.apiKey,"invalid-api-key",{appName:Ee.name}),this._delegate=new U.R(K,te,Ee.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Me(z){z.INTERNAL.registerComponent(new fe.wA("auth-compat",K=>{const te=K.getProvider("app-compat").getImmediate(),Ee=K.getProvider("auth");return new Xe(te,Ee)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:U.A.EMAIL_SIGNIN,PASSWORD_RESET:U.A.PASSWORD_RESET,RECOVER_EMAIL:U.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:U.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:U.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:U.A.VERIFY_EMAIL}},EmailAuthProvider:U.L,FacebookAuthProvider:U.M,GithubAuthProvider:U.Q,GoogleAuthProvider:U.N,OAuthProvider:U.T,SAMLAuthProvider:U.U,PhoneAuthProvider:tn,PhoneMultiFactorGenerator:U.m,RecaptchaVerifier:ee,TwitterAuthProvider:U.V,Auth:Xe,AuthCredential:U.G,Error:ye.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),z.registerVersion("@firebase/auth-compat","0.2.12")}(J.Z)},7122:(Rt,He)=>{function a(C,R){for(var I=0;I<R.length;I++){var b=R[I];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(C,b.key,b)}}function J(C,R,I){return R&&a(C.prototype,R),I&&a(C,I),C}function U(C,R){C.prototype=Object.create(R.prototype),C.prototype.constructor=C,C.__proto__=R}function ye(C){return(ye=Object.setPrototypeOf?Object.getPrototypeOf:function(I){return I.__proto__||Object.getPrototypeOf(I)})(C)}function ge(C,R){return(ge=Object.setPrototypeOf||function(b,x){return b.__proto__=x,b})(C,R)}function Le(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(C){return!1}}function fe(C,R,I){return(fe=Le()?Reflect.construct:function(x,N,G){var Q=[null];Q.push.apply(Q,N);var ke=new(Function.bind.apply(x,Q));return G&&ge(ke,G.prototype),ke}).apply(null,arguments)}function xe(C){var R="function"==typeof Map?new Map:void 0;return xe=function(b){if(null===b||!function Te(C){return-1!==Function.toString.call(C).indexOf("[native code]")}(b))return b;if("function"!=typeof b)throw new TypeError("Super expression must either be null or a function");if(void 0!==R){if(R.has(b))return R.get(b);R.set(b,x)}function x(){return fe(b,arguments,ye(this).constructor)}return x.prototype=Object.create(b.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),ge(x,b)},xe(C)}function _e(C,R){(null==R||R>C.length)&&(R=C.length);for(var I=0,b=new Array(R);I<R;I++)b[I]=C[I];return b}function st(C){var R=0;if("undefined"==typeof Symbol||null==C[Symbol.iterator]){if(Array.isArray(C)||(C=function ne(C,R){if(C){if("string"==typeof C)return _e(C,R);var I=Object.prototype.toString.call(C).slice(8,-1);if("Object"===I&&C.constructor&&(I=C.constructor.name),"Map"===I||"Set"===I)return Array.from(I);if("Arguments"===I||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(I))return _e(C,R)}}(C)))return function(){return R>=C.length?{done:!0}:{done:!1,value:C[R++]}};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(R=C[Symbol.iterator]()).next.bind(R)}var Ge=function(C){function R(){return C.apply(this,arguments)||this}return U(R,C),R}(xe(Error)),Qe=function(C){function R(I){return C.call(this,"Invalid DateTime: "+I.toMessage())||this}return U(R,C),R}(Ge),et=function(C){function R(I){return C.call(this,"Invalid Interval: "+I.toMessage())||this}return U(R,C),R}(Ge),Oe=function(C){function R(I){return C.call(this,"Invalid Duration: "+I.toMessage())||this}return U(R,C),R}(Ge),Be=function(C){function R(){return C.apply(this,arguments)||this}return U(R,C),R}(Ge),gt=function(C){function R(I){return C.call(this,"Invalid unit "+I)||this}return U(R,C),R}(Ge),Je=function(C){function R(){return C.apply(this,arguments)||this}return U(R,C),R}(Ge),je=function(C){function R(){return C.call(this,"Zone is an abstract class")||this}return U(R,C),R}(Ge),ce="numeric",Ne="short",rt="long",me={year:ce,month:ce,day:ce},ft={year:ce,month:Ne,day:ce},ue={year:ce,month:rt,day:ce},Se={year:ce,month:rt,day:ce,weekday:rt},De={hour:ce,minute:ce},Ae={hour:ce,minute:ce,second:ce},Ye={hour:ce,minute:ce,second:ce,timeZoneName:Ne},we={hour:ce,minute:ce,second:ce,timeZoneName:rt},Vt={hour:ce,minute:ce,hour12:!1},En={hour:ce,minute:ce,second:ce,hour12:!1},fi={hour:ce,minute:ce,second:ce,hour12:!1,timeZoneName:Ne},It={hour:ce,minute:ce,second:ce,hour12:!1,timeZoneName:rt},St={year:ce,month:ce,day:ce,hour:ce,minute:ce},Ln={year:ce,month:ce,day:ce,hour:ce,minute:ce,second:ce},Nn={year:ce,month:Ne,day:ce,hour:ce,minute:ce},Mr={year:ce,month:Ne,day:ce,hour:ce,minute:ce,second:ce},In={year:ce,month:Ne,day:ce,weekday:Ne,hour:ce,minute:ce},_n={year:ce,month:rt,day:ce,hour:ce,minute:ce,timeZoneName:Ne},Tn={year:ce,month:rt,day:ce,hour:ce,minute:ce,second:ce,timeZoneName:Ne},Jn={year:ce,month:rt,day:ce,weekday:rt,hour:ce,minute:ce,timeZoneName:rt},Si={year:ce,month:rt,day:ce,weekday:rt,hour:ce,minute:ce,second:ce,timeZoneName:rt};function Zt(C){return void 0===C}function _i(C){return"number"==typeof C}function Vr(C){return"number"==typeof C&&C%1==0}function Xn(){try{return"undefined"!=typeof Intl&&Intl.DateTimeFormat}catch(C){return!1}}function xr(){return!Zt(Intl.DateTimeFormat.prototype.formatToParts)}function xt(){try{return"undefined"!=typeof Intl&&!!Intl.RelativeTimeFormat}catch(C){return!1}}function yi(C,R,I){if(0!==C.length)return C.reduce(function(b,x){var N=[R(x),x];return b&&I(b[0],N[0])===b[0]?b:N},null)[1]}function xn(C,R){return R.reduce(function(I,b){return I[b]=C[b],I},{})}function ei(C,R){return Object.prototype.hasOwnProperty.call(C,R)}function Ei(C,R,I){return Vr(C)&&C>=R&&C<=I}function zn(C,R){return void 0===R&&(R=2),C.toString().length<R?("0".repeat(R)+C).slice(-R):C.toString()}function Vn(C){if(!Zt(C)&&null!==C&&""!==C)return parseInt(C,10)}function Rs(C){if(!Zt(C)&&null!==C&&""!==C){var R=1e3*parseFloat("0."+C);return Math.floor(R)}}function en(C,R,I){void 0===I&&(I=!1);var b=Math.pow(10,R);return(I?Math.trunc:Math.round)(C*b)/b}function Dt(C){return C%4==0&&(C%100!=0||C%400==0)}function vt(C){return Dt(C)?366:365}function er(C,R){var I=function vi(C,R){return C-R*Math.floor(C/R)}(R-1,12)+1;return 2===I?Dt(C+(R-I)/12)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][I-1]}function ts(C){var R=Date.UTC(C.year,C.month-1,C.day,C.hour,C.minute,C.second,C.millisecond);return C.year<100&&C.year>=0&&(R=new Date(R)).setUTCFullYear(R.getUTCFullYear()-1900),+R}function sn(C){var R=(C+Math.floor(C/4)-Math.floor(C/100)+Math.floor(C/400))%7,I=C-1,b=(I+Math.floor(I/4)-Math.floor(I/100)+Math.floor(I/400))%7;return 4===R||3===b?53:52}function ns(C){return C>99?C:C>60?1900+C:2e3+C}function bi(C,R,I,b){void 0===b&&(b=null);var x=new Date(C),N={hour12:!1,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};b&&(N.timeZone=b);var G=Object.assign({timeZoneName:R},N),Q=Xn();if(Q&&xr()){var le=new Intl.DateTimeFormat(I,G).formatToParts(x).find(function(Tt){return"timezonename"===Tt.type.toLowerCase()});return le?le.value:null}if(Q){var ke=new Intl.DateTimeFormat(I,N).format(x);return new Intl.DateTimeFormat(I,G).format(x).substring(ke.length).replace(/^[, \u200e]+/,"")}return null}function Sn(C,R){var I=parseInt(C,10);Number.isNaN(I)&&(I=0);var b=parseInt(R,10)||0;return 60*I+(I<0||Object.is(I,-0)?-b:b)}function Nt(C){var R=Number(C);if("boolean"==typeof C||""===C||Number.isNaN(R))throw new Je("Invalid unit value "+C);return R}function ai(C,R,I){var b={};for(var x in C)if(ei(C,x)){if(I.indexOf(x)>=0)continue;var N=C[x];if(null==N)continue;b[R(x)]=Nt(N)}return b}function on(C,R){var I=Math.trunc(C/60),b=Math.abs(C%60),x=I>=0&&!Object.is(I,-0)?"+":"-",N=""+x+Math.abs(I);switch(R){case"short":return""+x+zn(Math.abs(I),2)+":"+zn(b,2);case"narrow":return b>0?N+":"+b:N;case"techie":return""+x+zn(Math.abs(I),2)+zn(b,2);default:throw new RangeError("Value format "+R+" is out of range for property format")}}function at(C){return xn(C,["hour","minute","second","millisecond"])}var Ue=/[A-Za-z_+-]{1,256}(:?\/[A-Za-z_+-]{1,256}(\/[A-Za-z_+-]{1,256})?)?/;function Xe(C){return JSON.stringify(C,Object.keys(C).sort())}var Ot=["January","February","March","April","May","June","July","August","September","October","November","December"],Jt=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],tn=["J","F","M","A","M","J","J","A","S","O","N","D"];function se(C){switch(C){case"narrow":return tn;case"short":return Jt;case"long":return Ot;case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}var ee=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],oe=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],Me=["M","T","W","T","F","S","S"];function z(C){switch(C){case"narrow":return Me;case"short":return oe;case"long":return ee;case"numeric":return["1","2","3","4","5","6","7"];default:return null}}var K=["AM","PM"],te=["Before Christ","Anno Domini"],Ee=["BC","AD"],tt=["B","A"];function lt(C){switch(C){case"narrow":return tt;case"short":return Ee;case"long":return te;default:return null}}function tr(C,R){for(var x,I="",b=st(C);!(x=b()).done;){var N=x.value;I+=N.literal?N.val:R(N.val)}return I}var ps={D:me,DD:ft,DDD:ue,DDDD:Se,t:De,tt:Ae,ttt:Ye,tttt:we,T:Vt,TT:En,TTT:fi,TTTT:It,f:St,ff:Nn,fff:_n,ffff:Jn,F:Ln,FF:Mr,FFF:Tn,FFFF:Si},Hn=function(){function C(I,b){this.opts=b,this.loc=I,this.systemLoc=null}C.create=function(b,x){return void 0===x&&(x={}),new C(b,x)},C.parseFormat=function(b){for(var x=null,N="",G=!1,Q=[],le=0;le<b.length;le++){var ke=b.charAt(le);"'"===ke?(N.length>0&&Q.push({literal:G,val:N}),x=null,N="",G=!G):G||ke===x?N+=ke:(N.length>0&&Q.push({literal:!1,val:N}),N=ke,x=ke)}return N.length>0&&Q.push({literal:G,val:N}),Q},C.macroTokenToFormatOpts=function(b){return ps[b]};var R=C.prototype;return R.formatWithSystemDefault=function(b,x){return null===this.systemLoc&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(b,Object.assign({},this.opts,x)).format()},R.formatDateTime=function(b,x){return void 0===x&&(x={}),this.loc.dtFormatter(b,Object.assign({},this.opts,x)).format()},R.formatDateTimeParts=function(b,x){return void 0===x&&(x={}),this.loc.dtFormatter(b,Object.assign({},this.opts,x)).formatToParts()},R.resolvedOptions=function(b,x){return void 0===x&&(x={}),this.loc.dtFormatter(b,Object.assign({},this.opts,x)).resolvedOptions()},R.num=function(b,x){if(void 0===x&&(x=0),this.opts.forceSimple)return zn(b,x);var N=Object.assign({},this.opts);return x>0&&(N.padTo=x),this.loc.numberFormatter(N).format(b)},R.formatDateTimeFromString=function(b,x){var N=this,G="en"===this.loc.listingMode(),Q=this.loc.outputCalendar&&"gregory"!==this.loc.outputCalendar&&xr(),le=function(jt,Ni){return N.loc.extract(b,jt,Ni)},ke=function(jt){return b.isOffsetFixed&&0===b.offset&&jt.allowZ?"Z":b.isValid?b.zone.formatOffset(b.ts,jt.format):""},be=function(jt,Ni){return G?function Gt(C,R){return se(R)[C.month-1]}(b,jt):le(Ni?{month:jt}:{month:jt,day:"numeric"},"month")},ot=function(jt,Ni){return G?function bt(C,R){return z(R)[C.weekday-1]}(b,jt):le(Ni?{weekday:jt}:{weekday:jt,month:"long",day:"numeric"},"weekday")},vn=function(jt){return G?function li(C,R){return lt(R)[C.year<0?0:1]}(b,jt):le({era:jt},"era")};return tr(C.parseFormat(x),function(jt){switch(jt){case"S":return N.num(b.millisecond);case"u":case"SSS":return N.num(b.millisecond,3);case"s":return N.num(b.second);case"ss":return N.num(b.second,2);case"m":return N.num(b.minute);case"mm":return N.num(b.minute,2);case"h":return N.num(b.hour%12==0?12:b.hour%12);case"hh":return N.num(b.hour%12==0?12:b.hour%12,2);case"H":return N.num(b.hour);case"HH":return N.num(b.hour,2);case"Z":return ke({format:"narrow",allowZ:N.opts.allowZ});case"ZZ":return ke({format:"short",allowZ:N.opts.allowZ});case"ZZZ":return ke({format:"techie",allowZ:N.opts.allowZ});case"ZZZZ":return console.log(b.zone),b.zone.offsetName(b.ts,{format:"short",locale:N.loc.locale});case"ZZZZZ":return b.zone.offsetName(b.ts,{format:"long",locale:N.loc.locale});case"z":return b.zoneName;case"a":return G?function Bt(C){return K[C.hour<12?0:1]}(b):le({hour:"numeric",hour12:!0},"dayperiod");case"d":return Q?le({day:"numeric"},"day"):N.num(b.day);case"dd":return Q?le({day:"2-digit"},"day"):N.num(b.day,2);case"c":case"E":return N.num(b.weekday);case"ccc":return ot("short",!0);case"cccc":return ot("long",!0);case"ccccc":return ot("narrow",!0);case"EEE":return ot("short",!1);case"EEEE":return ot("long",!1);case"EEEEE":return ot("narrow",!1);case"L":return Q?le({month:"numeric",day:"numeric"},"month"):N.num(b.month);case"LL":return Q?le({month:"2-digit",day:"numeric"},"month"):N.num(b.month,2);case"LLL":return be("short",!0);case"LLLL":return be("long",!0);case"LLLLL":return be("narrow",!0);case"M":return Q?le({month:"numeric"},"month"):N.num(b.month);case"MM":return Q?le({month:"2-digit"},"month"):N.num(b.month,2);case"MMM":return be("short",!1);case"MMMM":return be("long",!1);case"MMMMM":return be("narrow",!1);case"y":return Q?le({year:"numeric"},"year"):N.num(b.year);case"yy":return Q?le({year:"2-digit"},"year"):N.num(b.year.toString().slice(-2),2);case"yyyy":return Q?le({year:"numeric"},"year"):N.num(b.year,4);case"yyyyyy":return Q?le({year:"numeric"},"year"):N.num(b.year,6);case"G":return vn("short");case"GG":return vn("long");case"GGGGG":return vn("narrow");case"kk":return N.num(b.weekYear.toString().slice(-2),2);case"kkkk":return N.num(b.weekYear,4);case"W":return N.num(b.weekNumber);case"WW":return N.num(b.weekNumber,2);case"o":return N.num(b.ordinal);case"ooo":return N.num(b.ordinal,3);case"q":return N.num(b.quarter);case"qq":return N.num(b.quarter,2);case"X":return N.num(Math.floor(b.ts/1e3));case"x":return N.num(b.ts);default:return function(jt){var Ni=C.macroTokenToFormatOpts(jt);return Ni?N.formatWithSystemDefault(b,Ni):jt}(jt)}})},R.formatDurationFromString=function(b,x){var ot,N=this,G=function(ot){switch(ot[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"M":return"month";case"y":return"year";default:return null}},le=C.parseFormat(x),ke=le.reduce(function(be,ot){return ot.literal?be:be.concat(ot.val)},[]),We=b.shiftTo.apply(b,ke.map(G).filter(function(be){return be}));return tr(le,(ot=We,function(Tt){var vn=G(Tt);return vn?N.num(ot.get(vn),Tt.length):Tt}))},C}(),kr=function(){function C(I,b){this.reason=I,this.explanation=b}return C.prototype.toMessage=function(){return this.explanation?this.reason+": "+this.explanation:this.reason},C}(),An=function(){function C(){}var R=C.prototype;return R.offsetName=function(b,x){throw new je},R.formatOffset=function(b,x){throw new je},R.offset=function(b){throw new je},R.equals=function(b){throw new je},J(C,[{key:"type",get:function(){throw new je}},{key:"name",get:function(){throw new je}},{key:"universal",get:function(){throw new je}},{key:"isValid",get:function(){throw new je}}]),C}(),ct=null,dn=function(C){function R(){return C.apply(this,arguments)||this}U(R,C);var I=R.prototype;return I.offsetName=function(x,N){return bi(x,N.format,N.locale)},I.formatOffset=function(x,N){return on(this.offset(x),N)},I.offset=function(x){return-new Date(x).getTimezoneOffset()},I.equals=function(x){return"local"===x.type},J(R,[{key:"type",get:function(){return"local"}},{key:"name",get:function(){return Xn()?(new Intl.DateTimeFormat).resolvedOptions().timeZone:"local"}},{key:"universal",get:function(){return!1}},{key:"isValid",get:function(){return!0}}],[{key:"instance",get:function(){return null===ct&&(ct=new R),ct}}]),R}(An),qn=RegExp("^"+Ue.source+"$"),Ui={},Hi={year:0,month:1,day:2,hour:3,minute:4,second:5},ui={},pr=function(C){function R(b){var x;return(x=C.call(this)||this).zoneName=b,x.valid=R.isValidZone(b),x}U(R,C),R.create=function(x){return ui[x]||(ui[x]=new R(x)),ui[x]},R.resetCache=function(){ui={},Ui={}},R.isValidSpecifier=function(x){return!(!x||!x.match(qn))},R.isValidZone=function(x){try{return new Intl.DateTimeFormat("en-US",{timeZone:x}).format(),!0}catch(N){return!1}},R.parseGMTOffset=function(x){if(x){var N=x.match(/^Etc\/GMT([+-]\d{1,2})$/i);if(N)return-60*parseInt(N[1])}return null};var I=R.prototype;return I.offsetName=function(x,N){return bi(x,N.format,N.locale,this.name)},I.formatOffset=function(x,N){return on(this.offset(x),N)},I.offset=function(x){var N=new Date(x),G=function Qs(C){return Ui[C]||(Ui[C]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:C,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})),Ui[C]}(this.name),Q=G.formatToParts?function ci(C,R){for(var I=C.formatToParts(R),b=[],x=0;x<I.length;x++){var N=I[x],Q=N.value,le=Hi[N.type];Zt(le)||(b[le]=parseInt(Q,10))}return b}(G,N):function fr(C,R){var I=C.format(R).replace(/\u200E/g,""),b=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(I);return[b[3],b[1],b[2],b[4],b[5],b[6]]}(G,N),be=Q[3],Ht=+N,jt=Ht%1e3;return(ts({year:Q[0],month:Q[1],day:Q[2],hour:24===be?0:be,minute:Q[4],second:Q[5],millisecond:0})-(Ht-=jt>=0?jt:1e3+jt))/6e4},I.equals=function(x){return"iana"===x.type&&x.name===this.name},J(R,[{key:"type",get:function(){return"iana"}},{key:"name",get:function(){return this.zoneName}},{key:"universal",get:function(){return!1}},{key:"isValid",get:function(){return this.valid}}]),R}(An),Yt=null,nr=function(C){function R(b){var x;return(x=C.call(this)||this).fixed=b,x}U(R,C),R.instance=function(x){return 0===x?R.utcInstance:new R(x)},R.parseSpecifier=function(x){if(x){var N=x.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(N)return new R(Sn(N[1],N[2]))}return null},J(R,null,[{key:"utcInstance",get:function(){return null===Yt&&(Yt=new R(0)),Yt}}]);var I=R.prototype;return I.offsetName=function(){return this.name},I.formatOffset=function(x,N){return on(this.fixed,N)},I.offset=function(){return this.fixed},I.equals=function(x){return"fixed"===x.type&&x.fixed===this.fixed},J(R,[{key:"type",get:function(){return"fixed"}},{key:"name",get:function(){return 0===this.fixed?"UTC":"UTC"+on(this.fixed,"narrow")}},{key:"universal",get:function(){return!0}},{key:"isValid",get:function(){return!0}}]),R}(An),Ai=function(C){function R(b){var x;return(x=C.call(this)||this).zoneName=b,x}U(R,C);var I=R.prototype;return I.offsetName=function(){return null},I.formatOffset=function(){return""},I.offset=function(){return NaN},I.equals=function(){return!1},J(R,[{key:"type",get:function(){return"invalid"}},{key:"name",get:function(){return this.zoneName}},{key:"universal",get:function(){return!1}},{key:"isValid",get:function(){return!1}}]),R}(An);function Js(C,R){var I;if(Zt(C)||null===C)return R;if(C instanceof An)return C;if(function es(C){return"string"==typeof C}(C)){var b=C.toLowerCase();return"local"===b?R:"utc"===b||"gmt"===b?nr.utcInstance:null!=(I=pr.parseGMTOffset(C))?nr.instance(I):pr.isValidSpecifier(b)?pr.create(C):nr.parseSpecifier(b)||new Ai(C)}return _i(C)?nr.instance(C):"object"==typeof C&&C.offset&&"number"==typeof C.offset?C:new Ai(C)}var ms=function(){return Date.now()},Mi=null,Xs=null,mo=null,jn=null,Wn=!1,Zn=function(){function C(){}return C.resetCaches=function(){pi.resetCache(),pr.resetCache()},J(C,null,[{key:"now",get:function(){return ms},set:function(I){ms=I}},{key:"defaultZoneName",get:function(){return C.defaultZone.name},set:function(I){Mi=I?Js(I):null}},{key:"defaultZone",get:function(){return Mi||dn.instance}},{key:"defaultLocale",get:function(){return Xs},set:function(I){Xs=I}},{key:"defaultNumberingSystem",get:function(){return mo},set:function(I){mo=I}},{key:"defaultOutputCalendar",get:function(){return jn},set:function(I){jn=I}},{key:"throwOnInvalid",get:function(){return Wn},set:function(I){Wn=I}}]),C}(),vl={};function ji(C,R){void 0===R&&(R={});var I=JSON.stringify([C,R]),b=vl[I];return b||(b=new Intl.DateTimeFormat(C,R),vl[I]=b),b}var mr={},go={};var qi=null;function is(C,R,I,b,x){var N=C.listingMode(I);return"error"===N?null:"en"===N?b(R):x(R)}var hu=function(){function C(I,b,x){if(this.padTo=x.padTo||0,this.floor=x.floor||!1,!b&&Xn()){var N={useGrouping:!1};x.padTo>0&&(N.minimumIntegerDigits=x.padTo),this.inf=function bl(C,R){void 0===R&&(R={});var I=JSON.stringify([C,R]),b=mr[I];return b||(b=new Intl.NumberFormat(C,R),mr[I]=b),b}(I,N)}}return C.prototype.format=function(b){if(this.inf){var x=this.floor?Math.floor(b):b;return this.inf.format(x)}return zn(this.floor?Math.floor(b):en(b,3),this.padTo)},C}(),fu=function(){function C(I,b,x){var N;if(this.opts=x,this.hasIntl=Xn(),I.zone.universal&&this.hasIntl?(N="UTC",this.dt=x.timeZoneName||0===I.offset?I:Di.fromMillis(I.ts+60*I.offset*1e3)):"local"===I.zone.type?this.dt=I:(this.dt=I,N=I.zone.name),this.hasIntl){var G=Object.assign({},this.opts);N&&(G.timeZone=N),this.dtf=ji(b,G)}}var R=C.prototype;return R.format=function(){if(this.hasIntl)return this.dtf.format(this.dt.toJSDate());var b=function yn(C){var b="EEEE, LLLL d, yyyy, h:mm a";switch(Xe(xn(C,["weekday","era","year","month","day","hour","minute","second","timeZoneName","hour12"]))){case Xe(me):return"M/d/yyyy";case Xe(ft):return"LLL d, yyyy";case Xe(ue):return"LLLL d, yyyy";case Xe(Se):return"EEEE, LLLL d, yyyy";case Xe(De):return"h:mm a";case Xe(Ae):return"h:mm:ss a";case Xe(Ye):case Xe(we):return"h:mm a";case Xe(Vt):return"HH:mm";case Xe(En):return"HH:mm:ss";case Xe(fi):case Xe(It):return"HH:mm";case Xe(St):return"M/d/yyyy, h:mm a";case Xe(Nn):return"LLL d, yyyy, h:mm a";case Xe(_n):return"LLLL d, yyyy, h:mm a";case Xe(Jn):return b;case Xe(Ln):return"M/d/yyyy, h:mm:ss a";case Xe(Mr):return"LLL d, yyyy, h:mm:ss a";case Xe(In):return"EEE, d LLL yyyy, h:mm a";case Xe(Tn):return"LLLL d, yyyy, h:mm:ss a";case Xe(Si):return"EEEE, LLLL d, yyyy, h:mm:ss a";default:return b}}(this.opts),x=pi.create("en-US");return Hn.create(x).formatDateTimeFromString(this.dt,b)},R.formatToParts=function(){return this.hasIntl&&xr()?this.dtf.formatToParts(this.dt.toJSDate()):[]},R.resolvedOptions=function(){return this.hasIntl?this.dtf.resolvedOptions():{locale:"en-US",numberingSystem:"latn",outputCalendar:"gregory"}},C}(),ja=function(){function C(I,b,x){this.opts=Object.assign({style:"long"},x),!b&&xt()&&(this.rtf=function Ea(C,R){void 0===R&&(R={});var x=function re(C,R){if(null==C)return{};var x,N,I={},b=Object.keys(C);for(N=0;N<b.length;N++)!(R.indexOf(x=b[N])>=0)&&(I[x]=C[x]);return I}(R,["base"]),N=JSON.stringify([C,x]),G=go[N];return G||(G=new Intl.RelativeTimeFormat(C,R),go[N]=G),G}(I,x))}var R=C.prototype;return R.format=function(b,x){return this.rtf?this.rtf.format(b,x):function Bi(C,R,I,b){void 0===I&&(I="always"),void 0===b&&(b=!1);var x={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},N=-1===["hours","minutes","seconds"].indexOf(C);if("auto"===I&&N){var G="days"===C;switch(R){case 1:return G?"tomorrow":"next "+x[C][0];case-1:return G?"yesterday":"last "+x[C][0];case 0:return G?"today":"this "+x[C][0]}}var Q=Object.is(R,-0)||R<0,le=Math.abs(R),ke=1===le,We=x[C],be=b?ke?We[1]:We[2]||We[1]:ke?x[C][0]:C;return Q?le+" "+be+" ago":"in "+le+" "+be}(x,b,this.opts.numeric,"long"!==this.opts.style)},R.formatToParts=function(b,x){return this.rtf?this.rtf.formatToParts(b,x):[]},C}(),pi=function(){function C(I,b,x,N){var G=function _o(C){var R=C.indexOf("-u-");if(-1===R)return[C];var I,b=C.substring(0,R);try{I=ji(C).resolvedOptions()}catch(Q){I=ji(b).resolvedOptions()}return[b,I.numberingSystem,I.calendar]}(I),le=G[1],ke=G[2];this.locale=G[0],this.numberingSystem=b||le||null,this.outputCalendar=x||ke||null,this.intl=function yo(C,R,I){return Xn()?((I||R)&&(C+="-u",I&&(C+="-ca-"+I),R&&(C+="-nu-"+R)),C):[]}(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=N,this.fastNumbersCached=null}C.fromOpts=function(b){return C.create(b.locale,b.numberingSystem,b.outputCalendar,b.defaultToEN)},C.create=function(b,x,N,G){void 0===G&&(G=!1);var Q=b||Zn.defaultLocale,le=Q||(G?"en-US":function wl(){if(qi)return qi;if(Xn()){var C=(new Intl.DateTimeFormat).resolvedOptions().locale;return qi=C&&"und"!==C?C:"en-US"}return qi="en-US"}());return new C(le,x||Zn.defaultNumberingSystem,N||Zn.defaultOutputCalendar,Q)},C.resetCache=function(){qi=null,vl={},mr={},go={}},C.fromObject=function(b){var x=void 0===b?{}:b;return C.create(x.locale,x.numberingSystem,x.outputCalendar)};var R=C.prototype;return R.listingMode=function(b){void 0===b&&(b=!0);var N=Xn()&&xr(),G=this.isEnglish(),Q=!(null!==this.numberingSystem&&"latn"!==this.numberingSystem||null!==this.outputCalendar&&"gregory"!==this.outputCalendar);return N||G&&Q||b?!N||G&&Q?"en":"intl":"error"},R.clone=function(b){return b&&0!==Object.getOwnPropertyNames(b).length?C.create(b.locale||this.specifiedLocale,b.numberingSystem||this.numberingSystem,b.outputCalendar||this.outputCalendar,b.defaultToEN||!1):this},R.redefaultToEN=function(b){return void 0===b&&(b={}),this.clone(Object.assign({},b,{defaultToEN:!0}))},R.redefaultToSystem=function(b){return void 0===b&&(b={}),this.clone(Object.assign({},b,{defaultToEN:!1}))},R.months=function(b,x,N){var G=this;return void 0===x&&(x=!1),void 0===N&&(N=!0),is(this,b,N,se,function(){var Q=x?{month:b,day:"numeric"}:{month:b},le=x?"format":"standalone";return G.monthsCache[le][b]||(G.monthsCache[le][b]=function Br(C){for(var R=[],I=1;I<=12;I++){var b=Di.utc(2016,I,1);R.push(C(b))}return R}(function(ke){return G.extract(ke,Q,"month")})),G.monthsCache[le][b]})},R.weekdays=function(b,x,N){var G=this;return void 0===x&&(x=!1),void 0===N&&(N=!0),is(this,b,N,z,function(){var Q=x?{weekday:b,year:"numeric",month:"long",day:"numeric"}:{weekday:b},le=x?"format":"standalone";return G.weekdaysCache[le][b]||(G.weekdaysCache[le][b]=function Th(C){for(var R=[],I=1;I<=7;I++){var b=Di.utc(2016,11,13+I);R.push(C(b))}return R}(function(ke){return G.extract(ke,Q,"weekday")})),G.weekdaysCache[le][b]})},R.meridiems=function(b){var x=this;return void 0===b&&(b=!0),is(this,void 0,b,function(){return K},function(){if(!x.meridiemCache){var N={hour:"numeric",hour12:!0};x.meridiemCache=[Di.utc(2016,11,13,9),Di.utc(2016,11,13,19)].map(function(G){return x.extract(G,N,"dayperiod")})}return x.meridiemCache})},R.eras=function(b,x){var N=this;return void 0===x&&(x=!0),is(this,b,x,lt,function(){var G={era:b};return N.eraCache[b]||(N.eraCache[b]=[Di.utc(-40,1,1),Di.utc(2017,1,1)].map(function(Q){return N.extract(Q,G,"era")})),N.eraCache[b]})},R.extract=function(b,x,N){var le=this.dtFormatter(b,x).formatToParts().find(function(ke){return ke.type.toLowerCase()===N});return le?le.value:null},R.numberFormatter=function(b){return void 0===b&&(b={}),new hu(this.intl,b.forceSimple||this.fastNumbers,b)},R.dtFormatter=function(b,x){return void 0===x&&(x={}),new fu(b,this.intl,x)},R.relFormatter=function(b){return void 0===b&&(b={}),new ja(this.intl,this.isEnglish(),b)},R.isEnglish=function(){return"en"===this.locale||"en-us"===this.locale.toLowerCase()||Xn()&&new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")},R.equals=function(b){return this.locale===b.locale&&this.numberingSystem===b.numberingSystem&&this.outputCalendar===b.outputCalendar},J(C,[{key:"fastNumbers",get:function(){return null==this.fastNumbersCached&&(this.fastNumbersCached=function Dh(C){return(!C.numberingSystem||"latn"===C.numberingSystem)&&("latn"===C.numberingSystem||!C.locale||C.locale.startsWith("en")||Xn()&&"latn"===new Intl.DateTimeFormat(C.intl).resolvedOptions().numberingSystem)}(this)),this.fastNumbersCached}}]),C}();function Go(){for(var C=arguments.length,R=new Array(C),I=0;I<C;I++)R[I]=arguments[I];var b=R.reduce(function(x,N){return x+N.source},"");return RegExp("^"+b+"$")}function Ga(){for(var C=arguments.length,R=new Array(C),I=0;I<C;I++)R[I]=arguments[I];return function(b){return R.reduce(function(x,N){var G=x[0],Q=x[1],ke=N(b,x[2]),be=ke[1],ot=ke[2];return[Object.assign(G,ke[0]),Q||be,ot]},[{},null,1]).slice(0,2)}}function Cl(C){if(null==C)return[null,null];for(var R=arguments.length,I=new Array(R>1?R-1:0),b=1;b<R;b++)I[b-1]=arguments[b];for(var x=0,N=I;x<N.length;x++){var G=N[x],Q=G[0],le=G[1],ke=Q.exec(C);if(ke)return le(ke)}return[null,null]}function lc(){for(var C=arguments.length,R=new Array(C),I=0;I<C;I++)R[I]=arguments[I];return function(b,x){var G,N={};for(G=0;G<R.length;G++)N[R[G]]=Vn(b[x+G]);return[N,null,x+G]}}var $o=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,od=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,9}))?)?)?/,Ih=RegExp(""+od.source+$o.source+"?"),Os=RegExp("(?:T"+Ih.source+")?"),$a=lc("weekYear","weekNumber","weekDay"),rs=lc("year","ordinal"),zo=RegExp(od.source+" ?(?:"+$o.source+"|("+Ue.source+"))?"),Tl=RegExp("(?: "+zo.source+")?");function qo(C,R,I){var b=C[R];return Zt(b)?I:Vn(b)}function Ta(C,R){return[{year:qo(C,R),month:qo(C,R+1,1),day:qo(C,R+2,1)},null,R+3]}function to(C,R){return[{hour:qo(C,R,0),minute:qo(C,R+1,0),second:qo(C,R+2,0),millisecond:Rs(C[R+3])},null,R+4]}function gr(C,R){var I=!C[R]&&!C[R+1],b=Sn(C[R+1],C[R+2]);return[{},I?null:nr.instance(b),R+3]}function Ns(C,R){return[{},C[R]?pr.create(C[R]):null,R+1]}var Dl=/^-?P(?:(?:(-?\d{1,9})Y)?(?:(-?\d{1,9})M)?(?:(-?\d{1,9})W)?(?:(-?\d{1,9})D)?(?:T(?:(-?\d{1,9})H)?(?:(-?\d{1,9})M)?(?:(-?\d{1,9})(?:[.,](-?\d{1,9}))?S)?)?)$/;function za(C){var b=C[2],x=C[3],N=C[4],G=C[5],Q=C[6],le=C[7],ke=C[8],We="-"===C[0][0],be=function(Tt){return Tt&&We?-Tt:Tt};return[{years:be(Vn(C[1])),months:be(Vn(b)),weeks:be(Vn(x)),days:be(Vn(N)),hours:be(Vn(G)),minutes:be(Vn(Q)),seconds:be(Vn(le)),milliseconds:be(Rs(ke))}]}var mi={GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function vo(C,R,I,b,x,N,G){var Q={year:2===R.length?ns(Vn(R)):Vn(R),month:Jt.indexOf(I)+1,day:Vn(b),hour:Vn(x),minute:Vn(N)};return G&&(Q.second=Vn(G)),C&&(Q.weekday=C.length>3?ee.indexOf(C)+1:oe.indexOf(C)+1),Q}var Sh=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function Da(C){var Tt,le=C[8],ke=C[9],We=C[10],be=C[11],ot=vo(C[1],C[4],C[3],C[2],C[5],C[6],C[7]);return Tt=le?mi[le]:ke?0:Sn(We,be),[ot,new nr(Tt)]}var mu=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,Il=/^(Monday|Tuesday|Wedsday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,bo=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function wo(C){return[vo(C[1],C[4],C[3],C[2],C[5],C[6],C[7]),nr.utcInstance]}function uc(C){return[vo(C[1],C[7],C[2],C[3],C[4],C[5],C[6]),nr.utcInstance]}var ti=Go(/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,Os),Wo=Go(/(\d{4})-?W(\d\d)(?:-?(\d))?/,Os),Zo=Go(/(\d{4})-?(\d{3})/,Os),Yn=Go(Ih),dc=Ga(Ta,to,gr),Ia=Ga($a,to,gr),Co=Ga(rs,to),ir=Ga(to,gr),no=Go(/(\d{4})-(\d\d)-(\d\d)/,Tl),Yo=Go(zo),Sa=Ga(Ta,to,gr,Ns),gs=Ga(to,gr,Ns),Ft={weeks:{days:7,hours:168,minutes:10080,seconds:604800,milliseconds:6048e5},days:{hours:24,minutes:1440,seconds:86400,milliseconds:864e5},hours:{minutes:60,seconds:3600,milliseconds:36e5},minutes:{seconds:60,milliseconds:6e4},seconds:{milliseconds:1e3}},qa=Object.assign({years:{months:12,weeks:52,days:365,hours:8760,minutes:525600,seconds:31536e3,milliseconds:31536e6},quarters:{months:3,weeks:13,days:91,hours:2184,minutes:131040,milliseconds:78624e5},months:{weeks:4,days:30,hours:720,minutes:43200,seconds:2592e3,milliseconds:2592e6}},Ft),Ur=365.2425,_s=30.436875,gu=Object.assign({years:{months:12,weeks:Ur/7,days:Ur,hours:24*Ur,minutes:525949.2,seconds:525949.2*60,milliseconds:525949.2*60*1e3},quarters:{months:3,weeks:Ur/28,days:Ur/4,hours:24*Ur/4,minutes:131487.3,seconds:525949.2*60/4,milliseconds:7889237999.999999},months:{weeks:_s/7,days:_s,hours:24*_s,minutes:43829.1,seconds:2629746,milliseconds:2629746e3}},Ft),ys=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],ld=ys.slice(0).reverse();function vs(C,R,I){void 0===I&&(I=!1);var b={values:I?R.values:Object.assign({},C.values,R.values||{}),loc:C.loc.clone(R.loc),conversionAccuracy:R.conversionAccuracy||C.conversionAccuracy};return new ln(b)}function an(C,R,I,b,x){var N=C[x][I],G=R[I]/N,le=Math.sign(G)!==Math.sign(b[x])&&0!==b[x]&&Math.abs(G)<=1?function $e(C){return C<0?Math.floor(C):Math.ceil(C)}(G):Math.trunc(G);b[x]+=le,R[I]-=le*N}function _u(C,R){ld.reduce(function(I,b){return Zt(R[b])?I:(I&&an(C,R,I,R,b),b)},null)}var ln=function(){function C(I){var b="longterm"===I.conversionAccuracy||!1;this.values=I.values,this.loc=I.loc||pi.create(),this.conversionAccuracy=b?"longterm":"casual",this.invalid=I.invalid||null,this.matrix=b?gu:qa,this.isLuxonDuration=!0}C.fromMillis=function(b,x){return C.fromObject(Object.assign({milliseconds:b},x))},C.fromObject=function(b){if(null==b||"object"!=typeof b)throw new Je("Duration.fromObject: argument expected to be an object, got "+(null===b?"null":typeof b));return new C({values:ai(b,C.normalizeUnit,["locale","numberingSystem","conversionAccuracy","zone"]),loc:pi.fromObject(b),conversionAccuracy:b.conversionAccuracy})},C.fromISO=function(b,x){var N=function Rr(C){return Cl(C,[Dl,za])}(b),G=N[0];if(G){var Q=Object.assign(G,x);return C.fromObject(Q)}return C.invalid("unparsable",'the input "'+b+"\" can't be parsed as ISO 8601")},C.invalid=function(b,x){if(void 0===x&&(x=null),!b)throw new Je("need to specify a reason the Duration is invalid");var N=b instanceof kr?b:new kr(b,x);if(Zn.throwOnInvalid)throw new Oe(N);return new C({invalid:N})},C.normalizeUnit=function(b){var x={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[b&&b.toLowerCase()];if(!x)throw new gt(b);return x},C.isDuration=function(b){return b&&b.isLuxonDuration||!1};var R=C.prototype;return R.toFormat=function(b,x){void 0===x&&(x={});var N=Object.assign({},x,{floor:!1!==x.round&&!1!==x.floor});return this.isValid?Hn.create(this.loc,N).formatDurationFromString(this,b):"Invalid Duration"},R.toObject=function(b){if(void 0===b&&(b={}),!this.isValid)return{};var x=Object.assign({},this.values);return b.includeConfig&&(x.conversionAccuracy=this.conversionAccuracy,x.numberingSystem=this.loc.numberingSystem,x.locale=this.loc.locale),x},R.toISO=function(){if(!this.isValid)return null;var b="P";return 0!==this.years&&(b+=this.years+"Y"),(0!==this.months||0!==this.quarters)&&(b+=this.months+3*this.quarters+"M"),0!==this.weeks&&(b+=this.weeks+"W"),0!==this.days&&(b+=this.days+"D"),(0!==this.hours||0!==this.minutes||0!==this.seconds||0!==this.milliseconds)&&(b+="T"),0!==this.hours&&(b+=this.hours+"H"),0!==this.minutes&&(b+=this.minutes+"M"),(0!==this.seconds||0!==this.milliseconds)&&(b+=en(this.seconds+this.milliseconds/1e3,3)+"S"),"P"===b&&(b+="T0S"),b},R.toJSON=function(){return this.toISO()},R.toString=function(){return this.toISO()},R.valueOf=function(){return this.as("milliseconds")},R.plus=function(b){if(!this.isValid)return this;for(var Q,x=Fs(b),N={},G=st(ys);!(Q=G()).done;){var le=Q.value;(ei(x.values,le)||ei(this.values,le))&&(N[le]=x.get(le)+this.get(le))}return vs(this,{values:N},!0)},R.minus=function(b){if(!this.isValid)return this;var x=Fs(b);return this.plus(x.negate())},R.mapUnits=function(b){if(!this.isValid)return this;for(var x={},N=0,G=Object.keys(this.values);N<G.length;N++){var Q=G[N];x[Q]=Nt(b(this.values[Q],Q))}return vs(this,{values:x},!0)},R.get=function(b){return this[C.normalizeUnit(b)]},R.set=function(b){return this.isValid?vs(this,{values:Object.assign(this.values,ai(b,C.normalizeUnit,[]))}):this},R.reconfigure=function(b){var x=void 0===b?{}:b,Q=x.conversionAccuracy,ke={loc:this.loc.clone({locale:x.locale,numberingSystem:x.numberingSystem})};return Q&&(ke.conversionAccuracy=Q),vs(this,ke)},R.as=function(b){return this.isValid?this.shiftTo(b).get(b):NaN},R.normalize=function(){if(!this.isValid)return this;var b=this.toObject();return _u(this.matrix,b),vs(this,{values:b},!0)},R.shiftTo=function(){for(var b=arguments.length,x=new Array(b),N=0;N<b;N++)x[N]=arguments[N];if(!this.isValid)return this;if(0===x.length)return this;x=x.map(function(Ni){return C.normalizeUnit(Ni)});var ke,G={},Q={},le=this.toObject();_u(this.matrix,le);for(var be,We=st(ys);!(be=We()).done;){var ot=be.value;if(x.indexOf(ot)>=0){ke=ot;var Tt=0;for(var vn in Q)Tt+=this.matrix[vn][ot]*Q[vn],Q[vn]=0;_i(le[ot])&&(Tt+=le[ot]);var hn=Math.trunc(Tt);for(var Ht in G[ot]=hn,Q[ot]=Tt-hn,le)ys.indexOf(Ht)>ys.indexOf(ot)&&an(this.matrix,le,Ht,G,ot)}else _i(le[ot])&&(Q[ot]=le[ot])}for(var jt in Q)0!==Q[jt]&&(G[ke]+=jt===ke?Q[jt]:Q[jt]/this.matrix[ke][jt]);return vs(this,{values:G},!0).normalize()},R.negate=function(){if(!this.isValid)return this;for(var b={},x=0,N=Object.keys(this.values);x<N.length;x++){var G=N[x];b[G]=-this.values[G]}return vs(this,{values:b},!0)},R.equals=function(b){if(!this.isValid||!b.isValid||!this.loc.equals(b.loc))return!1;for(var N,x=st(ys);!(N=x()).done;){var G=N.value;if(this.values[G]!==b.values[G])return!1}return!0},J(C,[{key:"locale",get:function(){return this.isValid?this.loc.locale:null}},{key:"numberingSystem",get:function(){return this.isValid?this.loc.numberingSystem:null}},{key:"years",get:function(){return this.isValid?this.values.years||0:NaN}},{key:"quarters",get:function(){return this.isValid?this.values.quarters||0:NaN}},{key:"months",get:function(){return this.isValid?this.values.months||0:NaN}},{key:"weeks",get:function(){return this.isValid?this.values.weeks||0:NaN}},{key:"days",get:function(){return this.isValid?this.values.days||0:NaN}},{key:"hours",get:function(){return this.isValid?this.values.hours||0:NaN}},{key:"minutes",get:function(){return this.isValid?this.values.minutes||0:NaN}},{key:"seconds",get:function(){return this.isValid?this.values.seconds||0:NaN}},{key:"milliseconds",get:function(){return this.isValid?this.values.milliseconds||0:NaN}},{key:"isValid",get:function(){return null===this.invalid}},{key:"invalidReason",get:function(){return this.invalid?this.invalid.reason:null}},{key:"invalidExplanation",get:function(){return this.invalid?this.invalid.explanation:null}}]),C}();function Fs(C){if(_i(C))return ln.fromMillis(C);if(ln.isDuration(C))return C;if("object"==typeof C)return ln.fromObject(C);throw new Je("Unknown duration argument "+C+" of type "+typeof C)}var os="Invalid Interval",Ko=function(){function C(I){this.s=I.start,this.e=I.end,this.invalid=I.invalid||null,this.isLuxonInterval=!0}C.invalid=function(b,x){if(void 0===x&&(x=null),!b)throw new Je("need to specify a reason the Interval is invalid");var N=b instanceof kr?b:new kr(b,x);if(Zn.throwOnInvalid)throw new et(N);return new C({invalid:N})},C.fromDateTimes=function(b,x){var N=ea(b),G=ea(x),Q=function bs(C,R){return C&&C.isValid?R&&R.isValid?R<C?Ko.invalid("end before start","The end of an interval must be after its start, but you had start="+C.toISO()+" and end="+R.toISO()):null:Ko.invalid("missing or invalid end"):Ko.invalid("missing or invalid start")}(N,G);return null==Q?new C({start:N,end:G}):Q},C.after=function(b,x){var N=Fs(x),G=ea(b);return C.fromDateTimes(G,G.plus(N))},C.before=function(b,x){var N=Fs(x),G=ea(b);return C.fromDateTimes(G.minus(N),G)},C.fromISO=function(b,x){var N=(b||"").split("/",2),G=N[0],Q=N[1];if(G&&Q){var le=Di.fromISO(G,x),ke=Di.fromISO(Q,x);if(le.isValid&&ke.isValid)return C.fromDateTimes(le,ke);if(le.isValid){var We=ln.fromISO(Q,x);if(We.isValid)return C.after(le,We)}else if(ke.isValid){var be=ln.fromISO(G,x);if(be.isValid)return C.before(ke,be)}}return C.invalid("unparsable",'the input "'+b+"\" can't be parsed as ISO 8601")},C.isInterval=function(b){return b&&b.isLuxonInterval||!1};var R=C.prototype;return R.length=function(b){return void 0===b&&(b="milliseconds"),this.isValid?this.toDuration.apply(this,[b]).get(b):NaN},R.count=function(b){if(void 0===b&&(b="milliseconds"),!this.isValid)return NaN;var x=this.start.startOf(b),N=this.end.startOf(b);return Math.floor(N.diff(x,b).get(b))+1},R.hasSame=function(b){return!!this.isValid&&this.e.minus(1).hasSame(this.s,b)},R.isEmpty=function(){return this.s.valueOf()===this.e.valueOf()},R.isAfter=function(b){return!!this.isValid&&this.s>b},R.isBefore=function(b){return!!this.isValid&&this.e<=b},R.contains=function(b){return!!this.isValid&&this.s<=b&&this.e>b},R.set=function(b){var x=void 0===b?{}:b;return this.isValid?C.fromDateTimes(x.start||this.s,x.end||this.e):this},R.splitAt=function(){var b=this;if(!this.isValid)return[];for(var x=arguments.length,N=new Array(x),G=0;G<x;G++)N[G]=arguments[G];for(var Q=N.map(ea).filter(function(Tt){return b.contains(Tt)}).sort(),le=[],ke=this.s,We=0;ke<this.e;){var be=Q[We]||this.e,ot=+be>+this.e?this.e:be;le.push(C.fromDateTimes(ke,ot)),ke=ot,We+=1}return le},R.splitBy=function(b){var x=Fs(b);if(!this.isValid||!x.isValid||0===x.as("milliseconds"))return[];for(var G,Q,N=this.s,le=[];N<this.e;)G=N.plus(x),le.push(C.fromDateTimes(N,Q=+G>+this.e?this.e:G)),N=Q;return le},R.divideEqually=function(b){return this.isValid?this.splitBy(this.length()/b).slice(0,b):[]},R.overlaps=function(b){return this.e>b.s&&this.s<b.e},R.abutsStart=function(b){return!!this.isValid&&+this.e==+b.s},R.abutsEnd=function(b){return!!this.isValid&&+b.e==+this.s},R.engulfs=function(b){return!!this.isValid&&this.s<=b.s&&this.e>=b.e},R.equals=function(b){return!(!this.isValid||!b.isValid)&&this.s.equals(b.s)&&this.e.equals(b.e)},R.intersection=function(b){if(!this.isValid)return this;var x=this.s>b.s?this.s:b.s,N=this.e<b.e?this.e:b.e;return x>N?null:C.fromDateTimes(x,N)},R.union=function(b){return this.isValid?C.fromDateTimes(this.s<b.s?this.s:b.s,this.e>b.e?this.e:b.e):this},C.merge=function(b){var x=b.sort(function(Q,le){return Q.s-le.s}).reduce(function(Q,le){var ke=Q[0],We=Q[1];return We?We.overlaps(le)||We.abutsStart(le)?[ke,We.union(le)]:[ke.concat([We]),le]:[ke,le]},[[],null]),N=x[0],G=x[1];return G&&N.push(G),N},C.xor=function(b){for(var x,ot,N=null,G=0,Q=[],le=b.map(function(vn){return[{time:vn.s,type:"s"},{time:vn.e,type:"e"}]}),be=st((x=Array.prototype).concat.apply(x,le).sort(function(vn,hn){return vn.time-hn.time}));!(ot=be()).done;){var Tt=ot.value;1===(G+="s"===Tt.type?1:-1)?N=Tt.time:(N&&+N!=+Tt.time&&Q.push(C.fromDateTimes(N,Tt.time)),N=null)}return C.merge(Q)},R.difference=function(){for(var b=this,x=arguments.length,N=new Array(x),G=0;G<x;G++)N[G]=arguments[G];return C.xor([this].concat(N)).map(function(Q){return b.intersection(Q)}).filter(function(Q){return Q&&!Q.isEmpty()})},R.toString=function(){return this.isValid?"["+this.s.toISO()+" \u2013 "+this.e.toISO()+")":os},R.toISO=function(b){return this.isValid?this.s.toISO(b)+"/"+this.e.toISO(b):os},R.toISODate=function(){return this.isValid?this.s.toISODate()+"/"+this.e.toISODate():os},R.toISOTime=function(b){return this.isValid?this.s.toISOTime(b)+"/"+this.e.toISOTime(b):os},R.toFormat=function(b,x){var G=(void 0===x?{}:x).separator,Q=void 0===G?" \u2013 ":G;return this.isValid?""+this.s.toFormat(b)+Q+this.e.toFormat(b):os},R.toDuration=function(b,x){return this.isValid?this.e.diff(this.s,b,x):ln.invalid(this.invalidReason)},R.mapEndpoints=function(b){return C.fromDateTimes(b(this.s),b(this.e))},J(C,[{key:"start",get:function(){return this.isValid?this.s:null}},{key:"end",get:function(){return this.isValid?this.e:null}},{key:"isValid",get:function(){return null===this.invalidReason}},{key:"invalidReason",get:function(){return this.invalid?this.invalid.reason:null}},{key:"invalidExplanation",get:function(){return this.invalid?this.invalid.explanation:null}}]),C}(),ro=function(){function C(){}return C.hasDST=function(I){void 0===I&&(I=Zn.defaultZone);var b=Di.local().setZone(I).set({month:12});return!I.universal&&b.offset!==b.set({month:6}).offset},C.isValidIANAZone=function(I){return pr.isValidSpecifier(I)&&pr.isValidZone(I)},C.normalizeZone=function(I){return Js(I,Zn.defaultZone)},C.months=function(I,b){void 0===I&&(I="long");var x=void 0===b?{}:b,N=x.locale,Q=x.numberingSystem,ke=x.outputCalendar;return pi.create(void 0===N?null:N,void 0===Q?null:Q,void 0===ke?"gregory":ke).months(I)},C.monthsFormat=function(I,b){void 0===I&&(I="long");var x=void 0===b?{}:b,N=x.locale,Q=x.numberingSystem,ke=x.outputCalendar;return pi.create(void 0===N?null:N,void 0===Q?null:Q,void 0===ke?"gregory":ke).months(I,!0)},C.weekdays=function(I,b){void 0===I&&(I="long");var x=void 0===b?{}:b,N=x.locale,Q=x.numberingSystem;return pi.create(void 0===N?null:N,void 0===Q?null:Q,null).weekdays(I)},C.weekdaysFormat=function(I,b){void 0===I&&(I="long");var x=void 0===b?{}:b,N=x.locale,Q=x.numberingSystem;return pi.create(void 0===N?null:N,void 0===Q?null:Q,null).weekdays(I,!0)},C.meridiems=function(I){var x=(void 0===I?{}:I).locale;return pi.create(void 0===x?null:x).meridiems()},C.eras=function(I,b){void 0===I&&(I="short");var N=(void 0===b?{}:b).locale;return pi.create(void 0===N?null:N,null,"gregory").eras(I)},C.features=function(){var I=!1,b=!1,x=!1,N=!1;if(Xn()){I=!0,b=xr(),N=xt();try{x="America/New_York"===new Intl.DateTimeFormat("en",{timeZone:"America/New_York"}).resolvedOptions().timeZone}catch(G){x=!1}}return{intl:I,intlTokens:b,zones:x,relative:N}},C}();function cd(C,R){var I=function(N){return N.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf()},b=I(R)-I(C);return Math.floor(ln.fromMillis(b).as("days"))}var Eo={arab:"[\u0660-\u0669]",arabext:"[\u06f0-\u06f9]",bali:"[\u1b50-\u1b59]",beng:"[\u09e6-\u09ef]",deva:"[\u0966-\u096f]",fullwide:"[\uff10-\uff19]",gujr:"[\u0ae6-\u0aef]",hanidec:"[\u3007|\u4e00|\u4e8c|\u4e09|\u56db|\u4e94|\u516d|\u4e03|\u516b|\u4e5d]",khmr:"[\u17e0-\u17e9]",knda:"[\u0ce6-\u0cef]",laoo:"[\u0ed0-\u0ed9]",limb:"[\u1946-\u194f]",mlym:"[\u0d66-\u0d6f]",mong:"[\u1810-\u1819]",mymr:"[\u1040-\u1049]",orya:"[\u0b66-\u0b6f]",tamldec:"[\u0be6-\u0bef]",telu:"[\u0c66-\u0c6f]",thai:"[\u0e50-\u0e59]",tibt:"[\u0f20-\u0f29]",latn:"\\d"},ki={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},Ls=Eo.hanidec.replace(/[\[|\]]/g,"").split("");function rr(C,R){return void 0===R&&(R=""),new RegExp(""+Eo[C.numberingSystem||"latn"]+R)}function Pn(C,R){return void 0===R&&(R=function(b){return b}),{regex:C,deser:function(b){return R(function Ma(C){var R=parseInt(C,10);if(isNaN(R)){R="";for(var I=0;I<C.length;I++){var b=C.charCodeAt(I);if(-1!==C[I].search(Eo.hanidec))R+=Ls.indexOf(C[I]);else for(var x in ki){var N=ki[x],G=N[0];b>=G&&b<=N[1]&&(R+=b-G)}}return parseInt(R,10)}return R}(b[0]))}}}function xa(C){return C.replace(/\./,"\\.?")}function fc(C){return C.replace(/\./,"").toLowerCase()}function _r(C,R){return null===C?null:{regex:RegExp(C.map(xa).join("|")),deser:function(b){var x=b[0];return C.findIndex(function(N){return fc(x)===fc(N)})+R}}}function Al(C,R){return{regex:C,deser:function(b){return Sn(b[1],b[2])},groups:R}}function so(C){return{regex:C,deser:function(I){return I[0]}}}function ud(C){return C.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}var mc={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour:{numeric:"h","2-digit":"hh"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"}},_c=null;function xl(C,R,I){var b=function To(C,R){var I;return(I=Array.prototype).concat.apply(I,C.map(function(b){return function Jo(C,R){if(C.literal)return C;var I=Hn.macroTokenToFormatOpts(C.val);if(!I)return C;var N=Hn.create(R,I).formatDateTimeParts(function yu(){return _c||(_c=Di.fromMillis(1555555555555)),_c}()).map(function(G){return function Ml(C,R,I){var b=C.type;if("literal"===b)return{literal:!0,val:C.value};var G=mc[b];return"object"==typeof G&&(G=G[I[b]]),G?{literal:!1,val:G}:void 0}(G,0,I)});return N.includes(void 0)?C:N}(b,R)}))}(Hn.parseFormat(I),C),x=b.map(function(Ht){return function pc(C,R){var I=rr(R),b=rr(R,"{2}"),x=rr(R,"{3}"),N=rr(R,"{4}"),G=rr(R,"{6}"),Q=rr(R,"{1,2}"),le=rr(R,"{1,3}"),ke=rr(R,"{1,6}"),We=rr(R,"{1,9}"),be=rr(R,"{2,4}"),ot=rr(R,"{4,6}"),Tt=function(jt){return{regex:RegExp(ud(jt.val)),deser:function(fn){return fn[0]},literal:!0}},hn=function(jt){if(C.literal)return Tt(jt);switch(jt.val){case"G":return _r(R.eras("short",!1),0);case"GG":return _r(R.eras("long",!1),0);case"y":return Pn(ke);case"yy":case"kk":return Pn(be,ns);case"yyyy":case"kkkk":return Pn(N);case"yyyyy":return Pn(ot);case"yyyyyy":return Pn(G);case"M":case"L":case"d":case"H":case"h":case"m":case"q":case"s":case"W":return Pn(Q);case"MM":case"LL":case"dd":case"HH":case"hh":case"mm":case"qq":case"ss":case"WW":return Pn(b);case"MMM":return _r(R.months("short",!0,!1),1);case"MMMM":return _r(R.months("long",!0,!1),1);case"LLL":return _r(R.months("short",!1,!1),1);case"LLLL":return _r(R.months("long",!1,!1),1);case"o":case"S":return Pn(le);case"ooo":case"SSS":return Pn(x);case"u":return so(We);case"a":return _r(R.meridiems(),0);case"E":case"c":return Pn(I);case"EEE":return _r(R.weekdays("short",!1,!1),1);case"EEEE":return _r(R.weekdays("long",!1,!1),1);case"ccc":return _r(R.weekdays("short",!0,!1),1);case"cccc":return _r(R.weekdays("long",!0,!1),1);case"Z":case"ZZ":return Al(new RegExp("([+-]"+Q.source+")(?::("+b.source+"))?"),2);case"ZZZ":return Al(new RegExp("([+-]"+Q.source+")("+b.source+")?"),2);case"z":return so(/[a-z_+-/]{1,256}?/i);default:return Tt(jt)}}(C)||{invalidReason:"missing Intl.DateTimeFormat.formatToParts support"};return hn.token=C,hn}(Ht,C)}),N=x.find(function(Ht){return Ht.invalidReason});if(N)return{input:R,tokens:b,invalidReason:N.invalidReason};var G=function Wa(C){return["^"+C.map(function(I){return I.regex}).reduce(function(I,b){return I+"("+b.source+")"},"")+"$",C]}(x),le=G[1],ke=RegExp(G[0],"i"),We=function Qo(C,R,I){var b=C.match(R);if(b){var x={},N=1;for(var G in I)if(ei(I,G)){var Q=I[G],le=Q.groups?Q.groups+1:1;!Q.literal&&Q.token&&(x[Q.token.val[0]]=Q.deser(b.slice(N,N+le))),N+=le}return[b,x]}return[b,{}]}(R,ke,le),be=We[0],ot=We[1],Tt=ot?function gc(C){var I;return I=Zt(C.Z)?Zt(C.z)?null:pr.create(C.z):new nr(C.Z),Zt(C.q)||(C.M=3*(C.q-1)+1),Zt(C.h)||(C.h<12&&1===C.a?C.h+=12:12===C.h&&0===C.a&&(C.h=0)),0===C.G&&C.y&&(C.y=-C.y),Zt(C.u)||(C.S=Rs(C.u)),[Object.keys(C).reduce(function(x,N){var G=function(N){switch(N){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}}(N);return G&&(x[G]=C[N]),x},{}),I]}(ot):[null,null],vn=Tt[0],hn=Tt[1];if(ei(ot,"a")&&ei(ot,"H"))throw new Be("Can't include meridiem when specifying 24-hour format");return{input:R,tokens:b,regex:ke,rawMatches:be,matches:ot,result:vn,zone:hn}}var oo=[0,31,59,90,120,151,181,212,243,273,304,334],wi=[0,31,60,91,121,152,182,213,244,274,305,335];function jr(C,R){return new kr("unit out of range","you specified "+R+" (of type "+typeof R+") as a "+C+", which is invalid")}function gp(C,R,I){var b=new Date(Date.UTC(C,R-1,I)).getUTCDay();return 0===b?7:b}function Ah(C,R,I){return I+(Dt(C)?wi:oo)[R-1]}function kl(C,R){var I=Dt(C)?wi:oo,b=I.findIndex(function(N){return N<R});return{month:b+1,day:R-I[b]}}function Rl(C){var Q,R=C.year,I=C.month,b=C.day,x=Ah(R,I,b),N=gp(R,I,b),G=Math.floor((x-N+10)/7);return G<1?G=sn(Q=R-1):G>sn(R)?(Q=R+1,G=1):Q=R,Object.assign({weekYear:Q,weekNumber:G,weekday:N},at(C))}function Do(C){var Q,R=C.weekYear,I=C.weekNumber,b=C.weekday,x=gp(R,1,4),N=vt(R),G=7*I+b-x-3;G<1?G+=vt(Q=R-1):G>N?(Q=R+1,G-=vt(R)):Q=R;var le=kl(Q,G);return Object.assign({year:Q,month:le.month,day:le.day},at(C))}function Xo(C){var R=C.year,x=Ah(R,C.month,C.day);return Object.assign({year:R,ordinal:x},at(C))}function Ol(C){var R=C.year,b=kl(R,C.ordinal);return Object.assign({year:R,month:b.month,day:b.day},at(C))}function yc(C){var R=Vr(C.year),I=Ei(C.month,1,12),b=Ei(C.day,1,er(C.year,C.month));return R?I?!b&&jr("day",C.day):jr("month",C.month):jr("year",C.year)}function vc(C){var R=C.hour,I=C.minute,b=C.second,x=C.millisecond,N=Ei(R,0,23)||24===R&&0===I&&0===b&&0===x,G=Ei(I,0,59),Q=Ei(b,0,59),le=Ei(x,0,999);return N?G?Q?!le&&jr("millisecond",x):jr("second",b):jr("minute",I):jr("hour",R)}var ws="Invalid DateTime",Za=864e13;function Io(C){return new kr("unsupported zone",'the zone "'+C.name+'" is not supported')}function bc(C){return null===C.weekData&&(C.weekData=Rl(C.c)),C.weekData}function Gr(C,R){var I={ts:C.ts,zone:C.zone,c:C.c,o:C.o,loc:C.loc,invalid:C.invalid};return new Di(Object.assign({},I,R,{old:I}))}function Pl(C,R,I){var b=C-60*R*1e3,x=I.offset(b);if(R===x)return[b,R];var N=I.offset(b-=60*(x-R)*1e3);return x===N?[b,x]:[C-60*Math.min(x,N)*1e3,Math.max(x,N)]}function wc(C,R){var I=new Date(C+=60*R*1e3);return{year:I.getUTCFullYear(),month:I.getUTCMonth()+1,day:I.getUTCDate(),hour:I.getUTCHours(),minute:I.getUTCMinutes(),second:I.getUTCSeconds(),millisecond:I.getUTCMilliseconds()}}function vu(C,R,I){return Pl(ts(C),R,I)}function Pe(C,R){var I,b=Object.keys(R.values);-1===b.indexOf("milliseconds")&&b.push("milliseconds"),R=(I=R).shiftTo.apply(I,b);var x=C.o,N=C.c.year+R.years,G=C.c.month+R.months+3*R.quarters,Q=Object.assign({},C.c,{year:N,month:G,day:Math.min(C.c.day,er(N,G))+R.days+7*R.weeks}),le=ln.fromObject({hours:R.hours,minutes:R.minutes,seconds:R.seconds,milliseconds:R.milliseconds}).as("milliseconds"),We=Pl(ts(Q),x,C.zone),be=We[0],ot=We[1];return 0!==le&&(ot=C.zone.offset(be+=le)),{ts:be,o:ot}}function yr(C,R,I,b,x){var N=I.setZone,G=I.zone;if(C&&0!==Object.keys(C).length){var le=Di.fromObject(Object.assign(C,I,{zone:R||G,setZone:void 0}));return N?le:le.setZone(G)}return Di.invalid(new kr("unparsable",'the input "'+x+"\" can't be parsed as "+b))}function j(C,R,I){return void 0===I&&(I=!0),C.isValid?Hn.create(pi.create("en-US"),{allowZ:I,forceSimple:!0}).formatDateTimeFromString(C,R):null}function Wi(C,R){var I=R.suppressSeconds,x=R.suppressMilliseconds,G=R.includeOffset,Q=R.includeZone,le=void 0!==Q&&Q,ke=R.spaceZone,be=R.format,ot=void 0===be?"extended":be,Tt="basic"===ot?"HHmm":"HH:mm";return(!(void 0!==I&&I)||0!==C.second||0!==C.millisecond)&&(Tt+="basic"===ot?"ss":":ss",(!(void 0!==x&&x)||0!==C.millisecond)&&(Tt+=".SSS")),(le||G)&&void 0!==ke&&ke&&(Tt+=" "),le?Tt+="z":G&&(Tt+="basic"===ot?"ZZZ":"ZZ"),j(C,Tt)}var Nr={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},Oi={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},bu={ordinal:1,hour:0,minute:0,second:0,millisecond:0},di=["year","month","day","hour","minute","second","millisecond"],ni=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],gi=["year","ordinal","hour","minute","second","millisecond"];function ii(C){var R={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[C.toLowerCase()];if(!R)throw new gt(C);return R}function Zi(C,R){for(var b,I=st(di);!(b=I()).done;){var x=b.value;Zt(C[x])&&(C[x]=Nr[x])}var N=yc(C)||vc(C);if(N)return Di.invalid(N);var G=Zn.now(),le=vu(C,R.offset(G),R);return new Di({ts:le[0],zone:R,o:le[1]})}function So(C,R,I){var b=!!Zt(I.round)||I.round,x=function(be,ot){return be=en(be,b||I.calendary?0:2,!0),R.loc.clone(I).relFormatter(I).format(be,ot)},N=function(be){return I.calendary?R.hasSame(C,be)?0:R.startOf(be).diff(C.startOf(be),be).get(be):R.diff(C,be).get(be)};if(I.unit)return x(N(I.unit),I.unit);for(var Q,G=st(I.units);!(Q=G()).done;){var le=Q.value,ke=N(le);if(Math.abs(ke)>=1)return x(ke,le)}return x(0,I.units[I.units.length-1])}var Di=function(){function C(I){var b=I.zone||Zn.defaultZone,x=I.invalid||(Number.isNaN(I.ts)?new kr("invalid input"):null)||(b.isValid?null:Io(b));this.ts=Zt(I.ts)?Zn.now():I.ts;var N=null,G=null;if(!x)if(I.old&&I.old.ts===this.ts&&I.old.zone.equals(b)){var le=[I.old.c,I.old.o];N=le[0],G=le[1]}else{var ke=b.offset(this.ts);N=wc(this.ts,ke),N=(x=Number.isNaN(N.year)?new kr("invalid input"):null)?null:N,G=x?null:ke}this._zone=b,this.loc=I.loc||pi.create(),this.invalid=x,this.weekData=null,this.c=N,this.o=G,this.isLuxonDateTime=!0}C.local=function(b,x,N,G,Q,le,ke){return Zt(b)?new C({ts:Zn.now()}):Zi({year:b,month:x,day:N,hour:G,minute:Q,second:le,millisecond:ke},Zn.defaultZone)},C.utc=function(b,x,N,G,Q,le,ke){return Zt(b)?new C({ts:Zn.now(),zone:nr.utcInstance}):Zi({year:b,month:x,day:N,hour:G,minute:Q,second:le,millisecond:ke},nr.utcInstance)},C.fromJSDate=function(b,x){void 0===x&&(x={});var N=function zi(C){return"[object Date]"===Object.prototype.toString.call(C)}(b)?b.valueOf():NaN;if(Number.isNaN(N))return C.invalid("invalid input");var G=Js(x.zone,Zn.defaultZone);return G.isValid?new C({ts:N,zone:G,loc:pi.fromObject(x)}):C.invalid(Io(G))},C.fromMillis=function(b,x){if(void 0===x&&(x={}),_i(b))return b<-Za||b>Za?C.invalid("Timestamp out of range"):new C({ts:b,zone:Js(x.zone,Zn.defaultZone),loc:pi.fromObject(x)});throw new Je("fromMillis requires a numerical input, but received a "+typeof b+" with value "+b)},C.fromSeconds=function(b,x){if(void 0===x&&(x={}),_i(b))return new C({ts:1e3*b,zone:Js(x.zone,Zn.defaultZone),loc:pi.fromObject(x)});throw new Je("fromSeconds requires a numerical input")},C.fromObject=function(b){var x=Js(b.zone,Zn.defaultZone);if(!x.isValid)return C.invalid(Io(x));var N=Zn.now(),G=x.offset(N),Q=ai(b,ii,["zone","locale","outputCalendar","numberingSystem"]),le=!Zt(Q.ordinal),ke=!Zt(Q.year),We=!Zt(Q.month)||!Zt(Q.day),be=ke||We,ot=Q.weekYear||Q.weekNumber,Tt=pi.fromObject(b);if((be||le)&&ot)throw new Be("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(We&&le)throw new Be("Can't mix ordinal dates with month/day");var hn,Ht,vn=ot||Q.weekday&&!be,jt=wc(N,G);vn?(hn=ni,Ht=Oi,jt=Rl(jt)):le?(hn=gi,Ht=bu,jt=Xo(jt)):(hn=di,Ht=Nr);for(var Bn,Ni=!1,fn=st(hn);!(Bn=fn()).done;){var Ao=Bn.value;Zt(Q[Ao])?Q[Ao]=Ni?Ht[Ao]:jt[Ao]:Ni=!0}var Cc=vn?function Nl(C){var R=Vr(C.weekYear),I=Ei(C.weekNumber,1,sn(C.weekYear)),b=Ei(C.weekday,1,7);return R?I?!b&&jr("weekday",C.weekday):jr("week",C.week):jr("weekYear",C.weekYear)}(Q):le?function Ri(C){var R=Vr(C.year),I=Ei(C.ordinal,1,vt(C.year));return R?!I&&jr("ordinal",C.ordinal):jr("year",C.year)}(Q):yc(Q),Mo=Cc||vc(Q);if(Mo)return C.invalid(Mo);var Cs=vu(vn?Do(Q):le?Ol(Q):Q,G,x),Vs=new C({ts:Cs[0],zone:x,o:Cs[1],loc:Tt});return Q.weekday&&be&&b.weekday!==Vs.weekday?C.invalid("mismatched weekday","you can't specify both a weekday of "+Q.weekday+" and a date of "+Vs.toISO()):Vs},C.fromISO=function(b,x){void 0===x&&(x={});var N=function xi(C){return Cl(C,[ti,dc],[Wo,Ia],[Zo,Co],[Yn,ir])}(b);return yr(N[0],N[1],x,"ISO 8601",b)},C.fromRFC2822=function(b,x){void 0===x&&(x={});var N=function Sl(C){return Cl(function cc(C){return C.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}(C),[Sh,Da])}(b);return yr(N[0],N[1],x,"RFC 2822",b)},C.fromHTTP=function(b,x){void 0===x&&(x={});var N=function ss(C){return Cl(C,[mu,wo],[Il,wo],[bo,uc])}(b);return yr(N[0],N[1],x,"HTTP",x)},C.fromFormat=function(b,x,N){if(void 0===N&&(N={}),Zt(b)||Zt(x))throw new Je("fromFormat requires an input string and a format");var Q=N.locale,ke=N.numberingSystem,ot=function Or(C,R,I){var b=xl(C,R,I);return[b.result,b.zone,b.invalidReason]}(pi.fromOpts({locale:void 0===Q?null:Q,numberingSystem:void 0===ke?null:ke,defaultToEN:!0}),b,x),Tt=ot[0],vn=ot[1],hn=ot[2];return hn?C.invalid(hn):yr(Tt,vn,N,"format "+x,b)},C.fromString=function(b,x,N){return void 0===N&&(N={}),C.fromFormat(b,x,N)},C.fromSQL=function(b,x){void 0===x&&(x={});var N=function Ps(C){return Cl(C,[no,Sa],[Yo,gs])}(b);return yr(N[0],N[1],x,"SQL",b)},C.invalid=function(b,x){if(void 0===x&&(x=null),!b)throw new Je("need to specify a reason the DateTime is invalid");var N=b instanceof kr?b:new kr(b,x);if(Zn.throwOnInvalid)throw new Qe(N);return new C({invalid:N})},C.isDateTime=function(b){return b&&b.isLuxonDateTime||!1};var R=C.prototype;return R.get=function(b){return this[b]},R.resolvedLocaleOpts=function(b){void 0===b&&(b={});var x=Hn.create(this.loc.clone(b),b).resolvedOptions(this);return{locale:x.locale,numberingSystem:x.numberingSystem,outputCalendar:x.calendar}},R.toUTC=function(b,x){return void 0===b&&(b=0),void 0===x&&(x={}),this.setZone(nr.instance(b),x)},R.toLocal=function(){return this.setZone(Zn.defaultZone)},R.setZone=function(b,x){var N=void 0===x?{}:x,G=N.keepLocalTime,Q=void 0!==G&&G,le=N.keepCalendarTime,ke=void 0!==le&&le;if((b=Js(b,Zn.defaultZone)).equals(this.zone))return this;if(b.isValid){var We=this.ts;if(Q||ke){var be=b.offset(this.ts);We=vu(this.toObject(),be,b)[0]}return Gr(this,{ts:We,zone:b})}return C.invalid(Io(b))},R.reconfigure=function(b){var x=void 0===b?{}:b;return Gr(this,{loc:this.loc.clone({locale:x.locale,numberingSystem:x.numberingSystem,outputCalendar:x.outputCalendar})})},R.setLocale=function(b){return this.reconfigure({locale:b})},R.set=function(b){if(!this.isValid)return this;var G,x=ai(b,ii,[]);Zt(x.weekYear)&&Zt(x.weekNumber)&&Zt(x.weekday)?Zt(x.ordinal)?(G=Object.assign(this.toObject(),x),Zt(x.day)&&(G.day=Math.min(er(G.year,G.month),G.day))):G=Ol(Object.assign(Xo(this.c),x)):G=Do(Object.assign(Rl(this.c),x));var Q=vu(G,this.o,this.zone);return Gr(this,{ts:Q[0],o:Q[1]})},R.plus=function(b){return this.isValid?Gr(this,Pe(this,Fs(b))):this},R.minus=function(b){return this.isValid?Gr(this,Pe(this,Fs(b).negate())):this},R.startOf=function(b){if(!this.isValid)return this;var x={},N=ln.normalizeUnit(b);switch(N){case"years":x.month=1;case"quarters":case"months":x.day=1;case"weeks":case"days":x.hour=0;case"hours":x.minute=0;case"minutes":x.second=0;case"seconds":x.millisecond=0}if("weeks"===N&&(x.weekday=1),"quarters"===N){var G=Math.ceil(this.month/3);x.month=3*(G-1)+1}return this.set(x)},R.endOf=function(b){var x;return this.isValid?this.plus((x={},x[b]=1,x)).startOf(b).minus(1):this},R.toFormat=function(b,x){return void 0===x&&(x={}),this.isValid?Hn.create(this.loc.redefaultToEN(x)).formatDateTimeFromString(this,b):ws},R.toLocaleString=function(b){return void 0===b&&(b=me),this.isValid?Hn.create(this.loc.clone(b),b).formatDateTime(this):ws},R.toLocaleParts=function(b){return void 0===b&&(b={}),this.isValid?Hn.create(this.loc.clone(b),b).formatDateTimeParts(this):[]},R.toISO=function(b){return void 0===b&&(b={}),this.isValid?this.toISODate(b)+"T"+this.toISOTime(b):null},R.toISODate=function(b){var N=(void 0===b?{}:b).format,Q="basic"===(void 0===N?"extended":N)?"yyyyMMdd":"yyyy-MM-dd";return this.year>9999&&(Q="+"+Q),j(this,Q)},R.toISOWeekDate=function(){return j(this,"kkkk-'W'WW-c")},R.toISOTime=function(b){var x=void 0===b?{}:b,N=x.suppressMilliseconds,Q=x.suppressSeconds,ke=x.includeOffset,be=x.format;return Wi(this,{suppressSeconds:void 0!==Q&&Q,suppressMilliseconds:void 0!==N&&N,includeOffset:void 0===ke||ke,format:void 0===be?"extended":be})},R.toRFC2822=function(){return j(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)},R.toHTTP=function(){return j(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")},R.toSQLDate=function(){return j(this,"yyyy-MM-dd")},R.toSQLTime=function(b){var x=void 0===b?{}:b,N=x.includeOffset,Q=x.includeZone;return Wi(this,{includeOffset:void 0===N||N,includeZone:void 0!==Q&&Q,spaceZone:!0})},R.toSQL=function(b){return void 0===b&&(b={}),this.isValid?this.toSQLDate()+" "+this.toSQLTime(b):null},R.toString=function(){return this.isValid?this.toISO():ws},R.valueOf=function(){return this.toMillis()},R.toMillis=function(){return this.isValid?this.ts:NaN},R.toSeconds=function(){return this.isValid?this.ts/1e3:NaN},R.toJSON=function(){return this.toISO()},R.toBSON=function(){return this.toJSDate()},R.toObject=function(b){if(void 0===b&&(b={}),!this.isValid)return{};var x=Object.assign({},this.c);return b.includeConfig&&(x.outputCalendar=this.outputCalendar,x.numberingSystem=this.loc.numberingSystem,x.locale=this.loc.locale),x},R.toJSDate=function(){return new Date(this.isValid?this.ts:NaN)},R.diff=function(b,x,N){if(void 0===x&&(x="milliseconds"),void 0===N&&(N={}),!this.isValid||!b.isValid)return ln.invalid(this.invalid||b.invalid,"created by diffing an invalid DateTime");var G=Object.assign({locale:this.locale,numberingSystem:this.numberingSystem},N),Q=function hr(C){return Array.isArray(C)?C:[C]}(x).map(ln.normalizeUnit),le=b.valueOf()>this.valueOf(),be=function Aa(C,R,I,b){var be,x=function hc(C,R,I){for(var N,G,x={},Q=0,le=[["years",function(hn,Ht){return Ht.year-hn.year}],["months",function(hn,Ht){return Ht.month-hn.month+12*(Ht.year-hn.year)}],["weeks",function(hn,Ht){var jt=cd(hn,Ht);return(jt-jt%7)/7}],["days",cd]];Q<le.length;Q++){var ke=le[Q],We=ke[0],be=ke[1];if(I.indexOf(We)>=0){var ot;N=We;var vn,Tt=be(C,R);(G=C.plus(((ot={})[We]=Tt,ot)))>R?(C=C.plus(((vn={})[We]=Tt-1,vn)),Tt-=1):C=G,x[We]=Tt}}return[C,x,G,N]}(C,R,I),N=x[0],G=x[1],Q=x[2],le=x[3],ke=R-N,We=I.filter(function(vn){return["hours","minutes","seconds","milliseconds"].indexOf(vn)>=0});0===We.length&&(Q<R&&(Q=N.plus(((be={})[le]=1,be))),Q!==N&&(G[le]=(G[le]||0)+ke/(Q-N)));var Tt,ot=ln.fromObject(Object.assign(G,b));return We.length>0?(Tt=ln.fromMillis(ke,b)).shiftTo.apply(Tt,We).plus(ot):ot}(le?this:b,le?b:this,Q,G);return le?be.negate():be},R.diffNow=function(b,x){return void 0===b&&(b="milliseconds"),void 0===x&&(x={}),this.diff(C.local(),b,x)},R.until=function(b){return this.isValid?Ko.fromDateTimes(this,b):this},R.hasSame=function(b,x){if(!this.isValid)return!1;if("millisecond"===x)return this.valueOf()===b.valueOf();var N=b.valueOf();return this.startOf(x)<=N&&N<=this.endOf(x)},R.equals=function(b){return this.isValid&&b.isValid&&this.valueOf()===b.valueOf()&&this.zone.equals(b.zone)&&this.loc.equals(b.loc)},R.toRelative=function(b){if(void 0===b&&(b={}),!this.isValid)return null;var x=b.base||C.fromObject({zone:this.zone});return So(x,this.plus(b.padding?this<x?-b.padding:b.padding:0),Object.assign(b,{numeric:"always",units:["years","months","days","hours","minutes","seconds"]}))},R.toRelativeCalendar=function(b){return void 0===b&&(b={}),this.isValid?So(b.base||C.fromObject({zone:this.zone}),this,Object.assign(b,{numeric:"auto",units:["years","months","days"],calendary:!0})):null},C.min=function(){for(var b=arguments.length,x=new Array(b),N=0;N<b;N++)x[N]=arguments[N];if(!x.every(C.isDateTime))throw new Je("min requires all arguments be DateTimes");return yi(x,function(G){return G.valueOf()},Math.min)},C.max=function(){for(var b=arguments.length,x=new Array(b),N=0;N<b;N++)x[N]=arguments[N];if(!x.every(C.isDateTime))throw new Je("max requires all arguments be DateTimes");return yi(x,function(G){return G.valueOf()},Math.max)},C.fromFormatExplain=function(b,x,N){void 0===N&&(N={});var Q=N.locale,ke=N.numberingSystem;return xl(pi.fromOpts({locale:void 0===Q?null:Q,numberingSystem:void 0===ke?null:ke,defaultToEN:!0}),b,x)},C.fromStringExplain=function(b,x,N){return void 0===N&&(N={}),C.fromFormatExplain(b,x,N)},J(C,[{key:"isValid",get:function(){return null===this.invalid}},{key:"invalidReason",get:function(){return this.invalid?this.invalid.reason:null}},{key:"invalidExplanation",get:function(){return this.invalid?this.invalid.explanation:null}},{key:"locale",get:function(){return this.isValid?this.loc.locale:null}},{key:"numberingSystem",get:function(){return this.isValid?this.loc.numberingSystem:null}},{key:"outputCalendar",get:function(){return this.isValid?this.loc.outputCalendar:null}},{key:"zone",get:function(){return this._zone}},{key:"zoneName",get:function(){return this.isValid?this.zone.name:null}},{key:"year",get:function(){return this.isValid?this.c.year:NaN}},{key:"quarter",get:function(){return this.isValid?Math.ceil(this.c.month/3):NaN}},{key:"month",get:function(){return this.isValid?this.c.month:NaN}},{key:"day",get:function(){return this.isValid?this.c.day:NaN}},{key:"hour",get:function(){return this.isValid?this.c.hour:NaN}},{key:"minute",get:function(){return this.isValid?this.c.minute:NaN}},{key:"second",get:function(){return this.isValid?this.c.second:NaN}},{key:"millisecond",get:function(){return this.isValid?this.c.millisecond:NaN}},{key:"weekYear",get:function(){return this.isValid?bc(this).weekYear:NaN}},{key:"weekNumber",get:function(){return this.isValid?bc(this).weekNumber:NaN}},{key:"weekday",get:function(){return this.isValid?bc(this).weekday:NaN}},{key:"ordinal",get:function(){return this.isValid?Xo(this.c).ordinal:NaN}},{key:"monthShort",get:function(){return this.isValid?ro.months("short",{locale:this.locale})[this.month-1]:null}},{key:"monthLong",get:function(){return this.isValid?ro.months("long",{locale:this.locale})[this.month-1]:null}},{key:"weekdayShort",get:function(){return this.isValid?ro.weekdays("short",{locale:this.locale})[this.weekday-1]:null}},{key:"weekdayLong",get:function(){return this.isValid?ro.weekdays("long",{locale:this.locale})[this.weekday-1]:null}},{key:"offset",get:function(){return this.isValid?+this.o:NaN}},{key:"offsetNameShort",get:function(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}},{key:"offsetNameLong",get:function(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}},{key:"isOffsetFixed",get:function(){return this.isValid?this.zone.universal:null}},{key:"isInDST",get:function(){return!this.isOffsetFixed&&(this.offset>this.set({month:1}).offset||this.offset>this.set({month:5}).offset)}},{key:"isInLeapYear",get:function(){return Dt(this.year)}},{key:"daysInMonth",get:function(){return er(this.year,this.month)}},{key:"daysInYear",get:function(){return this.isValid?vt(this.year):NaN}},{key:"weeksInWeekYear",get:function(){return this.isValid?sn(this.weekYear):NaN}}],[{key:"DATE_SHORT",get:function(){return me}},{key:"DATE_MED",get:function(){return ft}},{key:"DATE_FULL",get:function(){return ue}},{key:"DATE_HUGE",get:function(){return Se}},{key:"TIME_SIMPLE",get:function(){return De}},{key:"TIME_WITH_SECONDS",get:function(){return Ae}},{key:"TIME_WITH_SHORT_OFFSET",get:function(){return Ye}},{key:"TIME_WITH_LONG_OFFSET",get:function(){return we}},{key:"TIME_24_SIMPLE",get:function(){return Vt}},{key:"TIME_24_WITH_SECONDS",get:function(){return En}},{key:"TIME_24_WITH_SHORT_OFFSET",get:function(){return fi}},{key:"TIME_24_WITH_LONG_OFFSET",get:function(){return It}},{key:"DATETIME_SHORT",get:function(){return St}},{key:"DATETIME_SHORT_WITH_SECONDS",get:function(){return Ln}},{key:"DATETIME_MED",get:function(){return Nn}},{key:"DATETIME_MED_WITH_SECONDS",get:function(){return Mr}},{key:"DATETIME_MED_WITH_WEEKDAY",get:function(){return In}},{key:"DATETIME_FULL",get:function(){return _n}},{key:"DATETIME_FULL_WITH_SECONDS",get:function(){return Tn}},{key:"DATETIME_HUGE",get:function(){return Jn}},{key:"DATETIME_HUGE_WITH_SECONDS",get:function(){return Si}}]),C}();function ea(C){if(Di.isDateTime(C))return C;if(C&&C.valueOf&&_i(C.valueOf()))return Di.fromJSDate(C);if(C&&"object"==typeof C)return Di.fromObject(C);throw new Je("Unknown datetime argument: "+C+", of type "+typeof C)}He.ou=Di,He.kI=ro},8306:(Rt,He,$)=>{$.d(He,{y:()=>re});var a=$(930),J=$(727),U=$(8822),ye=$(4671);var fe=$(2416),Te=$(576),xe=$(2806);let re=(()=>{class Ge{constructor(et){et&&(this._subscribe=et)}lift(et){const Oe=new Ge;return Oe.source=this,Oe.operator=et,Oe}subscribe(et,Oe,Be){const gt=function st(Ge){return Ge&&Ge instanceof a.Lv||function _e(Ge){return Ge&&(0,Te.m)(Ge.next)&&(0,Te.m)(Ge.error)&&(0,Te.m)(Ge.complete)}(Ge)&&(0,J.Nn)(Ge)}(et)?et:new a.Hp(et,Oe,Be);return(0,xe.x)(()=>{const{operator:Je,source:je}=this;gt.add(Je?Je.call(gt,je):je?this._subscribe(gt):this._trySubscribe(gt))}),gt}_trySubscribe(et){try{return this._subscribe(et)}catch(Oe){et.error(Oe)}}forEach(et,Oe){return new(Oe=ne(Oe))((Be,gt)=>{const Je=new a.Hp({next:je=>{try{et(je)}catch(ce){gt(ce),Je.unsubscribe()}},error:gt,complete:Be});this.subscribe(Je)})}_subscribe(et){var Oe;return null===(Oe=this.source)||void 0===Oe?void 0:Oe.subscribe(et)}[U.L](){return this}pipe(...et){return function Le(Ge){return 0===Ge.length?ye.y:1===Ge.length?Ge[0]:function(et){return Ge.reduce((Oe,Be)=>Be(Oe),et)}}(et)(this)}toPromise(et){return new(et=ne(et))((Oe,Be)=>{let gt;this.subscribe(Je=>gt=Je,Je=>Be(Je),()=>Oe(gt))})}}return Ge.create=Qe=>new Ge(Qe),Ge})();function ne(Ge){var Qe;return null!==(Qe=null!=Ge?Ge:fe.v.Promise)&&void 0!==Qe?Qe:Promise}},7579:(Rt,He,$)=>{$.d(He,{x:()=>fe});var a=$(8306),J=$(727);const ye=(0,$(3888).d)(xe=>function(){xe(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ge=$(8737),Le=$(2806);let fe=(()=>{class xe extends a.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ne){const _e=new Te(this,this);return _e.operator=ne,_e}_throwIfClosed(){if(this.closed)throw new ye}next(ne){(0,Le.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const _e of this.currentObservers)_e.next(ne)}})}error(ne){(0,Le.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ne;const{observers:_e}=this;for(;_e.length;)_e.shift().error(ne)}})}complete(){(0,Le.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ne}=this;for(;ne.length;)ne.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ne;return(null===(ne=this.observers)||void 0===ne?void 0:ne.length)>0}_trySubscribe(ne){return this._throwIfClosed(),super._trySubscribe(ne)}_subscribe(ne){return this._throwIfClosed(),this._checkFinalizedStatuses(ne),this._innerSubscribe(ne)}_innerSubscribe(ne){const{hasError:_e,isStopped:st,observers:Ge}=this;return _e||st?J.Lc:(this.currentObservers=null,Ge.push(ne),new J.w0(()=>{this.currentObservers=null,(0,ge.P)(Ge,ne)}))}_checkFinalizedStatuses(ne){const{hasError:_e,thrownError:st,isStopped:Ge}=this;_e?ne.error(st):Ge&&ne.complete()}asObservable(){const ne=new a.y;return ne.source=this,ne}}return xe.create=(re,ne)=>new Te(re,ne),xe})();class Te extends fe{constructor(re,ne){super(),this.destination=re,this.source=ne}next(re){var ne,_e;null===(_e=null===(ne=this.destination)||void 0===ne?void 0:ne.next)||void 0===_e||_e.call(ne,re)}error(re){var ne,_e;null===(_e=null===(ne=this.destination)||void 0===ne?void 0:ne.error)||void 0===_e||_e.call(ne,re)}complete(){var re,ne;null===(ne=null===(re=this.destination)||void 0===re?void 0:re.complete)||void 0===ne||ne.call(re)}_subscribe(re){var ne,_e;return null!==(_e=null===(ne=this.source)||void 0===ne?void 0:ne.subscribe(re))&&void 0!==_e?_e:J.Lc}}},930:(Rt,He,$)=>{$.d(He,{Hp:()=>et,Lv:()=>_e});var a=$(576),J=$(727),U=$(2416),ye=$(7849),ge=$(5032);const Le=xe("C",void 0,void 0);function xe(je,ce,Ne){return{kind:je,value:ce,error:Ne}}var re=$(3410),ne=$(2806);class _e extends J.w0{constructor(ce){super(),this.isStopped=!1,ce?(this.destination=ce,(0,J.Nn)(ce)&&ce.add(this)):this.destination=Je}static create(ce,Ne,rt){return new et(ce,Ne,rt)}next(ce){this.isStopped?gt(function Te(je){return xe("N",je,void 0)}(ce),this):this._next(ce)}error(ce){this.isStopped?gt(function fe(je){return xe("E",void 0,je)}(ce),this):(this.isStopped=!0,this._error(ce))}complete(){this.isStopped?gt(Le,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ce){this.destination.next(ce)}_error(ce){try{this.destination.error(ce)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const st=Function.prototype.bind;function Ge(je,ce){return st.call(je,ce)}class Qe{constructor(ce){this.partialObserver=ce}next(ce){const{partialObserver:Ne}=this;if(Ne.next)try{Ne.next(ce)}catch(rt){Oe(rt)}}error(ce){const{partialObserver:Ne}=this;if(Ne.error)try{Ne.error(ce)}catch(rt){Oe(rt)}else Oe(ce)}complete(){const{partialObserver:ce}=this;if(ce.complete)try{ce.complete()}catch(Ne){Oe(Ne)}}}class et extends _e{constructor(ce,Ne,rt){let me;if(super(),(0,a.m)(ce)||!ce)me={next:null!=ce?ce:void 0,error:null!=Ne?Ne:void 0,complete:null!=rt?rt:void 0};else{let ft;this&&U.v.useDeprecatedNextContext?(ft=Object.create(ce),ft.unsubscribe=()=>this.unsubscribe(),me={next:ce.next&&Ge(ce.next,ft),error:ce.error&&Ge(ce.error,ft),complete:ce.complete&&Ge(ce.complete,ft)}):me=ce}this.destination=new Qe(me)}}function Oe(je){U.v.useDeprecatedSynchronousErrorHandling?(0,ne.O)(je):(0,ye.h)(je)}function gt(je,ce){const{onStoppedNotification:Ne}=U.v;Ne&&re.z.setTimeout(()=>Ne(je,ce))}const Je={closed:!0,next:ge.Z,error:function Be(je){throw je},complete:ge.Z}},727:(Rt,He,$)=>{$.d(He,{Lc:()=>Le,w0:()=>ge,Nn:()=>fe});var a=$(576);const U=(0,$(3888).d)(xe=>function(ne){xe(this),this.message=ne?`${ne.length} errors occurred during unsubscription:\n${ne.map((_e,st)=>`${st+1}) ${_e.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ne});var ye=$(8737);class ge{constructor(re){this.initialTeardown=re,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let re;if(!this.closed){this.closed=!0;const{_parentage:ne}=this;if(ne)if(this._parentage=null,Array.isArray(ne))for(const Ge of ne)Ge.remove(this);else ne.remove(this);const{initialTeardown:_e}=this;if((0,a.m)(_e))try{_e()}catch(Ge){re=Ge instanceof U?Ge.errors:[Ge]}const{_finalizers:st}=this;if(st){this._finalizers=null;for(const Ge of st)try{Te(Ge)}catch(Qe){re=null!=re?re:[],Qe instanceof U?re=[...re,...Qe.errors]:re.push(Qe)}}if(re)throw new U(re)}}add(re){var ne;if(re&&re!==this)if(this.closed)Te(re);else{if(re instanceof ge){if(re.closed||re._hasParent(this))return;re._addParent(this)}(this._finalizers=null!==(ne=this._finalizers)&&void 0!==ne?ne:[]).push(re)}}_hasParent(re){const{_parentage:ne}=this;return ne===re||Array.isArray(ne)&&ne.includes(re)}_addParent(re){const{_parentage:ne}=this;this._parentage=Array.isArray(ne)?(ne.push(re),ne):ne?[ne,re]:re}_removeParent(re){const{_parentage:ne}=this;ne===re?this._parentage=null:Array.isArray(ne)&&(0,ye.P)(ne,re)}remove(re){const{_finalizers:ne}=this;ne&&(0,ye.P)(ne,re),re instanceof ge&&re._removeParent(this)}}ge.EMPTY=(()=>{const xe=new ge;return xe.closed=!0,xe})();const Le=ge.EMPTY;function fe(xe){return xe instanceof ge||xe&&"closed"in xe&&(0,a.m)(xe.remove)&&(0,a.m)(xe.add)&&(0,a.m)(xe.unsubscribe)}function Te(xe){(0,a.m)(xe)?xe():xe.unsubscribe()}},2416:(Rt,He,$)=>{$.d(He,{v:()=>a});const a={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(Rt,He,$)=>{$.d(He,{E:()=>J});const J=new($(8306).y)(ge=>ge.complete())},8996:(Rt,He,$)=>{$.d(He,{D:()=>ce});var a=$(8421),J=$(5363),U=$(9468),Le=$(8306),Te=$(2202),xe=$(576),re=$(9672);function _e(Ne,rt){if(!Ne)throw new Error("Iterable cannot be null");return new Le.y(me=>{(0,re.f)(me,rt,()=>{const ft=Ne[Symbol.asyncIterator]();(0,re.f)(me,rt,()=>{ft.next().then(ue=>{ue.done?me.complete():me.next(ue.value)})},0,!0)})})}var st=$(3670),Ge=$(8239),Qe=$(1144),et=$(6495),Oe=$(2206),Be=$(4532),gt=$(3260);function ce(Ne,rt){return rt?function je(Ne,rt){if(null!=Ne){if((0,st.c)(Ne))return function ye(Ne,rt){return(0,a.Xf)(Ne).pipe((0,U.R)(rt),(0,J.Q)(rt))}(Ne,rt);if((0,Qe.z)(Ne))return function fe(Ne,rt){return new Le.y(me=>{let ft=0;return rt.schedule(function(){ft===Ne.length?me.complete():(me.next(Ne[ft++]),me.closed||this.schedule())})})}(Ne,rt);if((0,Ge.t)(Ne))return function ge(Ne,rt){return(0,a.Xf)(Ne).pipe((0,U.R)(rt),(0,J.Q)(rt))}(Ne,rt);if((0,Oe.D)(Ne))return _e(Ne,rt);if((0,et.T)(Ne))return function ne(Ne,rt){return new Le.y(me=>{let ft;return(0,re.f)(me,rt,()=>{ft=Ne[Te.h](),(0,re.f)(me,rt,()=>{let ue,Se;try{({value:ue,done:Se}=ft.next())}catch(De){return void me.error(De)}Se?me.complete():me.next(ue)},0,!0)}),()=>(0,xe.m)(null==ft?void 0:ft.return)&&ft.return()})}(Ne,rt);if((0,gt.L)(Ne))return function Je(Ne,rt){return _e((0,gt.Q)(Ne),rt)}(Ne,rt)}throw(0,Be.z)(Ne)}(Ne,rt):(0,a.Xf)(Ne)}},8421:(Rt,He,$)=>{$.d(He,{Xf:()=>st});var a=$(655),J=$(1144),U=$(8239),ye=$(8306),ge=$(3670),Le=$(2206),fe=$(4532),Te=$(6495),xe=$(3260),re=$(576),ne=$(7849),_e=$(8822);function st(je){if(je instanceof ye.y)return je;if(null!=je){if((0,ge.c)(je))return function Ge(je){return new ye.y(ce=>{const Ne=je[_e.L]();if((0,re.m)(Ne.subscribe))return Ne.subscribe(ce);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(je);if((0,J.z)(je))return function Qe(je){return new ye.y(ce=>{for(let Ne=0;Ne<je.length&&!ce.closed;Ne++)ce.next(je[Ne]);ce.complete()})}(je);if((0,U.t)(je))return function et(je){return new ye.y(ce=>{je.then(Ne=>{ce.closed||(ce.next(Ne),ce.complete())},Ne=>ce.error(Ne)).then(null,ne.h)})}(je);if((0,Le.D)(je))return Be(je);if((0,Te.T)(je))return function Oe(je){return new ye.y(ce=>{for(const Ne of je)if(ce.next(Ne),ce.closed)return;ce.complete()})}(je);if((0,xe.L)(je))return function gt(je){return Be((0,xe.Q)(je))}(je)}throw(0,fe.z)(je)}function Be(je){return new ye.y(ce=>{(function Je(je,ce){var Ne,rt,me,ft;return(0,a.mG)(this,void 0,void 0,function*(){try{for(Ne=(0,a.KL)(je);!(rt=yield Ne.next()).done;)if(ce.next(rt.value),ce.closed)return}catch(ue){me={error:ue}}finally{try{rt&&!rt.done&&(ft=Ne.return)&&(yield ft.call(Ne))}finally{if(me)throw me.error}}ce.complete()})})(je,ce).catch(Ne=>ce.error(Ne))})}},6451:(Rt,He,$)=>{$.d(He,{T:()=>Le});var a=$(8189),J=$(8421),U=$(515),ye=$(3269),ge=$(8996);function Le(...fe){const Te=(0,ye.yG)(fe),xe=(0,ye._6)(fe,1/0),re=fe;return re.length?1===re.length?(0,J.Xf)(re[0]):(0,a.J)(xe)((0,ge.D)(re,Te)):U.E}},5403:(Rt,He,$)=>{$.d(He,{x:()=>J});var a=$(930);function J(ye,ge,Le,fe,Te){return new U(ye,ge,Le,fe,Te)}class U extends a.Lv{constructor(ge,Le,fe,Te,xe,re){super(ge),this.onFinalize=xe,this.shouldUnsubscribe=re,this._next=Le?function(ne){try{Le(ne)}catch(_e){ge.error(_e)}}:super._next,this._error=Te?function(ne){try{Te(ne)}catch(_e){ge.error(_e)}finally{this.unsubscribe()}}:super._error,this._complete=fe?function(){try{fe()}catch(ne){ge.error(ne)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ge;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Le}=this;super.unsubscribe(),!Le&&(null===(ge=this.onFinalize)||void 0===ge||ge.call(this))}}}},4004:(Rt,He,$)=>{$.d(He,{U:()=>U});var a=$(4482),J=$(5403);function U(ye,ge){return(0,a.e)((Le,fe)=>{let Te=0;Le.subscribe((0,J.x)(fe,xe=>{fe.next(ye.call(ge,xe,Te++))}))})}},8189:(Rt,He,$)=>{$.d(He,{J:()=>U});var a=$(5577),J=$(4671);function U(ye=1/0){return(0,a.z)(J.y,ye)}},5577:(Rt,He,$)=>{$.d(He,{z:()=>Te});var a=$(4004),J=$(8421),U=$(4482),ye=$(9672),ge=$(5403),fe=$(576);function Te(xe,re,ne=1/0){return(0,fe.m)(re)?Te((_e,st)=>(0,a.U)((Ge,Qe)=>re(_e,Ge,st,Qe))((0,J.Xf)(xe(_e,st))),ne):("number"==typeof re&&(ne=re),(0,U.e)((_e,st)=>function Le(xe,re,ne,_e,st,Ge,Qe,et){const Oe=[];let Be=0,gt=0,Je=!1;const je=()=>{Je&&!Oe.length&&!Be&&re.complete()},ce=rt=>Be<_e?Ne(rt):Oe.push(rt),Ne=rt=>{Ge&&re.next(rt),Be++;let me=!1;(0,J.Xf)(ne(rt,gt++)).subscribe((0,ge.x)(re,ft=>{null==st||st(ft),Ge?ce(ft):re.next(ft)},()=>{me=!0},void 0,()=>{if(me)try{for(Be--;Oe.length&&Be<_e;){const ft=Oe.shift();Qe?(0,ye.f)(re,Qe,()=>Ne(ft)):Ne(ft)}je()}catch(ft){re.error(ft)}}))};return xe.subscribe((0,ge.x)(re,ce,()=>{Je=!0,je()})),()=>{null==et||et()}}(_e,st,xe,ne)))}},5363:(Rt,He,$)=>{$.d(He,{Q:()=>ye});var a=$(9672),J=$(4482),U=$(5403);function ye(ge,Le=0){return(0,J.e)((fe,Te)=>{fe.subscribe((0,U.x)(Te,xe=>(0,a.f)(Te,ge,()=>Te.next(xe),Le),()=>(0,a.f)(Te,ge,()=>Te.complete(),Le),xe=>(0,a.f)(Te,ge,()=>Te.error(xe),Le)))})}},3099:(Rt,He,$)=>{$.d(He,{B:()=>Le});var a=$(8996),J=$(5698),U=$(7579),ye=$(930),ge=$(4482);function Le(Te={}){const{connector:xe=(()=>new U.x),resetOnError:re=!0,resetOnComplete:ne=!0,resetOnRefCountZero:_e=!0}=Te;return st=>{let Ge=null,Qe=null,et=null,Oe=0,Be=!1,gt=!1;const Je=()=>{null==Qe||Qe.unsubscribe(),Qe=null},je=()=>{Je(),Ge=et=null,Be=gt=!1},ce=()=>{const Ne=Ge;je(),null==Ne||Ne.unsubscribe()};return(0,ge.e)((Ne,rt)=>{Oe++,!gt&&!Be&&Je();const me=et=null!=et?et:xe();rt.add(()=>{Oe--,0===Oe&&!gt&&!Be&&(Qe=fe(ce,_e))}),me.subscribe(rt),Ge||(Ge=new ye.Hp({next:ft=>me.next(ft),error:ft=>{gt=!0,Je(),Qe=fe(je,re,ft),me.error(ft)},complete:()=>{Be=!0,Je(),Qe=fe(je,ne),me.complete()}}),(0,a.D)(Ne).subscribe(Ge))})(st)}}function fe(Te,xe,...re){return!0===xe?(Te(),null):!1===xe?null:xe(...re).pipe((0,J.q)(1)).subscribe(()=>Te())}},9468:(Rt,He,$)=>{$.d(He,{R:()=>J});var a=$(4482);function J(U,ye=0){return(0,a.e)((ge,Le)=>{Le.add(U.schedule(()=>ge.subscribe(Le),ye))})}},5698:(Rt,He,$)=>{$.d(He,{q:()=>ye});var a=$(515),J=$(4482),U=$(5403);function ye(ge){return ge<=0?()=>a.E:(0,J.e)((Le,fe)=>{let Te=0;Le.subscribe((0,U.x)(fe,xe=>{++Te<=ge&&(fe.next(xe),ge<=Te&&fe.complete())}))})}},8505:(Rt,He,$)=>{$.d(He,{b:()=>ge});var a=$(576),J=$(4482),U=$(5403),ye=$(4671);function ge(Le,fe,Te){const xe=(0,a.m)(Le)||fe||Te?{next:Le,error:fe,complete:Te}:Le;return xe?(0,J.e)((re,ne)=>{var _e;null===(_e=xe.subscribe)||void 0===_e||_e.call(xe);let st=!0;re.subscribe((0,U.x)(ne,Ge=>{var Qe;null===(Qe=xe.next)||void 0===Qe||Qe.call(xe,Ge),ne.next(Ge)},()=>{var Ge;st=!1,null===(Ge=xe.complete)||void 0===Ge||Ge.call(xe),ne.complete()},Ge=>{var Qe;st=!1,null===(Qe=xe.error)||void 0===Qe||Qe.call(xe,Ge),ne.error(Ge)},()=>{var Ge,Qe;st&&(null===(Ge=xe.unsubscribe)||void 0===Ge||Ge.call(xe)),null===(Qe=xe.finalize)||void 0===Qe||Qe.call(xe)}))}):ye.y}},4408:(Rt,He,$)=>{$.d(He,{o:()=>ge});var a=$(727);class J extends a.w0{constructor(fe,Te){super()}schedule(fe,Te=0){return this}}const U={setInterval(Le,fe,...Te){const{delegate:xe}=U;return(null==xe?void 0:xe.setInterval)?xe.setInterval(Le,fe,...Te):setInterval(Le,fe,...Te)},clearInterval(Le){const{delegate:fe}=U;return((null==fe?void 0:fe.clearInterval)||clearInterval)(Le)},delegate:void 0};var ye=$(8737);class ge extends J{constructor(fe,Te){super(fe,Te),this.scheduler=fe,this.work=Te,this.pending=!1}schedule(fe,Te=0){if(this.closed)return this;this.state=fe;const xe=this.id,re=this.scheduler;return null!=xe&&(this.id=this.recycleAsyncId(re,xe,Te)),this.pending=!0,this.delay=Te,this.id=this.id||this.requestAsyncId(re,this.id,Te),this}requestAsyncId(fe,Te,xe=0){return U.setInterval(fe.flush.bind(fe,this),xe)}recycleAsyncId(fe,Te,xe=0){if(null!=xe&&this.delay===xe&&!1===this.pending)return Te;U.clearInterval(Te)}execute(fe,Te){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const xe=this._execute(fe,Te);if(xe)return xe;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(fe,Te){let re,xe=!1;try{this.work(fe)}catch(ne){xe=!0,re=ne||new Error("Scheduled action threw falsy error")}if(xe)return this.unsubscribe(),re}unsubscribe(){if(!this.closed){const{id:fe,scheduler:Te}=this,{actions:xe}=Te;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ye.P)(xe,this),null!=fe&&(this.id=this.recycleAsyncId(Te,fe,null)),this.delay=null,super.unsubscribe()}}}},7565:(Rt,He,$)=>{$.d(He,{v:()=>U});var a=$(6063);class J{constructor(ge,Le=J.now){this.schedulerActionCtor=ge,this.now=Le}schedule(ge,Le=0,fe){return new this.schedulerActionCtor(this,ge).schedule(fe,Le)}}J.now=a.l.now;class U extends J{constructor(ge,Le=J.now){super(ge,Le),this.actions=[],this._active=!1,this._scheduled=void 0}flush(ge){const{actions:Le}=this;if(this._active)return void Le.push(ge);let fe;this._active=!0;do{if(fe=ge.execute(ge.state,ge.delay))break}while(ge=Le.shift());if(this._active=!1,fe){for(;ge=Le.shift();)ge.unsubscribe();throw fe}}}},4986:(Rt,He,$)=>{$.d(He,{P:()=>ye,z:()=>U});var a=$(4408);const U=new($(7565).v)(a.o),ye=U},6063:(Rt,He,$)=>{$.d(He,{l:()=>a});const a={now:()=>(a.delegate||Date).now(),delegate:void 0}},3410:(Rt,He,$)=>{$.d(He,{z:()=>a});const a={setTimeout(J,U,...ye){const{delegate:ge}=a;return(null==ge?void 0:ge.setTimeout)?ge.setTimeout(J,U,...ye):setTimeout(J,U,...ye)},clearTimeout(J){const{delegate:U}=a;return((null==U?void 0:U.clearTimeout)||clearTimeout)(J)},delegate:void 0}},2202:(Rt,He,$)=>{$.d(He,{h:()=>J});const J=function a(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Rt,He,$)=>{$.d(He,{L:()=>a});const a="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(Rt,He,$)=>{$.d(He,{_6:()=>Le,jO:()=>ye,yG:()=>ge});var a=$(576),J=$(3532);function U(fe){return fe[fe.length-1]}function ye(fe){return(0,a.m)(U(fe))?fe.pop():void 0}function ge(fe){return(0,J.K)(U(fe))?fe.pop():void 0}function Le(fe,Te){return"number"==typeof U(fe)?fe.pop():Te}},8737:(Rt,He,$)=>{function a(J,U){if(J){const ye=J.indexOf(U);0<=ye&&J.splice(ye,1)}}$.d(He,{P:()=>a})},3888:(Rt,He,$)=>{function a(J){const ye=J(ge=>{Error.call(ge),ge.stack=(new Error).stack});return ye.prototype=Object.create(Error.prototype),ye.prototype.constructor=ye,ye}$.d(He,{d:()=>a})},2806:(Rt,He,$)=>{$.d(He,{O:()=>ye,x:()=>U});var a=$(2416);let J=null;function U(ge){if(a.v.useDeprecatedSynchronousErrorHandling){const Le=!J;if(Le&&(J={errorThrown:!1,error:null}),ge(),Le){const{errorThrown:fe,error:Te}=J;if(J=null,fe)throw Te}}else ge()}function ye(ge){a.v.useDeprecatedSynchronousErrorHandling&&J&&(J.errorThrown=!0,J.error=ge)}},9672:(Rt,He,$)=>{function a(J,U,ye,ge=0,Le=!1){const fe=U.schedule(function(){ye(),Le?J.add(this.schedule(null,ge)):this.unsubscribe()},ge);if(J.add(fe),!Le)return fe}$.d(He,{f:()=>a})},4671:(Rt,He,$)=>{function a(J){return J}$.d(He,{y:()=>a})},1144:(Rt,He,$)=>{$.d(He,{z:()=>a});const a=J=>J&&"number"==typeof J.length&&"function"!=typeof J},2206:(Rt,He,$)=>{$.d(He,{D:()=>J});var a=$(576);function J(U){return Symbol.asyncIterator&&(0,a.m)(null==U?void 0:U[Symbol.asyncIterator])}},576:(Rt,He,$)=>{function a(J){return"function"==typeof J}$.d(He,{m:()=>a})},3670:(Rt,He,$)=>{$.d(He,{c:()=>U});var a=$(8822),J=$(576);function U(ye){return(0,J.m)(ye[a.L])}},6495:(Rt,He,$)=>{$.d(He,{T:()=>U});var a=$(2202),J=$(576);function U(ye){return(0,J.m)(null==ye?void 0:ye[a.h])}},8239:(Rt,He,$)=>{$.d(He,{t:()=>J});var a=$(576);function J(U){return(0,a.m)(null==U?void 0:U.then)}},3260:(Rt,He,$)=>{$.d(He,{L:()=>ye,Q:()=>U});var a=$(655),J=$(576);function U(ge){return(0,a.FC)(this,arguments,function*(){const fe=ge.getReader();try{for(;;){const{value:Te,done:xe}=yield(0,a.qq)(fe.read());if(xe)return yield(0,a.qq)(void 0);yield yield(0,a.qq)(Te)}}finally{fe.releaseLock()}})}function ye(ge){return(0,J.m)(null==ge?void 0:ge.getReader)}},3532:(Rt,He,$)=>{$.d(He,{K:()=>J});var a=$(576);function J(U){return U&&(0,a.m)(U.schedule)}},4482:(Rt,He,$)=>{$.d(He,{A:()=>J,e:()=>U});var a=$(576);function J(ye){return(0,a.m)(null==ye?void 0:ye.lift)}function U(ye){return ge=>{if(J(ge))return ge.lift(function(Le){try{return ye(Le,this)}catch(fe){this.error(fe)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(Rt,He,$)=>{function a(){}$.d(He,{Z:()=>a})},7849:(Rt,He,$)=>{$.d(He,{h:()=>U});var a=$(2416),J=$(3410);function U(ye){J.z.setTimeout(()=>{const{onUnhandledError:ge}=a.v;if(!ge)throw ye;ge(ye)})}},4532:(Rt,He,$)=>{function a(J){return new TypeError(`You provided ${null!==J&&"object"==typeof J?"an invalid object":`'${J}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}$.d(He,{z:()=>a})},655:(Rt,He,$)=>{function ye(ue,Se){var De={};for(var Ae in ue)Object.prototype.hasOwnProperty.call(ue,Ae)&&Se.indexOf(Ae)<0&&(De[Ae]=ue[Ae]);if(null!=ue&&"function"==typeof Object.getOwnPropertySymbols){var Ye=0;for(Ae=Object.getOwnPropertySymbols(ue);Ye<Ae.length;Ye++)Se.indexOf(Ae[Ye])<0&&Object.prototype.propertyIsEnumerable.call(ue,Ae[Ye])&&(De[Ae[Ye]]=ue[Ae[Ye]])}return De}function Te(ue,Se,De,Ae){return new(De||(De=Promise))(function(we,Vt){function En(St){try{It(Ae.next(St))}catch(Ln){Vt(Ln)}}function fi(St){try{It(Ae.throw(St))}catch(Ln){Vt(Ln)}}function It(St){St.done?we(St.value):function Ye(we){return we instanceof De?we:new De(function(Vt){Vt(we)})}(St.value).then(En,fi)}It((Ae=Ae.apply(ue,Se||[])).next())})}function Oe(ue){return this instanceof Oe?(this.v=ue,this):new Oe(ue)}function Be(ue,Se,De){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ye,Ae=De.apply(ue,Se||[]),we=[];return Ye={},Vt("next"),Vt("throw"),Vt("return"),Ye[Symbol.asyncIterator]=function(){return this},Ye;function Vt(Nn){Ae[Nn]&&(Ye[Nn]=function(Mr){return new Promise(function(In,_n){we.push([Nn,Mr,In,_n])>1||En(Nn,Mr)})})}function En(Nn,Mr){try{!function fi(Nn){Nn.value instanceof Oe?Promise.resolve(Nn.value.v).then(It,St):Ln(we[0][2],Nn)}(Ae[Nn](Mr))}catch(In){Ln(we[0][3],In)}}function It(Nn){En("next",Nn)}function St(Nn){En("throw",Nn)}function Ln(Nn,Mr){Nn(Mr),we.shift(),we.length&&En(we[0][0],we[0][1])}}function Je(ue){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var De,Se=ue[Symbol.asyncIterator];return Se?Se.call(ue):(ue=function _e(ue){var Se="function"==typeof Symbol&&Symbol.iterator,De=Se&&ue[Se],Ae=0;if(De)return De.call(ue);if(ue&&"number"==typeof ue.length)return{next:function(){return ue&&Ae>=ue.length&&(ue=void 0),{value:ue&&ue[Ae++],done:!ue}}};throw new TypeError(Se?"Object is not iterable.":"Symbol.iterator is not defined.")}(ue),De={},Ae("next"),Ae("throw"),Ae("return"),De[Symbol.asyncIterator]=function(){return this},De);function Ae(we){De[we]=ue[we]&&function(Vt){return new Promise(function(En,fi){!function Ye(we,Vt,En,fi){Promise.resolve(fi).then(function(It){we({value:It,done:En})},Vt)}(En,fi,(Vt=ue[we](Vt)).done,Vt.value)})}}}$.d(He,{FC:()=>Be,KL:()=>Je,_T:()=>ye,mG:()=>Te,qq:()=>Oe})},5e3:(Rt,He,$)=>{$.d(He,{$8M:()=>Cc,$Z:()=>B_,AFp:()=>$D,ALo:()=>Nm,AaK:()=>Te,BQk:()=>Ud,CHM:()=>_u,CRH:()=>OD,CZH:()=>Kc,CqO:()=>am,Dn7:()=>Ub,EJc:()=>uw,EiD:()=>Kg,EpF:()=>om,F$t:()=>DT,F4k:()=>Fi,FYo:()=>Zd,FiY:()=>qr,G48:()=>Bx,Gf:()=>ih,GfV:()=>Qd,GkF:()=>pf,Gpc:()=>ne,Hsn:()=>IT,IIB:()=>sw,Ikx:()=>Db,JOm:()=>Yr,JVY:()=>Dd,Jf7:()=>tE,L6J:()=>xx,L6k:()=>Id,LAX:()=>Bh,LFG:()=>At,LSH:()=>Ov,Lbi:()=>$m,MAs:()=>af,NdJ:()=>ib,O4$:()=>jr,OlP:()=>Yi,Oqu:()=>mm,PXZ:()=>Fx,Q6J:()=>nb,QGY:()=>H_,Qsj:()=>Yd,R0b:()=>ha,RDi:()=>bo,Rgc:()=>Wc,SBq:()=>Am,Sil:()=>Ty,Suo:()=>RD,TTD:()=>zo,TgZ:()=>ff,Udp:()=>ub,VKq:()=>cr,VLi:()=>QD,W1O:()=>cl,WFA:()=>rb,WLB:()=>Om,X6Q:()=>tI,XFs:()=>xt,Xpm:()=>tn,Y36:()=>sl,YKP:()=>Lb,YNc:()=>W0,Yjl:()=>tt,Yz7:()=>In,ZZ4:()=>Fy,_Bn:()=>Ob,_UZ:()=>U_,_Vd:()=>Sm,_c5:()=>ng,_uU:()=>_b,aQ5:()=>_p,aQg:()=>Ew,c2e:()=>qD,cJS:()=>Tn,cg1:()=>Ib,d8E:()=>mt,dDg:()=>Xc,deG:()=>Ev,dqk:()=>sn,eBb:()=>kv,eFA:()=>pw,ekj:()=>db,f3M:()=>Dn,g9A:()=>zD,gM2:()=>Hb,gxx:()=>Qh,h0i:()=>Va,hGG:()=>Dw,hij:()=>vf,i9L:()=>Cu,iGM:()=>nh,ifc:()=>en,ip1:()=>Hf,kL8:()=>GT,kYT:()=>K,kcU:()=>Ah,lG2:()=>Ee,lcZ:()=>Lf,mCW:()=>L,n5z:()=>Ao,oAB:()=>z,oxw:()=>TT,pB0:()=>GC,q3G:()=>Qi,q4F:()=>Fb,qLn:()=>Ap,qOj:()=>j0,qZA:()=>$l,qzn:()=>kc,r_U:()=>ow,sBO:()=>jx,sIi:()=>Fd,s_b:()=>Vm,soG:()=>cw,tBr:()=>Ra,tb:()=>Qc,tp0:()=>ia,uIk:()=>Xp,vHH:()=>Qe,vpe:()=>Yl,wAp:()=>zt,xi3:()=>Fm,xp6:()=>wE,yhl:()=>Ep,ynx:()=>Na,z2F:()=>Wm,z3N:()=>Oa,zSh:()=>nl,zs3:()=>il});var a=$(7579),J=$(727),U=$(8306),ye=$(6451),ge=$(3099);function Le(o){for(let l in o)if(o[l]===Le)return l;throw Error("Could not find renamed property on target object.")}function fe(o,l){for(const u in l)l.hasOwnProperty(u)&&!o.hasOwnProperty(u)&&(o[u]=l[u])}function Te(o){if("string"==typeof o)return o;if(Array.isArray(o))return"["+o.map(Te).join(", ")+"]";if(null==o)return""+o;if(o.overriddenName)return`${o.overriddenName}`;if(o.name)return`${o.name}`;const l=o.toString();if(null==l)return""+l;const u=l.indexOf("\n");return-1===u?l:l.substring(0,u)}function xe(o,l){return null==o||""===o?null===l?"":l:null==l||""===l?o:o+" "+l}const re=Le({__forward_ref__:Le});function ne(o){return o.__forward_ref__=ne,o.toString=function(){return Te(this())},o}function _e(o){return st(o)?o():o}function st(o){return"function"==typeof o&&o.hasOwnProperty(re)&&o.__forward_ref__===ne}class Qe extends Error{constructor(l,u){super(function et(o,l){return`NG0${Math.abs(o)}${l?": "+l:""}`}(l,u)),this.code=l}}function Oe(o){return"string"==typeof o?o:null==o?"":String(o)}function Be(o){return"function"==typeof o?o.name||o.toString():"object"==typeof o&&null!=o&&"function"==typeof o.type?o.type.name||o.type.toString():Oe(o)}function ce(o,l){const u=l?` in ${l}`:"";throw new Qe(-201,`No provider for ${Be(o)} found${u}`)}function It(o,l){null==o&&function St(o,l,u,d){throw new Error(`ASSERTION ERROR: ${o}`+(null==d?"":` [Expected=> ${u} ${d} ${l} <=Actual]`))}(l,o,null,"!=")}function In(o){return{token:o.token,providedIn:o.providedIn||null,factory:o.factory,value:void 0}}function Tn(o){return{providers:o.providers||[],imports:o.imports||[]}}function Jn(o){return Si(o,es)||Si(o,Xn)}function Si(o,l){return o.hasOwnProperty(l)?o[l]:null}function Vr(o){return o&&(o.hasOwnProperty(zi)||o.hasOwnProperty(xr))?o[zi]:null}const es=Le({\u0275prov:Le}),zi=Le({\u0275inj:Le}),Xn=Le({ngInjectableDef:Le}),xr=Le({ngInjectorDef:Le});var xt=(()=>((xt=xt||{})[xt.Default=0]="Default",xt[xt.Host=1]="Host",xt[xt.Self=2]="Self",xt[xt.SkipSelf=4]="SkipSelf",xt[xt.Optional=8]="Optional",xt))();let hr;function xn(o){const l=hr;return hr=o,l}function ei(o,l,u){const d=Jn(o);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:u&xt.Optional?null:void 0!==l?l:void ce(Te(o),"Injector")}function vi(o){return{toString:o}.toString()}var zn=(()=>((zn=zn||{})[zn.OnPush=0]="OnPush",zn[zn.Default=1]="Default",zn))(),en=(()=>{return(o=en||(en={}))[o.Emulated=0]="Emulated",o[o.None=2]="None",o[o.ShadowDom=3]="ShadowDom",en;var o})();const Dt="undefined"!=typeof globalThis&&globalThis,vt="undefined"!=typeof window&&window,er="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,sn=Dt||"undefined"!=typeof global&&global||vt||er,Sn={},Nt=[],ai=Le({\u0275cmp:Le}),on=Le({\u0275dir:Le}),at=Le({\u0275pipe:Le}),Ue=Le({\u0275mod:Le}),Xe=Le({\u0275fac:Le}),Ot=Le({__NG_ELEMENT_ID__:Le});let Jt=0;function tn(o){return vi(()=>{const u={},d={type:o.type,providersResolver:null,decls:o.decls,vars:o.vars,factory:null,template:o.template||null,consts:o.consts||null,ngContentSelectors:o.ngContentSelectors,hostBindings:o.hostBindings||null,hostVars:o.hostVars||0,hostAttrs:o.hostAttrs||null,contentQueries:o.contentQueries||null,declaredInputs:u,inputs:null,outputs:null,exportAs:o.exportAs||null,onPush:o.changeDetection===zn.OnPush,directiveDefs:null,pipeDefs:null,selectors:o.selectors||Nt,viewQuery:o.viewQuery||null,features:o.features||null,data:o.data||{},encapsulation:o.encapsulation||en.Emulated,id:"c",styles:o.styles||Nt,_:null,setInput:null,schemas:o.schemas||null,tView:null},f=o.directives,m=o.features,v=o.pipes;return d.id+=Jt++,d.inputs=te(o.inputs,u),d.outputs=te(o.outputs),m&&m.forEach(E=>E(d)),d.directiveDefs=f?()=>("function"==typeof f?f():f).map(ee):null,d.pipeDefs=v?()=>("function"==typeof v?v():v).map(oe):null,d})}function ee(o){return lt(o)||function Bt(o){return o[on]||null}(o)}function oe(o){return function bt(o){return o[at]||null}(o)}const Me={};function z(o){return vi(()=>{const l={type:o.type,bootstrap:o.bootstrap||Nt,declarations:o.declarations||Nt,imports:o.imports||Nt,exports:o.exports||Nt,transitiveCompileScopes:null,schemas:o.schemas||null,id:o.id||null};return null!=o.id&&(Me[o.id]=o.type),l})}function K(o,l){return vi(()=>{const u=Gt(o,!0);u.declarations=l.declarations||Nt,u.imports=l.imports||Nt,u.exports=l.exports||Nt})}function te(o,l){if(null==o)return Sn;const u={};for(const d in o)if(o.hasOwnProperty(d)){let f=o[d],m=f;Array.isArray(f)&&(m=f[1],f=f[0]),u[f]=d,l&&(l[f]=m)}return u}const Ee=tn;function tt(o){return{type:o.type,name:o.name,factory:null,pure:!1!==o.pure,onDestroy:o.type.prototype.ngOnDestroy||null}}function lt(o){return o[ai]||null}function Gt(o,l){const u=o[Ue]||null;if(!u&&!0===l)throw new Error(`Type ${Te(o)} does not have '\u0275mod' property.`);return u}function ji(o){return Array.isArray(o)&&"object"==typeof o[1]}function mr(o){return Array.isArray(o)&&!0===o[1]}function bl(o){return 0!=(8&o.flags)}function go(o){return 2==(2&o.flags)}function Ea(o){return 1==(1&o.flags)}function qi(o){return null!==o.template}function wl(o){return 0!=(512&o[2])}function rs(o,l){return o.hasOwnProperty(Xe)?o[Xe]:null}class ad{constructor(l,u,d){this.previousValue=l,this.currentValue=u,this.firstChange=d}isFirstChange(){return this.firstChange}}function zo(){return Tl}function Tl(o){return o.type.prototype.ngOnChanges&&(o.setInput=Ta),qo}function qo(){const o=gr(this),l=null==o?void 0:o.current;if(l){const u=o.previous;if(u===Sn)o.previous=l;else for(let d in l)u[d]=l[d];o.current=null,this.ngOnChanges(l)}}function Ta(o,l,u,d){const f=gr(o)||function Ns(o,l){return o[to]=l}(o,{previous:Sn,current:null}),m=f.current||(f.current={}),v=f.previous,E=this.declaredInputs[u],M=v[E];m[E]=new ad(M&&M.currentValue,l,v===Sn),o[d]=l}zo.ngInherit=!0;const to="__ngSimpleChanges__";function gr(o){return o[to]||null}let Il;function bo(o){Il=o}function ti(o){return!!o.listen}const Wo={createRenderer:(o,l)=>function wo(){return void 0!==Il?Il:"undefined"!=typeof document?document:void 0}()};function Yn(o){for(;Array.isArray(o);)o=o[0];return o}function Co(o,l){return Yn(l[o])}function ir(o,l){return Yn(l[o.index])}function Sl(o,l){return o.data[l]}function ss(o,l){return o[l]}function Rr(o,l){const u=l[o];return ji(u)?u:u[0]}function no(o){return 4==(4&o[2])}function Yo(o){return 128==(128&o[2])}function gs(o,l){return null==l?null:o[l]}function Ps(o){o[18]=0}function io(o,l){o[5]+=l;let u=o,d=o[3];for(;null!==d&&(1===l&&1===u[5]||-1===l&&0===u[5]);)d[5]+=l,u=d,d=d[3]}const Ft={lFrame:gc(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function ys(){return Ft.bindingsEnabled}function $e(){return Ft.lFrame.lView}function an(){return Ft.lFrame.tView}function _u(o){return Ft.lFrame.contextLView=o,o[8]}function ln(){let o=Fs();for(;null!==o&&64===o.type;)o=o.parent;return o}function Fs(){return Ft.lFrame.currentTNode}function bs(o,l){const u=Ft.lFrame;u.currentTNode=o,u.isParent=l}function Ko(){return Ft.lFrame.isParent}function ro(){Ft.lFrame.isParent=!1}function Aa(){return Ft.isInCheckNoChangesMode}function Eo(o){Ft.isInCheckNoChangesMode=o}function ki(){const o=Ft.lFrame;let l=o.bindingRootIndex;return-1===l&&(l=o.bindingRootIndex=o.tView.bindingStartIndex),l}function rr(){return Ft.lFrame.bindingIndex++}function fc(o,l){const u=Ft.lFrame;u.bindingIndex=u.bindingRootIndex=o,Al(l)}function Al(o){Ft.lFrame.currentDirectiveIndex=o}function so(o){const l=Ft.lFrame.currentDirectiveIndex;return-1===l?null:o[l]}function ud(){return Ft.lFrame.currentQueryIndex}function pc(o){Ft.lFrame.currentQueryIndex=o}function mc(o){const l=o[1];return 2===l.type?l.declTNode:1===l.type?o[6]:null}function Ml(o,l,u){if(u&xt.SkipSelf){let f=l,m=o;for(;!(f=f.parent,null!==f||u&xt.Host||(f=mc(m),null===f||(m=m[15],10&f.type))););if(null===f)return!1;l=f,o=m}const d=Ft.lFrame=Qo();return d.currentTNode=l,d.lView=o,!0}function Wa(o){const l=Qo(),u=o[1];Ft.lFrame=l,l.currentTNode=u.firstChild,l.lView=o,l.tView=u,l.contextLView=o,l.bindingIndex=u.bindingStartIndex,l.inI18n=!1}function Qo(){const o=Ft.lFrame,l=null===o?null:o.child;return null===l?gc(o):l}function gc(o){const l={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:o,child:null,inI18n:!1};return null!==o&&(o.child=l),l}function _c(){const o=Ft.lFrame;return Ft.lFrame=o.parent,o.currentTNode=null,o.lView=null,o}const yu=_c;function Jo(){const o=_c();o.isParent=!0,o.tView=null,o.selectedIndex=-1,o.contextLView=null,o.elementDepthCount=0,o.currentDirectiveIndex=-1,o.currentNamespace=null,o.bindingRootIndex=-1,o.bindingIndex=-1,o.currentQueryIndex=0}function Or(){return Ft.lFrame.selectedIndex}function oo(o){Ft.lFrame.selectedIndex=o}function wi(){const o=Ft.lFrame;return Sl(o.tView,o.selectedIndex)}function jr(){Ft.lFrame.currentNamespace="svg"}function Ah(){!function kl(){Ft.lFrame.currentNamespace=null}()}function Xo(o,l){for(let u=l.directiveStart,d=l.directiveEnd;u<d;u++){const m=o.data[u].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:E,ngAfterViewInit:M,ngAfterViewChecked:F,ngOnDestroy:V}=m;v&&(o.contentHooks||(o.contentHooks=[])).push(-u,v),E&&((o.contentHooks||(o.contentHooks=[])).push(u,E),(o.contentCheckHooks||(o.contentCheckHooks=[])).push(u,E)),M&&(o.viewHooks||(o.viewHooks=[])).push(-u,M),F&&((o.viewHooks||(o.viewHooks=[])).push(u,F),(o.viewCheckHooks||(o.viewCheckHooks=[])).push(u,F)),null!=V&&(o.destroyHooks||(o.destroyHooks=[])).push(u,V)}}function Ol(o,l,u){yc(o,l,3,u)}function Nl(o,l,u,d){(3&o[2])===u&&yc(o,l,u,d)}function Ri(o,l){let u=o[2];(3&u)===l&&(u&=2047,u+=1,o[2]=u)}function yc(o,l,u,d){const m=null!=d?d:-1,v=l.length-1;let E=0;for(let M=void 0!==d?65535&o[18]:0;M<v;M++)if("number"==typeof l[M+1]){if(E=l[M],null!=d&&E>=d)break}else l[M]<0&&(o[18]+=65536),(E<m||-1==m)&&(vc(o,u,l,M),o[18]=(4294901760&o[18])+M+2),M++}function vc(o,l,u,d){const f=u[d]<0,m=u[d+1],E=o[f?-u[d]:u[d]];if(f){if(o[2]>>11<o[18]>>16&&(3&o[2])===l){o[2]+=2048;try{m.call(E)}finally{}}}else try{m.call(E)}finally{}}class Za{constructor(l,u,d){this.factory=l,this.resolving=!1,this.canSeeViewProviders=u,this.injectImpl=d}}function j(o,l,u){const d=ti(o);let f=0;for(;f<u.length;){const m=u[f];if("number"==typeof m){if(0!==m)break;f++;const v=u[f++],E=u[f++],M=u[f++];d?o.setAttribute(l,E,M,v):l.setAttributeNS(v,E,M)}else{const v=m,E=u[++f];Nr(v)?d&&o.setProperty(l,v,E):d?o.setAttribute(l,v,E):l.setAttribute(v,E),f++}}return f}function Wi(o){return 3===o||4===o||6===o}function Nr(o){return 64===o.charCodeAt(0)}function Oi(o,l){if(null!==l&&0!==l.length)if(null===o||0===o.length)o=l.slice();else{let u=-1;for(let d=0;d<l.length;d++){const f=l[d];"number"==typeof f?u=f:0===u||bu(o,u,f,null,-1===u||2===u?l[++d]:null)}}return o}function bu(o,l,u,d,f){let m=0,v=o.length;if(-1===l)v=-1;else for(;m<o.length;){const E=o[m++];if("number"==typeof E){if(E===l){v=-1;break}if(E>l){v=m-1;break}}}for(;m<o.length;){const E=o[m];if("number"==typeof E)break;if(E===u){if(null===d)return void(null!==f&&(o[m+1]=f));if(d===o[m+1])return void(o[m+2]=f)}m++,null!==d&&m++,null!==f&&m++}-1!==v&&(o.splice(v,0,l),m=v+1),o.splice(m++,0,u),null!==d&&o.splice(m++,0,d),null!==f&&o.splice(m++,0,f)}function di(o){return-1!==o}function ni(o){return 32767&o}function ii(o,l){let u=function gi(o){return o>>16}(o),d=l;for(;u>0;)d=d[15],u--;return d}let Zi=!0;function So(o){const l=Zi;return Zi=o,l}let R=0;function b(o,l){const u=N(o,l);if(-1!==u)return u;const d=l[1];d.firstCreatePass&&(o.injectorIndex=l.length,x(d.data,o),x(l,null),x(d.blueprint,null));const f=G(o,l),m=o.injectorIndex;if(di(f)){const v=ni(f),E=ii(f,l),M=E[1].data;for(let F=0;F<8;F++)l[m+F]=E[v+F]|M[v+F]}return l[m+8]=f,m}function x(o,l){o.push(0,0,0,0,0,0,0,0,l)}function N(o,l){return-1===o.injectorIndex||o.parent&&o.parent.injectorIndex===o.injectorIndex||null===l[o.injectorIndex+8]?-1:o.injectorIndex}function G(o,l){if(o.parent&&-1!==o.parent.injectorIndex)return o.parent.injectorIndex;let u=0,d=null,f=l;for(;null!==f;){const m=f[1],v=m.type;if(d=2===v?m.declTNode:1===v?f[6]:null,null===d)return-1;if(u++,f=f[15],-1!==d.injectorIndex)return d.injectorIndex|u<<16}return-1}function Q(o,l,u){!function I(o,l,u){let d;"string"==typeof u?d=u.charCodeAt(0)||0:u.hasOwnProperty(Ot)&&(d=u[Ot]),null==d&&(d=u[Ot]=R++);const f=255&d;l.data[o+(f>>5)]|=1<<f}(o,l,u)}function ke(o,l,u){if(u&xt.Optional)return o;ce(l,"NodeInjector")}function We(o,l,u,d){if(u&xt.Optional&&void 0===d&&(d=null),0==(u&(xt.Self|xt.Host))){const f=o[9],m=xn(void 0);try{return f?f.get(l,d,u&xt.Optional):ei(l,d,u&xt.Optional)}finally{xn(m)}}return ke(d,l,u)}function be(o,l,u,d=xt.Default,f){if(null!==o){const m=function jt(o){if("string"==typeof o)return o.charCodeAt(0)||0;const l=o.hasOwnProperty(Ot)?o[Ot]:void 0;return"number"==typeof l?l>=0?255&l:Tt:l}(u);if("function"==typeof m){if(!Ml(l,o,d))return d&xt.Host?ke(f,u,d):We(l,u,d,f);try{const v=m(d);if(null!=v||d&xt.Optional)return v;ce(u)}finally{yu()}}else if("number"==typeof m){let v=null,E=N(o,l),M=-1,F=d&xt.Host?l[16][6]:null;for((-1===E||d&xt.SkipSelf)&&(M=-1===E?G(o,l):l[E+8],-1!==M&&fn(d,!1)?(v=l[1],E=ni(M),l=ii(M,l)):E=-1);-1!==E;){const V=l[1];if(Ni(m,E,V.data)){const Y=vn(E,l,u,v,d,F);if(Y!==ot)return Y}M=l[E+8],-1!==M&&fn(d,l[1].data[E+8]===F)&&Ni(m,E,l)?(v=V,E=ni(M),l=ii(M,l)):E=-1}}}return We(l,u,d,f)}const ot={};function Tt(){return new Bn(ln(),$e())}function vn(o,l,u,d,f,m){const v=l[1],E=v.data[o+8],V=hn(E,v,u,null==d?go(E)&&Zi:d!=v&&0!=(3&E.type),f&xt.Host&&m===E);return null!==V?Ht(l,v,V,E):ot}function hn(o,l,u,d,f){const m=o.providerIndexes,v=l.data,E=1048575&m,M=o.directiveStart,V=m>>20,ie=f?E+V:o.directiveEnd;for(let he=d?E:E+V;he<ie;he++){const Ve=v[he];if(he<M&&u===Ve||he>=M&&Ve.type===u)return he}if(f){const he=v[M];if(he&&qi(he)&&he.type===u)return M}return null}function Ht(o,l,u,d){let f=o[u];const m=l.data;if(function Io(o){return o instanceof Za}(f)){const v=f;v.resolving&&function gt(o,l){const u=l?`. Dependency path: ${l.join(" > ")} > ${o}`:"";throw new Qe(-200,`Circular dependency in DI detected for ${o}${u}`)}(Be(m[u]));const E=So(v.canSeeViewProviders);v.resolving=!0;const M=v.injectImpl?xn(v.injectImpl):null;Ml(o,d,xt.Default);try{f=o[u]=v.factory(void 0,m,o,d),l.firstCreatePass&&u>=d.directiveStart&&function Do(o,l,u){const{ngOnChanges:d,ngOnInit:f,ngDoCheck:m}=l.type.prototype;if(d){const v=Tl(l);(u.preOrderHooks||(u.preOrderHooks=[])).push(o,v),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(o,v)}f&&(u.preOrderHooks||(u.preOrderHooks=[])).push(0-o,f),m&&((u.preOrderHooks||(u.preOrderHooks=[])).push(o,m),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(o,m))}(u,m[u],l)}finally{null!==M&&xn(M),So(E),v.resolving=!1,yu()}}return f}function Ni(o,l,u){return!!(u[l+(o>>5)]&1<<o)}function fn(o,l){return!(o&xt.Self||o&xt.Host&&l)}class Bn{constructor(l,u){this._tNode=l,this._lView=u}get(l,u,d){return be(this._tNode,this._lView,l,d,u)}}function Ao(o){return vi(()=>{const l=o.prototype.constructor,u=l[Xe]||ao(l),d=Object.prototype;let f=Object.getPrototypeOf(o.prototype).constructor;for(;f&&f!==d;){const m=f[Xe]||ao(f);if(m&&m!==u)return m;f=Object.getPrototypeOf(f)}return m=>new m})}function ao(o){return st(o)?()=>{const l=ao(_e(o));return l&&l()}:rs(o)}function Cc(o){return function le(o,l){if("class"===l)return o.classes;if("style"===l)return o.styles;const u=o.attrs;if(u){const d=u.length;let f=0;for(;f<d;){const m=u[f];if(Wi(m))break;if(0===m)f+=2;else if("number"==typeof m)for(f++;f<d&&"string"==typeof u[f];)f++;else{if(m===l)return u[f+1];f+=2}}}return null}(ln(),o)}const lo="__parameters__",Cs="__prop__metadata__";function wu(o){return function(...u){if(o){const d=o(...u);for(const f in d)this[f]=d[f]}}}function Vs(o,l,u){return vi(()=>{const d=wu(l);function f(...m){if(this instanceof f)return d.apply(this,m),this;const v=new f(...m);return E.annotation=v,E;function E(M,F,V){const Y=M.hasOwnProperty(lo)?M[lo]:Object.defineProperty(M,lo,{value:[]})[lo];for(;Y.length<=V;)Y.push(null);return(Y[V]=Y[V]||[]).push(v),M}}return u&&(f.prototype=Object.create(u.prototype)),f.prototype.ngMetadataName=o,f.annotationCls=f,f})}function Ya(o,l,u,d){return vi(()=>{const f=wu(l);function m(...v){if(this instanceof m)return f.apply(this,v),this;const E=new m(...v);return function M(F,V){const Y=F.constructor,ie=Y.hasOwnProperty(Cs)?Y[Cs]:Object.defineProperty(Y,Cs,{value:{}})[Cs];ie[V]=ie.hasOwnProperty(V)&&ie[V]||[],ie[V].unshift(E),d&&d(F,V,...v)}}return u&&(m.prototype=Object.create(u.prototype)),m.prototype.ngMetadataName=o,m.annotationCls=m,m})}class Yi{constructor(l,u){this._desc=l,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof u?this.__NG_ELEMENT_ID__=u:void 0!==u&&(this.\u0275prov=In({token:this,providedIn:u.providedIn||"root",factory:u.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Ev=new Yi("AnalyzeForEntryComponents");class xh{}const _p=Ya("ContentChild",(o,l={})=>Object.assign({selector:o,first:!0,isViewQuery:!1,descendants:!0},l),xh),Cu=Ya("ViewChild",(o,l)=>Object.assign({selector:o,first:!0,isViewQuery:!0,descendants:!0},l),xh);function zr(o,l){void 0===l&&(l=o);for(let u=0;u<o.length;u++){let d=o[u];Array.isArray(d)?(l===o&&(l=o.slice(0,u)),zr(d,l)):l!==o&&l.push(d)}return l}function xo(o,l){o.forEach(u=>Array.isArray(u)?xo(u,l):l(u))}function Tc(o,l,u){l>=o.length?o.push(u):o.splice(l,0,u)}function Fl(o,l){return l>=o.length-1?o.pop():o.splice(l,1)[0]}function Es(o,l){const u=[];for(let d=0;d<o;d++)u.push(l);return u}function as(o,l,u){let d=ko(o,l);return d>=0?o[1|d]=u:(d=~d,function vr(o,l,u,d){let f=o.length;if(f==l)o.push(u,d);else if(1===f)o.push(d,o[0]),o[0]=u;else{for(f--,o.push(o[f-1],o[f]);f>l;)o[f]=o[f-2],f--;o[l]=u,o[l+1]=d}}(o,d,l,u)),d}function Sc(o,l){const u=ko(o,l);if(u>=0)return o[1|u]}function ko(o,l){return function ta(o,l,u){let d=0,f=o.length>>u;for(;f!==d;){const m=d+(f-d>>1),v=o[m<<u];if(l===v)return m<<u;v>l?f=m:d=m+1}return~(f<<u)}(o,l,1)}const Ja={},md="__NG_DI_FLAG__",Du="ngTempTokenPath",O=/\n/gm,X="__source",de=Le({provide:String,useValue:Le});let ve;function Ke(o){const l=ve;return ve=o,l}function Ct(o,l=xt.Default){if(void 0===ve)throw new Qe(203,"");return null===ve?ei(o,void 0,l):ve.get(o,l&xt.Optional?null:void 0,l)}function At(o,l=xt.Default){return(function yi(){return hr}()||Ct)(_e(o),l)}const Dn=At;function qt(o){const l=[];for(let u=0;u<o.length;u++){const d=_e(o[u]);if(Array.isArray(d)){if(0===d.length)throw new Qe(900,"");let f,m=xt.Default;for(let v=0;v<d.length;v++){const E=d[v],M=Pi(E);"number"==typeof M?-1===M?f=E.token:m|=M:f=E}l.push(At(f,m))}else l.push(At(d))}return l}function Ki(o,l){return o[md]=l,o.prototype[md]=l,o}function Pi(o){return o[md]}const Ra=Ki(Vs("Inject",o=>({token:o})),-1),qr=Ki(Vs("Optional"),8),ia=Ki(Vs("SkipSelf"),4);let wd;function Su(o){var l;return(null===(l=function Cd(){if(void 0===wd&&(wd=null,sn.trustedTypes))try{wd=sn.trustedTypes.createPolicy("angular",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch(o){}return wd}())||void 0===l?void 0:l.createHTML(o))||o}class xc{constructor(l){this.changingThisBreaksApplicationSecurity=l}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class UC extends xc{getTypeName(){return"HTML"}}class HC extends xc{getTypeName(){return"Style"}}class Td extends xc{getTypeName(){return"Script"}}class jC extends xc{getTypeName(){return"URL"}}class Cp extends xc{getTypeName(){return"ResourceURL"}}function Oa(o){return o instanceof xc?o.changingThisBreaksApplicationSecurity:o}function kc(o,l){const u=Ep(o);if(null!=u&&u!==l){if("ResourceURL"===u&&"URL"===l)return!0;throw new Error(`Required a safe ${l}, got a ${u} (see https://g.co/ng/security#xss)`)}return u===l}function Ep(o){return o instanceof xc&&o.getTypeName()||null}function Dd(o){return new UC(o)}function Id(o){return new HC(o)}function kv(o){return new Td(o)}function Bh(o){return new jC(o)}function GC(o){return new Cp(o)}class $C{constructor(l){this.inertDocumentHelper=l}getInertBodyElement(l){l="<body><remove></remove>"+l;try{const u=(new window.DOMParser).parseFromString(Su(l),"text/html").body;return null===u?this.inertDocumentHelper.getInertBodyElement(l):(u.removeChild(u.firstChild),u)}catch(u){return null}}}class zC{constructor(l){if(this.defaultDoc=l,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const u=this.inertDocument.createElement("html");this.inertDocument.appendChild(u);const d=this.inertDocument.createElement("body");u.appendChild(d)}}getInertBodyElement(l){const u=this.inertDocument.createElement("template");if("content"in u)return u.innerHTML=Su(l),u;const d=this.inertDocument.createElement("body");return d.innerHTML=Su(l),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(d),d}stripCustomNsAttrs(l){const u=l.attributes;for(let f=u.length-1;0<f;f--){const v=u.item(f).name;("xmlns:ns1"===v||0===v.indexOf("ns1:"))&&l.removeAttribute(v)}let d=l.firstChild;for(;d;)d.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(d),d=d.nextSibling}}const g=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,D=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function L(o){return(o=String(o)).match(g)||o.match(D)?o:"unsafe:"+o}function pe(o){const l={};for(const u of o.split(","))l[u]=!0;return l}function qe(...o){const l={};for(const u of o)for(const d in u)u.hasOwnProperty(d)&&(l[d]=!0);return l}const kt=pe("area,br,col,hr,img,wbr"),Lt=pe("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),pn=pe("rp,rt"),Ul=qe(kt,qe(Lt,pe("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),qe(pn,pe("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),qe(pn,Lt)),Au=pe("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Rc=pe("srcset"),Uh=qe(Au,Rc,pe("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),pe("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Wr=pe("script,style,template");class Wg{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(l){let u=l.firstChild,d=!0;for(;u;)if(u.nodeType===Node.ELEMENT_NODE?d=this.startElement(u):u.nodeType===Node.TEXT_NODE?this.chars(u.nodeValue):this.sanitizedSomething=!0,d&&u.firstChild)u=u.firstChild;else for(;u;){u.nodeType===Node.ELEMENT_NODE&&this.endElement(u);let f=this.checkClobberedElement(u,u.nextSibling);if(f){u=f;break}u=this.checkClobberedElement(u,u.parentNode)}return this.buf.join("")}startElement(l){const u=l.nodeName.toLowerCase();if(!Ul.hasOwnProperty(u))return this.sanitizedSomething=!0,!Wr.hasOwnProperty(u);this.buf.push("<"),this.buf.push(u);const d=l.attributes;for(let f=0;f<d.length;f++){const m=d.item(f),v=m.name,E=v.toLowerCase();if(!Uh.hasOwnProperty(E)){this.sanitizedSomething=!0;continue}let M=m.value;Au[E]&&(M=L(M)),Rc[E]&&(o=M,M=(o=String(o)).split(",").map(l=>L(l.trim())).join(", ")),this.buf.push(" ",v,'="',Yg(M),'"')}var o;return this.buf.push(">"),!0}endElement(l){const u=l.nodeName.toLowerCase();Ul.hasOwnProperty(u)&&!kt.hasOwnProperty(u)&&(this.buf.push("</"),this.buf.push(u),this.buf.push(">"))}chars(l){this.buf.push(Yg(l))}checkClobberedElement(l,u){if(u&&(l.compareDocumentPosition(u)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${l.outerHTML}`);return u}}const Dp=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Zg=/([^\#-~ |!])/g;function Yg(o){return o.replace(/&/g,"&amp;").replace(Dp,function(l){return"&#"+(1024*(l.charCodeAt(0)-55296)+(l.charCodeAt(1)-56320)+65536)+";"}).replace(Zg,function(l){return"&#"+l.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Oc;function Kg(o,l){let u=null;try{Oc=Oc||function qg(o){const l=new zC(o);return function w(){try{return!!(new window.DOMParser).parseFromString(Su(""),"text/html")}catch(o){return!1}}()?new $C(l):l}(o);let d=l?String(l):"";u=Oc.getInertBodyElement(d);let f=5,m=d;do{if(0===f)throw new Error("Failed to sanitize html because the input is unstable");f--,d=m,m=u.innerHTML,u=Oc.getInertBodyElement(d)}while(d!==m);return Su((new Wg).sanitizeChildren(Rv(u)||u))}finally{if(u){const d=Rv(u)||u;for(;d.firstChild;)d.removeChild(d.firstChild)}}}function Rv(o){return"content"in o&&function vA(o){return o.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===o.nodeName}(o)?o.content:null}var Qi=(()=>((Qi=Qi||{})[Qi.NONE=0]="NONE",Qi[Qi.HTML=1]="HTML",Qi[Qi.STYLE=2]="STYLE",Qi[Qi.SCRIPT=3]="SCRIPT",Qi[Qi.URL=4]="URL",Qi[Qi.RESOURCE_URL=5]="RESOURCE_URL",Qi))();function Ov(o){const l=function Hl(){const o=$e();return o&&o[12]}();return l?l.sanitize(Qi.URL,o)||"":kc(o,"URL")?Oa(o):L(Oe(o))}const KC="__ngContext__";function sr(o,l){o[KC]=l}function Zr(o){const l=function sa(o){return o[KC]||null}(o);return l?Array.isArray(l)?l:l.lView:null}function Bv(o){return o.ngOriginalError}function DA(o,...l){o.error(...l)}class Ap{constructor(){this._console=console}handleError(l){const u=this._findOriginalError(l),d=function TA(o){return o&&o.ngErrorLogger||DA}(l);d(this._console,"ERROR",l),u&&d(this._console,"ORIGINAL ERROR",u)}_findOriginalError(l){let u=l&&Bv(l);for(;u&&Bv(u);)u=Bv(u);return u||null}}const Hv=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(sn))();function tE(o){return o.ownerDocument.defaultView}function el(o){return o instanceof Function?o():o}var Yr=(()=>((Yr=Yr||{})[Yr.Important=1]="Important",Yr[Yr.DashCase=2]="DashCase",Yr))();function Gv(o,l){return undefined(o,l)}function Mp(o){const l=o[3];return mr(l)?l[3]:l}function Xg(o){return xp(o[13])}function e_(o){return xp(o[4])}function xp(o){for(;null!==o&&!mr(o);)o=o[4];return o}function bn(o,l,u,d,f){if(null!=d){let m,v=!1;mr(d)?m=d:ji(d)&&(v=!0,d=d[0]);const E=Yn(d);0===o&&null!==u?null==f?Op(l,u,E):xd(l,u,E,f||null,!0):1===o&&null!==u?xd(l,u,E,f||null,!0):2===o?function kd(o,l,u){const d=i_(o,l);d&&function LA(o,l,u,d){ti(o)?o.removeChild(l,u,d):l.removeChild(u)}(o,d,l,u)}(l,E,v):3===o&&l.destroyNode(E),null!=m&&function Jv(o,l,u,d,f){const m=u[7];m!==Yn(u)&&bn(l,o,d,m,f);for(let E=10;E<u.length;E++){const M=u[E];Fp(M[1],M,o,l,d,m)}}(l,o,m,u,f)}}function qv(o,l,u){if(ti(o))return o.createElement(l,u);{const d=null!==u?function mu(o){const l=o.toLowerCase();return"svg"===l?"http://www.w3.org/2000/svg":"math"===l?"http://www.w3.org/1998/MathML/":null}(u):null;return null===d?o.createElement(l):o.createElementNS(d,l)}}function Rp(o,l){const u=o[9],d=u.indexOf(l),f=l[3];1024&l[2]&&(l[2]&=-1025,io(f,-1)),u.splice(d,1)}function Wv(o,l){if(o.length<=10)return;const u=10+l,d=o[u];if(d){const f=d[17];null!==f&&f!==o&&Rp(f,d),l>0&&(o[u-1][4]=d[4]);const m=Fl(o,10+l);!function sE(o,l){Fp(o,l,l[11],2,null,null),l[0]=null,l[6]=null}(d[1],d);const v=m[19];null!==v&&v.detachView(m[1]),d[3]=null,d[4]=null,d[2]&=-129}return d}function n_(o,l){if(!(256&l[2])){const u=l[11];ti(u)&&u.destroyNode&&Fp(o,l,u,3,null,null),function t_(o){let l=o[13];if(!l)return zh(o[1],o);for(;l;){let u=null;if(ji(l))u=l[13];else{const d=l[10];d&&(u=d)}if(!u){for(;l&&!l[4]&&l!==o;)ji(l)&&zh(l[1],l),l=l[3];null===l&&(l=o),ji(l)&&zh(l[1],l),u=l&&l[4]}l=u}}(l)}}function zh(o,l){if(!(256&l[2])){l[2]&=-129,l[2]|=256,function cE(o,l){let u;if(null!=o&&null!=(u=o.destroyHooks))for(let d=0;d<u.length;d+=2){const f=l[u[d]];if(!(f instanceof Za)){const m=u[d+1];if(Array.isArray(m))for(let v=0;v<m.length;v+=2){const E=f[m[v]],M=m[v+1];try{M.call(E)}finally{}}else try{m.call(f)}finally{}}}}(o,l),function lE(o,l){const u=o.cleanup,d=l[7];let f=-1;if(null!==u)for(let m=0;m<u.length-1;m+=2)if("string"==typeof u[m]){const v=u[m+1],E="function"==typeof v?v(l):Yn(l[v]),M=d[f=u[m+2]],F=u[m+3];"boolean"==typeof F?E.removeEventListener(u[m],M,F):F>=0?d[f=F]():d[f=-F].unsubscribe(),m+=2}else{const v=d[f=u[m+1]];u[m].call(v)}if(null!==d){for(let m=f+1;m<d.length;m++)d[m]();l[7]=null}}(o,l),1===l[1].type&&ti(l[11])&&l[11].destroy();const u=l[17];if(null!==u&&mr(l[3])){u!==l[3]&&Rp(u,l);const d=l[19];null!==d&&d.detachView(o)}}}function uE(o,l,u){return function dE(o,l,u){let d=l;for(;null!==d&&40&d.type;)d=(l=d).parent;if(null===d)return u[0];if(2&d.flags){const f=o.data[d.directiveStart].encapsulation;if(f===en.None||f===en.Emulated)return null}return ir(d,u)}(o,l.parent,u)}function xd(o,l,u,d,f){ti(o)?o.insertBefore(l,u,d,f):l.insertBefore(u,d,f)}function Op(o,l,u){ti(o)?o.appendChild(l,u):l.appendChild(u)}function hE(o,l,u,d,f){null!==d?xd(o,l,u,d,f):Op(o,l,u)}function i_(o,l){return ti(o)?o.parentNode(l):l.parentNode}function fE(o,l,u){return r_(o,l,u)}let r_=function Zv(o,l,u){return 40&o.type?ir(o,u):null};function Fc(o,l,u,d){const f=uE(o,d,l),m=l[11],E=fE(d.parent||l[6],d,l);if(null!=f)if(Array.isArray(u))for(let M=0;M<u.length;M++)hE(m,f,u[M],E,!1);else hE(m,f,u,E,!1)}function Pp(o,l){if(null!==l){const u=l.type;if(3&u)return ir(l,o);if(4&u)return Kv(-1,o[l.index]);if(8&u){const d=l.child;if(null!==d)return Pp(o,d);{const f=o[l.index];return mr(f)?Kv(-1,f):Yn(f)}}if(32&u)return Gv(l,o)()||Yn(o[l.index]);{const d=Yv(o,l);return null!==d?Array.isArray(d)?d[0]:Pp(Mp(o[16]),d):Pp(o,l.next)}}return null}function Yv(o,l){return null!==l?o[16][6].projection[l.projection]:null}function Kv(o,l){const u=10+o+1;if(u<l.length){const d=l[u],f=d[1].firstChild;if(null!==f)return Pp(d,f)}return l[7]}function s_(o,l,u,d,f,m,v){for(;null!=u;){const E=d[u.index],M=u.type;if(v&&0===l&&(E&&sr(Yn(E),d),u.flags|=4),64!=(64&u.flags))if(8&M)s_(o,l,u.child,d,f,m,!1),bn(l,o,f,E,m);else if(32&M){const F=Gv(u,d);let V;for(;V=F();)bn(l,o,f,V,m);bn(l,o,f,E,m)}else 16&M?Qv(o,l,d,u,f,m):bn(l,o,f,E,m);u=v?u.projectionNext:u.next}}function Fp(o,l,u,d,f,m){s_(u,d,o.firstChild,l,f,m,!1)}function Qv(o,l,u,d,f,m){const v=u[16],M=v[6].projection[d.projection];if(Array.isArray(M))for(let F=0;F<M.length;F++)bn(l,o,f,M[F],m);else s_(o,l,M,v[3],f,m,!0)}function a_(o,l,u){ti(o)?o.setAttribute(l,"style",u):l.style.cssText=u}function Lp(o,l,u){ti(o)?""===u?o.removeAttribute(l,"class"):o.setAttribute(l,"class",u):l.className=u}function mE(o,l,u){let d=o.length;for(;;){const f=o.indexOf(l,u);if(-1===f)return f;if(0===f||o.charCodeAt(f-1)<=32){const m=l.length;if(f+m===d||o.charCodeAt(f+m)<=32)return f}u=f+1}}const gE="ng-template";function BA(o,l,u){let d=0;for(;d<o.length;){let f=o[d++];if(u&&"class"===f){if(f=o[d],-1!==mE(f.toLowerCase(),l,0))return!0}else if(1===f){for(;d<o.length&&"string"==typeof(f=o[d++]);)if(f.toLowerCase()===l)return!0;return!1}}return!1}function _E(o){return 4===o.type&&o.value!==gE}function c_(o,l,u){return l===(4!==o.type||u?o.value:gE)}function Vp(o,l,u){let d=4;const f=o.attrs||[],m=function e0(o){for(let l=0;l<o.length;l++)if(Wi(o[l]))return l;return o.length}(f);let v=!1;for(let E=0;E<l.length;E++){const M=l[E];if("number"!=typeof M){if(!v)if(4&d){if(d=2|1&d,""!==M&&!c_(o,M,u)||""===M&&1===l.length){if(oa(d))return!1;v=!0}}else{const F=8&d?M:l[++E];if(8&d&&null!==o.attrs){if(!BA(o.attrs,F,u)){if(oa(d))return!1;v=!0}continue}const Y=yE(8&d?"class":M,f,_E(o),u);if(-1===Y){if(oa(d))return!1;v=!0;continue}if(""!==F){let ie;ie=Y>m?"":f[Y+1].toLowerCase();const he=8&d?ie:null;if(he&&-1!==mE(he,F,0)||2&d&&F!==ie){if(oa(d))return!1;v=!0}}}}else{if(!v&&!oa(d)&&!oa(M))return!1;if(v&&oa(M))continue;v=!1,d=M|1&d}}return oa(d)||v}function oa(o){return 0==(1&o)}function yE(o,l,u,d){if(null===l)return-1;let f=0;if(d||!u){let m=!1;for(;f<l.length;){const v=l[f];if(v===o)return f;if(3===v||6===v)m=!0;else{if(1===v||2===v){let E=l[++f];for(;"string"==typeof E;)E=l[++f];continue}if(4===v)break;if(0===v){f+=4;continue}}f+=m?1:2}return-1}return function HA(o,l){let u=o.indexOf(4);if(u>-1)for(u++;u<o.length;){const d=o[u];if("number"==typeof d)return-1;if(d===l)return u;u++}return-1}(l,o)}function Xv(o,l,u=!1){for(let d=0;d<l.length;d++)if(Vp(o,l[d],u))return!0;return!1}function jA(o,l){e:for(let u=0;u<l.length;u++){const d=l[u];if(o.length===d.length){for(let f=0;f<o.length;f++)if(o[f]!==d[f])continue e;return!0}}return!1}function vE(o,l){return o?":not("+l.trim()+")":l}function bE(o){let l=o[0],u=1,d=2,f="",m=!1;for(;u<o.length;){let v=o[u];if("string"==typeof v)if(2&d){const E=o[++u];f+="["+v+(E.length>0?'="'+E+'"':"")+"]"}else 8&d?f+="."+v:4&d&&(f+=" "+v);else""!==f&&!oa(v)&&(l+=vE(m,f),f=""),d=v,m=m||!oa(d);u++}return""!==f&&(l+=vE(m,f)),l}const cn={};function wE(o){t0(an(),$e(),Or()+o,Aa())}function t0(o,l,u,d){if(!d)if(3==(3&l[2])){const m=o.preOrderCheckHooks;null!==m&&Ol(l,m,u)}else{const m=o.preOrderHooks;null!==m&&Nl(l,m,0,u)}oo(u)}function d_(o,l){return o<<17|l<<2}function tl(o){return o>>17&32767}function Gl(o){return 2|o}function Lc(o){return(131068&o)>>2}function Vc(o,l){return-131069&o|l<<2}function s0(o){return 1|o}function AE(o,l){const u=o.contentQueries;if(null!==u)for(let d=0;d<u.length;d+=2){const f=u[d],m=u[d+1];if(-1!==m){const v=o.data[m];pc(f),v.contentQueries(2,l[m],m)}}}function Gp(o,l,u,d,f,m,v,E,M,F){const V=l.blueprint.slice();return V[0]=f,V[2]=140|d,Ps(V),V[3]=V[15]=o,V[8]=u,V[10]=v||o&&o[10],V[11]=E||o&&o[11],V[12]=M||o&&o[12]||null,V[9]=F||o&&o[9]||null,V[6]=m,V[16]=2==l.type?o[16]:V,V}function Wh(o,l,u,d,f){let m=o.data[l];if(null===m)m=function m0(o,l,u,d,f){const m=Fs(),v=Ko(),M=o.data[l]=function kE(o,l,u,d,f,m){return{type:u,index:d,insertBeforeIndex:null,injectorIndex:l?l.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:f,attrs:m,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:l,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?m:m&&m.parent,u,l,d,f);return null===o.firstChild&&(o.firstChild=M),null!==m&&(v?null==m.child&&null!==M.parent&&(m.child=M):null===m.next&&(m.next=M)),M}(o,l,u,d,f),function Pn(){return Ft.lFrame.inI18n}()&&(m.flags|=64);else if(64&m.type){m.type=u,m.value=d,m.attrs=f;const v=function os(){const o=Ft.lFrame,l=o.currentTNode;return o.isParent?l:l.parent}();m.injectorIndex=null===v?-1:v.injectorIndex}return bs(m,!0),m}function Zh(o,l,u,d){if(0===u)return-1;const f=l.length;for(let m=0;m<u;m++)l.push(d),o.blueprint.push(d),o.data.push(null);return f}function $p(o,l,u){Wa(l);try{const d=o.viewQuery;null!==d&&x0(1,d,u);const f=o.template;null!==f&&ME(o,l,f,1,u),o.firstCreatePass&&(o.firstCreatePass=!1),o.staticContentQueries&&AE(o,l),o.staticViewQueries&&x0(2,o.viewQuery,u);const m=o.components;null!==m&&function iM(o,l){for(let u=0;u<l.length;u++)Nd(o,l[u])}(l,m)}catch(d){throw o.firstCreatePass&&(o.incompleteFirstPass=!0,o.firstCreatePass=!1),d}finally{l[2]&=-5,Jo()}}function Yh(o,l,u,d){const f=l[2];if(256==(256&f))return;Wa(l);const m=Aa();try{Ps(l),function Ma(o){return Ft.lFrame.bindingIndex=o}(o.bindingStartIndex),null!==u&&ME(o,l,u,2,d);const v=3==(3&f);if(!m)if(v){const F=o.preOrderCheckHooks;null!==F&&Ol(l,F,null)}else{const F=o.preOrderHooks;null!==F&&Nl(l,F,0,null),Ri(l,0)}if(function jE(o){for(let l=Xg(o);null!==l;l=e_(l)){if(!l[2])continue;const u=l[9];for(let d=0;d<u.length;d++){const f=u[d],m=f[3];0==(1024&f[2])&&io(m,1),f[2]|=1024}}}(l),function HE(o){for(let l=Xg(o);null!==l;l=e_(l))for(let u=10;u<l.length;u++){const d=l[u],f=d[1];Yo(d)&&Yh(f,d,f.template,d[8])}}(l),null!==o.contentQueries&&AE(o,l),!m)if(v){const F=o.contentCheckHooks;null!==F&&Ol(l,F)}else{const F=o.contentHooks;null!==F&&Nl(l,F,1),Ri(l,1)}!function nM(o,l){const u=o.hostBindingOpCodes;if(null!==u)try{for(let d=0;d<u.length;d++){const f=u[d];if(f<0)oo(~f);else{const m=f,v=u[++d],E=u[++d];fc(v,m),E(2,l[m])}}}finally{oo(-1)}}(o,l);const E=o.components;null!==E&&function jp(o,l){for(let u=0;u<l.length;u++)I0(o,l[u])}(l,E);const M=o.viewQuery;if(null!==M&&x0(2,M,d),!m)if(v){const F=o.viewCheckHooks;null!==F&&Ol(l,F)}else{const F=o.viewHooks;null!==F&&Nl(l,F,2),Ri(l,2)}!0===o.firstUpdatePass&&(o.firstUpdatePass=!1),m||(l[2]&=-73),1024&l[2]&&(l[2]&=-1025,io(l[3],-1))}finally{Jo()}}function rM(o,l,u,d){const f=l[10],m=!Aa(),v=no(l);try{m&&!v&&f.begin&&f.begin(),v&&$p(o,l,d),Yh(o,l,u,d)}finally{m&&!v&&f.end&&f.end()}}function ME(o,l,u,d,f){const m=Or(),v=2&d;try{oo(-1),v&&l.length>20&&t0(o,l,20,Aa()),u(d,f)}finally{oo(m)}}function g0(o,l,u){if(bl(l)){const f=l.directiveEnd;for(let m=l.directiveStart;m<f;m++){const v=o.data[m];v.contentQueries&&v.contentQueries(1,u[m],m)}}}function _0(o,l,u){!ys()||(function dM(o,l,u,d){const f=u.directiveStart,m=u.directiveEnd;o.firstCreatePass||b(u,l),sr(d,l);const v=u.initialInputs;for(let E=f;E<m;E++){const M=o.data[E],F=qi(M);F&&D0(l,u,M);const V=Ht(l,o,E,u);sr(V,l),null!==v&&BE(0,E-f,V,M,0,v),F&&(Rr(u.index,l)[8]=V)}}(o,l,u,ir(u,l)),128==(128&u.flags)&&function hM(o,l,u){const d=u.directiveStart,f=u.directiveEnd,v=u.index,E=function _r(){return Ft.lFrame.currentDirectiveIndex}();try{oo(v);for(let M=d;M<f;M++){const F=o.data[M],V=l[M];Al(M),(null!==F.hostBindings||0!==F.hostVars||null!==F.hostAttrs)&&PE(F,V)}}finally{oo(-1),Al(E)}}(o,l,u))}function y0(o,l,u=ir){const d=l.localNames;if(null!==d){let f=l.index+1;for(let m=0;m<d.length;m+=2){const v=d[m+1],E=-1===v?u(l,o):o[v];o[f++]=E}}}function xE(o){const l=o.tView;return null===l||l.incompleteFirstPass?o.tView=g_(1,null,o.template,o.decls,o.vars,o.directiveDefs,o.pipeDefs,o.viewQuery,o.schemas,o.consts):l}function g_(o,l,u,d,f,m,v,E,M,F){const V=20+d,Y=V+f,ie=function sM(o,l){const u=[];for(let d=0;d<l;d++)u.push(d<o?null:cn);return u}(V,Y),he="function"==typeof F?F():F;return ie[1]={type:o,blueprint:ie,template:u,queries:null,viewQuery:E,declTNode:l,data:ie.slice().fill(null,V),bindingStartIndex:V,expandoStartIndex:Y,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof m?m():m,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:M,consts:he,incompleteFirstPass:!1}}function w0(o,l,u,d){const f=ZE(l);null===u?f.push(d):(f.push(u),o.firstCreatePass&&YE(o).push(d,f.length-1))}function C0(o,l,u){for(let d in o)if(o.hasOwnProperty(d)){const f=o[d];(u=null===u?{}:u).hasOwnProperty(d)?u[d].push(l,f):u[d]=[l,f]}return u}function la(o,l,u,d,f,m,v,E){const M=ir(l,u);let V,F=l.inputs;!E&&null!=F&&(V=F[d])?(_M(o,u,V,d,f),go(l)&&function lM(o,l){const u=Rr(l,o);16&u[2]||(u[2]|=64)}(u,l.index)):3&l.type&&(d=function aM(o){return"class"===o?"className":"for"===o?"htmlFor":"formaction"===o?"formAction":"innerHtml"===o?"innerHTML":"readonly"===o?"readOnly":"tabindex"===o?"tabIndex":o}(d),f=null!=v?v(f,l.value||"",d):f,ti(m)?m.setProperty(M,d,f):Nr(d)||(M.setProperty?M.setProperty(d,f):M[d]=f))}function zp(o,l,u,d){let f=!1;if(ys()){const m=function FE(o,l,u){const d=o.directiveRegistry;let f=null;if(d)for(let m=0;m<d.length;m++){const v=d[m];Xv(u,v.selectors,!1)&&(f||(f=[]),Q(b(u,l),o,v.type),qi(v)?(LE(o,u),f.unshift(v)):f.push(v))}return f}(o,l,u),v=null===d?null:{"":-1};if(null!==m){f=!0,VE(u,o.data.length,m.length);for(let V=0;V<m.length;V++){const Y=m[V];Y.providersResolver&&Y.providersResolver(Y)}let E=!1,M=!1,F=Zh(o,l,m.length,null);for(let V=0;V<m.length;V++){const Y=m[V];u.mergedAttrs=Oi(u.mergedAttrs,Y.hostAttrs),T0(o,u,l,F,Y),Kr(F,Y,v),null!==Y.contentQueries&&(u.flags|=8),(null!==Y.hostBindings||null!==Y.hostAttrs||0!==Y.hostVars)&&(u.flags|=128);const ie=Y.type.prototype;!E&&(ie.ngOnChanges||ie.ngOnInit||ie.ngDoCheck)&&((o.preOrderHooks||(o.preOrderHooks=[])).push(u.index),E=!0),!M&&(ie.ngOnChanges||ie.ngDoCheck)&&((o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(u.index),M=!0),F++}!function oM(o,l){const d=l.directiveEnd,f=o.data,m=l.attrs,v=[];let E=null,M=null;for(let F=l.directiveStart;F<d;F++){const V=f[F],Y=V.inputs,ie=null===m||_E(l)?null:pM(Y,m);v.push(ie),E=C0(Y,F,E),M=C0(V.outputs,F,M)}null!==E&&(E.hasOwnProperty("class")&&(l.flags|=16),E.hasOwnProperty("style")&&(l.flags|=32)),l.initialInputs=v,l.inputs=E,l.outputs=M}(o,u)}v&&function fM(o,l,u){if(l){const d=o.localNames=[];for(let f=0;f<l.length;f+=2){const m=u[l[f+1]];if(null==m)throw new Qe(-301,!1);d.push(l[f],m)}}}(u,d,v)}return u.mergedAttrs=Oi(u.mergedAttrs,u.attrs),f}function E0(o,l,u,d,f,m){const v=m.hostBindings;if(v){let E=o.hostBindingOpCodes;null===E&&(E=o.hostBindingOpCodes=[]);const M=~l.index;(function uM(o){let l=o.length;for(;l>0;){const u=o[--l];if("number"==typeof u&&u<0)return u}return 0})(E)!=M&&E.push(M),E.push(d,f,v)}}function PE(o,l){null!==o.hostBindings&&o.hostBindings(1,l)}function LE(o,l){l.flags|=2,(o.components||(o.components=[])).push(l.index)}function Kr(o,l,u){if(u){if(l.exportAs)for(let d=0;d<l.exportAs.length;d++)u[l.exportAs[d]]=o;qi(l)&&(u[""]=o)}}function VE(o,l,u){o.flags|=1,o.directiveStart=l,o.directiveEnd=l+u,o.providerIndexes=l}function T0(o,l,u,d,f){o.data[d]=f;const m=f.factory||(f.factory=rs(f.type)),v=new Za(m,qi(f),null);o.blueprint[d]=v,u[d]=v,E0(o,l,0,d,Zh(o,u,f.hostVars,cn),f)}function D0(o,l,u){const d=ir(l,o),f=xE(u),m=o[10],v=__(o,Gp(o,f,null,u.onPush?64:16,d,l,m,m.createRenderer(d,u),null,null));o[l.index]=v}function Hs(o,l,u,d,f,m){const v=ir(o,l);!function Ru(o,l,u,d,f,m,v){if(null==m)ti(o)?o.removeAttribute(l,f,u):l.removeAttribute(f);else{const E=null==v?Oe(m):v(m,d||"",f);ti(o)?o.setAttribute(l,f,E,u):u?l.setAttributeNS(u,f,E):l.setAttribute(f,E)}}(l[11],v,m,o.value,u,d,f)}function BE(o,l,u,d,f,m){const v=m[l];if(null!==v){const E=d.setInput;for(let M=0;M<v.length;){const F=v[M++],V=v[M++],Y=v[M++];null!==E?d.setInput(u,Y,F,V):u[V]=Y}}}function pM(o,l){let u=null,d=0;for(;d<l.length;){const f=l[d];if(0!==f)if(5!==f){if("number"==typeof f)break;o.hasOwnProperty(f)&&(null===u&&(u=[]),u.push(f,o[f],l[d+1])),d+=2}else d+=2;else d+=4}return u}function UE(o,l,u,d){return new Array(o,!0,!1,l,null,0,d,u,null,null)}function I0(o,l){const u=Rr(l,o);if(Yo(u)){const d=u[1];80&u[2]?Yh(d,u,d.template,u[8]):u[5]>0&&GE(u)}}function GE(o){for(let d=Xg(o);null!==d;d=e_(d))for(let f=10;f<d.length;f++){const m=d[f];if(1024&m[2]){const v=m[1];Yh(v,m,v.template,m[8])}else m[5]>0&&GE(m)}const u=o[1].components;if(null!==u)for(let d=0;d<u.length;d++){const f=Rr(u[d],o);Yo(f)&&f[5]>0&&GE(f)}}function Nd(o,l){const u=Rr(l,o),d=u[1];(function $E(o,l){for(let u=l.length;u<o.blueprint.length;u++)l.push(o.blueprint[u])})(d,u),$p(d,u,u[8])}function __(o,l){return o[13]?o[14][4]=l:o[13]=l,o[14]=l,l}function S0(o){for(;o;){o[2]|=64;const l=Mp(o);if(wl(o)&&!l)return o;o=l}return null}function M0(o,l,u){const d=l[10];d.begin&&d.begin();try{Yh(o,l,o.template,u)}catch(f){throw KE(l,f),f}finally{d.end&&d.end()}}function qE(o){!function A0(o){for(let l=0;l<o.components.length;l++){const u=o.components[l],d=Zr(u),f=d[1];rM(f,d,f.template,u)}}(o[8])}function x0(o,l,u){pc(0),l(o,u)}const k0=(()=>Promise.resolve(null))();function ZE(o){return o[7]||(o[7]=[])}function YE(o){return o.cleanup||(o.cleanup=[])}function R0(o,l,u){return(null===o||qi(o))&&(u=function dc(o){for(;Array.isArray(o);){if("object"==typeof o[1])return o;o=o[0]}return null}(u[l.index])),u[11]}function KE(o,l){const u=o[9],d=u?u.get(Ap,null):null;d&&d.handleError(l)}function _M(o,l,u,d,f){for(let m=0;m<u.length;){const v=u[m++],E=u[m++],M=l[v],F=o.data[v];null!==F.setInput?F.setInput(M,f,d,E):M[E]=f}}function ca(o,l,u){const d=Co(l,o);!function rE(o,l,u){ti(o)?o.setValue(l,u):l.textContent=u}(o[11],d,u)}function Kh(o,l,u){let d=u?o.styles:null,f=u?o.classes:null,m=0;if(null!==l)for(let v=0;v<l.length;v++){const E=l[v];"number"==typeof E?m=E:1==m?f=xe(f,E):2==m&&(d=xe(d,E+": "+l[++v]+";"))}u?o.styles=d:o.stylesWithoutHost=d,u?o.classes=f:o.classesWithoutHost=f}const Qh=new Yi("INJECTOR",-1);class QE{get(l,u=Ja){if(u===Ja){const d=new Error(`NullInjectorError: No provider for ${Te(l)}!`);throw d.name="NullInjectorError",d}return u}}const nl=new Yi("Set Injector scope."),Et={},O0={};let nn;function qp(){return void 0===nn&&(nn=new QE),nn}function v_(o,l=null,u=null,d){const f=Jh(o,l,u,d);return f._resolveInjectorDefTypes(),f}function Jh(o,l=null,u=null,d){return new vM(o,u,l||qp(),d)}class vM{constructor(l,u,d,f=null){this.parent=d,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const m=[];u&&xo(u,E=>this.processProvider(E,l,u)),xo([l],E=>this.processInjectorType(E,[],m)),this.records.set(Qh,or(void 0,this));const v=this.records.get(nl);this.scope=null!=v?v.value:null,this.source=f||("object"==typeof l?null:Te(l))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(l=>l.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(l,u=Ja,d=xt.Default){this.assertNotDestroyed();const f=Ke(this),m=xn(void 0);try{if(!(d&xt.SkipSelf)){let E=this.records.get(l);if(void 0===E){const M=function EM(o){return"function"==typeof o||"object"==typeof o&&o instanceof Yi}(l)&&Jn(l);E=M&&this.injectableDefInScope(M)?or(Wp(l),Et):null,this.records.set(l,E)}if(null!=E)return this.hydrate(l,E)}return(d&xt.Self?qp():this.parent).get(l,u=d&xt.Optional&&u===Ja?null:u)}catch(v){if("NullInjectorError"===v.name){if((v[Du]=v[Du]||[]).unshift(Te(l)),f)throw v;return function Ac(o,l,u,d){const f=o[Du];throw l[X]&&f.unshift(l[X]),o.message=function Mc(o,l,u,d=null){o=o&&"\n"===o.charAt(0)&&"\u0275"==o.charAt(1)?o.substr(2):o;let f=Te(l);if(Array.isArray(l))f=l.map(Te).join(" -> ");else if("object"==typeof l){let m=[];for(let v in l)if(l.hasOwnProperty(v)){let E=l[v];m.push(v+":"+("string"==typeof E?JSON.stringify(E):Te(E)))}f=`{${m.join(", ")}}`}return`${u}${d?"("+d+")":""}[${f}]: ${o.replace(O,"\n  ")}`}("\n"+o.message,f,u,d),o.ngTokenPath=f,o[Du]=null,o}(v,l,"R3InjectorError",this.source)}throw v}finally{xn(m),Ke(f)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(l=>this.get(l))}toString(){const l=[];return this.records.forEach((d,f)=>l.push(Te(f))),`R3Injector[${l.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Qe(205,!1)}processInjectorType(l,u,d){if(!(l=_e(l)))return!1;let f=Vr(l);const m=null==f&&l.ngModule||void 0,v=void 0===m?l:m,E=-1!==d.indexOf(v);if(void 0!==m&&(f=Vr(m)),null==f)return!1;if(null!=f.imports&&!E){let V;d.push(v);try{xo(f.imports,Y=>{this.processInjectorType(Y,u,d)&&(void 0===V&&(V=[]),V.push(Y))})}finally{}if(void 0!==V)for(let Y=0;Y<V.length;Y++){const{ngModule:ie,providers:he}=V[Y];xo(he,Ve=>this.processProvider(Ve,ie,he||Nt))}}this.injectorDefTypes.add(v);const M=rs(v)||(()=>new v);this.records.set(v,or(M,Et));const F=f.providers;if(null!=F&&!E){const V=l;xo(F,Y=>this.processProvider(Y,V,F))}return void 0!==m&&void 0!==l.providers}processProvider(l,u,d){let f=Xh(l=_e(l))?l:_e(l&&l.provide);const m=function wM(o,l,u){return Zp(o)?or(void 0,o.useValue):or(JE(o),Et)}(l);if(Xh(l)||!0!==l.multi)this.records.get(f);else{let v=this.records.get(f);v||(v=or(void 0,Et,!0),v.factory=()=>qt(v.multi),this.records.set(f,v)),f=l,v.multi.push(l)}this.records.set(f,m)}hydrate(l,u){return u.value===Et&&(u.value=O0,u.value=u.factory()),"object"==typeof u.value&&u.value&&function eT(o){return null!==o&&"object"==typeof o&&"function"==typeof o.ngOnDestroy}(u.value)&&this.onDestroy.add(u.value),u.value}injectableDefInScope(l){if(!l.providedIn)return!1;const u=_e(l.providedIn);return"string"==typeof u?"any"===u||u===this.scope:this.injectorDefTypes.has(u)}}function Wp(o){const l=Jn(o),u=null!==l?l.factory:rs(o);if(null!==u)return u;if(o instanceof Yi)throw new Qe(204,!1);if(o instanceof Function)return function bM(o){const l=o.length;if(l>0)throw Es(l,"?"),new Qe(204,!1);const u=function Zt(o){const l=o&&(o[es]||o[Xn]);if(l){const u=function _i(o){if(o.hasOwnProperty("name"))return o.name;const l=(""+o).match(/^function\s*([^\s(]+)/);return null===l?"":l[1]}(o);return console.warn(`DEPRECATED: DI is instantiating a token "${u}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${u}" class.`),l}return null}(o);return null!==u?()=>u.factory(o):()=>new o}(o);throw new Qe(204,!1)}function JE(o,l,u){let d;if(Xh(o)){const f=_e(o);return rs(f)||Wp(f)}if(Zp(o))d=()=>_e(o.useValue);else if(function Ou(o){return!(!o||!o.useFactory)}(o))d=()=>o.useFactory(...qt(o.deps||[]));else if(function Ts(o){return!(!o||!o.useExisting)}(o))d=()=>At(_e(o.useExisting));else{const f=_e(o&&(o.useClass||o.provide));if(!function XE(o){return!!o.deps}(o))return rs(f)||Wp(f);d=()=>new f(...qt(o.deps))}return d}function or(o,l,u=!1){return{factory:o,value:l,multi:u?[]:void 0}}function Zp(o){return null!==o&&"object"==typeof o&&de in o}function Xh(o){return"function"==typeof o}let il=(()=>{class o{static create(u,d){var f;if(Array.isArray(u))return v_({name:""},d,u,"");{const m=null!==(f=u.name)&&void 0!==f?f:"";return v_({name:m},u.parent,u.providers,m)}}}return o.THROW_IF_NOT_FOUND=Ja,o.NULL=new QE,o.\u0275prov=In({token:o,providedIn:"any",factory:()=>At(Qh)}),o.__NG_ELEMENT_ID__=-1,o})();function H0(o,l){Xo(Zr(o)[1],ln())}function j0(o){let l=function lT(o){return Object.getPrototypeOf(o.prototype).constructor}(o.type),u=!0;const d=[o];for(;l;){let f;if(qi(o))f=l.\u0275cmp||l.\u0275dir;else{if(l.\u0275cmp)throw new Qe(903,"");f=l.\u0275dir}if(f){if(u){d.push(f);const v=o;v.inputs=Pd(o.inputs),v.declaredInputs=Pd(o.declaredInputs),v.outputs=Pd(o.outputs);const E=f.hostBindings;E&&MM(o,E);const M=f.viewQuery,F=f.contentQueries;if(M&&AM(o,M),F&&Jp(o,F),fe(o.inputs,f.inputs),fe(o.declaredInputs,f.declaredInputs),fe(o.outputs,f.outputs),qi(f)&&f.data.animation){const V=o.data;V.animation=(V.animation||[]).concat(f.data.animation)}}const m=f.features;if(m)for(let v=0;v<m.length;v++){const E=m[v];E&&E.ngInherit&&E(o),E===j0&&(u=!1)}}l=Object.getPrototypeOf(l)}!function Gs(o){let l=0,u=null;for(let d=o.length-1;d>=0;d--){const f=o[d];f.hostVars=l+=f.hostVars,f.hostAttrs=Oi(f.hostAttrs,u=Oi(u,f.hostAttrs))}}(d)}function Pd(o){return o===Sn?{}:o===Nt?[]:o}function AM(o,l){const u=o.viewQuery;o.viewQuery=u?(d,f)=>{l(d,f),u(d,f)}:l}function Jp(o,l){const u=o.contentQueries;o.contentQueries=u?(d,f,m)=>{l(d,f,m),u(d,f,m)}:l}function MM(o,l){const u=o.hostBindings;o.hostBindings=u?(d,f)=>{l(d,f),u(d,f)}:l}let ef=null;function Nu(){if(!ef){const o=sn.Symbol;if(o&&o.iterator)ef=o.iterator;else{const l=Object.getOwnPropertyNames(Map.prototype);for(let u=0;u<l.length;++u){const d=l[u];"entries"!==d&&"size"!==d&&Map.prototype[d]===Map.prototype.entries&&(ef=d)}}}return ef}function Fd(o){return!!$0(o)&&(Array.isArray(o)||!(o instanceof Map)&&Nu()in o)}function $0(o){return null!==o&&("function"==typeof o||"object"==typeof o)}function rl(o,l,u){return o[l]=u}function ls(o,l,u){return!Object.is(o[l],u)&&(o[l]=u,!0)}function Pu(o,l,u,d){const f=ls(o,l,u);return ls(o,l+1,d)||f}function Xp(o,l,u,d){const f=$e();return ls(f,rr(),l)&&(an(),Hs(wi(),f,o,l,u,d)),Xp}function W0(o,l,u,d,f,m,v,E){const M=$e(),F=an(),V=o+20,Y=F.firstCreatePass?function q0(o,l,u,d,f,m,v,E,M){const F=l.consts,V=Wh(l,o,4,v||null,gs(F,E));zp(l,u,V,gs(F,M)),Xo(l,V);const Y=V.tViews=g_(2,V,d,f,m,l.directiveRegistry,l.pipeRegistry,null,l.schemas,F);return null!==l.queries&&(l.queries.template(l,V),Y.queries=l.queries.embeddedTView(V)),V}(V,F,M,l,u,d,f,m,v):F.data[V];bs(Y,!1);const ie=M[11].createComment("");Fc(F,M,ie,Y),sr(ie,M),__(M,M[V]=UE(ie,M,ie,Y)),Ea(Y)&&_0(F,M,Y),null!=v&&y0(M,Y,E)}function af(o){return ss(function hc(){return Ft.lFrame.contextLView}(),20+o)}function sl(o,l=xt.Default){const u=$e();return null===u?At(o,l):be(ln(),u,_e(o),l)}function B_(){throw new Error("invalid")}function nb(o,l,u){const d=$e();return ls(d,rr(),l)&&la(an(),wi(),d,o,l,d[11],u,!1),nb}function sm(o,l,u,d,f){const v=f?"class":"style";_M(o,u,l.inputs[v],v,d)}function ff(o,l,u,d){const f=$e(),m=an(),v=20+o,E=f[11],M=f[v]=qv(E,l,function Rl(){return Ft.lFrame.currentNamespace}()),F=m.firstCreatePass?function hf(o,l,u,d,f,m,v){const E=l.consts,F=Wh(l,o,2,f,gs(E,m));return zp(l,u,F,gs(E,v)),null!==F.attrs&&Kh(F,F.attrs,!1),null!==F.mergedAttrs&&Kh(F,F.mergedAttrs,!0),null!==l.queries&&l.queries.elementStart(l,F),F}(v,m,f,0,l,u,d):m.data[v];bs(F,!0);const V=F.mergedAttrs;null!==V&&j(E,M,V);const Y=F.classes;null!==Y&&Lp(E,M,Y);const ie=F.styles;return null!==ie&&a_(E,M,ie),64!=(64&F.flags)&&Fc(m,f,M,F),0===function Ur(){return Ft.lFrame.elementDepthCount}()&&sr(M,f),function _s(){Ft.lFrame.elementDepthCount++}(),Ea(F)&&(_0(m,f,F),g0(m,F,f)),null!==d&&y0(f,F),ff}function $l(){let o=ln();Ko()?ro():(o=o.parent,bs(o,!1));const l=o;!function gu(){Ft.lFrame.elementDepthCount--}();const u=an();return u.firstCreatePass&&(Xo(u,o),bl(o)&&u.queries.elementEnd(o)),null!=l.classesWithoutHost&&function wc(o){return 0!=(16&o.flags)}(l)&&sm(u,l,$e(),l.classesWithoutHost,!0),null!=l.stylesWithoutHost&&function vu(o){return 0!=(32&o.flags)}(l)&&sm(u,l,$e(),l.stylesWithoutHost,!1),$l}function U_(o,l,u,d){return ff(o,l,u,d),$l(),U_}function Na(o,l,u){const d=$e(),f=an(),m=o+20,v=f.firstCreatePass?function Bd(o,l,u,d,f){const m=l.consts,v=gs(m,d),E=Wh(l,o,8,"ng-container",v);return null!==v&&Kh(E,v,!0),zp(l,u,E,gs(m,f)),null!==l.queries&&l.queries.elementStart(l,E),E}(m,f,d,l,u):f.data[m];bs(v,!0);const E=d[m]=d[11].createComment("");return Fc(f,d,E,v),sr(E,d),Ea(v)&&(_0(f,d,v),g0(f,v,d)),null!=u&&y0(d,v),Na}function Ud(){let o=ln();const l=an();return Ko()?ro():(o=o.parent,bs(o,!1)),l.firstCreatePass&&(Xo(l,o),bl(o)&&l.queries.elementEnd(o)),Ud}function pf(o,l,u){return Na(o,l,u),Ud(),pf}function om(){return $e()}function H_(o){return!!o&&"function"==typeof o.then}function Fi(o){return!!o&&"function"==typeof o.subscribe}const am=Fi;function ib(o,l,u,d){const f=$e(),m=an(),v=ln();return mf(m,f,f[11],v,o,l,!!u,d),ib}function rb(o,l){const u=ln(),d=$e(),f=an();return mf(f,d,R0(so(f.data),u,d),u,o,l,!1),rb}function mf(o,l,u,d,f,m,v,E){const M=Ea(d),V=o.firstCreatePass&&YE(o),Y=l[8],ie=ZE(l);let he=!0;if(3&d.type||E){const ut=ir(d,l),wt=E?E(ut):ut,ze=ie.length,Ut=E?kn=>E(Yn(kn[d.index])):d.index;if(ti(u)){let kn=null;if(!E&&M&&(kn=function lm(o,l,u,d){const f=o.cleanup;if(null!=f)for(let m=0;m<f.length-1;m+=2){const v=f[m];if(v===u&&f[m+1]===d){const E=l[7],M=f[m+2];return E.length>M?E[M]:null}"string"==typeof v&&(m+=2)}return null}(o,l,f,d.index)),null!==kn)(kn.__ngLastListenerFn__||kn).__ngNextListenerFn__=m,kn.__ngLastListenerFn__=m,he=!1;else{m=j_(d,l,Y,m,!1);const si=u.listen(wt,f,m);ie.push(m,si),V&&V.push(f,Ut,ze,ze+1)}}else m=j_(d,l,Y,m,!0),wt.addEventListener(f,m,v),ie.push(m),V&&V.push(f,Ut,ze,v)}else m=j_(d,l,Y,m,!1);const Ve=d.outputs;let it;if(he&&null!==Ve&&(it=Ve[f])){const ut=it.length;if(ut)for(let wt=0;wt<ut;wt+=2){const Vo=l[it[wt]][it[wt+1]].subscribe(m),ch=ie.length;ie.push(m,Vo),V&&V.push(f,d.index,ch,-(ch+1))}}}function ET(o,l,u,d){try{return!1!==u(d)}catch(f){return KE(o,f),!1}}function j_(o,l,u,d,f){return function m(v){if(v===Function)return d;const E=2&o.flags?Rr(o.index,l):l;0==(32&l[2])&&S0(E);let M=ET(l,0,d,v),F=m.__ngNextListenerFn__;for(;F;)M=ET(l,0,F,v)&&M,F=F.__ngNextListenerFn__;return f&&!1===M&&(v.preventDefault(),v.returnValue=!1),M}}function TT(o=1){return function To(o){return(Ft.lFrame.contextLView=function xl(o,l){for(;o>0;)l=l[15],o--;return l}(o,Ft.lFrame.contextLView))[8]}(o)}function FM(o,l){let u=null;const d=function UA(o){const l=o.attrs;if(null!=l){const u=l.indexOf(5);if(0==(1&u))return l[u+1]}return null}(o);for(let f=0;f<l.length;f++){const m=l[f];if("*"!==m){if(null===d?Xv(o,m,!0):jA(d,m))return f}else u=f}return u}function DT(o){const l=$e()[16][6];if(!l.projection){const d=l.projection=Es(o?o.length:1,null),f=d.slice();let m=l.child;for(;null!==m;){const v=o?FM(m,o):0;null!==v&&(f[v]?f[v].projectionNext=m:d[v]=m,f[v]=m),m=m.next}}}function IT(o,l=0,u){const d=$e(),f=an(),m=Wh(f,20+o,16,null,u||null);null===m.projection&&(m.projection=l),ro(),64!=(64&m.flags)&&function o_(o,l,u){Qv(l[11],0,l,u,uE(o,u,l),fE(u.parent||l[6],u,l))}(f,d,m)}function G_(o,l,u,d,f){const m=o[u+1],v=null===l;let E=d?tl(m):Lc(m),M=!1;for(;0!==E&&(!1===M||v);){const V=o[E+1];kT(o[E],l)&&(M=!0,o[E+1]=d?s0(V):Gl(V)),E=d?tl(V):Lc(V)}M&&(o[u+1]=d?Gl(m):s0(m))}function kT(o,l){return null===o||null==l||(Array.isArray(o)?o[1]:o)===l||!(!Array.isArray(o)||"string"!=typeof l)&&ko(o,l)>=0}function ub(o,l,u){return Pa(o,l,u,!1),ub}function db(o,l){return Pa(o,l,null,!0),db}function Pa(o,l,u,d){const f=$e(),m=an(),v=function Hr(o){const l=Ft.lFrame,u=l.bindingIndex;return l.bindingIndex=l.bindingIndex+o,u}(2);m.firstUpdatePass&&function Wl(o,l,u,d){const f=o.data;if(null===f[u+1]){const m=f[Or()],v=function hb(o,l){return l>=o.expandoStartIndex}(o,u);(function gb(o,l){return 0!=(o.flags&(l?16:32))})(m,d)&&null===l&&!v&&(l=!1),l=function PT(o,l,u,d){const f=so(o);let m=d?l.residualClasses:l.residualStyles;if(null===f)0===(d?l.classBindings:l.styleBindings)&&(u=jd(u=q_(null,o,l,u,d),l.attrs,d),m=null);else{const v=l.directiveStylingLast;if(-1===v||o[v]!==f)if(u=q_(f,o,l,u,d),null===m){let M=function GM(o,l,u){const d=u?l.classBindings:l.styleBindings;if(0!==Lc(d))return o[tl(d)]}(o,l,d);void 0!==M&&Array.isArray(M)&&(M=q_(null,o,l,M[1],d),M=jd(M,l.attrs,d),function fb(o,l,u,d){o[tl(u?l.classBindings:l.styleBindings)]=d}(o,l,d,M))}else m=function dm(o,l,u){let d;const f=l.directiveEnd;for(let m=1+l.directiveStylingLast;m<f;m++)d=jd(d,o[m].hostAttrs,u);return jd(d,l.attrs,u)}(o,l,d)}return void 0!==m&&(d?l.residualClasses=m:l.residualStyles=m),u}(f,m,l,d),function xT(o,l,u,d,f,m){let v=m?l.classBindings:l.styleBindings,E=tl(v),M=Lc(v);o[d]=u;let V,F=!1;if(Array.isArray(u)){const Y=u;V=Y[1],(null===V||ko(Y,V)>0)&&(F=!0)}else V=u;if(f)if(0!==M){const ie=tl(o[E+1]);o[d+1]=d_(ie,E),0!==ie&&(o[ie+1]=Vc(o[ie+1],d)),o[E+1]=function r0(o,l){return 131071&o|l<<17}(o[E+1],d)}else o[d+1]=d_(E,0),0!==E&&(o[E+1]=Vc(o[E+1],d)),E=d;else o[d+1]=d_(M,0),0===E?E=d:o[M+1]=Vc(o[M+1],d),M=d;F&&(o[d+1]=Gl(o[d+1])),G_(o,V,d,!0),G_(o,V,d,!1),function cb(o,l,u,d,f){const m=f?o.residualClasses:o.residualStyles;null!=m&&"string"==typeof l&&ko(m,l)>=0&&(u[d+1]=s0(u[d+1]))}(l,V,o,d,m),v=d_(E,M),m?l.classBindings=v:l.styleBindings=v}(f,m,l,u,v,d)}}(m,o,v,d),l!==cn&&ls(f,v,l)&&function hm(o,l,u,d,f,m,v,E){if(!(3&l.type))return;const M=o.data,F=M[E+1];fm(function EE(o){return 1==(1&o)}(F)?FT(M,l,u,f,Lc(F),v):void 0)||(fm(m)||function CE(o){return 2==(2&o)}(F)&&(m=FT(M,null,u,f,E,v)),function pE(o,l,u,d,f){const m=ti(o);if(l)f?m?o.addClass(u,d):u.classList.add(d):m?o.removeClass(u,d):u.classList.remove(d);else{let v=-1===d.indexOf("-")?void 0:Yr.DashCase;if(null==f)m?o.removeStyle(u,d,v):u.style.removeProperty(d);else{const E="string"==typeof f&&f.endsWith("!important");E&&(f=f.slice(0,-10),v|=Yr.Important),m?o.setStyle(u,d,f,v):u.style.setProperty(d,f,E?"important":"")}}}(d,v,Co(Or(),u),f,m))}(m,m.data[Or()],f,f[11],o,f[v+1]=function pm(o,l){return null==o||("string"==typeof l?o+=l:"object"==typeof o&&(o=Te(Oa(o)))),o}(l,u),d,v)}function q_(o,l,u,d,f){let m=null;const v=u.directiveEnd;let E=u.directiveStylingLast;for(-1===E?E=u.directiveStart:E++;E<v&&(m=l[E],d=jd(d,m.hostAttrs,f),m!==o);)E++;return null!==o&&(u.directiveStylingLast=E),d}function jd(o,l,u){const d=u?1:2;let f=-1;if(null!==l)for(let m=0;m<l.length;m++){const v=l[m];"number"==typeof v?f=v:f===d&&(Array.isArray(o)||(o=void 0===o?[]:["",o]),as(o,v,!!u||l[++m]))}return void 0===o?null:o}function FT(o,l,u,d,f,m){const v=null===l;let E;for(;f>0;){const M=o[f],F=Array.isArray(M),V=F?M[1]:M,Y=null===V;let ie=u[f+1];ie===cn&&(ie=Y?Nt:void 0);let he=Y?Sc(ie,d):V===d?ie:void 0;if(F&&!fm(he)&&(he=Sc(M,d)),fm(he)&&(E=he,v))return E;const Ve=o[f+1];f=v?tl(Ve):Lc(Ve)}if(null!==l){let M=m?l.residualClasses:l.residualStyles;null!=M&&(E=Sc(M,d))}return E}function fm(o){return void 0!==o}function _b(o,l=""){const u=$e(),d=an(),f=o+20,m=d.firstCreatePass?Wh(d,f,1,l,null):d.data[f],v=u[f]=function Ad(o,l){return ti(o)?o.createText(l):o.createTextNode(l)}(u[11],l);Fc(d,u,v,m),bs(m,!1)}function mm(o){return vf("",o,""),mm}function vf(o,l,u){const d=$e(),f=function Ji(o,l,u,d){return ls(o,rr(),u)?l+Oe(u)+d:cn}(d,o,l,u);return f!==cn&&ca(d,Or(),f),vf}function Db(o,l,u){const d=$e();return ls(d,rr(),l)&&la(an(),wi(),d,o,l,d[11],u,!0),Db}function mt(o,l,u){const d=$e();if(ls(d,rr(),l)){const m=an(),v=wi();la(m,v,d,o,l,R0(so(m.data),v,d),u,!0)}return mt}const Ie=void 0;var cs=["en",[["a","p"],["AM","PM"],Ie],[["AM","PM"],Ie,Ie],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ie,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ie,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ie,"{1} 'at' {0}",Ie],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Ze(o){const u=Math.floor(Math.abs(o)),d=o.toString().replace(/^[^.]*\.?/,"").length;return 1===u&&0===d?1:5}];let Gd={};function Ib(o){const l=function SN(o){return o.toLowerCase().replace(/_/g,"-")}(o);let u=$T(l);if(u)return u;const d=l.split("-")[0];if(u=$T(d),u)return u;if("en"===d)return cs;throw new Error(`Missing locale data for the locale "${o}".`)}function GT(o){return Ib(o)[zt.PluralCase]}function $T(o){return o in Gd||(Gd[o]=sn.ng&&sn.ng.common&&sn.ng.common.locales&&sn.ng.common.locales[o]),Gd[o]}var zt=(()=>((zt=zt||{})[zt.LocaleId=0]="LocaleId",zt[zt.DayPeriodsFormat=1]="DayPeriodsFormat",zt[zt.DayPeriodsStandalone=2]="DayPeriodsStandalone",zt[zt.DaysFormat=3]="DaysFormat",zt[zt.DaysStandalone=4]="DaysStandalone",zt[zt.MonthsFormat=5]="MonthsFormat",zt[zt.MonthsStandalone=6]="MonthsStandalone",zt[zt.Eras=7]="Eras",zt[zt.FirstDayOfWeek=8]="FirstDayOfWeek",zt[zt.WeekendRange=9]="WeekendRange",zt[zt.DateFormat=10]="DateFormat",zt[zt.TimeFormat=11]="TimeFormat",zt[zt.DateTimeFormat=12]="DateTimeFormat",zt[zt.NumberSymbols=13]="NumberSymbols",zt[zt.NumberFormats=14]="NumberFormats",zt[zt.CurrencyCode=15]="CurrencyCode",zt[zt.CurrencySymbol=16]="CurrencySymbol",zt[zt.CurrencyName=17]="CurrencyName",zt[zt.Currencies=18]="Currencies",zt[zt.Directionality=19]="Directionality",zt[zt.PluralCase=20]="PluralCase",zt[zt.ExtraData=21]="ExtraData",zt))();const _m="en-US";let Sb=_m;function Rf(o,l,u,d,f){if(o=_e(o),Array.isArray(o))for(let m=0;m<o.length;m++)Rf(o[m],l,u,d,f);else{const m=an(),v=$e();let E=Xh(o)?o:_e(o.provide),M=JE(o);const F=ln(),V=1048575&F.providerIndexes,Y=F.directiveStart,ie=F.providerIndexes>>20;if(Xh(o)||!o.multi){const he=new Za(M,f,sl),Ve=Dm(E,l,f?V:V+ie,Y);-1===Ve?(Q(b(F,v),m,E),Tm(m,o,l.length),l.push(E),F.directiveStart++,F.directiveEnd++,f&&(F.providerIndexes+=1048576),u.push(he),v.push(he)):(u[Ve]=he,v[Ve]=he)}else{const he=Dm(E,l,V+ie,Y),Ve=Dm(E,l,V,V+ie),it=he>=0&&u[he],ut=Ve>=0&&u[Ve];if(f&&!ut||!f&&!it){Q(b(F,v),m,E);const wt=function Im(o,l,u,d,f){const m=new Za(o,u,sl);return m.multi=[],m.index=l,m.componentProviders=0,ay(m,f,d&&!u),m}(f?La:Of,u.length,f,d,M);!f&&ut&&(u[Ve].providerFactory=wt),Tm(m,o,l.length,0),l.push(E),F.directiveStart++,F.directiveEnd++,f&&(F.providerIndexes+=1048576),u.push(wt),v.push(wt)}else Tm(m,o,he>-1?he:Ve,ay(u[f?Ve:he],M,!f&&d));!f&&d&&ut&&u[Ve].componentProviders++}}}function Tm(o,l,u,d){const f=Xh(l),m=function CM(o){return!!o.useClass}(l);if(f||m){const M=(m?_e(l.useClass):l).prototype.ngOnDestroy;if(M){const F=o.destroyHooks||(o.destroyHooks=[]);if(!f&&l.multi){const V=F.indexOf(u);-1===V?F.push(u,[d,M]):F[V+1].push(d,M)}else F.push(u,M)}}}function ay(o,l,u){return u&&o.componentProviders++,o.multi.push(l)-1}function Dm(o,l,u,d){for(let f=u;f<d;f++)if(l[f]===o)return f;return-1}function Of(o,l,u,d){return ly(this.multi,[])}function La(o,l,u,d){const f=this.multi;let m;if(this.providerFactory){const v=this.providerFactory.componentProviders,E=Ht(u,u[1],this.providerFactory.index,d);m=E.slice(0,v),ly(f,m);for(let M=v;M<E.length;M++)m.push(E[M])}else m=[],ly(f,m);return m}function ly(o,l){for(let u=0;u<o.length;u++)l.push((0,o[u])());return l}function Ob(o,l=[]){return u=>{u.providersResolver=(d,f)=>function oy(o,l,u){const d=an();if(d.firstCreatePass){const f=qi(o);Rf(u,d.data,d.blueprint,f,!0),Rf(l,d.data,d.blueprint,f,!1)}}(d,f?f(o):o,l)}}class cy{}class pD{resolveComponentFactory(l){throw function fD(o){const l=Error(`No component factory found for ${Te(o)}. Did you add it to @NgModule.entryComponents?`);return l.ngComponent=o,l}(l)}}let Sm=(()=>{class o{}return o.NULL=new pD,o})();function mD(){return qc(ln(),$e())}function qc(o,l){return new Am(ir(o,l))}let Am=(()=>{class o{constructor(u){this.nativeElement=u}}return o.__NG_ELEMENT_ID__=mD,o})();function ax(o){return o instanceof Am?o.nativeElement:o}class Zd{}let Yd=(()=>{class o{}return o.__NG_ELEMENT_ID__=()=>function Kd(){const o=$e(),u=Rr(ln().index,o);return function gD(o){return o[11]}(ji(u)?u:o)}(),o})(),_D=(()=>{class o{}return o.\u0275prov=In({token:o,providedIn:"root",factory:()=>null}),o})();class Qd{constructor(l){this.full=l,this.major=l.split(".")[0],this.minor=l.split(".")[1],this.patch=l.split(".").slice(2).join(".")}}const Fb=new Qd("13.3.3"),uy={};function $u(o,l,u,d,f=!1){for(;null!==u;){const m=l[u.index];if(null!==m&&d.push(Yn(m)),mr(m))for(let E=10;E<m.length;E++){const M=m[E],F=M[1].firstChild;null!==F&&$u(M[1],M,F,d)}const v=u.type;if(8&v)$u(o,l,u.child,d);else if(32&v){const E=Gv(u,l);let M;for(;M=E();)d.push(M)}else if(16&v){const E=Yv(l,u);if(Array.isArray(E))d.push(...E);else{const M=Mp(l[16]);$u(M[1],M,E,d,!0)}}u=f?u.projectionNext:u.next}return d}class Mm{constructor(l,u){this._lView=l,this._cdRefInjectingView=u,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const l=this._lView,u=l[1];return $u(u,l,u.firstChild,[])}get context(){return this._lView[8]}set context(l){this._lView[8]=l}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const l=this._lView[3];if(mr(l)){const u=l[8],d=u?u.indexOf(this):-1;d>-1&&(Wv(l,d),Fl(u,d))}this._attachedToViewContainer=!1}n_(this._lView[1],this._lView)}onDestroy(l){w0(this._lView[1],this._lView,null,l)}markForCheck(){S0(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){M0(this._lView[1],this._lView,this.context)}checkNoChanges(){!function WE(o,l,u){Eo(!0);try{M0(o,l,u)}finally{Eo(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Qe(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function FA(o,l){Fp(o,l,l[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(l){if(this._attachedToViewContainer)throw new Qe(902,"");this._appRef=l}}class cx extends Mm{constructor(l){super(l),this._view=l}detectChanges(){qE(this._view)}checkNoChanges(){!function gM(o){Eo(!0);try{qE(o)}finally{Eo(!1)}}(this._view)}get context(){return null}}class Er extends Sm{constructor(l){super(),this.ngModule=l}resolveComponentFactory(l){const u=lt(l);return new km(u,this.ngModule)}}function xm(o){const l=[];for(let u in o)o.hasOwnProperty(u)&&l.push({propName:o[u],templateName:u});return l}class km extends cy{constructor(l,u){super(),this.componentDef=l,this.ngModule=u,this.componentType=l.type,this.selector=function u_(o){return o.map(bE).join(",")}(l.selectors),this.ngContentSelectors=l.ngContentSelectors?l.ngContentSelectors:[],this.isBoundToModule=!!u}get inputs(){return xm(this.componentDef.inputs)}get outputs(){return xm(this.componentDef.outputs)}create(l,u,d,f){const m=(f=f||this.ngModule)?function ux(o,l){return{get:(u,d,f)=>{const m=o.get(u,uy,f);return m!==uy||d===uy?m:l.get(u,d,f)}}}(l,f.injector):l,v=m.get(Zd,Wo),E=m.get(_D,null),M=v.createRenderer(null,this.componentDef),F=this.componentDef.selectors[0][0]||"div",V=d?function b0(o,l,u){if(ti(o))return o.selectRootElement(l,u===en.ShadowDom);let d="string"==typeof l?o.querySelector(l):l;return d.textContent="",d}(M,d,this.componentDef.encapsulation):qv(v.createRenderer(null,this.componentDef),F,function dy(o){const l=o.toLowerCase();return"svg"===l?"svg":"math"===l?"math":null}(F)),Y=this.componentDef.onPush?576:528,ie=function aT(o,l){return{components:[],scheduler:o||Hv,clean:k0,playerHandler:l||null,flags:0}}(),he=g_(0,null,null,1,0,null,null,null,null,null),Ve=Gp(null,he,ie,Y,null,null,v,M,E,m);let it,ut;Wa(Ve);try{const wt=function C_(o,l,u,d,f,m){const v=u[1];u[20]=o;const M=Wh(v,20,2,"#host",null),F=M.mergedAttrs=l.hostAttrs;null!==F&&(Kh(M,F,!0),null!==o&&(j(f,o,F),null!==M.classes&&Lp(f,o,M.classes),null!==M.styles&&a_(f,o,M.styles)));const V=d.createRenderer(o,l),Y=Gp(u,xE(l),null,l.onPush?64:16,u[20],M,d,V,m||null,null);return v.firstCreatePass&&(Q(b(M,u),v,l.type),LE(v,M),VE(M,u.length,1)),__(u,Y),u[20]=Y}(V,this.componentDef,Ve,v,M);if(V)if(d)j(M,V,["ng-version",Fb.full]);else{const{attrs:ze,classes:Ut}=function GA(o){const l=[],u=[];let d=1,f=2;for(;d<o.length;){let m=o[d];if("string"==typeof m)2===f?""!==m&&l.push(m,o[++d]):8===f&&u.push(m);else{if(!oa(f))break;f=m}d++}return{attrs:l,classes:u}}(this.componentDef.selectors[0]);ze&&j(M,V,ze),Ut&&Ut.length>0&&Lp(M,V,Ut.join(" "))}if(ut=Sl(he,20),void 0!==u){const ze=ut.projection=[];for(let Ut=0;Ut<this.ngContentSelectors.length;Ut++){const kn=u[Ut];ze.push(null!=kn?Array.from(kn):null)}}it=function oT(o,l,u,d,f){const m=u[1],v=function cM(o,l,u){const d=ln();o.firstCreatePass&&(u.providersResolver&&u.providersResolver(u),T0(o,d,l,Zh(o,l,1,null),u));const f=Ht(l,o,d.directiveStart,d);sr(f,l);const m=ir(d,l);return m&&sr(m,l),f}(m,u,l);if(d.components.push(v),o[8]=v,f&&f.forEach(M=>M(v,l)),l.contentQueries){const M=ln();l.contentQueries(1,v,M.directiveStart)}const E=ln();return!m.firstCreatePass||null===l.hostBindings&&null===l.hostAttrs||(oo(E.index),E0(u[1],E,0,E.directiveStart,E.directiveEnd,l),PE(l,v)),v}(wt,this.componentDef,Ve,ie,[H0]),$p(he,Ve,null)}finally{Jo()}return new yD(this.componentType,it,qc(ut,Ve),Ve,ut)}}class yD extends class Nb{}{constructor(l,u,d,f,m){super(),this.location=d,this._rootLView=f,this._tNode=m,this.instance=u,this.hostView=this.changeDetectorRef=new cx(f),this.componentType=l}get injector(){return new Bn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(l){this.hostView.onDestroy(l)}}class Va{}class Lb{}const Jd=new Map;class Bb extends Va{constructor(l,u){super(),this._parent=u,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Er(this);const d=Gt(l);this._bootstrapComponents=el(d.bootstrap),this._r3Injector=Jh(l,u,[{provide:Va,useValue:this},{provide:Sm,useValue:this.componentFactoryResolver}],Te(l)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(l)}get(l,u=il.THROW_IF_NOT_FOUND,d=xt.Default){return l===il||l===Va||l===Qh?this:this._r3Injector.get(l,u,d)}destroy(){const l=this._r3Injector;!l.destroyed&&l.destroy(),this.destroyCbs.forEach(u=>u()),this.destroyCbs=null}onDestroy(l){this.destroyCbs.push(l)}}class hy extends Lb{constructor(l){super(),this.moduleType=l,null!==Gt(l)&&function Vb(o){const l=new Set;!function u(d){const f=Gt(d,!0),m=f.id;null!==m&&(function Nf(o,l,u){if(l&&l!==u)throw new Error(`Duplicate module registered for ${o} - ${Te(l)} vs ${Te(l.name)}`)}(m,Jd.get(m),d),Jd.set(m,d));const v=el(f.imports);for(const E of v)l.has(E)||(l.add(E),u(E))}(o)}(l)}create(l){return new Bb(this.moduleType,l)}}function cr(o,l,u,d){return Ff($e(),ki(),o,l,u,d)}function Om(o,l,u,d,f){return bD($e(),ki(),o,l,u,d,f)}function Xd(o,l){const u=o[l];return u===cn?void 0:u}function Ff(o,l,u,d,f,m){const v=l+u;return ls(o,v,f)?rl(o,v+1,m?d.call(m,f):d(f)):Xd(o,v+1)}function bD(o,l,u,d,f,m,v){const E=l+u;return Pu(o,E,f,m)?rl(o,E+2,v?d.call(v,f,m):d(f,m)):Xd(o,E+2)}function wD(o,l,u,d,f,m,v,E){const M=l+u;return function D_(o,l,u,d,f){const m=Pu(o,l,u,d);return ls(o,l+2,f)||m}(o,M,f,m,v)?rl(o,M+3,E?d.call(E,f,m,v):d(f,m,v)):Xd(o,M+3)}function ri(o,l,u,d,f,m,v,E,M){const F=l+u;return function No(o,l,u,d,f,m){const v=Pu(o,l,u,d);return Pu(o,l+2,f,m)||v}(o,F,f,m,v,E)?rl(o,F+4,M?d.call(M,f,m,v,E):d(f,m,v,E)):Xd(o,F+4)}function Nm(o,l){const u=an();let d;const f=o+20;u.firstCreatePass?(d=function Pm(o,l){if(l)for(let u=l.length-1;u>=0;u--){const d=l[u];if(o===d.name)return d}}(l,u.pipeRegistry),u.data[f]=d,d.onDestroy&&(u.destroyHooks||(u.destroyHooks=[])).push(f,d.onDestroy)):d=u.data[f];const m=d.factory||(d.factory=rs(d.type)),v=xn(sl);try{const E=So(!1),M=m();return So(E),function kM(o,l,u,d){u>=o.data.length&&(o.data[u]=null,o.blueprint[u]=null),l[u]=d}(u,$e(),f,M),M}finally{xn(v)}}function Lf(o,l,u){const d=o+20,f=$e(),m=ss(f,d);return Lm(f,d)?Ff(f,ki(),l,m.transform,u,m):m.transform(u)}function Fm(o,l,u,d){const f=o+20,m=$e(),v=ss(m,f);return Lm(m,f)?bD(m,ki(),l,v.transform,u,d,v):v.transform(u,d)}function Ub(o,l,u,d,f){const m=o+20,v=$e(),E=ss(v,m);return Lm(v,m)?wD(v,ki(),l,E.transform,u,d,f,E):E.transform(u,d,f)}function Hb(o,l,u,d,f,m){const v=o+20,E=$e(),M=ss(E,v);return Lm(E,v)?ri(E,ki(),l,M.transform,u,d,f,m,M):M.transform(u,d,f,m)}function Lm(o,l){return o[1].data[l].pure}function fy(o){return l=>{setTimeout(o,void 0,l)}}const Yl=class TD extends a.x{constructor(l=!1){super(),this.__isAsync=l}emit(l){super.next(l)}subscribe(l,u,d){var f,m,v;let E=l,M=u||(()=>null),F=d;if(l&&"object"==typeof l){const Y=l;E=null===(f=Y.next)||void 0===f?void 0:f.bind(Y),M=null===(m=Y.error)||void 0===m?void 0:m.bind(Y),F=null===(v=Y.complete)||void 0===v?void 0:v.bind(Y)}this.__isAsync&&(M=fy(M),E&&(E=fy(E)),F&&(F=fy(F)));const V=super.subscribe({next:E,error:M,complete:F});return l instanceof J.w0&&l.add(V),V}};function gx(){return this._results[Nu()]()}class jb{constructor(l=!1){this._emitDistinctChangesOnly=l,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const u=Nu(),d=jb.prototype;d[u]||(d[u]=gx)}get changes(){return this._changes||(this._changes=new Yl)}get(l){return this._results[l]}map(l){return this._results.map(l)}filter(l){return this._results.filter(l)}find(l){return this._results.find(l)}reduce(l,u){return this._results.reduce(l,u)}forEach(l){this._results.forEach(l)}some(l){return this._results.some(l)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(l,u){const d=this;d.dirty=!1;const f=zr(l);(this._changesDetected=!function Tu(o,l,u){if(o.length!==l.length)return!1;for(let d=0;d<o.length;d++){let f=o[d],m=l[d];if(u&&(f=u(f),m=u(m)),m!==f)return!1}return!0}(d._results,f,u))&&(d._results=f,d.length=f.length,d.last=f[this.length-1],d.first=f[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let Wc=(()=>{class o{}return o.__NG_ELEMENT_ID__=us,o})();const DD=Wc,_x=class extends DD{constructor(l,u,d){super(),this._declarationLView=l,this._declarationTContainer=u,this.elementRef=d}createEmbeddedView(l){const u=this._declarationTContainer.tViews,d=Gp(this._declarationLView,u,l,16,null,u.declTNode,null,null,null,null);d[17]=this._declarationLView[this._declarationTContainer.index];const m=this._declarationLView[19];return null!==m&&(d[19]=m.createEmbeddedView(u)),$p(u,d,l),new Mm(d)}};function us(){return Vf(ln(),$e())}function Vf(o,l){return 4&o.type?new _x(l,o,qc(o,l)):null}let Vm=(()=>{class o{}return o.__NG_ELEMENT_ID__=Bm,o})();function Bm(){return $b(ln(),$e())}const Kl=Vm,py=class extends Kl{constructor(l,u,d){super(),this._lContainer=l,this._hostTNode=u,this._hostLView=d}get element(){return qc(this._hostTNode,this._hostLView)}get injector(){return new Bn(this._hostTNode,this._hostLView)}get parentInjector(){const l=G(this._hostTNode,this._hostLView);if(di(l)){const u=ii(l,this._hostLView),d=ni(l);return new Bn(u[1].data[d+8],u)}return new Bn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(l){const u=Gb(this._lContainer);return null!==u&&u[l]||null}get length(){return this._lContainer.length-10}createEmbeddedView(l,u,d){const f=l.createEmbeddedView(u||{});return this.insert(f,d),f}createComponent(l,u,d,f,m){const v=l&&!function Ka(o){return"function"==typeof o}(l);let E;if(v)E=u;else{const Y=u||{};E=Y.index,d=Y.injector,f=Y.projectableNodes,m=Y.ngModuleRef}const M=v?l:new km(lt(l)),F=d||this.parentInjector;if(!m&&null==M.ngModule){const ie=(v?F:this.parentInjector).get(Va,null);ie&&(m=ie)}const V=M.create(F,f,void 0,m);return this.insert(V.hostView,E),V}insert(l,u){const d=l._lView,f=d[1];if(function Sa(o){return mr(o[3])}(d)){const V=this.indexOf(l);if(-1!==V)this.detach(V);else{const Y=d[3],ie=new py(Y,Y[6],Y[3]);ie.detach(ie.indexOf(l))}}const m=this._adjustIndex(u),v=this._lContainer;!function kp(o,l,u,d){const f=10+d,m=u.length;d>0&&(u[f-1][4]=l),d<m-10?(l[4]=u[f],Tc(u,10+d,l)):(u.push(l),l[4]=null),l[3]=u;const v=l[17];null!==v&&u!==v&&function aE(o,l){const u=o[9];l[16]!==l[3][3][16]&&(o[2]=!0),null===u?o[9]=[l]:u.push(l)}(v,l);const E=l[19];null!==E&&E.insertView(o),l[2]|=128}(f,d,v,m);const E=Kv(m,v),M=d[11],F=i_(M,v[7]);return null!==F&&function oE(o,l,u,d,f,m){d[0]=f,d[6]=l,Fp(o,d,u,1,f,m)}(f,v[6],M,d,F,E),l.attachToViewContainerRef(),Tc(eh(v),m,l),l}move(l,u){return this.insert(l,u)}indexOf(l){const u=Gb(this._lContainer);return null!==u?u.indexOf(l):-1}remove(l){const u=this._adjustIndex(l,-1),d=Wv(this._lContainer,u);d&&(Fl(eh(this._lContainer),u),n_(d[1],d))}detach(l){const u=this._adjustIndex(l,-1),d=Wv(this._lContainer,u);return d&&null!=Fl(eh(this._lContainer),u)?new Mm(d):null}_adjustIndex(l,u=0){return null==l?this.length+u:l}};function Gb(o){return o[8]}function eh(o){return o[8]||(o[8]=[])}function $b(o,l){let u;const d=l[o.index];if(mr(d))u=d;else{let f;if(8&o.type)f=Yn(d);else{const m=l[11];f=m.createComment("");const v=ir(o,l);xd(m,i_(m,v),f,function VA(o,l){return ti(o)?o.nextSibling(l):l.nextSibling}(m,v),!1)}l[o.index]=u=UE(d,l,f,o),__(l,u)}return new py(u,o,l)}class zb{constructor(l){this.queryList=l,this.matches=null}clone(){return new zb(this.queryList)}setDirty(){this.queryList.setDirty()}}class th{constructor(l=[]){this.queries=l}createEmbeddedView(l){const u=l.queries;if(null!==u){const d=null!==l.contentQueries?l.contentQueries[0]:u.length,f=[];for(let m=0;m<d;m++){const v=u.getByIndex(m);f.push(this.queries[v.indexInDeclarationView].clone())}return new th(f)}return null}insertView(l){this.dirtyQueriesWithMatches(l)}detachView(l){this.dirtyQueriesWithMatches(l)}dirtyQueriesWithMatches(l){for(let u=0;u<this.queries.length;u++)null!==Yb(l,u).matches&&this.queries[u].setDirty()}}class my{constructor(l,u,d=null){this.predicate=l,this.flags=u,this.read=d}}class qb{constructor(l=[]){this.queries=l}elementStart(l,u){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(l,u)}elementEnd(l){for(let u=0;u<this.queries.length;u++)this.queries[u].elementEnd(l)}embeddedTView(l){let u=null;for(let d=0;d<this.length;d++){const f=null!==u?u.length:0,m=this.getByIndex(d).embeddedTView(l,f);m&&(m.indexInDeclarationView=d,null!==u?u.push(m):u=[m])}return null!==u?new qb(u):null}template(l,u){for(let d=0;d<this.queries.length;d++)this.queries[d].template(l,u)}getByIndex(l){return this.queries[l]}get length(){return this.queries.length}track(l){this.queries.push(l)}}class gy{constructor(l,u=-1){this.metadata=l,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=u}elementStart(l,u){this.isApplyingToNode(u)&&this.matchTNode(l,u)}elementEnd(l){this._declarationNodeIndex===l.index&&(this._appliesToNextNode=!1)}template(l,u){this.elementStart(l,u)}embeddedTView(l,u){return this.isApplyingToNode(l)?(this.crossesNgTemplate=!0,this.addMatch(-l.index,u),new gy(this.metadata)):null}isApplyingToNode(l){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const u=this._declarationNodeIndex;let d=l.parent;for(;null!==d&&8&d.type&&d.index!==u;)d=d.parent;return u===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(l,u){const d=this.metadata.predicate;if(Array.isArray(d))for(let f=0;f<d.length;f++){const m=d[f];this.matchTNodeWithReadOption(l,u,AD(u,m)),this.matchTNodeWithReadOption(l,u,hn(u,l,m,!1,!1))}else d===Wc?4&u.type&&this.matchTNodeWithReadOption(l,u,-1):this.matchTNodeWithReadOption(l,u,hn(u,l,d,!1,!1))}matchTNodeWithReadOption(l,u,d){if(null!==d){const f=this.metadata.read;if(null!==f)if(f===Am||f===Vm||f===Wc&&4&u.type)this.addMatch(u.index,-2);else{const m=hn(u,l,f,!1,!1);null!==m&&this.addMatch(u.index,m)}else this.addMatch(u.index,d)}}addMatch(l,u){null===this.matches?this.matches=[l,u]:this.matches.push(l,u)}}function AD(o,l){const u=o.localNames;if(null!==u)for(let d=0;d<u.length;d+=2)if(u[d]===l)return u[d+1];return null}function yx(o,l,u,d){return-1===u?function MD(o,l){return 11&o.type?qc(o,l):4&o.type?Vf(o,l):null}(l,o):-2===u?function xD(o,l,u){return u===Am?qc(l,o):u===Wc?Vf(l,o):u===Vm?$b(l,o):void 0}(o,l,d):Ht(o,o[1],u,l)}function kD(o,l,u,d){const f=l[19].queries[d];if(null===f.matches){const m=o.data,v=u.matches,E=[];for(let M=0;M<v.length;M+=2){const F=v[M];E.push(F<0?null:yx(l,m[F],v[M+1],u.metadata.read))}f.matches=E}return f.matches}function Wb(o,l,u,d){const f=o.queries.getByIndex(u),m=f.matches;if(null!==m){const v=kD(o,l,f,u);for(let E=0;E<m.length;E+=2){const M=m[E];if(M>0)d.push(v[E/2]);else{const F=m[E+1],V=l[-M];for(let Y=10;Y<V.length;Y++){const ie=V[Y];ie[17]===ie[3]&&Wb(ie[1],ie,F,d)}if(null!==V[9]){const Y=V[9];for(let ie=0;ie<Y.length;ie++){const he=Y[ie];Wb(he[1],he,F,d)}}}}}return d}function nh(o){const l=$e(),u=an(),d=ud();pc(d+1);const f=Yb(u,d);if(o.dirty&&no(l)===(2==(2&f.metadata.flags))){if(null===f.matches)o.reset([]);else{const m=f.crossesNgTemplate?Wb(u,l,d,[]):kD(u,l,f,d);o.reset(m,ax),o.notifyOnChanges()}return!0}return!1}function ih(o,l,u){const d=an();d.firstCreatePass&&(zs(d,new my(o,l,u),-1),2==(2&l)&&(d.staticViewQueries=!0)),Zb(d,$e(),l)}function RD(o,l,u,d){const f=an();if(f.firstCreatePass){const m=ln();zs(f,new my(l,u,d),m.index),function bx(o,l){const u=o.contentQueries||(o.contentQueries=[]);l!==(u.length?u[u.length-1]:-1)&&u.push(o.queries.length-1,l)}(f,o),2==(2&u)&&(f.staticContentQueries=!0)}Zb(f,$e(),u)}function OD(){return function vx(o,l){return o[19].queries[l].queryList}($e(),ud())}function Zb(o,l,u){const d=new jb(4==(4&u));w0(o,l,d,d.destroy),null===l[19]&&(l[19]=new th),l[19].queries.push(new zb(d))}function zs(o,l,u){null===o.queries&&(o.queries=new qb),o.queries.track(new gy(l,u))}function Yb(o,l){return o.queries.getByIndex(l)}function cl(o,l){return Vf(o,l)}const sw=Ya("Input",o=>({bindingPropertyName:o})),ow=Ya("Output",o=>({bindingPropertyName:o})),xx=Ya("HostListener",(o,l)=>({eventName:o,args:l}));function Gm(...o){}const Hf=new Yi("Application Initializer");let Kc=(()=>{class o{constructor(u){this.appInits=u,this.resolve=Gm,this.reject=Gm,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,f)=>{this.resolve=d,this.reject=f})}runInitializers(){if(this.initialized)return;const u=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let f=0;f<this.appInits.length;f++){const m=this.appInits[f]();if(H_(m))u.push(m);else if(am(m)){const v=new Promise((E,M)=>{m.subscribe({complete:E,error:M})});u.push(v)}}Promise.all(u).then(()=>{d()}).catch(f=>{this.reject(f)}),0===u.length&&d(),this.initialized=!0}}return o.\u0275fac=function(u){return new(u||o)(At(Hf,8))},o.\u0275prov=In({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const $D=new Yi("AppId",{providedIn:"root",factory:function aw(){return`${lw()}${lw()}${lw()}`}});function lw(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const zD=new Yi("Platform Initializer"),$m=new Yi("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Qc=new Yi("appBootstrapListener");let qD=(()=>{class o{log(u){console.log(u)}warn(u){console.warn(u)}}return o.\u0275fac=function(u){return new(u||o)},o.\u0275prov=In({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();const cw=new Yi("LocaleId",{providedIn:"root",factory:()=>Dn(cw,xt.Optional|xt.SkipSelf)||function Rx(){return"undefined"!=typeof $localize&&$localize.locale||_m}()}),uw=new Yi("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class qm{constructor(l,u){this.ngModuleFactory=l,this.componentFactories=u}}let Ty=(()=>{class o{compileModuleSync(u){return new hy(u)}compileModuleAsync(u){return Promise.resolve(this.compileModuleSync(u))}compileModuleAndAllComponentsSync(u){const d=this.compileModuleSync(u),m=el(Gt(u).declarations).reduce((v,E)=>{const M=lt(E);return M&&v.push(new km(M)),v},[]);return new qm(d,m)}compileModuleAndAllComponentsAsync(u){return Promise.resolve(this.compileModuleAndAllComponentsSync(u))}clearCache(){}clearCacheFor(u){}getModuleId(u){}}return o.\u0275fac=function(u){return new(u||o)},o.\u0275prov=In({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const Lo=(()=>Promise.resolve(0))();function Iy(o){"undefined"==typeof Zone?Lo.then(()=>{o&&o.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",o)}class ha{constructor({enableLongStackTrace:l=!1,shouldCoalesceEventChangeDetection:u=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Yl(!1),this.onMicrotaskEmpty=new Yl(!1),this.onStable=new Yl(!1),this.onError=new Yl(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const f=this;f._nesting=0,f._outer=f._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),l&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!d&&u,f.shouldCoalesceRunChangeDetection=d,f.lastRequestAnimationFrameId=-1,f.nativeRequestAnimationFrame=function Sy(){let o=sn.requestAnimationFrame,l=sn.cancelAnimationFrame;if("undefined"!=typeof Zone&&o&&l){const u=o[Zone.__symbol__("OriginalDelegate")];u&&(o=u);const d=l[Zone.__symbol__("OriginalDelegate")];d&&(l=d)}return{nativeRequestAnimationFrame:o,nativeCancelAnimationFrame:l}}().nativeRequestAnimationFrame,function ZD(o){const l=()=>{!function Gf(o){o.isCheckStableRunning||-1!==o.lastRequestAnimationFrameId||(o.lastRequestAnimationFrameId=o.nativeRequestAnimationFrame.call(sn,()=>{o.fakeTopEventTask||(o.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{o.lastRequestAnimationFrameId=-1,Jc(o),o.isCheckStableRunning=!0,Jl(o),o.isCheckStableRunning=!1},void 0,()=>{},()=>{})),o.fakeTopEventTask.invoke()}),Jc(o))}(o)};o._inner=o._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(u,d,f,m,v,E)=>{try{return YD(o),u.invokeTask(f,m,v,E)}finally{(o.shouldCoalesceEventChangeDetection&&"eventTask"===m.type||o.shouldCoalesceRunChangeDetection)&&l(),sh(o)}},onInvoke:(u,d,f,m,v,E,M)=>{try{return YD(o),u.invoke(f,m,v,E,M)}finally{o.shouldCoalesceRunChangeDetection&&l(),sh(o)}},onHasTask:(u,d,f,m)=>{u.hasTask(f,m),d===f&&("microTask"==m.change?(o._hasPendingMicrotasks=m.microTask,Jc(o),Jl(o)):"macroTask"==m.change&&(o.hasPendingMacrotasks=m.macroTask))},onHandleError:(u,d,f,m)=>(u.handleError(f,m),o.runOutsideAngular(()=>o.onError.emit(m)),!1)})}(f)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ha.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(ha.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(l,u,d){return this._inner.run(l,u,d)}runTask(l,u,d,f){const m=this._inner,v=m.scheduleEventTask("NgZoneEvent: "+f,l,WD,Gm,Gm);try{return m.runTask(v,u,d)}finally{m.cancelTask(v)}}runGuarded(l,u,d){return this._inner.runGuarded(l,u,d)}runOutsideAngular(l){return this._outer.run(l)}}const WD={};function Jl(o){if(0==o._nesting&&!o.hasPendingMicrotasks&&!o.isStable)try{o._nesting++,o.onMicrotaskEmpty.emit(null)}finally{if(o._nesting--,!o.hasPendingMicrotasks)try{o.runOutsideAngular(()=>o.onStable.emit(null))}finally{o.isStable=!0}}}function Jc(o){o.hasPendingMicrotasks=!!(o._hasPendingMicrotasks||(o.shouldCoalesceEventChangeDetection||o.shouldCoalesceRunChangeDetection)&&-1!==o.lastRequestAnimationFrameId)}function YD(o){o._nesting++,o.isStable&&(o.isStable=!1,o.onUnstable.emit(null))}function sh(o){o._nesting--,Jl(o)}class KD{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Yl,this.onMicrotaskEmpty=new Yl,this.onStable=new Yl,this.onError=new Yl}run(l,u,d){return l.apply(u,d)}runGuarded(l,u,d){return l.apply(u,d)}runOutsideAngular(l){return l()}runTask(l,u,d,f){return l.apply(u,d)}}let Xc=(()=>{class o{constructor(u){this._ngZone=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),u.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ha.assertNotInAngularZone(),Iy(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Iy(()=>{for(;0!==this._callbacks.length;){let u=this._callbacks.pop();clearTimeout(u.timeoutId),u.doneCb(this._didWork)}this._didWork=!1});else{let u=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(u)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(u=>({source:u.source,creationLocation:u.creationLocation,data:u.data})):[]}addCallback(u,d,f){let m=-1;d&&d>0&&(m=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==m),u(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:u,timeoutId:m,updateCb:f})}whenStable(u,d,f){if(f&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(u,d,f),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(u,d,f){return[]}}return o.\u0275fac=function(u){return new(u||o)(At(ha))},o.\u0275prov=In({token:o,factory:o.\u0275fac}),o})(),oh=(()=>{class o{constructor(){this._applications=new Map,hw.addToWindow(this)}registerApplication(u,d){this._applications.set(u,d)}unregisterApplication(u){this._applications.delete(u)}unregisterAllApplications(){this._applications.clear()}getTestability(u){return this._applications.get(u)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(u,d=!0){return hw.findTestabilityInTree(this,u,d)}}return o.\u0275fac=function(u){return new(u||o)},o.\u0275prov=In({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();class dw{addToWindow(l){}findTestabilityInTree(l,u,d){return null}}function QD(o){hw=o}let ul,hw=new dw;const fw=new Yi("AllowMultipleToken");class Fx{constructor(l,u){this.name=l,this.token=u}}function pw(o,l,u=[]){const d=`Platform: ${l}`,f=new Yi(d);return(m=[])=>{let v=mw();if(!v||v.injector.get(fw,!1))if(o)o(u.concat(m).concat({provide:f,useValue:!0}));else{const E=u.concat(m).concat({provide:f,useValue:!0},{provide:nl,useValue:"platform"});!function Lx(o){if(ul&&!ul.destroyed&&!ul.injector.get(fw,!1))throw new Qe(400,"");ul=o.get(JD);const l=o.get(zD,null);l&&l.forEach(u=>u())}(il.create({providers:E,name:d}))}return function ah(o){const l=mw();if(!l)throw new Qe(401,"");return l}()}}function mw(){return ul&&!ul.destroyed?ul:null}let JD=(()=>{class o{constructor(u){this._injector=u,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(u,d){const E=function Vx(o,l){let u;return u="noop"===o?new KD:("zone.js"===o?void 0:o)||new ha({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==l?void 0:l.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==l?void 0:l.ngZoneRunCoalescing)}),u}(d?d.ngZone:void 0,{ngZoneEventCoalescing:d&&d.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:d&&d.ngZoneRunCoalescing||!1}),M=[{provide:ha,useValue:E}];return E.run(()=>{const F=il.create({providers:M,parent:this.injector,name:u.moduleType.name}),V=u.create(F),Y=V.injector.get(Ap,null);if(!Y)throw new Qe(402,"");return E.runOutsideAngular(()=>{const ie=E.onError.subscribe({next:he=>{Y.handleError(he)}});V.onDestroy(()=>{lh(this._modules,V),ie.unsubscribe()})}),function XD(o,l,u){try{const d=u();return H_(d)?d.catch(f=>{throw l.runOutsideAngular(()=>o.handleError(f)),f}):d}catch(d){throw l.runOutsideAngular(()=>o.handleError(d)),d}}(Y,E,()=>{const ie=V.injector.get(Kc);return ie.runInitializers(),ie.donePromise.then(()=>(function $d(o){It(o,"Expected localeId to be defined"),"string"==typeof o&&(Sb=o.toLowerCase().replace(/_/g,"-"))}(V.injector.get(cw,_m)||_m),this._moduleDoBootstrap(V),V))})})}bootstrapModule(u,d=[]){const f=xy({},d);return function Px(o,l,u){const d=new hy(u);return Promise.resolve(d)}(0,0,u).then(m=>this.bootstrapModuleFactory(m,f))}_moduleDoBootstrap(u){const d=u.injector.get(Wm);if(u._bootstrapComponents.length>0)u._bootstrapComponents.forEach(f=>d.bootstrap(f));else{if(!u.instance.ngDoBootstrap)throw new Qe(403,"");u.instance.ngDoBootstrap(d)}this._modules.push(u)}onDestroy(u){this._destroyListeners.push(u)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Qe(404,"");this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u()),this._destroyed=!0}get destroyed(){return this._destroyed}}return o.\u0275fac=function(u){return new(u||o)(At(il))},o.\u0275prov=In({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();function xy(o,l){return Array.isArray(l)?l.reduce(xy,o):Object.assign(Object.assign({},o),l)}let Wm=(()=>{class o{constructor(u,d,f,m){this._zone=u,this._injector=d,this._exceptionHandler=f,this._initStatus=m,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const v=new U.y(M=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{M.next(this._stable),M.complete()})}),E=new U.y(M=>{let F;this._zone.runOutsideAngular(()=>{F=this._zone.onStable.subscribe(()=>{ha.assertNotInAngularZone(),Iy(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,M.next(!0))})})});const V=this._zone.onUnstable.subscribe(()=>{ha.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{M.next(!1)}))});return()=>{F.unsubscribe(),V.unsubscribe()}});this.isStable=(0,ye.T)(v,E.pipe((0,ge.B)()))}bootstrap(u,d){if(!this._initStatus.done)throw new Qe(405,"");let f;f=u instanceof cy?u:this._injector.get(Sm).resolveComponentFactory(u),this.componentTypes.push(f.componentType);const m=function Ay(o){return o.isBoundToModule}(f)?void 0:this._injector.get(Va),E=f.create(il.NULL,[],d||f.selector,m),M=E.location.nativeElement,F=E.injector.get(Xc,null),V=F&&E.injector.get(oh);return F&&V&&V.registerApplication(M,F),E.onDestroy(()=>{this.detachView(E.hostView),lh(this.components,E),V&&V.unregisterApplication(M)}),this._loadComponent(E),E}tick(){if(this._runningTick)throw new Qe(101,"");try{this._runningTick=!0;for(let u of this._views)u.detectChanges()}catch(u){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(u))}finally{this._runningTick=!1}}attachView(u){const d=u;this._views.push(d),d.attachToAppRef(this)}detachView(u){const d=u;lh(this._views,d),d.detachFromAppRef()}_loadComponent(u){this.attachView(u.hostView),this.tick(),this.components.push(u),this._injector.get(Qc,[]).concat(this._bootstrapListeners).forEach(f=>f(u))}ngOnDestroy(){this._views.slice().forEach(u=>u.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return o.\u0275fac=function(u){return new(u||o)(At(ha),At(il),At(Ap),At(Kc))},o.\u0275prov=In({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();function lh(o,l){const u=o.indexOf(l);u>-1&&o.splice(u,1)}let eI=!0,ky=!1;function tI(){return ky=!0,eI}function Bx(){if(ky)throw new Error("Cannot enable prod mode after platform setup.");eI=!1}let jx=(()=>{class o{}return o.__NG_ELEMENT_ID__=nI,o})();function nI(o){return function Gx(o,l,u){if(go(o)&&!u){const d=Rr(o.index,l);return new Mm(d,d)}return 47&o.type?new Mm(l[16],l):null}(ln(),$e(),16==(16&o))}class lI{constructor(){}supports(l){return Fd(l)}create(l){return new cI(l)}}const yw=(o,l)=>l;class cI{constructor(l){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=l||yw}forEachItem(l){let u;for(u=this._itHead;null!==u;u=u._next)l(u)}forEachOperation(l){let u=this._itHead,d=this._removalsHead,f=0,m=null;for(;u||d;){const v=!d||u&&u.currentIndex<$f(d,f,m)?u:d,E=$f(v,f,m),M=v.currentIndex;if(v===d)f--,d=d._nextRemoved;else if(u=u._next,null==v.previousIndex)f++;else{m||(m=[]);const F=E-f,V=M-f;if(F!=V){for(let ie=0;ie<F;ie++){const he=ie<m.length?m[ie]:m[ie]=0,Ve=he+ie;V<=Ve&&Ve<F&&(m[ie]=he+1)}m[v.previousIndex]=V-F}}E!==M&&l(v,E,M)}}forEachPreviousItem(l){let u;for(u=this._previousItHead;null!==u;u=u._nextPrevious)l(u)}forEachAddedItem(l){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)l(u)}forEachMovedItem(l){let u;for(u=this._movesHead;null!==u;u=u._nextMoved)l(u)}forEachRemovedItem(l){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)l(u)}forEachIdentityChange(l){let u;for(u=this._identityChangesHead;null!==u;u=u._nextIdentityChange)l(u)}diff(l){if(null==l&&(l=[]),!Fd(l))throw new Qe(900,"");return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let f,m,v,u=this._itHead,d=!1;if(Array.isArray(l)){this.length=l.length;for(let E=0;E<this.length;E++)m=l[E],v=this._trackByFn(E,m),null!==u&&Object.is(u.trackById,v)?(d&&(u=this._verifyReinsertion(u,m,v,E)),Object.is(u.item,m)||this._addIdentityChange(u,m)):(u=this._mismatch(u,m,v,E),d=!0),u=u._next}else f=0,function uT(o,l){if(Array.isArray(o))for(let u=0;u<o.length;u++)l(o[u]);else{const u=o[Nu()]();let d;for(;!(d=u.next()).done;)l(d.value)}}(l,E=>{v=this._trackByFn(f,E),null!==u&&Object.is(u.trackById,v)?(d&&(u=this._verifyReinsertion(u,E,v,f)),Object.is(u.item,E)||this._addIdentityChange(u,E)):(u=this._mismatch(u,E,v,f),d=!0),u=u._next,f++}),this.length=f;return this._truncate(u),this.collection=l,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let l;for(l=this._previousItHead=this._itHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._additionsHead;null!==l;l=l._nextAdded)l.previousIndex=l.currentIndex;for(this._additionsHead=this._additionsTail=null,l=this._movesHead;null!==l;l=l._nextMoved)l.previousIndex=l.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(l,u,d,f){let m;return null===l?m=this._itTail:(m=l._prev,this._remove(l)),null!==(l=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(l.item,u)||this._addIdentityChange(l,u),this._reinsertAfter(l,m,f)):null!==(l=null===this._linkedRecords?null:this._linkedRecords.get(d,f))?(Object.is(l.item,u)||this._addIdentityChange(l,u),this._moveAfter(l,m,f)):l=this._addAfter(new uI(u,d),m,f),l}_verifyReinsertion(l,u,d,f){let m=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==m?l=this._reinsertAfter(m,l._prev,f):l.currentIndex!=f&&(l.currentIndex=f,this._addToMoves(l,f)),l}_truncate(l){for(;null!==l;){const u=l._next;this._addToRemovals(this._unlink(l)),l=u}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(l,u,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(l);const f=l._prevRemoved,m=l._nextRemoved;return null===f?this._removalsHead=m:f._nextRemoved=m,null===m?this._removalsTail=f:m._prevRemoved=f,this._insertAfter(l,u,d),this._addToMoves(l,d),l}_moveAfter(l,u,d){return this._unlink(l),this._insertAfter(l,u,d),this._addToMoves(l,d),l}_addAfter(l,u,d){return this._insertAfter(l,u,d),this._additionsTail=null===this._additionsTail?this._additionsHead=l:this._additionsTail._nextAdded=l,l}_insertAfter(l,u,d){const f=null===u?this._itHead:u._next;return l._next=f,l._prev=u,null===f?this._itTail=l:f._prev=l,null===u?this._itHead=l:u._next=l,null===this._linkedRecords&&(this._linkedRecords=new eg),this._linkedRecords.put(l),l.currentIndex=d,l}_remove(l){return this._addToRemovals(this._unlink(l))}_unlink(l){null!==this._linkedRecords&&this._linkedRecords.remove(l);const u=l._prev,d=l._next;return null===u?this._itHead=d:u._next=d,null===d?this._itTail=u:d._prev=u,l}_addToMoves(l,u){return l.previousIndex===u||(this._movesTail=null===this._movesTail?this._movesHead=l:this._movesTail._nextMoved=l),l}_addToRemovals(l){return null===this._unlinkedRecords&&(this._unlinkedRecords=new eg),this._unlinkedRecords.put(l),l.currentIndex=null,l._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=l,l._prevRemoved=null):(l._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=l),l}_addIdentityChange(l,u){return l.item=u,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=l:this._identityChangesTail._nextIdentityChange=l,l}}class uI{constructor(l,u){this.item=l,this.trackById=u,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class vw{constructor(){this._head=null,this._tail=null}add(l){null===this._head?(this._head=this._tail=l,l._nextDup=null,l._prevDup=null):(this._tail._nextDup=l,l._prevDup=this._tail,l._nextDup=null,this._tail=l)}get(l,u){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===u||u<=d.currentIndex)&&Object.is(d.trackById,l))return d;return null}remove(l){const u=l._prevDup,d=l._nextDup;return null===u?this._head=d:u._nextDup=d,null===d?this._tail=u:d._prevDup=u,null===this._head}}class eg{constructor(){this.map=new Map}put(l){const u=l.trackById;let d=this.map.get(u);d||(d=new vw,this.map.set(u,d)),d.add(l)}get(l,u){const f=this.map.get(l);return f?f.get(l,u):null}remove(l){const u=l.trackById;return this.map.get(u).remove(l)&&this.map.delete(u),l}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function $f(o,l,u){const d=o.previousIndex;if(null===d)return d;let f=0;return u&&d<u.length&&(f=u[d]),d+l+f}class tg{constructor(){}supports(l){return l instanceof Map||$0(l)}create(){return new bw}}class bw{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(l){let u;for(u=this._mapHead;null!==u;u=u._next)l(u)}forEachPreviousItem(l){let u;for(u=this._previousMapHead;null!==u;u=u._nextPrevious)l(u)}forEachChangedItem(l){let u;for(u=this._changesHead;null!==u;u=u._nextChanged)l(u)}forEachAddedItem(l){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)l(u)}forEachRemovedItem(l){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)l(u)}diff(l){if(l){if(!(l instanceof Map||$0(l)))throw new Qe(900,"")}else l=new Map;return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let u=this._mapHead;if(this._appendAfter=null,this._forEach(l,(d,f)=>{if(u&&u.key===f)this._maybeAddToChanges(u,d),this._appendAfter=u,u=u._next;else{const m=this._getOrCreateRecordForKey(f,d);u=this._insertBeforeOrAppend(u,m)}}),u){u._prev&&(u._prev._next=null),this._removalsHead=u;for(let d=u;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(l,u){if(l){const d=l._prev;return u._next=l,u._prev=d,l._prev=u,d&&(d._next=u),l===this._mapHead&&(this._mapHead=u),this._appendAfter=l,l}return this._appendAfter?(this._appendAfter._next=u,u._prev=this._appendAfter):this._mapHead=u,this._appendAfter=u,null}_getOrCreateRecordForKey(l,u){if(this._records.has(l)){const f=this._records.get(l);this._maybeAddToChanges(f,u);const m=f._prev,v=f._next;return m&&(m._next=v),v&&(v._prev=m),f._next=null,f._prev=null,f}const d=new ww(l);return this._records.set(l,d),d.currentValue=u,this._addToAdditions(d),d}_reset(){if(this.isDirty){let l;for(this._previousMapHead=this._mapHead,l=this._previousMapHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._changesHead;null!==l;l=l._nextChanged)l.previousValue=l.currentValue;for(l=this._additionsHead;null!=l;l=l._nextAdded)l.previousValue=l.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(l,u){Object.is(u,l.currentValue)||(l.previousValue=l.currentValue,l.currentValue=u,this._addToChanges(l))}_addToAdditions(l){null===this._additionsHead?this._additionsHead=this._additionsTail=l:(this._additionsTail._nextAdded=l,this._additionsTail=l)}_addToChanges(l){null===this._changesHead?this._changesHead=this._changesTail=l:(this._changesTail._nextChanged=l,this._changesTail=l)}_forEach(l,u){l instanceof Map?l.forEach(u):Object.keys(l).forEach(d=>u(l[d],d))}}class ww{constructor(l){this.key=l,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Py(){return new Fy([new lI])}let Fy=(()=>{class o{constructor(u){this.factories=u}static create(u,d){if(null!=d){const f=d.factories.slice();u=u.concat(f)}return new o(u)}static extend(u){return{provide:o,useFactory:d=>o.create(u,d||Py()),deps:[[o,new ia,new qr]]}}find(u){const d=this.factories.find(f=>f.supports(u));if(null!=d)return d;throw new Qe(901,"")}}return o.\u0275prov=In({token:o,providedIn:"root",factory:Py}),o})();function Cw(){return new Ew([new tg])}let Ew=(()=>{class o{constructor(u){this.factories=u}static create(u,d){if(d){const f=d.factories.slice();u=u.concat(f)}return new o(u)}static extend(u){return{provide:o,useFactory:d=>o.create(u,d||Cw()),deps:[[o,new ia,new qr]]}}find(u){const d=this.factories.find(m=>m.supports(u));if(d)return d;throw new Qe(901,"")}}return o.\u0275prov=In({token:o,providedIn:"root",factory:Cw}),o})();const ng=pw(null,"core",[]);let Dw=(()=>{class o{constructor(u){}}return o.\u0275fac=function(u){return new(u||o)(At(Wm))},o.\u0275mod=z({type:o}),o.\u0275inj=Tn({}),o})()},3942:(Rt,He,$)=>{$.d(He,{Z:()=>Qe});var a=$(2090),J=$(4859),U=$(9681),ye=$(1877);class ge{constructor(Oe,Be){this._delegate=Oe,this.firebase=Be,(0,U._addComponent)(Oe,new J.wA("app-compat",()=>this,"PUBLIC")),this.container=Oe.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Oe){this._delegate.automaticDataCollectionEnabled=Oe}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Oe=>{this._delegate.checkDestroyed(),Oe()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,U.deleteApp)(this._delegate)))}_getService(Oe,Be=U._DEFAULT_ENTRY_NAME){var gt;this._delegate.checkDestroyed();const Je=this._delegate.container.getProvider(Oe);return!Je.isInitialized()&&"EXPLICIT"===(null===(gt=Je.getComponent())||void 0===gt?void 0:gt.instantiationMode)&&Je.initialize(),Je.getImmediate({identifier:Be})}_removeServiceInstance(Oe,Be=U._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Oe).clearInstance(Be)}_addComponent(Oe){(0,U._addComponent)(this._delegate,Oe)}_addOrOverwriteComponent(Oe){(0,U._addOrOverwriteComponent)(this._delegate,Oe)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const fe=new a.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),re=function xe(){const et=function Te(et){const Oe={},Be={__esModule:!0,initializeApp:function je(me,ft={}){const ue=U.initializeApp(me,ft);if((0,a.r3)(Oe,ue.name))return Oe[ue.name];const Se=new et(ue,Be);return Oe[ue.name]=Se,Se},app:Je,registerVersion:U.registerVersion,setLogLevel:U.setLogLevel,onLog:U.onLog,apps:null,SDK_VERSION:U.SDK_VERSION,INTERNAL:{registerComponent:function Ne(me){const ft=me.name,ue=ft.replace("-compat","");if(U._registerComponent(me)&&"PUBLIC"===me.type){const Se=(De=Je())=>{if("function"!=typeof De[ue])throw fe.create("invalid-app-argument",{appName:ft});return De[ue]()};void 0!==me.serviceProps&&(0,a.ZB)(Se,me.serviceProps),Be[ue]=Se,et.prototype[ue]=function(...De){return this._getService.bind(this,ft).apply(this,me.multipleInstances?De:[])}}return"PUBLIC"===me.type?Be[ue]:null},removeApp:function gt(me){delete Oe[me]},useAsService:function rt(me,ft){return"serverAuth"===ft?null:ft},modularAPIs:U}};function Je(me){if(!(0,a.r3)(Oe,me=me||U._DEFAULT_ENTRY_NAME))throw fe.create("no-app",{appName:me});return Oe[me]}return Be.default=Be,Object.defineProperty(Be,"apps",{get:function ce(){return Object.keys(Oe).map(me=>Oe[me])}}),Je.App=et,Be}(ge);return et.INTERNAL=Object.assign(Object.assign({},et.INTERNAL),{createFirebaseNamespace:xe,extendNamespace:function Oe(Be){(0,a.ZB)(et,Be)},createSubscribe:a.ne,ErrorFactory:a.LL,deepExtend:a.ZB}),et}(),ne=new ye.Yd("@firebase/app-compat");if((0,a.jU)()&&void 0!==self.firebase){ne.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const et=self.firebase.SDK_VERSION;et&&et.indexOf("LITE")>=0&&ne.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Qe=re;!function Ge(et){(0,U.registerVersion)("@firebase/app-compat","0.1.22",et)}()},9681:(Rt,He,$)=>{$.r(He),$.d(He,{FirebaseError:()=>ye.ZR,SDK_VERSION:()=>Vr,_DEFAULT_ENTRY_NAME:()=>fi,_addComponent:()=>Nn,_addOrOverwriteComponent:()=>Mr,_apps:()=>St,_clearComponents:()=>Jn,_components:()=>Ln,_getProvider:()=>_n,_registerComponent:()=>In,_removeServiceInstance:()=>Tn,deleteApp:()=>xr,getApp:()=>zi,getApps:()=>Xn,initializeApp:()=>es,onLog:()=>yi,registerVersion:()=>hr,setLogLevel:()=>xn});var a=$(5861),J=$(4859),U=$(1877),ye=$(2090);class ge{constructor(Ue){this.container=Ue}getPlatformInfoString(){return this.container.getProviders().map(Xe=>{if(function Le(at){const Ue=at.getComponent();return"VERSION"===(null==Ue?void 0:Ue.type)}(Xe)){const Ot=Xe.getImmediate();return`${Ot.library}/${Ot.version}`}return null}).filter(Xe=>Xe).join(" ")}}const fe="@firebase/app",xe=new U.Yd("@firebase/app"),fi="[DEFAULT]",It={[fe]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},St=new Map,Ln=new Map;function Nn(at,Ue){try{at.container.addComponent(Ue)}catch(Xe){xe.debug(`Component ${Ue.name} failed to register with FirebaseApp ${at.name}`,Xe)}}function Mr(at,Ue){at.container.addOrOverwriteComponent(Ue)}function In(at){const Ue=at.name;if(Ln.has(Ue))return xe.debug(`There were multiple attempts to register component ${Ue}.`),!1;Ln.set(Ue,at);for(const Xe of St.values())Nn(Xe,at);return!0}function _n(at,Ue){const Xe=at.container.getProvider("heartbeat").getImmediate({optional:!0});return Xe&&Xe.triggerHeartbeat(),at.container.getProvider(Ue)}function Tn(at,Ue,Xe=fi){_n(at,Ue).clearInstance(Xe)}function Jn(){Ln.clear()}const Zt=new ye.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class _i{constructor(Ue,Xe,Ot){this._isDeleted=!1,this._options=Object.assign({},Ue),this._config=Object.assign({},Xe),this._name=Xe.name,this._automaticDataCollectionEnabled=Xe.automaticDataCollectionEnabled,this._container=Ot,this.container.addComponent(new J.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ue){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ue}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ue){this._isDeleted=Ue}checkDestroyed(){if(this.isDeleted)throw Zt.create("app-deleted",{appName:this._name})}}const Vr="9.6.11";function es(at,Ue={}){"object"!=typeof Ue&&(Ue={name:Ue});const Xe=Object.assign({name:fi,automaticDataCollectionEnabled:!1},Ue),Ot=Xe.name;if("string"!=typeof Ot||!Ot)throw Zt.create("bad-app-name",{appName:String(Ot)});const Jt=St.get(Ot);if(Jt){if((0,ye.vZ)(at,Jt.options)&&(0,ye.vZ)(Xe,Jt.config))return Jt;throw Zt.create("duplicate-app",{appName:Ot})}const tn=new J.H0(Ot);for(const ee of Ln.values())tn.addComponent(ee);const se=new _i(at,Xe,tn);return St.set(Ot,se),se}function zi(at=fi){const Ue=St.get(at);if(!Ue)throw Zt.create("no-app",{appName:at});return Ue}function Xn(){return Array.from(St.values())}function xr(at){return xt.apply(this,arguments)}function xt(){return(xt=(0,a.Z)(function*(at){const Ue=at.name;St.has(Ue)&&(St.delete(Ue),yield Promise.all(at.container.getProviders().map(Xe=>Xe.delete())),at.isDeleted=!0)})).apply(this,arguments)}function hr(at,Ue,Xe){var Ot;let Jt=null!==(Ot=It[at])&&void 0!==Ot?Ot:at;Xe&&(Jt+=`-${Xe}`);const tn=Jt.match(/\s|\//),se=Ue.match(/\s|\//);if(tn||se){const ee=[`Unable to register library "${Jt}" with version "${Ue}":`];return tn&&ee.push(`library name "${Jt}" contains illegal characters (whitespace or "/")`),tn&&se&&ee.push("and"),se&&ee.push(`version name "${Ue}" contains illegal characters (whitespace or "/")`),void xe.warn(ee.join(" "))}In(new J.wA(`${Jt}-version`,()=>({library:Jt,version:Ue}),"VERSION"))}function yi(at,Ue){if(null!==at&&"function"!=typeof at)throw Zt.create("invalid-log-argument");(0,U.Am)(at,Ue)}function xn(at){(0,U.Ub)(at)}const vi="firebase-heartbeat-store";let zn=null;function Vn(){return zn||(zn=(0,ye.X3)("firebase-heartbeat-database",1,(at,Ue)=>{0===Ue&&at.createObjectStore(vi)}).catch(at=>{throw Zt.create("storage-open",{originalErrorMessage:at.message})})),zn}function en(){return(en=(0,a.Z)(function*(at){try{return(yield Vn()).transaction(vi).objectStore(vi).get(er(at))}catch(Ue){throw Zt.create("storage-get",{originalErrorMessage:Ue.message})}})).apply(this,arguments)}function Dt(at,Ue){return vt.apply(this,arguments)}function vt(){return(vt=(0,a.Z)(function*(at,Ue){try{const Ot=(yield Vn()).transaction(vi,"readwrite");return yield Ot.objectStore(vi).put(Ue,er(at)),Ot.complete}catch(Xe){throw Zt.create("storage-set",{originalErrorMessage:Xe.message})}})).apply(this,arguments)}function er(at){return`${at.name}!${at.options.appId}`}class ns{constructor(Ue){this.container=Ue,this._heartbeatsCache=null;const Xe=this.container.getProvider("app").getImmediate();this._storage=new Nt(Xe),this._heartbeatsCachePromise=this._storage.read().then(Ot=>(this._heartbeatsCache=Ot,Ot))}triggerHeartbeat(){var Ue=this;return(0,a.Z)(function*(){const Ot=Ue.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Jt=bi();if(null===Ue._heartbeatsCache&&(Ue._heartbeatsCache=yield Ue._heartbeatsCachePromise),Ue._heartbeatsCache.lastSentHeartbeatDate!==Jt&&!Ue._heartbeatsCache.heartbeats.some(tn=>tn.date===Jt))return Ue._heartbeatsCache.heartbeats.push({date:Jt,agent:Ot}),Ue._heartbeatsCache.heartbeats=Ue._heartbeatsCache.heartbeats.filter(tn=>{const se=new Date(tn.date).valueOf();return Date.now()-se<=2592e6}),Ue._storage.overwrite(Ue._heartbeatsCache)})()}getHeartbeatsHeader(){var Ue=this;return(0,a.Z)(function*(){if(null===Ue._heartbeatsCache&&(yield Ue._heartbeatsCachePromise),null===Ue._heartbeatsCache||0===Ue._heartbeatsCache.heartbeats.length)return"";const Xe=bi(),{heartbeatsToSend:Ot,unsentEntries:Jt}=function Sn(at,Ue=1024){const Xe=[];let Ot=at.slice();for(const Jt of at){const tn=Xe.find(se=>se.agent===Jt.agent);if(tn){if(tn.dates.push(Jt.date),ai(Xe)>Ue){tn.dates.pop();break}}else if(Xe.push({agent:Jt.agent,dates:[Jt.date]}),ai(Xe)>Ue){Xe.pop();break}Ot=Ot.slice(1)}return{heartbeatsToSend:Xe,unsentEntries:Ot}}(Ue._heartbeatsCache.heartbeats),tn=(0,ye.L)(JSON.stringify({version:2,heartbeats:Ot}));return Ue._heartbeatsCache.lastSentHeartbeatDate=Xe,Jt.length>0?(Ue._heartbeatsCache.heartbeats=Jt,yield Ue._storage.overwrite(Ue._heartbeatsCache)):(Ue._heartbeatsCache.heartbeats=[],Ue._storage.overwrite(Ue._heartbeatsCache)),tn})()}}function bi(){return(new Date).toISOString().substring(0,10)}class Nt{constructor(Ue){this.app=Ue,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,a.Z)(function*(){return!!(0,ye.hl)()&&(0,ye.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Ue=this;return(0,a.Z)(function*(){return(yield Ue._canUseIndexedDBPromise)&&(yield function Rs(at){return en.apply(this,arguments)}(Ue.app))||{heartbeats:[]}})()}overwrite(Ue){var Xe=this;return(0,a.Z)(function*(){var Ot;if(yield Xe._canUseIndexedDBPromise){const tn=yield Xe.read();return Dt(Xe.app,{lastSentHeartbeatDate:null!==(Ot=Ue.lastSentHeartbeatDate)&&void 0!==Ot?Ot:tn.lastSentHeartbeatDate,heartbeats:Ue.heartbeats})}})()}add(Ue){var Xe=this;return(0,a.Z)(function*(){var Ot;if(yield Xe._canUseIndexedDBPromise){const tn=yield Xe.read();return Dt(Xe.app,{lastSentHeartbeatDate:null!==(Ot=Ue.lastSentHeartbeatDate)&&void 0!==Ot?Ot:tn.lastSentHeartbeatDate,heartbeats:[...tn.heartbeats,...Ue.heartbeats]})}})()}}function ai(at){return(0,ye.L)(JSON.stringify({version:2,heartbeats:at})).length}!function on(at){In(new J.wA("platform-logger",Ue=>new ge(Ue),"PRIVATE")),In(new J.wA("heartbeat",Ue=>new ns(Ue),"PRIVATE")),hr(fe,"0.7.21",at),hr(fe,"0.7.21","esm2017"),hr("fire-js","")}("")},4859:(Rt,He,$)=>{$.d(He,{H0:()=>Te,wA:()=>U,zt:()=>ge});var a=$(5861),J=$(2090);class U{constructor(re,ne,_e){this.name=re,this.instanceFactory=ne,this.type=_e,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(re){return this.instantiationMode=re,this}setMultipleInstances(re){return this.multipleInstances=re,this}setServiceProps(re){return this.serviceProps=re,this}setInstanceCreatedCallback(re){return this.onInstanceCreated=re,this}}const ye="[DEFAULT]";class ge{constructor(re,ne){this.name=re,this.container=ne,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(re){const ne=this.normalizeInstanceIdentifier(re);if(!this.instancesDeferred.has(ne)){const _e=new J.BH;if(this.instancesDeferred.set(ne,_e),this.isInitialized(ne)||this.shouldAutoInitialize())try{const st=this.getOrInitializeService({instanceIdentifier:ne});st&&_e.resolve(st)}catch(st){}}return this.instancesDeferred.get(ne).promise}getImmediate(re){var ne;const _e=this.normalizeInstanceIdentifier(null==re?void 0:re.identifier),st=null!==(ne=null==re?void 0:re.optional)&&void 0!==ne&&ne;if(!this.isInitialized(_e)&&!this.shouldAutoInitialize()){if(st)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:_e})}catch(Ge){if(st)return null;throw Ge}}getComponent(){return this.component}setComponent(re){if(re.name!==this.name)throw Error(`Mismatching Component ${re.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=re,this.shouldAutoInitialize()){if(function fe(xe){return"EAGER"===xe.instantiationMode}(re))try{this.getOrInitializeService({instanceIdentifier:ye})}catch(ne){}for(const[ne,_e]of this.instancesDeferred.entries()){const st=this.normalizeInstanceIdentifier(ne);try{const Ge=this.getOrInitializeService({instanceIdentifier:st});_e.resolve(Ge)}catch(Ge){}}}}clearInstance(re=ye){this.instancesDeferred.delete(re),this.instancesOptions.delete(re),this.instances.delete(re)}delete(){var re=this;return(0,a.Z)(function*(){const ne=Array.from(re.instances.values());yield Promise.all([...ne.filter(_e=>"INTERNAL"in _e).map(_e=>_e.INTERNAL.delete()),...ne.filter(_e=>"_delete"in _e).map(_e=>_e._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(re=ye){return this.instances.has(re)}getOptions(re=ye){return this.instancesOptions.get(re)||{}}initialize(re={}){const{options:ne={}}=re,_e=this.normalizeInstanceIdentifier(re.instanceIdentifier);if(this.isInitialized(_e))throw Error(`${this.name}(${_e}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const st=this.getOrInitializeService({instanceIdentifier:_e,options:ne});for(const[Ge,Qe]of this.instancesDeferred.entries())_e===this.normalizeInstanceIdentifier(Ge)&&Qe.resolve(st);return st}onInit(re,ne){var _e;const st=this.normalizeInstanceIdentifier(ne),Ge=null!==(_e=this.onInitCallbacks.get(st))&&void 0!==_e?_e:new Set;Ge.add(re),this.onInitCallbacks.set(st,Ge);const Qe=this.instances.get(st);return Qe&&re(Qe,st),()=>{Ge.delete(re)}}invokeOnInitCallbacks(re,ne){const _e=this.onInitCallbacks.get(ne);if(_e)for(const st of _e)try{st(re,ne)}catch(Ge){}}getOrInitializeService({instanceIdentifier:re,options:ne={}}){let _e=this.instances.get(re);if(!_e&&this.component&&(_e=this.component.instanceFactory(this.container,{instanceIdentifier:(xe=re,xe===ye?void 0:xe),options:ne}),this.instances.set(re,_e),this.instancesOptions.set(re,ne),this.invokeOnInitCallbacks(_e,re),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,re,_e)}catch(st){}var xe;return _e||null}normalizeInstanceIdentifier(re=ye){return this.component?this.component.multipleInstances?re:ye:re}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Te{constructor(re){this.name=re,this.providers=new Map}addComponent(re){const ne=this.getProvider(re.name);if(ne.isComponentSet())throw new Error(`Component ${re.name} has already been registered with ${this.name}`);ne.setComponent(re)}addOrOverwriteComponent(re){this.getProvider(re.name).isComponentSet()&&this.providers.delete(re.name),this.addComponent(re)}getProvider(re){if(this.providers.has(re))return this.providers.get(re);const ne=new ge(re,this);return this.providers.set(re,ne),ne}getProviders(){return Array.from(this.providers.values())}}},1877:(Rt,He,$)=>{$.d(He,{Am:()=>xe,Ub:()=>Te,Yd:()=>fe,in:()=>J});const a=[];var J=(()=>{return(re=J||(J={}))[re.DEBUG=0]="DEBUG",re[re.VERBOSE=1]="VERBOSE",re[re.INFO=2]="INFO",re[re.WARN=3]="WARN",re[re.ERROR=4]="ERROR",re[re.SILENT=5]="SILENT",J;var re})();const U={debug:J.DEBUG,verbose:J.VERBOSE,info:J.INFO,warn:J.WARN,error:J.ERROR,silent:J.SILENT},ye=J.INFO,ge={[J.DEBUG]:"log",[J.VERBOSE]:"log",[J.INFO]:"info",[J.WARN]:"warn",[J.ERROR]:"error"},Le=(re,ne,..._e)=>{if(ne<re.logLevel)return;const st=(new Date).toISOString(),Ge=ge[ne];if(!Ge)throw new Error(`Attempted to log a message with an invalid logType (value: ${ne})`);console[Ge](`[${st}]  ${re.name}:`,..._e)};class fe{constructor(ne){this.name=ne,this._logLevel=ye,this._logHandler=Le,this._userLogHandler=null,a.push(this)}get logLevel(){return this._logLevel}set logLevel(ne){if(!(ne in J))throw new TypeError(`Invalid value "${ne}" assigned to \`logLevel\``);this._logLevel=ne}setLogLevel(ne){this._logLevel="string"==typeof ne?U[ne]:ne}get logHandler(){return this._logHandler}set logHandler(ne){if("function"!=typeof ne)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ne}get userLogHandler(){return this._userLogHandler}set userLogHandler(ne){this._userLogHandler=ne}debug(...ne){this._userLogHandler&&this._userLogHandler(this,J.DEBUG,...ne),this._logHandler(this,J.DEBUG,...ne)}log(...ne){this._userLogHandler&&this._userLogHandler(this,J.VERBOSE,...ne),this._logHandler(this,J.VERBOSE,...ne)}info(...ne){this._userLogHandler&&this._userLogHandler(this,J.INFO,...ne),this._logHandler(this,J.INFO,...ne)}warn(...ne){this._userLogHandler&&this._userLogHandler(this,J.WARN,...ne),this._logHandler(this,J.WARN,...ne)}error(...ne){this._userLogHandler&&this._userLogHandler(this,J.ERROR,...ne),this._logHandler(this,J.ERROR,...ne)}}function Te(re){a.forEach(ne=>{ne.setLogLevel(re)})}function xe(re,ne){for(const _e of a){let st=null;ne&&ne.level&&(st=U[ne.level]),_e.userLogHandler=null===re?null:(Ge,Qe,...et)=>{const Oe=et.map(Be=>{if(null==Be)return null;if("string"==typeof Be)return Be;if("number"==typeof Be||"boolean"==typeof Be)return Be.toString();if(Be instanceof Error)return Be.message;try{return JSON.stringify(Be)}catch(gt){return null}}).filter(Be=>Be).join(" ");Qe>=(null!=st?st:Ge.logLevel)&&re({level:J[Qe].toLowerCase(),message:Oe,args:et,type:Ge.name})}}}},5861:(Rt,He,$)=>{function a(U,ye,ge,Le,fe,Te,xe){try{var re=U[Te](xe),ne=re.value}catch(_e){return void ge(_e)}re.done?ye(ne):Promise.resolve(ne).then(Le,fe)}function J(U){return function(){var ye=this,ge=arguments;return new Promise(function(Le,fe){var Te=U.apply(ye,ge);function xe(ne){a(Te,Le,fe,xe,re,"next",ne)}function re(ne){a(Te,Le,fe,xe,re,"throw",ne)}xe(void 0)})}}$.d(He,{Z:()=>J})}},Rt=>{Rt(Rt.s=1649)}]);